{"version":3,"file":"iscape-plan.umd.min.js","sources":["../../../node_modules/@angular/src/lib/utils/layout-validator.ts","../../../node_modules/@angular/src/lib/utils/auto-prefixer.ts","../../../node_modules/@angular/src/lib/utils/style-utils.ts","../../../node_modules/@angular/src/lib/utils/object-extend.ts","../../../node_modules/@angular/src/lib/api/core/responsive-activation.ts","../../../node_modules/@angular/src/lib/api/core/base.ts","../../../node_modules/@angular/src/lib/api/core/base-adapter.ts","../../../node_modules/@angular/src/lib/media-query/breakpoints/break-points-token.ts","../../../node_modules/@angular/src/lib/media-query/breakpoints/break-point-registry.ts","../../../node_modules/@angular/src/lib/media-query/media-change.ts","../../../node_modules/@angular/src/lib/media-query/match-media.ts","../../../node_modules/@angular/src/lib/utils/add-alias.ts","../../../node_modules/@angular/src/lib/media-query/media-monitor.ts","../../../node_modules/@angular/src/lib/api/flexbox/layout.ts","../../../node_modules/@angular/src/lib/api/flexbox/layout-align.ts","../../../node_modules/@angular/src/lib/api/flexbox/layout-gap.ts","../../../node_modules/@angular/src/lib/utils/basis-validator.ts","../../../node_modules/@angular/src/lib/api/flexbox/flex.ts","../../../node_modules/@angular/src/lib/api/flexbox/flex-align.ts","../../../node_modules/@angular/src/lib/api/flexbox/flex-fill.ts","../../../node_modules/@angular/src/lib/api/flexbox/flex-offset.ts","../../../node_modules/@angular/src/lib/api/flexbox/flex-order.ts","../../../node_modules/@angular/src/lib/api/core/renderer-adapter.ts","../../../node_modules/@angular/src/lib/api/ext/class.ts","../../../node_modules/@angular/src/lib/utils/style-transforms.ts","../../../node_modules/@angular/src/lib/api/ext/style.ts","../../../node_modules/@angular/src/lib/api/ext/show-hide.ts","../../../node_modules/@angular/src/lib/api/ext/img-src.ts","../../../node_modules/@angular/src/lib/media-query/breakpoints/data/break-points.ts","../../../node_modules/@angular/src/lib/media-query/breakpoints/data/orientation-break-points.ts","../../../node_modules/@angular/src/lib/media-query/observable-media.ts","../../../node_modules/@angular/src/lib/utils/breakpoint-tools.ts","../../../node_modules/@angular/src/lib/media-query/breakpoints/break-points-provider.ts","../../../node_modules/@angular/src/lib/media-query/observable-media-provider.ts","../../../node_modules/@angular/src/lib/media-query/media-monitor-provider.ts","../../../node_modules/@angular/src/lib/media-query/_module.ts","../../../node_modules/@angular/src/lib/module.ts","~/iscape-plan/src/app/iscape/material/material.module.ts","~/iscape-plan/src/app/iscape/items/items.module.ts","~/iscape-plan/src/app/app-routing.module.ts","~/iscape-plan/src/app/iscape/location/location.module.ts","~/iscape-plan/src/app/iscape/project/project.module.ts","~/iscape-plan/src/app/iscape/shared/shared.module.ts","~/iscape-plan/src/app/iscape/skill/skill.module.ts","~/iscape-plan/src/app/iscape/user/user.module.ts","~/iscape-plan/src/environments/environment.ts","~/iscape-plan/src/app/iscape/iscape.module.ts","../../../node_modules/src/lib/sort/sort-errors.ts","../../../node_modules/src/lib/sort/sort.ts","../../../node_modules/src/lib/sort/sort-header-intl.ts","../../../node_modules/src/lib/sort/sort-header.ts","../../../node_modules/src/lib/stepper/step-label.ts","../../../node_modules/src/lib/stepper/stepper-intl.ts","../../../node_modules/src/lib/stepper/step-header.ts","../../../node_modules/src/lib/stepper/stepper.ts","../../../node_modules/src/lib/stepper/stepper-button.ts","../../../node_modules/src/operators/combineLatest.ts","../../../node_modules/src/lib/table/table.ts","../../../node_modules/src/lib/table/cell.ts","../../../node_modules/src/lib/table/row.ts","../../../node_modules/src/lib/table/table-data-source.ts","../../../node_modules/src/lib/tabs/ink-bar.ts","../../../node_modules/src/lib/tabs/tab-label.ts","../../../node_modules/src/lib/tabs/tab.ts","../../../node_modules/src/lib/tabs/tab-body.ts","../../../node_modules/src/lib/tabs/tab-group.ts","../../../node_modules/src/lib/tabs/tab-label-wrapper.ts","../../../node_modules/src/lib/tabs/tab-header.ts","../../../node_modules/src/lib/tabs/tab-nav-bar/tab-nav-bar.ts","../../../node_modules/src/lib/toolbar/toolbar.ts","../../../node_modules/src/lib/toolbar/toolbar-module.ts","../../../node_modules/@angular/src/lib/version.ts","../../../node_modules/src/lib/sidenav/drawer.ts","../../../node_modules/src/lib/sidenav/sidenav.ts","../../../node_modules/src/lib/slide-toggle/slide-toggle.ts","../../../node_modules/src/lib/slide-toggle/slide-toggle-module.ts","../../../node_modules/src/lib/slider/slider.ts","../../../node_modules/src/cdk/layout/media-matcher.ts","../../../node_modules/src/cdk/layout/breakpoints-observer.ts","../../../node_modules/src/cdk/layout/breakpoints.ts","../../../node_modules/src/lib/snack-bar/snack-bar-ref.ts","../../../node_modules/src/lib/snack-bar/snack-bar-config.ts","../../../node_modules/src/lib/snack-bar/simple-snack-bar.ts","../../../node_modules/src/lib/snack-bar/snack-bar-container.ts","../../../node_modules/src/lib/snack-bar/snack-bar.ts","../../../node_modules/src/lib/progress-spinner/progress-spinner.ts","../../../node_modules/src/lib/radio/radio.ts","../../../node_modules/src/operators/debounceTime.ts","../../../node_modules/src/lib/grid-list/grid-list-measure.ts","../../../node_modules/src/lib/grid-list/grid-tile.ts","../../../node_modules/src/lib/grid-list/tile-coordinator.ts","../../../node_modules/src/lib/grid-list/tile-styler.ts","../../../node_modules/src/lib/grid-list/grid-list.ts","../../../node_modules/src/lib/list/list.ts","../../../node_modules/src/lib/list/selection-list.ts","../../../node_modules/src/lib/menu/menu-animations.ts","../../../node_modules/src/lib/menu/menu-errors.ts","../../../node_modules/src/lib/menu/menu-item.ts","../../../node_modules/src/lib/menu/menu-directive.ts","../../../node_modules/src/lib/menu/menu-trigger.ts","../../../node_modules/src/lib/menu/menu-module.ts","../../../node_modules/src/lib/select/select-animations.ts","../../../node_modules/src/lib/select/select-errors.ts","../../../node_modules/src/lib/select/select.ts","../../../node_modules/src/lib/select/select-module.ts","../../../node_modules/src/lib/tooltip/tooltip.ts","../../../node_modules/src/lib/paginator/paginator-intl.ts","../../../node_modules/src/lib/paginator/paginator.ts","../../../node_modules/src/lib/progress-bar/progress-bar.ts","../../../node_modules/src/lib/datepicker/datepicker-errors.ts","../../../node_modules/src/lib/datepicker/datepicker-intl.ts","../../../node_modules/src/lib/datepicker/calendar-body.ts","../../../node_modules/src/lib/datepicker/month-view.ts","../../../node_modules/src/lib/datepicker/year-view.ts","../../../node_modules/src/lib/datepicker/calendar.ts","../../../node_modules/src/lib/datepicker/datepicker.ts","../../../node_modules/src/lib/datepicker/datepicker-input.ts","../../../node_modules/src/lib/datepicker/datepicker-toggle.ts","../../../node_modules/src/cdk/accordion/accordion.ts","../../../node_modules/src/cdk/accordion/accordion-item.ts","../../../node_modules/src/lib/expansion/accordion.ts","../../../node_modules/src/lib/expansion/expansion-panel.ts","../../../node_modules/src/lib/expansion/expansion-panel-header.ts","../../../node_modules/src/lib/icon/icon-registry.ts","../../../node_modules/src/lib/icon/icon.ts","../../../node_modules/src/lib/icon/icon-module.ts","../../../node_modules/src/operators/audit.ts","../../../node_modules/src/util/isNumeric.ts","../../../node_modules/src/observable/TimerObservable.ts","../../../node_modules/src/observable/timer.ts","../../../node_modules/src/operators/auditTime.ts","../../../node_modules/src/operators/takeUntil.ts","../../../node_modules/src/lib/input/autosize.ts","../../../node_modules/src/lib/input/input-errors.ts","../../../node_modules/src/lib/input/input-value-accessor.ts","../../../node_modules/src/lib/input/input.ts","../../../node_modules/src/lib/input/input-module.ts","../../../node_modules/src/lib/checkbox/checkbox.ts","../../../node_modules/src/lib/checkbox/checkbox-required-validator.ts","../../../node_modules/src/lib/chips/chip.ts","../../../node_modules/src/lib/chips/chip-list.ts","../../../node_modules/src/lib/chips/chip-input.ts","../../../node_modules/src/lib/chips/chips-module.ts","../../../node_modules/src/lib/dialog/dialog-config.ts","../../../node_modules/src/lib/dialog/dialog-container.ts","../../../node_modules/src/lib/dialog/dialog-ref.ts","../../../node_modules/src/lib/dialog/dialog.ts","../../../node_modules/src/operators/catchError.ts","../../../node_modules/src/operators/finalize.ts","../../../node_modules/src/operators/map.ts","../../../node_modules/src/util/ObjectUnsubscribedError.ts","../../../node_modules/src/SubjectSubscription.ts","../../../node_modules/src/Subject.ts","../../../node_modules/src/operators/refCount.ts","../../../node_modules/src/observable/ConnectableObservable.ts","../../../node_modules/src/operators/multicast.ts","../../../node_modules/src/operators/share.ts","../../../node_modules/src/lib/form-field/form-field-errors.ts","../../../node_modules/src/lib/form-field/hint.ts","../../../node_modules/src/lib/form-field/placeholder.ts","../../../node_modules/src/lib/form-field/label.ts","../../../node_modules/src/lib/form-field/prefix.ts","../../../node_modules/src/lib/form-field/suffix.ts","../../../node_modules/src/lib/form-field/form-field.ts","../../../node_modules/src/lib/form-field/form-field-module.ts","../../../node_modules/src/lib/autocomplete/autocomplete.ts","../../../node_modules/src/lib/autocomplete/autocomplete-trigger.ts","../../../node_modules/src/lib/button/button.ts","../../../node_modules/src/lib/button/button-module.ts","../../../node_modules/src/lib/button-toggle/button-toggle.ts","../../../node_modules/src/lib/card/card.ts","../../../node_modules/src/lib/card/card-module.ts","../../../node_modules/src/lib/checkbox/checkbox-config.ts","../../../node_modules/src/lib/core/common-behaviors/disabled.ts","../../../node_modules/src/lib/core/common-behaviors/color.ts","../../../node_modules/src/lib/core/common-behaviors/disable-ripple.ts","../../../node_modules/src/lib/core/common-behaviors/tabindex.ts","../../../node_modules/src/lib/core/common-behaviors/error-state.ts","../../../node_modules/src/lib/core/datetime/date-adapter.ts","../../../node_modules/src/lib/core/datetime/date-formats.ts","../../../node_modules/src/lib/core/datetime/native-date-adapter.ts","../../../node_modules/src/lib/core/error/error-options.ts","../../../node_modules/src/lib/core/gestures/gesture-config.ts","../../../node_modules/src/lib/core/line/line.ts","../../../node_modules/src/lib/core/ripple/ripple-ref.ts","../../../node_modules/src/lib/core/ripple/ripple-renderer.ts","../../../node_modules/src/lib/core/ripple/ripple.ts","../../../node_modules/src/lib/core/ripple/index.ts","../../../node_modules/src/lib/core/selection/pseudo-checkbox/pseudo-checkbox.ts","../../../node_modules/src/lib/core/selection/index.ts","../../../node_modules/src/lib/core/option/optgroup.ts","../../../node_modules/src/lib/core/option/option.ts","../../../node_modules/src/lib/core/option/index.ts","../../../node_modules/src/lib/core/label/label-options.ts","../../../node_modules/src/lib/core/style/apply-transform.ts","../../../node_modules/src/Observer.ts","../../../node_modules/src/symbol/rxSubscriber.ts","../../../node_modules/src/Subscriber.ts","../../../node_modules/src/operators/filter.ts","../../../node_modules/src/util/ArgumentOutOfRangeError.ts","../../../node_modules/src/util/toSubscriber.ts","../../../node_modules/src/symbol/observable.ts","../../../node_modules/src/util/noop.ts","../../../node_modules/src/util/pipe.ts","../../../node_modules/src/Observable.ts","../../../node_modules/src/observable/EmptyObservable.ts","../../../node_modules/src/operators/take.ts","../../../node_modules/src/OuterSubscriber.ts","../../../node_modules/src/util/isArrayLike.ts","../../../node_modules/src/util/isPromise.ts","../../../node_modules/src/symbol/iterator.ts","../../../node_modules/src/InnerSubscriber.ts","../../../node_modules/src/util/subscribeToResult.ts","../../../node_modules/src/operators/switchMap.ts","../../../node_modules/src/operators/tap.ts","../../../node_modules/src/scheduler/async.ts","../../../node_modules/src/util/isDate.ts","../../../node_modules/src/Notification.ts","../../../node_modules/src/operators/delay.ts","../../../node_modules/src/observable/ScalarObservable.ts","../../../node_modules/src/util/isScheduler.ts","../../../node_modules/src/observable/ArrayObservable.ts","../../../node_modules/src/observable/of.ts","../../../node_modules/src/observable/PromiseObservable.ts","../../../node_modules/src/observable/IteratorObservable.ts","../../../node_modules/src/observable/ArrayLikeObservable.ts","../../../node_modules/src/operators/observeOn.ts","../../../node_modules/src/observable/FromObservable.ts","../../../node_modules/src/observable/from.ts","../../../node_modules/src/operators/mergeMap.ts","../../../node_modules/src/util/identity.ts","../../../node_modules/src/operators/mergeAll.ts","../../../node_modules/src/operators/concatAll.ts","../../../node_modules/src/observable/concat.ts","../../../node_modules/src/operators/startWith.ts","../../../node_modules/src/lib/form-field/error.ts","../../../node_modules/src/lib/form-field/form-field-control.ts","../../../node_modules/hammerjs/hammer.js","../../../node_modules/@firebase/util/dist/esm/src/deepCopy.ts","../../../node_modules/@firebase/util/dist/esm/src/errors.ts","../../../node_modules/@firebase/util/dist/esm/src/hash.ts","../../../node_modules/@firebase/util/dist/esm/src/sha1.ts","../../../node_modules/@firebase/util/dist/esm/src/subscribe.ts","../../../node_modules/@firebase/app/dist/esm/src/dist/esm/src/firebaseApp.ts","../../../node_modules/@firebase/app/dist/esm/dist/index.ts","../../../src/core/firebase.app.module.ts","../../../node_modules/src/util/root.ts","../../../node_modules/src/util/isArray.ts","../../../node_modules/src/util/isObject.ts","../../../node_modules/src/util/isFunction.ts","../../../node_modules/src/util/errorObject.ts","../../../node_modules/src/util/tryCatch.ts","../../../node_modules/src/util/UnsubscriptionError.ts","../../../node_modules/src/Subscription.ts","../../../node_modules/src/scheduler/Action.ts","../../../node_modules/src/scheduler/AsyncAction.ts","../../../node_modules/src/scheduler/QueueAction.ts","../../../node_modules/src/Scheduler.ts","../../../node_modules/src/scheduler/AsyncScheduler.ts","../../../node_modules/src/scheduler/QueueScheduler.ts","../../../node_modules/src/scheduler/queue.ts","../../../src/core/angularfire2.ts","../../../src/auth/auth.ts","../../../src/auth/auth.module.ts","../../../node_modules/@firebase/auth/dist/auth.js","../../../src/firestore/observable/fromRef.ts","../../../src/firestore/collection/changes.ts","../../../src/firestore/collection/collection.ts","../../../src/firestore/document/document.ts","../../../src/firestore/enable-persistance-token.ts","../../../src/firestore/firestore.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/version.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/log.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/assert.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/platform/platform.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/error.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/api.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/obj.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/input_validation.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/misc.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/blob.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/geo_point.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/database_info.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/path.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/document_key.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/document.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/sorted_map.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/field_value.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/types.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/query.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/timestamp.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/snapshot_version.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/query_data.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/mutation.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/existence_filter.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/rpc_error.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/sorted_set.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/collections.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/remote_event.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/watch_change.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/serializer.ts","../../../node_modules/@firebase/webchannel-wrapper/dist/index.js","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/stream_bridge.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/platform_browser/webchannel_connection.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/platform_browser/browser_platform.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/platform_browser/browser_init.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/field_path.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/types.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/view_snapshot.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/document_set.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/obj_map.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/event_manager.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/persistence_promise.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/eager_garbage_collector.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/local_view_changes.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/reference_set.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/target_id_generator.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/view.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/sync_engine.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/model/mutation_batch.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/encoded_resource_path.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/indexeddb_schema.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/simple_db.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/indexeddb_mutation_queue.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/indexeddb_query_cache.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/indexeddb_remote_document_cache.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/local_serializer.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/indexeddb_persistence.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/local_documents_view.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/remote_document_change_buffer.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/local_store.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/memory_mutation_queue.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/memory_query_cache.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/memory_remote_document_cache.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/memory_persistence.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/local/no_op_garbage_collector.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/promise.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/backoff.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/persistent_stream.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/datastore.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/transaction.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/remote/remote_store.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/core/firestore_client.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/async_observer.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/util/async_queue.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/auth/user.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/credentials.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/observer.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/field_value.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/user_data_converter.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/api/database.ts","../../../node_modules/@firebase/firestore/dist/esm/src/src/platform/config.ts","../../../node_modules/@firebase/firestore/dist/index.ts","../../../src/firestore/firestore.module.ts","../../../node_modules/promise-polyfill/promise.js","../../../node_modules/@firebase/polyfill/dist/esm/src/src/polyfills/promise.ts","../../../node_modules/@firebase/polyfill/dist/esm/src/src/shims/find.ts","../../../node_modules/@firebase/polyfill/dist/esm/src/src/shims/findIndex.ts","../../../node_modules/firebase/app/index.js","~/iscape-plan/src/app/iscape/shared/auth.service.ts","~/iscape-plan/src/app/iscape/shared/auth.guard.ts","~/iscape-plan/src/app/iscape/home/home.component.ts","~/iscape-plan/src/app/iscape/home/home.module.ts","~/iscape-plan/src/app/iscape/iscape.component.ts","~/iscape-plan/src/app/iscape/items/items/items.component.ts","~/iscape-plan/src/app/iscape/shared/data.service.ts","~/iscape-plan/src/app/iscape/skill/skill.service.ts","~/iscape-plan/src/app/iscape/skill/skill-list/skill-list.component.ts","~/iscape-plan/src/app/iscape/skill/skill-edit/skill-edit.component.ts","~/iscape-plan/src/app/iscape/user/user.service.ts","~/iscape-plan/src/app/iscape/user/user-list/user-list.component.ts","~/iscape-plan/src/app/iscape/shared/form.service.ts","~/iscape-plan/src/app/iscape/user/user-edit/user-edit.component.ts","~/iscape-plan/src/app/iscape/project/project-list/project-list.component.ts","~/iscape-plan/src/app/iscape/location/location-list/location-list.component.ts","~/iscape-plan/src/app/iscape/location/location-edit/location-edit.component.ts","~/iscape-plan/src/app/iscape/project/project-edit/project-edit.component.ts","~/iscape-plan/src/app/iscape/iscape-routing.module.ts","../../../node_modules/tslib/tslib.es6.js","../../../node_modules/src/lib/core/animation/animation.ts","../../../node_modules/src/lib/core/common-behaviors/common-module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport const INLINE = 'inline';\nexport const LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\n\n/**\n * Validate the direction|'direction wrap' value and then update the host's inline flexbox styles\n */\nexport function buildLayoutCSS(value: string) {\n  let [direction, wrap, isInline] = validateValue(value);\n  return buildCSS(direction, wrap, isInline);\n }\n\n/**\n  * Validate the value to be one of the acceptable value options\n  * Use default fallback of 'row'\n  */\nexport function validateValue(value: string) {\n  value = value ? value.toLowerCase() : '';\n  let [direction, wrap, inline] = value.split(' ');\n\n  // First value must be the `flex-direction`\n  if (!LAYOUT_VALUES.find(x => x === direction)) {\n    direction = LAYOUT_VALUES[0];\n  }\n\n  if (wrap === INLINE) {\n    wrap = (inline !== INLINE) ? inline : '';\n    inline = INLINE;\n  }\n\n  return [direction, validateWrapValue(wrap), !!inline];\n}\n\n/**\n * Determine if the validated, flex-direction value specifies\n * a horizontal/row flow.\n */\nexport function isFlowHorizontal(value: string): boolean {\n  let [flow, ] = validateValue(value);\n  return flow.indexOf('row') > -1;\n}\n\n/**\n * Convert layout-wrap='<value>' to expected flex-wrap style\n */\nexport function validateWrapValue(value) {\n  if (!!value) {\n    switch (value.toLowerCase()) {\n      case 'reverse':\n      case 'wrap-reverse':\n      case 'reverse-wrap':\n        value = 'wrap-reverse';\n        break;\n\n      case 'no':\n      case 'none':\n      case 'nowrap':\n        value = 'nowrap';\n        break;\n\n      // All other values fallback to 'wrap'\n      default:\n        value = 'wrap';\n        break;\n    }\n  }\n  return value;\n}\n\n/**\n * Build the CSS that should be assigned to the element instance\n * BUG:\n *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\n *      Use height instead if possible; height : <xxx>vh;\n *\n *  This way any padding or border specified on the child elements are\n *  laid out and drawn inside that element's specified width and height.\n */\nfunction buildCSS(direction, wrap = null, inline = false) {\n  return {\n    'display': inline ? 'inline-flex' : 'flex',\n    'box-sizing': 'border-box',\n    'flex-direction': direction,\n    'flex-wrap': !!wrap ? wrap : null\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Applies CSS prefixes to appropriate style keys.\n *\n * Note: `-ms-`, `-moz` and `-webkit-box` are no longer supported. e.g.\n *    {\n *      display: -webkit-flex;     NEW - Safari 6.1+. iOS 7.1+, BB10\n *      display: flex;             NEW, Spec - Firefox, Chrome, Opera\n *      // display: -webkit-box;   OLD - iOS 6-, Safari 3.1-6, BB7\n *      // display: -ms-flexbox;   TWEENER - IE 10\n *      // display: -moz-flexbox;  OLD - Firefox\n *    }\n */\nexport function applyCssPrefixes(target) {\n  for (let key in target) {\n    let value = target[key] || '';\n\n    switch (key) {\n      case 'display':\n        if (value === 'flex') {\n          target['display'] = [\n            '-webkit-flex',\n            'flex'\n          ];\n        } else if (value === 'inline-flex') {\n          target['display'] = [\n            '-webkit-inline-flex',\n            'inline-flex'\n          ];\n        } else {\n          target['display'] = value;\n        }\n        break;\n\n      case 'align-items':\n      case 'align-self':\n      case 'align-content':\n      case 'flex':\n      case 'flex-basis':\n      case 'flex-flow':\n      case 'flex-grow':\n      case 'flex-shrink':\n      case 'flex-wrap':\n      case 'justify-content':\n        target['-webkit-' + key] = value;\n        break;\n\n      case 'flex-direction':\n        value = value || 'row';\n        target['-webkit-flex-direction'] = value;\n        target['flex-direction'] = value;\n        break;\n\n      case 'order':\n        target['order'] = target['-webkit-' + key] = isNaN(value) ? '0' : value;\n        break;\n    }\n  }\n  return target;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Renderer2} from '@angular/core';\nimport {applyCssPrefixes} from './auto-prefixer';\nimport {isPlatformBrowser} from '@angular/common';\n\n/**\n * Definition of a css style. Either a property name (e.g. \"flex-basis\") or an object\n * map of property name and value (e.g. {display: 'none', flex-order: 5}).\n */\nexport type StyleDefinition = string | { [property: string]: string | number | null };\n\n\n/**\n * Applies styles given via string pair or object map to the directive element.\n */\nexport function applyStyleToElement(renderer: Renderer2,\n                                    element: any,\n                                    style: StyleDefinition,\n                                    value?: string | number) {\n  let styles = {};\n  if (typeof style === 'string') {\n    styles[style] = value;\n    style = styles;\n  }\n\n  styles = applyCssPrefixes(style);\n  applyMultiValueStyleToElement(styles, element, renderer);\n}\n\n\n/**\n * Applies styles given via string pair or object map to the directive's element.\n */\nexport function applyStyleToElements(renderer: Renderer2,\n                              style: StyleDefinition,\n                              elements: HTMLElement[ ]) {\n  let styles = applyCssPrefixes(style);\n\n  elements.forEach(el => {\n    applyMultiValueStyleToElement(styles, el, renderer);\n  });\n}\n\n/**\n * Applies the styles to the element. The styles object map may contain an array of values.\n * Each value will be added as element style.\n * Keys are sorted to add prefixed styles (like -webkit-x) first, before the standard ones.\n */\nexport function applyMultiValueStyleToElement(styles: {}, element: any, renderer: Renderer2) {\n  Object.keys(styles).sort().forEach(key => {\n    const values = Array.isArray(styles[key]) ? styles[key] : [styles[key]];\n    values.sort();\n    for (let value of values) {\n      renderer.setStyle(element, key, value);\n    }\n  });\n}\n\n/**\n * Find the DOM element's raw attribute value (if any)\n */\nexport function lookupAttributeValue(element: HTMLElement, attribute: string): string {\n  return element.getAttribute(attribute) || '';\n}\n/**\n * Find the DOM element's inline style value (if any)\n */\nexport function lookupInlineStyle(element: HTMLElement, styleName: string): string {\n  return element.style[styleName];\n}\n\n/**\n * Determine the inline or inherited CSS style\n * @TODO(CaerusKaru): platform-server has no implementation for getComputedStyle\n */\nexport function lookupStyle(_platformId: Object,\n                            element: HTMLElement,\n                            styleName: string,\n                            inlineOnly = false): string {\n  let value = '';\n  if (element) {\n    let immediateValue = value = lookupInlineStyle(element, styleName);\n    if (!inlineOnly) {\n      value = immediateValue || (isPlatformBrowser(_platformId) &&\n        getComputedStyle(element).getPropertyValue(styleName)) || '';\n    }\n  }\n\n  // Note: 'inline' is the default of all elements, unless UA stylesheet overrides;\n  //       in which case getComputedStyle() should determine a valid value.\n  return value ? value.trim() : 'block';\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\n * similar to Object.assign.\n *\n * @param dest The object which will have properties copied to it.\n * @param sources The source objects from which properties will be copied.\n */\nexport function extendObject(dest: any, ...sources: any[]): any {\n  if (dest == null) {\n    throw TypeError('Cannot convert undefined or null to object');\n  }\n\n  for (let source of sources) {\n    if (source != null) {\n      for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n          dest[key] = source[key];\n        }\n      }\n    }\n  }\n\n  return dest;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Subscription} from 'rxjs/Subscription';\nimport {map} from 'rxjs/operators/map';\n\nimport {MediaChange, MediaQuerySubscriber} from '../../media-query/media-change';\nimport {BreakPoint} from '../../media-query/breakpoints/break-point';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\nimport {extendObject} from '../../utils/object-extend';\n\nexport declare type SubscriptionList = Subscription[ ];\n\nexport interface BreakPointX extends BreakPoint {\n  key: string;\n  baseKey: string;\n}\n\nexport class KeyOptions {\n  constructor(public baseKey: string,\n              public defaultValue: string|number|boolean,\n              public inputKeys: { [key: string]: any }) {\n  }\n}\n\n/**\n * ResponsiveActivation acts as a proxy between the MonitorMedia service (which emits mediaQuery\n * changes) and the fx API directives. The MQA proxies mediaQuery change events and notifies the\n * directive via the specified callback.\n *\n * - The MQA also determines which directive property should be used to determine the\n *   current change 'value'... BEFORE the original `onMediaQueryChanges()` method is called.\n * - The `ngOnDestroy()` method is also head-hooked to enable auto-unsubscribe from the\n *   MediaQueryServices.\n *\n * NOTE: these interceptions enables the logic in the fx API directives to remain terse and clean.\n */\nexport class ResponsiveActivation {\n  private _subscribers: SubscriptionList = [];\n  private _activatedInputKey: string;\n  private _registryMap: BreakPointX[];\n\n  /**\n   * Constructor\n   */\n  constructor(private _options: KeyOptions,\n              private _mediaMonitor: MediaMonitor,\n              private _onMediaChanges: MediaQuerySubscriber) {\n    this._registryMap = this._buildRegistryMap();\n    this._subscribers = this._configureChangeObservers();\n  }\n\n  /**\n   * Get a readonly sorted list of the breakpoints corresponding to the directive properties\n   * defined in the HTML markup: the sorting is done from largest to smallest. The order is\n   * important when several media queries are 'registered' and from which, the browser uses the\n   * first matching media query.\n   */\n  get registryFromLargest(): BreakPointX[] {\n    return [...this._registryMap].reverse();\n  }\n\n  /**\n   * Accessor to the DI'ed directive property\n   * Each directive instance has a reference to the MediaMonitor which is\n   * used HERE to subscribe to mediaQuery change notifications.\n   */\n  get mediaMonitor(): MediaMonitor {\n    return this._mediaMonitor;\n  }\n\n  /**\n   * Determine which directive @Input() property is currently active (for the viewport size):\n   * The key must be defined (in use) or fallback to the 'closest' overlapping property key\n   * that is defined; otherwise the default property key will be used.\n   * e.g.\n   *      if `<div fxHide fxHide.gt-sm=\"false\">` is used but the current activated mediaQuery alias\n   *      key is `.md` then `.gt-sm` should be used instead\n   */\n  get activatedInputKey(): string {\n    return this._activatedInputKey || this._options.baseKey;\n  }\n\n  /**\n   * Get the currently activated @Input value or the fallback default @Input value\n   */\n  get activatedInput(): any {\n    let key = this.activatedInputKey;\n    return this.hasKeyValue(key) ? this._lookupKeyValue(key) : this._options.defaultValue;\n  }\n\n  /**\n   * Fast validator for presence of attribute on the host element\n   */\n  hasKeyValue(key) {\n    let value = this._options.inputKeys[key];\n    return typeof value !== 'undefined';\n  }\n\n  /**\n   * Remove interceptors, restore original functions, and forward the onDestroy() call\n   */\n  destroy() {\n    this._subscribers.forEach((link: Subscription) => {\n      link.unsubscribe();\n    });\n    this._subscribers = [];\n  }\n\n  /**\n   * For each *defined* API property, register a callback to `_onMonitorEvents( )`\n   * Cache 1..n subscriptions for internal auto-unsubscribes when the the directive destructs\n   */\n  private _configureChangeObservers(): SubscriptionList {\n    let subscriptions: Subscription[] = [];\n\n    this._registryMap.forEach((bp: BreakPointX) => {\n      if (this._keyInUse(bp.key)) {\n        // Inject directive default property key name: to let onMediaChange() calls\n        // know which property is being triggered...\n        let buildChanges = (change: MediaChange) => {\n          change = change.clone();\n          change.property = this._options.baseKey;\n          return change;\n        };\n\n        subscriptions.push(\n          this.mediaMonitor\n              .observe(bp.alias)\n              .pipe(map(buildChanges))\n              .subscribe(change => {\n                this._onMonitorEvents(change);\n              })\n        );\n      }\n    });\n\n    return subscriptions;\n  }\n\n  /**\n   * Build mediaQuery key-hashmap; only for the directive properties that are actually defined/used\n   * in the HTML markup\n   */\n  private _buildRegistryMap() {\n    return this.mediaMonitor.breakpoints\n        .map(bp => {\n          return <BreakPointX> extendObject({}, bp, {\n            baseKey: this._options.baseKey,             // e.g. layout, hide, self-align, flex-wrap\n            key: this._options.baseKey + bp.suffix  // e.g.  layoutGtSm, layoutMd, layoutGtLg\n          });\n        })\n        .filter(bp => this._keyInUse(bp.key));\n  }\n\n  /**\n   * Synchronizes change notifications with the current mq-activated @Input and calculates the\n   * mq-activated input value or the default value\n   */\n  protected _onMonitorEvents(change: MediaChange) {\n    if (change.property == this._options.baseKey) {\n      change.value = this._calculateActivatedValue(change);\n\n      this._onMediaChanges(change);\n    }\n  }\n\n  /**\n   * Has the key been specified in the HTML markup and thus is intended\n   * to participate in activation processes.\n   */\n  private _keyInUse(key): boolean {\n    return this._lookupKeyValue(key) !== undefined;\n  }\n\n  /**\n   *  Map input key associated with mediaQuery activation to closest defined input key\n   *  then return the values associated with the targeted input property\n   *\n   *  !! change events may arrive out-of-order (activate before deactivate)\n   *     so make sure the deactivate is used ONLY when the keys match\n   *     (since a different activate may be in use)\n   */\n  private _calculateActivatedValue(current: MediaChange): any {\n    const currentKey = this._options.baseKey + current.suffix;  // e.g. suffix == 'GtSm',\n    let newKey = this._activatedInputKey;                     // e.g. newKey == hideGtSm\n\n    newKey = current.matches ? currentKey : ((newKey == currentKey) ? '' : newKey);\n\n    this._activatedInputKey = this._validateInputKey(newKey);\n    return this.activatedInput;\n  }\n\n  /**\n   * For the specified input property key, validate it is defined (used in the markup)\n   * If not see if a overlapping mediaQuery-related input key fallback has been defined\n   *\n   * NOTE: scans in the order defined by activeOverLaps (largest viewport ranges -> smallest ranges)\n   */\n  private _validateInputKey(inputKey) {\n    let isMissingKey = (key) => !this._keyInUse(key);\n\n    if (isMissingKey(inputKey)) {\n      this.mediaMonitor.activeOverlaps.some(bp => {\n        let key = this._options.baseKey + bp.suffix;\n        if (!isMissingKey(key)) {\n          inputKey = key;\n          return true;  // exit .some()\n        }\n        return false;\n      });\n    }\n    return inputKey;\n  }\n\n  /**\n   * Get the value (if any) for the directive instances @Input property (aka key)\n   */\n  private _lookupKeyValue(key) {\n    return this._options.inputKeys[key];\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  ElementRef,\n  OnDestroy,\n  SimpleChanges,\n  OnChanges,\n  SimpleChange,\n  Renderer2,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {buildLayoutCSS} from '../../utils/layout-validator';\nimport {\n  StyleDefinition,\n  lookupStyle,\n  lookupInlineStyle,\n  applyStyleToElement,\n  applyStyleToElements,\n  lookupAttributeValue,\n} from '../../utils/style-utils';\n\nimport {ResponsiveActivation, KeyOptions} from '../core/responsive-activation';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {MediaQuerySubscriber} from '../../media-query/media-change';\n\n/** Abstract base class for the Layout API styling directives. */\nexport abstract class BaseFxDirective implements OnDestroy, OnChanges {\n  get hasMediaQueryListener() {\n    return !!this._mqActivation;\n  }\n\n  /**\n   * Imperatively determine the current activated [input] value;\n   * if called before ngOnInit() this will return `undefined`\n   */\n  get activatedValue(): string | number {\n    return this._mqActivation ? this._mqActivation.activatedInput : undefined;\n  }\n\n  /**\n   * Change the currently activated input value and force-update\n   * the injected CSS (by-passing change detection).\n   *\n   * NOTE: Only the currently activated input value will be modified;\n   *       other input values will NOT be affected.\n   */\n  set activatedValue(value: string | number) {\n    let key = 'baseKey', previousVal;\n\n    if (this._mqActivation) {\n      key = this._mqActivation.activatedInputKey;\n      previousVal = this._inputMap[key];\n      this._inputMap[key] = value;\n    }\n    let change = new SimpleChange(previousVal, value, false);\n\n    this.ngOnChanges({[key]: change} as SimpleChanges);\n  }\n\n\n  /**\n   * Constructor\n   */\n  constructor(protected _mediaMonitor: MediaMonitor,\n              protected _elementRef: ElementRef,\n              protected _renderer: Renderer2,\n              @Inject(PLATFORM_ID) protected _platformId: Object) {\n  }\n\n  // *********************************************\n  // Accessor Methods\n  // *********************************************\n\n  /**\n   * Access to host element's parent DOM node\n   */\n  protected get parentElement(): any {\n    return this._elementRef.nativeElement.parentNode;\n  }\n\n  protected get nativeElement(): any {\n    return this._elementRef.nativeElement;\n  }\n\n  /**\n   * Access the current value (if any) of the @Input property.\n   */\n  protected _queryInput(key) {\n    return this._inputMap[key];\n  }\n\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * Use post-component-initialization event to perform extra\n   * querying such as computed Display style\n   */\n  ngOnInit() {\n    this._display = this._getDisplayStyle();\n    this._hasInitialized = true;\n  }\n\n  ngOnChanges(change: SimpleChanges) {\n    throw new Error(`BaseFxDirective::ngOnChanges should be overridden in subclass: ${change}`);\n  }\n\n  ngOnDestroy() {\n    if (this._mqActivation) {\n      this._mqActivation.destroy();\n    }\n    delete this._mediaMonitor;\n  }\n\n  // *********************************************\n  // Protected Methods\n  // *********************************************\n\n  /**\n   * Was the directive's default selector used ?\n   * If not, use the fallback value!\n   */\n  protected _getDefaultVal(key: string, fallbackVal: any): string | boolean {\n    let val = this._queryInput(key);\n    let hasDefaultVal = (val !== undefined && val !== null);\n    return (hasDefaultVal && val !== '') ? val : fallbackVal;\n  }\n\n  /**\n   * Quick accessor to the current HTMLElement's `display` style\n   * Note: this allows use to preserve the original style\n   * and optional restore it when the mediaQueries deactivate\n   */\n  protected _getDisplayStyle(source: HTMLElement = this.nativeElement): string {\n    return lookupStyle(this._platformId, source || this.nativeElement, 'display');\n  }\n\n  /**\n   * Quick accessor to raw attribute value on the target DOM element\n   */\n  protected _getAttributeValue(attribute: string,\n                               source: HTMLElement = this.nativeElement): string {\n    return lookupAttributeValue(source || this.nativeElement, attribute);\n  }\n\n  /**\n   * Determine the DOM element's Flexbox flow (flex-direction).\n   *\n   * Check inline style first then check computed (stylesheet) style.\n   * And optionally add the flow value to element's inline style.\n   */\n  protected _getFlowDirection(target: any, addIfMissing = false): string {\n    let value = 'row';\n\n    if (target) {\n      value = lookupStyle(this._platformId, target, 'flex-direction') || 'row';\n      let hasInlineValue = lookupInlineStyle(target, 'flex-direction');\n\n      if (!hasInlineValue && addIfMissing) {\n        applyStyleToElements(this._renderer, buildLayoutCSS(value), [target]);\n      }\n    }\n\n    return value.trim();\n  }\n\n  /**\n   * Applies styles given via string pair or object map to the directive element.\n   */\n  protected _applyStyleToElement(style: StyleDefinition,\n                                 value?: string | number,\n                                 nativeElement: any = this.nativeElement) {\n    let element = nativeElement || this.nativeElement;\n    applyStyleToElement(this._renderer, element, style, value);\n  }\n\n  /**\n   * Applies styles given via string pair or object map to the directive's element.\n   */\n  protected _applyStyleToElements(style: StyleDefinition, elements: HTMLElement[ ]) {\n    applyStyleToElements(this._renderer, style, elements || []);\n  }\n\n  /**\n   *  Save the property value; which may be a complex object.\n   *  Complex objects support property chains\n   */\n  protected _cacheInput(key?: string, source?: any) {\n    if (typeof source === 'object') {\n      for (let prop in source) {\n        this._inputMap[prop] = source[prop];\n      }\n    } else {\n      if (!!key) {\n        this._inputMap[key] = source;\n      }\n    }\n  }\n\n  /**\n   *  Build a ResponsiveActivation object used to manage subscriptions to mediaChange notifications\n   *  and intelligent lookup of the directive's property value that corresponds to that mediaQuery\n   *  (or closest match).\n   */\n  protected _listenForMediaQueryChanges(key: string,\n                                        defaultValue: any,\n                                        onMediaQueryChange: MediaQuerySubscriber): ResponsiveActivation { // tslint:disable-line:max-line-length\n    if (!this._mqActivation) {\n      let keyOptions = new KeyOptions(key, defaultValue, this._inputMap);\n      this._mqActivation = new ResponsiveActivation(\n          keyOptions,\n          this._mediaMonitor,\n          (change) => onMediaQueryChange(change)\n      );\n    }\n    return this._mqActivation;\n  }\n\n  /**\n   * Special accessor to query for all child 'element' nodes regardless of type, class, etc.\n   */\n  protected get childrenNodes() {\n    const obj = this.nativeElement.children;\n    const buffer: any[] = [];\n\n    // iterate backwards ensuring that length is an UInt32\n    for (let i = obj.length; i--; ) {\n      buffer[i] = obj[i];\n    }\n    return buffer;\n  }\n\n  /**\n   * Does this directive have 1 or more responsive keys defined\n   * Note: we exclude the 'baseKey' key (which is NOT considered responsive)\n   */\n  hasResponsiveAPI(baseKey: string) {\n    const totalKeys = Object.keys(this._inputMap).length;\n    const baseValue = this._inputMap[baseKey];\n    return (totalKeys - (!!baseValue ? 1 : 0)) > 0;\n  }\n\n\n  /**\n   * Fast validator for presence of attribute on the host element\n   */\n  protected hasKeyValue(key) {\n    return this._mqActivation.hasKeyValue(key);\n  }\n\n  protected get hasInitialized() {\n    return this._hasInitialized;\n  }\n\n  /** Original dom Elements CSS display style */\n  protected _display;\n\n  /**\n   * MediaQuery Activation Tracker\n   */\n  protected _mqActivation: ResponsiveActivation;\n\n  /**\n   *  Dictionary of input keys with associated values\n   */\n  protected _inputMap = {};\n\n  /**\n   * Has the `ngOnInit()` method fired\n   *\n   * Used to allow *ngFor tasks to finish and support queries like\n   * getComputedStyle() during ngOnInit().\n   */\n  protected _hasInitialized = false;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {ElementRef, Inject, PLATFORM_ID, Renderer2} from '@angular/core';\n\nimport {BaseFxDirective} from './base';\nimport {ResponsiveActivation} from './responsive-activation';\nimport {MediaQuerySubscriber} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\n\n/**\n * Adapter to the BaseFxDirective abstract class so it can be used via composition.\n * @see BaseFxDirective\n */\nexport class BaseFxDirectiveAdapter extends BaseFxDirective {\n\n  /**\n   * Accessor to determine which @Input property is \"active\"\n   * e.g. which property value will be used.\n   */\n  get activeKey() {\n    let mqa = this._mqActivation;\n    let key = mqa ? mqa.activatedInputKey : this._baseKey;\n    // Note: ClassDirective::SimpleChanges uses 'klazz' instead of 'class' as a key\n    return (key === 'class') ? 'klazz' : key;\n  }\n\n  /** Hash map of all @Input keys/values defined/used */\n  get inputMap() {\n    return this._inputMap;\n  }\n\n  /**\n   * @see BaseFxDirective._mqActivation\n   */\n  get mqActivation(): ResponsiveActivation {\n    return this._mqActivation;\n  }\n\n  /**\n   * BaseFxDirectiveAdapter constructor\n   */\n  constructor(protected _baseKey: string,   // non-responsive @Input property name\n              protected _mediaMonitor: MediaMonitor,\n              protected _elementRef: ElementRef,\n              protected _renderer: Renderer2,\n              @Inject(PLATFORM_ID) protected _platformId: Object) {\n    super(_mediaMonitor, _elementRef, _renderer, _platformId);\n  }\n\n  /**\n    * Does this directive have 1 or more responsive keys defined\n    * Note: we exclude the 'baseKey' key (which is NOT considered responsive)\n    */\n  hasResponsiveAPI() {\n   return super.hasResponsiveAPI(this._baseKey);\n  }\n\n  /**\n   * @see BaseFxDirective._queryInput\n   */\n  queryInput(key) {\n    return key ? this._queryInput(key) : undefined;\n  }\n\n  /**\n   *  Save the property value.\n   */\n  cacheInput(key?: string, source?: any, cacheRaw = false) {\n    if (cacheRaw) {\n      this._cacheInputRaw(key, source);\n    } else if (Array.isArray(source)) {\n      this._cacheInputArray(key, source);\n    } else if (typeof source === 'object') {\n      this._cacheInputObject(key, source);\n    } else if (typeof source === 'string') {\n      this._cacheInputString(key, source);\n    } else {\n      throw new Error(\n        `Invalid class value '${key}' provided. Did you want to cache the raw value?`\n      );\n    }\n  }\n\n  /**\n   * @see BaseFxDirective._listenForMediaQueryChanges\n   */\n  listenForMediaQueryChanges(key: string,\n                             defaultValue: any,\n                             onMediaQueryChange: MediaQuerySubscriber): ResponsiveActivation {\n    return this._listenForMediaQueryChanges(key, defaultValue, onMediaQueryChange);\n  }\n\n  // ************************************************************\n  // Protected Methods\n  // ************************************************************\n\n  /**\n   * No implicit transforms of the source.\n   * Required when caching values expected later for KeyValueDiffers\n   */\n  protected _cacheInputRaw(key?: string, source?: any) {\n    if (key) {\n      this._inputMap[key] = source;\n    }\n  }\n\n  /**\n   *  Save the property value for Array values.\n   */\n  protected _cacheInputArray(key = '', source?: boolean[]) {\n    this._inputMap[key] = source ? source.join(' ') : '';\n  }\n\n  /**\n   *  Save the property value for key/value pair values.\n   */\n  protected _cacheInputObject(key = '', source?: { [key: string]: boolean }) {\n    let classes: string[] = [];\n    if (source) {\n      for (let prop in source) {\n        if (!!source[prop]) {\n          classes.push(prop);\n        }\n      }\n    }\n    this._inputMap[key] = classes.join(' ');\n  }\n\n  /**\n   *  Save the property value for string values.\n   */\n  protected _cacheInputString(key = '', source?: string) {\n    this._inputMap[key] = source;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// @TODO - remove after updating to TS v2.4\n// tslint:disable:no-unused-variable\nimport {InjectionToken} from '@angular/core';\nimport {BreakPoint} from './break-point';\n\n/**\n *  Injection token unique to the flex-layout library.\n *  Use this token when build a custom provider (see below).\n */\nexport const BREAKPOINTS =\n    new InjectionToken<BreakPoint[]>('Token (@angular/flex-layout) Breakpoints');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Injectable, Inject} from '@angular/core';\n\nimport {BreakPoint} from './break-point';\nimport {BREAKPOINTS} from './break-points-token';\n\n\n/**\n * Registry of 1..n MediaQuery breakpoint ranges\n * This is published as a provider and may be overriden from custom, application-specific ranges\n *\n */\n@Injectable()\nexport class BreakPointRegistry {\n\n  constructor(@Inject(BREAKPOINTS) private _registry: BreakPoint[]) {\n  }\n\n  /**\n   * Accessor to raw list\n   */\n  get items(): BreakPoint[ ] {\n    return [...this._registry];\n  }\n\n  /**\n   * Accessor to sorted list used for registration with matchMedia API\n   *\n   * NOTE: During breakpoint registration, we want to register the overlaps FIRST\n   *       so the non-overlaps will trigger the MatchMedia:BehaviorSubject last!\n   *       And the largest, non-overlap, matching breakpoint should be the lastReplay value\n   */\n  get sortedItems(): BreakPoint[] {\n    let overlaps = this._registry.filter(it => it.overlapping === true);\n    let nonOverlaps = this._registry.filter(it => it.overlapping !== true);\n\n    return [...overlaps, ...nonOverlaps];\n  }\n\n  /**\n   * Search breakpoints by alias (e.g. gt-xs)\n   */\n  findByAlias(alias: string): BreakPoint | null {\n    return this._registry.find(bp => bp.alias == alias) || null;\n  }\n\n  findByQuery(query: string): BreakPoint | null {\n    return this._registry.find(bp => bp.mediaQuery == query) || null;\n  }\n\n  /**\n   * Get all the breakpoints whose ranges could overlapping `normal` ranges;\n   * e.g. gt-sm overlaps md, lg, and xl\n   */\n  get overlappings(): BreakPoint[] {\n    return this._registry.filter(it => it.overlapping == true);\n  }\n\n  /**\n   * Get list of all registered (non-empty) breakpoint aliases\n   */\n  get aliases(): string[] {\n    return this._registry.map(it => it.alias);\n  }\n\n  /**\n   * Aliases are mapped to properties using suffixes\n   * e.g.  'gt-sm' for property 'layout'  uses suffix 'GtSm'\n   * for property layoutGtSM.\n   */\n  get suffixes(): string[] {\n    return this._registry.map(it => !!it.suffix ? it.suffix : '');\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport type MediaQuerySubscriber = (changes: MediaChange) => void;\n\n/**\n * Class instances emitted [to observers] for each mql notification\n */\nexport class MediaChange {\n  property: string;\n  value: any;\n\n  constructor(public matches = false,       // Is the mq currently activated\n              public mediaQuery = 'all',    // e.g.   (min-width: 600px) and (max-width: 959px)\n              public mqAlias = '',          // e.g.   gt-sm, md, gt-lg\n              public suffix = ''            // e.g.   GtSM, Md, GtLg\n  ) { }\n\n  clone() {\n    return new MediaChange(this.matches, this.mediaQuery, this.mqAlias, this.suffix);\n  }\n}\n\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Inject,\n  Injectable,\n  NgZone,\n  PLATFORM_ID,\n  RendererFactory2,\n  RendererType2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {DOCUMENT, isPlatformBrowser} from '@angular/common';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Observable} from 'rxjs/Observable';\nimport {filter} from 'rxjs/operators/filter';\n\nimport {MediaChange} from './media-change';\n\n/**\n * EventHandler callback with the mediaQuery [range] activates or deactivates\n */\nexport interface MediaQueryListListener {\n  // Function with Window's MediaQueryList argument\n  (mql: MediaQueryList): void;\n}\n\n/**\n * EventDispatcher for a specific mediaQuery [range]\n */\nexport interface MediaQueryList {\n  readonly matches: boolean;\n  readonly media: string;\n\n  addListener(listener: MediaQueryListListener): void;\n\n  removeListener(listener: MediaQueryListListener): void;\n}\n\n\n/**\n * MediaMonitor configures listeners to mediaQuery changes and publishes an Observable facade to\n * convert mediaQuery change callbacks to subscriber notifications. These notifications will be\n * performed within the ng Zone to trigger change detections and component updates.\n *\n * NOTE: both mediaQuery activations and de-activations are announced in notifications\n */\n@Injectable()\nexport class MatchMedia {\n  protected _registry: Map<string, MediaQueryList>;\n  protected _source: BehaviorSubject<MediaChange>;\n  protected _observable$: Observable<MediaChange>;\n\n  constructor(protected _zone: NgZone,\n              protected _rendererFactory: RendererFactory2,\n              @Inject(DOCUMENT) protected _document: any,\n              @Inject(PLATFORM_ID) protected _platformId: Object) {\n    this._registry = new Map<string, MediaQueryList>();\n    this._source = new BehaviorSubject<MediaChange>(new MediaChange(true));\n    this._observable$ = this._source.asObservable();\n  }\n\n  /**\n   * For the specified mediaQuery?\n   */\n  isActive(mediaQuery: string): boolean {\n    let mql = this._registry.get(mediaQuery);\n    return !!mql ? mql.matches : false;\n  }\n\n  /**\n   * External observers can watch for all (or a specific) mql changes.\n   * Typically used by the MediaQueryAdaptor; optionally available to components\n   * who wish to use the MediaMonitor as mediaMonitor$ observable service.\n   *\n   * NOTE: if a mediaQuery is not specified, then ALL mediaQuery activations will\n   *       be announced.\n   */\n  observe(mediaQuery?: string): Observable<MediaChange> {\n    if (mediaQuery) {\n      this.registerQuery(mediaQuery);\n    }\n\n    return this._observable$.pipe(\n      filter((change: MediaChange) => {\n        return mediaQuery ? (change.mediaQuery === mediaQuery) : true;\n      })\n    );\n  }\n\n  /**\n   * Based on the BreakPointRegistry provider, register internal listeners for each unique\n   * mediaQuery. Each listener emits specific MediaChange data to observers\n   */\n  registerQuery(mediaQuery: string | string[]) {\n    let list = normalizeQuery(mediaQuery);\n\n    if (list.length > 0) {\n      this._prepareQueryCSS(list, this._document);\n\n      list.forEach(query => {\n        let mql = this._registry.get(query);\n        let onMQLEvent = (e: MediaQueryList) => {\n          this._zone.run(() => {\n            let change = new MediaChange(e.matches, query);\n            this._source.next(change);\n          });\n        };\n\n        if (!mql) {\n          mql = this._buildMQL(query);\n          mql.addListener(onMQLEvent);\n          this._registry.set(query, mql);\n        }\n\n        if (mql.matches) {\n          onMQLEvent(mql);  // Announce activate range for initial subscribers\n        }\n      });\n    }\n  }\n\n  /**\n   * Call window.matchMedia() to build a MediaQueryList; which\n   * supports 0..n listeners for activation/deactivation\n   */\n  protected _buildMQL(query: string): MediaQueryList {\n    let canListen = isPlatformBrowser(this._platformId) &&\n      !!(<any>window).matchMedia('all').addListener;\n\n    return canListen ? (<any>window).matchMedia(query) : <MediaQueryList>{\n      matches: query === 'all' || query === '',\n      media: query,\n      addListener: () => {\n      },\n      removeListener: () => {\n      }\n    };\n  }\n\n  /**\n   * For Webkit engines that only trigger the MediaQueryList Listener\n   * when there is at least one CSS selector for the respective media query.\n   *\n   * @param query string The mediaQuery used to create a faux CSS selector\n   *\n   */\n  protected _prepareQueryCSS(mediaQueries: string[], _document: any) {\n    let list = mediaQueries.filter(it => !ALL_STYLES[it]);\n    if (list.length > 0) {\n      let query = list.join(', ');\n\n      try {\n        const renderer = this._rendererFactory.createRenderer(_document, RENDERER_TYPE);\n        let styleEl = renderer.createElement('style');\n\n        renderer.setAttribute(styleEl, 'type', 'text/css');\n        if (!styleEl['styleSheet']) {\n          let cssText = `\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${query} {.fx-query-test{ }}\n` ;\n          renderer.appendChild(styleEl, renderer.createText(cssText));\n        }\n\n        renderer.appendChild(_document.head, styleEl);\n\n        // Store in private global registry\n        list.forEach(mq => ALL_STYLES[mq] = styleEl);\n\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n}\n\n/**\n * Since `getDom()` is no longer supported,\n * we will use a RendererFactory build and instance\n * of a renderer for an element. Then the renderer will\n * build the stylesheet(s)\n */\nconst RENDERER_TYPE: RendererType2 = {\n  id: '-1',\n  styles: [ ],\n  data: { },\n  encapsulation: ViewEncapsulation.None\n};\n\n/**\n * Private global registry for all dynamically-created, injected style tags\n * @see prepare(query)\n */\nconst ALL_STYLES = {};\n\n/**\n * Always convert to unique list of queries; for iteration in ::registerQuery()\n */\nfunction normalizeQuery(mediaQuery: string | string[]): string[] {\n  return (typeof mediaQuery === 'undefined') ? [] :\n      (typeof mediaQuery === 'string') ? [mediaQuery] : unique(mediaQuery as string[]);\n}\n\n/**\n * Filter duplicate mediaQueries in the list\n */\nfunction unique(list: string[]): string[] {\n  let seen = {};\n  return list.filter(item => {\n    return seen.hasOwnProperty(item) ? false : (seen[item] = true);\n  });\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {MediaChange} from '../media-query/media-change';\nimport {BreakPoint} from '../media-query/breakpoints/break-point';\nimport {extendObject} from './object-extend';\n\n/**\n * For the specified MediaChange, make sure it contains the breakpoint alias\n * and suffix (if available).\n */\nexport function mergeAlias(dest: MediaChange, source: BreakPoint | null) {\n  return extendObject(dest, source ? {\n        mqAlias: source.alias,\n        suffix: source.suffix\n      } : {});\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Injectable} from '@angular/core';\n\nimport {BreakPoint} from './breakpoints/break-point';\nimport {BreakPointRegistry} from './breakpoints/break-point-registry';\nimport {MatchMedia} from './match-media';\nimport {MediaChange} from './media-change';\n\nimport {mergeAlias} from '../utils/add-alias';\n\nimport {Observable} from 'rxjs/Observable';\nimport {filter} from 'rxjs/operators/filter';\nimport {map} from 'rxjs/operators/map';\n\n/**\n * MediaMonitor uses the MatchMedia service to observe mediaQuery changes (both activations and\n * deactivations). These changes are are published as MediaChange notifications.\n *\n * Note: all notifications will be performed within the\n * ng Zone to trigger change detections and component updates.\n *\n * It is the MediaMonitor that:\n *  - auto registers all known breakpoints\n *  - injects alias information into each raw MediaChange event\n *  - provides accessor to the currently active BreakPoint\n *  - publish list of overlapping BreakPoint(s); used by ResponsiveActivation\n */\n@Injectable()\nexport class MediaMonitor {\n  constructor(private _breakpoints: BreakPointRegistry, private _matchMedia: MatchMedia) {\n    this._registerBreakpoints();\n  }\n\n  /**\n   * Read-only accessor to the list of breakpoints configured in the BreakPointRegistry provider\n   */\n  get breakpoints(): BreakPoint[] {\n    return [...this._breakpoints.items];\n  }\n\n  get activeOverlaps(): BreakPoint[] {\n    let items: BreakPoint[] = this._breakpoints.overlappings.reverse();\n    return items.filter((bp: BreakPoint) => {\n      return this._matchMedia.isActive(bp.mediaQuery);\n    });\n  }\n\n  get active(): BreakPoint | null {\n    let found: BreakPoint | null = null, items = this.breakpoints.reverse();\n    items.forEach(bp => {\n      if (bp.alias !== '') {\n        if (!found && this._matchMedia.isActive(bp.mediaQuery)) {\n          found = bp;\n        }\n      }\n    });\n\n    let first = this.breakpoints[0];\n    return found || (this._matchMedia.isActive(first.mediaQuery) ? first : null);\n  }\n\n  /**\n   * For the specified mediaQuery alias, is the mediaQuery range active?\n   */\n  isActive(alias: string): boolean {\n    let bp = this._breakpoints.findByAlias(alias) || this._breakpoints.findByQuery(alias);\n    return this._matchMedia.isActive(bp ? bp.mediaQuery : alias);\n  }\n\n  /**\n   * External observers can watch for all (or a specific) mql changes.\n   * If specific breakpoint is observed, only return *activated* events\n   * otherwise return all events for BOTH activated + deactivated changes.\n   */\n  observe(alias?: string): Observable<MediaChange> {\n    let bp = this._breakpoints.findByAlias(alias || '') ||\n      this._breakpoints.findByQuery(alias || '');\n    let hasAlias = (change: MediaChange) => (bp ? change.mqAlias !== '' : true);\n    // Note: the raw MediaChange events [from MatchMedia] do not contain important alias information\n\n    let media$ = this._matchMedia.observe(bp ? bp.mediaQuery : alias);\n    return media$.pipe(\n      map(change => mergeAlias(change, bp)),\n      filter(hasAlias)\n    );\n  }\n\n  /**\n   * Immediate calls to matchMedia() to establish listeners\n   * and prepare for immediate subscription notifications\n   */\n  private _registerBreakpoints() {\n    let queries = this._breakpoints.sortedItems.map(bp => bp.mediaQuery);\n    this._matchMedia.registerQuery(queries);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {buildLayoutCSS} from '../../utils/layout-validator';\nimport {ReplaySubject} from 'rxjs/ReplaySubject';\n/**\n * 'layout' flexbox styling directive\n * Defines the positioning flow direction for the child elements: row or column\n * Optional values: column or row (default)\n * @see https://css-tricks.com/almanac/properties/f/flex-direction/\n *\n */\n@Directive({selector: `\n  [fxLayout],\n  [fxLayout.xs], [fxLayout.sm], [fxLayout.md], [fxLayout.lg], [fxLayout.xl],\n  [fxLayout.lt-sm], [fxLayout.lt-md], [fxLayout.lt-lg], [fxLayout.lt-xl],\n  [fxLayout.gt-xs], [fxLayout.gt-sm], [fxLayout.gt-md], [fxLayout.gt-lg]\n`})\nexport class LayoutDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /**\n   * Create Observable for nested/child 'flex' directives. This allows\n   * child flex directives to subscribe/listen for flexbox direction changes.\n   */\n  protected _announcer: ReplaySubject<string>;\n\n  /**\n   * Publish observer to enabled nested, dependent directives to listen\n   * to parent 'layout' direction changes\n   */\n  layout$: Observable<string>;\n\n  /* tslint:disable */\n  @Input('fxLayout')       set layout(val)     { this._cacheInput('layout', val); };\n  @Input('fxLayout.xs')    set layoutXs(val)   { this._cacheInput('layoutXs', val); };\n  @Input('fxLayout.sm')    set layoutSm(val)   { this._cacheInput('layoutSm', val); };\n  @Input('fxLayout.md')    set layoutMd(val)   { this._cacheInput('layoutMd', val); };\n  @Input('fxLayout.lg')    set layoutLg(val)   { this._cacheInput('layoutLg', val); };\n  @Input('fxLayout.xl')    set layoutXl(val)   { this._cacheInput('layoutXl', val); };\n\n  @Input('fxLayout.gt-xs') set layoutGtXs(val) { this._cacheInput('layoutGtXs', val); };\n  @Input('fxLayout.gt-sm') set layoutGtSm(val) { this._cacheInput('layoutGtSm', val); };\n  @Input('fxLayout.gt-md') set layoutGtMd(val) { this._cacheInput('layoutGtMd', val); };\n  @Input('fxLayout.gt-lg') set layoutGtLg(val) { this._cacheInput('layoutGtLg', val); };\n\n  @Input('fxLayout.lt-sm') set layoutLtSm(val) { this._cacheInput('layoutLtSm', val); };\n  @Input('fxLayout.lt-md') set layoutLtMd(val) { this._cacheInput('layoutLtMd', val); };\n  @Input('fxLayout.lt-lg') set layoutLtLg(val) { this._cacheInput('layoutLtLg', val); };\n  @Input('fxLayout.lt-xl') set layoutLtXl(val) { this._cacheInput('layoutLtXl', val); };\n\n  /* tslint:enable */\n  /**\n   *\n   */\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n    this._announcer = new ReplaySubject<string>(1);\n    this.layout$ = this._announcer.asObservable();\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * On changes to any @Input properties...\n   * Default to use the non-responsive Input value ('fxLayout')\n   * Then conditionally override with the mq-activated Input's current value\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['layout'] != null || this._mqActivation) {\n      this._updateWithDirection();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('layout', 'row', (changes: MediaChange) => {\n      this._updateWithDirection(changes.value);\n    });\n    this._updateWithDirection();\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  /**\n   * Validate the direction value and then update the host's inline flexbox styles\n   */\n  protected _updateWithDirection(value?: string) {\n    value = value || this._queryInput('layout') || 'row';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    // Update styles and announce to subscribers the *new* direction\n    let css = buildLayoutCSS(!!value ? value : '');\n\n    this._applyStyleToElement(css);\n    this._announcer.next(css['flex-direction']);\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  SimpleChanges,\n  Self,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {extendObject} from '../../utils/object-extend';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\nimport {LayoutDirective} from './layout';\nimport {LAYOUT_VALUES, isFlowHorizontal} from '../../utils/layout-validator';\n\n/**\n * 'layout-align' flexbox styling directive\n *  Defines positioning of child elements along main and cross axis in a layout container\n *  Optional values: {main-axis} values or {main-axis cross-axis} value pairs\n *\n *  @see https://css-tricks.com/almanac/properties/j/justify-content/\n *  @see https://css-tricks.com/almanac/properties/a/align-items/\n *  @see https://css-tricks.com/almanac/properties/a/align-content/\n */\n@Directive({selector: `\n  [fxLayoutAlign],\n  [fxLayoutAlign.xs], [fxLayoutAlign.sm], [fxLayoutAlign.md], [fxLayoutAlign.lg],[fxLayoutAlign.xl],\n  [fxLayoutAlign.lt-sm], [fxLayoutAlign.lt-md], [fxLayoutAlign.lt-lg], [fxLayoutAlign.lt-xl],\n  [fxLayoutAlign.gt-xs], [fxLayoutAlign.gt-sm], [fxLayoutAlign.gt-md], [fxLayoutAlign.gt-lg]\n`})\nexport class LayoutAlignDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  protected _layout = 'row';  // default flex-direction\n  protected _layoutWatcher: Subscription;\n\n  /* tslint:disable */\n  @Input('fxLayoutAlign')       set align(val)     { this._cacheInput('align', val); }\n  @Input('fxLayoutAlign.xs')    set alignXs(val)   { this._cacheInput('alignXs', val); }\n  @Input('fxLayoutAlign.sm')    set alignSm(val)   { this._cacheInput('alignSm', val); };\n  @Input('fxLayoutAlign.md')    set alignMd(val)   { this._cacheInput('alignMd', val); };\n  @Input('fxLayoutAlign.lg')    set alignLg(val)   { this._cacheInput('alignLg', val); };\n  @Input('fxLayoutAlign.xl')    set alignXl(val)   { this._cacheInput('alignXl', val); };\n\n  @Input('fxLayoutAlign.gt-xs') set alignGtXs(val) { this._cacheInput('alignGtXs', val); };\n  @Input('fxLayoutAlign.gt-sm') set alignGtSm(val) { this._cacheInput('alignGtSm', val); };\n  @Input('fxLayoutAlign.gt-md') set alignGtMd(val) { this._cacheInput('alignGtMd', val); };\n  @Input('fxLayoutAlign.gt-lg') set alignGtLg(val) { this._cacheInput('alignGtLg', val); };\n\n  @Input('fxLayoutAlign.lt-sm') set alignLtSm(val) { this._cacheInput('alignLtSm', val); };\n  @Input('fxLayoutAlign.lt-md') set alignLtMd(val) { this._cacheInput('alignLtMd', val); };\n  @Input('fxLayoutAlign.lt-lg') set alignLtLg(val) { this._cacheInput('alignLtLg', val); };\n  @Input('fxLayoutAlign.lt-xl') set alignLtXl(val) { this._cacheInput('alignLtXl', val); };\n\n  /* tslint:enable */\n  constructor(\n      monitor: MediaMonitor,\n      elRef: ElementRef, renderer: Renderer2,\n      @Optional() @Self() container: LayoutDirective,\n      @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n\n    if (container) {  // Subscribe to layout direction changes\n      this._layoutWatcher = container.layout$.subscribe(this._onLayoutChange.bind(this));\n    }\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['align'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('align', 'start stretch', (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n    this._updateWithValue();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if ( this._layoutWatcher ) {\n      this._layoutWatcher.unsubscribe();\n    }\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  /**\n   *\n   */\n  protected _updateWithValue(value?: string) {\n    value = value || this._queryInput('align') || 'start stretch';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    this._applyStyleToElement(this._buildCSS(value));\n    this._allowStretching(value, !this._layout ? 'row' : this._layout);\n  }\n\n  /**\n   * Cache the parent container 'flex-direction' and update the 'flex' styles\n   */\n  protected _onLayoutChange(direction) {\n    this._layout = (direction || '').toLowerCase();\n    if (!LAYOUT_VALUES.find(x => x === this._layout)) {\n      this._layout = 'row';\n    }\n\n    let value = this._queryInput('align') || 'start stretch';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n    this._allowStretching(value, this._layout || 'row');\n  }\n\n  protected _buildCSS(align) {\n    let css = {}, [main_axis, cross_axis] = align.split(' '); // tslint:disable-line:variable-name\n\n    // Main axis\n    switch (main_axis) {\n      case 'center':\n        css['justify-content'] = 'center';\n        break;\n      case 'space-around':\n        css['justify-content'] = 'space-around';\n        break;\n      case 'space-between':\n        css['justify-content'] = 'space-between';\n        break;\n      case 'space-evenly':\n        css['justify-content'] = 'space-evenly';\n        break;\n      case 'end':\n      case 'flex-end':\n        css['justify-content'] = 'flex-end';\n        break;\n      case 'start':\n      case 'flex-start':\n      default :\n        css['justify-content'] = 'flex-start';  // default main axis\n        break;\n    }\n\n    // Cross-axis\n    switch (cross_axis) {\n      case 'start':\n      case 'flex-start':\n        css['align-items'] = css['align-content'] = 'flex-start';\n        break;\n      case 'baseline':\n        css['align-items'] = 'baseline';\n        break;\n      case 'center':\n        css['align-items'] = css['align-content'] = 'center';\n        break;\n      case 'end':\n      case 'flex-end':\n        css['align-items'] = css['align-content'] = 'flex-end';\n        break;\n      case 'stretch':\n      default : // 'stretch'\n        css['align-items'] = css['align-content'] = 'stretch';   // default cross axis\n        break;\n    }\n\n    return extendObject(css, {\n      'display' : 'flex',\n      'flex-direction' : this._layout || 'row',\n      'box-sizing' : 'border-box'\n    });\n  }\n\n\n  /**\n   * Update container element to 'stretch' as needed...\n   * NOTE: this is only done if the crossAxis is explicitly set to 'stretch'\n   */\n  protected _allowStretching(align, layout) {\n    let [, cross_axis] = align.split(' '); // tslint:disable-line:variable-name\n\n    if (cross_axis == 'stretch') {\n      // Use `null` values to remove style\n      this._applyStyleToElement({\n        'box-sizing': 'border-box',\n        'max-width': !isFlowHorizontal(layout) ? '100%' : null,\n        'max-height': isFlowHorizontal(layout) ? '100%' : null\n      });\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  Renderer2,\n  SimpleChanges,\n  Self,\n  AfterContentInit,\n  Optional,\n  OnDestroy,\n  NgZone,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {BaseFxDirective} from '../core/base';\nimport {LayoutDirective} from './layout';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {LAYOUT_VALUES} from '../../utils/layout-validator';\n\n/**\n * 'layout-padding' styling directive\n *  Defines padding of child elements in a layout container\n */\n@Directive({\n  selector: `\n  [fxLayoutGap],\n  [fxLayoutGap.xs], [fxLayoutGap.sm], [fxLayoutGap.md], [fxLayoutGap.lg], [fxLayoutGap.xl],\n  [fxLayoutGap.lt-sm], [fxLayoutGap.lt-md], [fxLayoutGap.lt-lg], [fxLayoutGap.lt-xl],\n  [fxLayoutGap.gt-xs], [fxLayoutGap.gt-sm], [fxLayoutGap.gt-md], [fxLayoutGap.gt-lg]\n`\n})\nexport class LayoutGapDirective extends BaseFxDirective implements AfterContentInit, OnChanges,\n    OnDestroy {\n  protected _layout = 'row';  // default flex-direction\n  protected _layoutWatcher: Subscription;\n  protected _observer: MutationObserver;\n\n  /* tslint:disable */\n @Input('fxLayoutGap')       set gap(val) { this._cacheInput('gap', val); }\n @Input('fxLayoutGap.xs')    set gapXs(val) { this._cacheInput('gapXs', val); }\n @Input('fxLayoutGap.sm')    set gapSm(val) { this._cacheInput('gapSm', val); };\n @Input('fxLayoutGap.md')    set gapMd(val) { this._cacheInput('gapMd', val); };\n @Input('fxLayoutGap.lg')    set gapLg(val) { this._cacheInput('gapLg', val); };\n @Input('fxLayoutGap.xl')    set gapXl(val) { this._cacheInput('gapXl', val); };\n\n @Input('fxLayoutGap.gt-xs') set gapGtXs(val) { this._cacheInput('gapGtXs', val); };\n @Input('fxLayoutGap.gt-sm') set gapGtSm(val) { this._cacheInput('gapGtSm', val); };\n @Input('fxLayoutGap.gt-md') set gapGtMd(val) { this._cacheInput('gapGtMd', val); };\n @Input('fxLayoutGap.gt-lg') set gapGtLg(val) { this._cacheInput('gapGtLg', val); };\n\n @Input('fxLayoutGap.lt-sm') set gapLtSm(val) { this._cacheInput('gapLtSm', val); };\n @Input('fxLayoutGap.lt-md') set gapLtMd(val) { this._cacheInput('gapLtMd', val); };\n @Input('fxLayoutGap.lt-lg') set gapLtLg(val) { this._cacheInput('gapLtLg', val); };\n @Input('fxLayoutGap.lt-xl') set gapLtXl(val) { this._cacheInput('gapLtXl', val); };\n\n  /* tslint:enable */\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Optional() @Self() container: LayoutDirective,\n              private _zone: NgZone,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n\n    if (container) {  // Subscribe to layout direction changes\n      this._layoutWatcher = container.layout$.subscribe(this._onLayoutChange.bind(this));\n    }\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['gap'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngAfterContentInit() {\n    this._watchContentChanges();\n    this._listenForMediaQueryChanges('gap', '0', (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n    this._updateWithValue();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._layoutWatcher) {\n      this._layoutWatcher.unsubscribe();\n    }\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  /**\n   * Watch for child nodes to be added... and apply the layout gap styles to each.\n   * NOTE: this does NOT! differentiate between viewChildren and contentChildren\n   */\n  protected _watchContentChanges() {\n    this._zone.runOutsideAngular(() => {\n\n      if (typeof MutationObserver !== 'undefined') {\n        this._observer = new MutationObserver((mutations: MutationRecord[]) => {\n          let validatedChanges = (it: MutationRecord): boolean => {\n            return (it.addedNodes && it.addedNodes.length > 0) ||\n                (it.removedNodes && it.removedNodes.length > 0);\n          };\n\n          // update gap styles only for child 'added' or 'removed' events\n          if (mutations.some(validatedChanges)) {\n            this._updateWithValue();\n          }\n        });\n        this._observer.observe(this.nativeElement, {childList: true});\n      }\n    });\n  }\n\n  /**\n   * Cache the parent container 'flex-direction' and update the 'margin' styles\n   */\n  protected _onLayoutChange(direction) {\n    this._layout = (direction || '').toLowerCase();\n    if (!LAYOUT_VALUES.find(x => x === this._layout)) {\n      this._layout = 'row';\n    }\n    this._updateWithValue();\n  }\n\n  /**\n   *\n   */\n  protected _updateWithValue(value?: string) {\n    value = value || this._queryInput('gap') || '0';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    // Gather all non-hidden Element nodes\n    let items = this.childrenNodes\n        .filter(el => el.nodeType === 1 && this._getDisplayStyle(el) != 'none');\n    let numItems = items.length;\n\n    if (numItems > 0) {\n      let lastItem = items[numItems - 1];\n\n      // For each `element` children EXCEPT the last,\n      // set the margin right/bottom styles...\n      items = items.filter((_, j) => j < numItems - 1);\n      this._applyStyleToElements(this._buildCSS(value), items);\n\n      // Clear all gaps for all visible elements\n      this._applyStyleToElements(this._buildCSS(), [lastItem]);\n    }\n  }\n\n  /**\n   * Prepare margin CSS, remove any previous explicitly\n   * assigned margin assignments\n   */\n  private _buildCSS(value: any = null) {\n    let key, margins = {\n      'margin-left': null,\n      'margin-right': null,\n      'margin-top': null,\n      'margin-bottom': null\n    };\n\n    switch (this._layout) {\n      case 'column':\n      case 'column-reverse':\n        key = 'margin-bottom';\n        break;\n      case 'row' :\n      case 'row-reverse':\n      default :\n        key = 'margin-right';\n        break;\n    }\n    margins[key] = value;\n\n    return margins;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n /**\n * The flex API permits 3 or 1 parts of the value:\n *    - `flex-grow flex-shrink flex-basis`, or\n *    - `flex-basis`\n */\nexport function validateBasis(basis: string, grow = '1', shrink = '1'): string[] {\n  let parts = [grow, shrink, basis];\n\n  let j = basis.indexOf('calc');\n  if (j > 0) {\n    parts[2] = _validateCalcValue(basis.substring(j).trim());\n    let matches = basis.substr(0, j).trim().split(' ');\n    if (matches.length == 2) {\n      parts[0] = matches[0];\n      parts[1] = matches[1];\n    }\n  } else if (j == 0) {\n    parts[2] = _validateCalcValue(basis.trim());\n  } else {\n    let matches = basis.split(' ');\n    parts = (matches.length === 3) ? matches : [\n          grow, shrink, basis\n        ];\n  }\n\n  return parts;\n}\n\n\n/**\n * Calc expressions require whitespace before & after any expression operators\n * This is a simple, crude whitespace padding solution.\n *   - '3 3 calc(15em + 20px)'\n *   - calc(100% / 7 * 2)\n *   - 'calc(15em + 20px)'\n *   - 'calc(15em+20px)'\n *   - '37px'\n *   = '43%'\n */\nfunction _validateCalcValue(calc: string): string {\n  return calc.replace(/[\\s]/g, '').replace(/[\\/\\*\\+\\-]/g, ' $& ');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  PLATFORM_ID,\n  Renderer2,\n  SimpleChanges,\n  SkipSelf,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {extendObject} from '../../utils/object-extend';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\nimport {LayoutDirective} from './layout';\nimport {validateBasis} from '../../utils/basis-validator';\nimport {isFlowHorizontal} from '../../utils/layout-validator';\n\n\n/** Built-in aliases for different flex-basis values. */\nexport type FlexBasisAlias = 'grow' | 'initial' | 'auto' | 'none' | 'nogrow' | 'noshrink';\n\n\n/**\n * Directive to control the size of a flex item using flex-basis, flex-grow, and flex-shrink.\n * Corresponds to the css `flex` shorthand property.\n *\n * @see https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n */\n@Directive({selector: `\n  [fxFlex],\n  [fxFlex.xs], [fxFlex.sm], [fxFlex.md], [fxFlex.lg], [fxFlex.xl],\n  [fxFlex.lt-sm], [fxFlex.lt-md], [fxFlex.lt-lg], [fxFlex.lt-xl],\n  [fxFlex.gt-xs], [fxFlex.gt-sm], [fxFlex.gt-md], [fxFlex.gt-lg],\n`\n})\nexport class FlexDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /** The flex-direction of this element's flex container. Defaults to 'row'. */\n  protected _layout: string;\n\n  /**\n   * Subscription to the parent flex container's layout changes.\n   * Stored so we can unsubscribe when this directive is destroyed.\n   */\n  protected _layoutWatcher: Subscription;\n\n  /* tslint:disable */\n  @Input('fxShrink')     set shrink(val)    { this._cacheInput('shrink', val); };\n  @Input('fxGrow')       set grow(val)      { this._cacheInput('grow', val); };\n\n  @Input('fxFlex')       set flex(val)      { this._cacheInput('flex', val); };\n  @Input('fxFlex.xs')    set flexXs(val)    { this._cacheInput('flexXs', val); };\n  @Input('fxFlex.sm')    set flexSm(val)    { this._cacheInput('flexSm', val); };\n  @Input('fxFlex.md')    set flexMd(val)    { this._cacheInput('flexMd', val); };\n  @Input('fxFlex.lg')    set flexLg(val)    { this._cacheInput('flexLg', val); };\n  @Input('fxFlex.xl')    set flexXl(val)    { this._cacheInput('flexXl', val); };\n\n  @Input('fxFlex.gt-xs') set flexGtXs(val)  { this._cacheInput('flexGtXs', val); };\n  @Input('fxFlex.gt-sm') set flexGtSm(val)  { this._cacheInput('flexGtSm', val); };\n  @Input('fxFlex.gt-md') set flexGtMd(val)  { this._cacheInput('flexGtMd', val); };\n  @Input('fxFlex.gt-lg') set flexGtLg(val)  { this._cacheInput('flexGtLg', val); };\n\n  @Input('fxFlex.lt-sm') set flexLtSm(val) { this._cacheInput('flexLtSm', val); };\n  @Input('fxFlex.lt-md') set flexLtMd(val) { this._cacheInput('flexLtMd', val); };\n  @Input('fxFlex.lt-lg') set flexLtLg(val) { this._cacheInput('flexLtLg', val); };\n  @Input('fxFlex.lt-xl') set flexLtXl(val) { this._cacheInput('flexLtXl', val); };\n  /* tslint:enable */\n\n  // Note: Explicitly @SkipSelf on LayoutDirective because we are looking\n  //       for the parent flex container for this flex item.\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Optional() @SkipSelf() protected _container: LayoutDirective,\n              @Inject(PLATFORM_ID) platformId: Object) {\n\n    super(monitor, elRef, renderer, platformId);\n\n    this._cacheInput('flex', '');\n    this._cacheInput('shrink', 1);\n    this._cacheInput('grow', 1);\n\n    if (_container) {\n      // If this flex item is inside of a flex container marked with\n      // Subscribe to layout immediate parent direction changes\n      this._layoutWatcher = _container.layout$.subscribe((direction) => {\n        // `direction` === null if parent container does not have a `fxLayout`\n        this._onLayoutChange(direction);\n      });\n    }\n  }\n\n  /**\n   * For @Input changes on the current mq activation property, see onMediaQueryChanges()\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['flex'] != null || this._mqActivation) {\n      this._updateStyle();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('flex', '', (changes: MediaChange) => {\n      this._updateStyle(changes.value);\n    });\n    this._updateStyle();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._layoutWatcher) {\n      this._layoutWatcher.unsubscribe();\n    }\n  }\n\n\n  /**\n   * Caches the parent container's 'flex-direction' and updates the element's style.\n   * Used as a handler for layout change events from the parent flex container.\n   */\n  protected _onLayoutChange(direction?: string) {\n    this._layout = direction || this._layout || 'row';\n    this._updateStyle();\n  }\n\n  protected _updateStyle(value?: string|number) {\n    let flexBasis = value || this._queryInput('flex') || '';\n    if (this._mqActivation) {\n      flexBasis = this._mqActivation.activatedInput;\n    }\n\n    let basis = String(flexBasis).replace(';', '');\n    let parts = validateBasis(basis, this._queryInput('grow'), this._queryInput('shrink'));\n    this._applyStyleToElement(this._validateValue.apply(this, parts));\n  }\n\n  /**\n   * Validate the value to be one of the acceptable value options\n   * Use default fallback of 'row'\n   */\n  protected _validateValue(grow: number|string,\n                           shrink: number|string,\n                           basis: string|number|FlexBasisAlias) {\n      // The flex-direction of this element's flex container. Defaults to 'row'.\n      let layout = this._getFlowDirection(this.parentElement, true);\n      let direction = (layout.indexOf('column') > -1) ? 'column' : 'row';\n      let css, isValue;\n\n      grow = (grow == '0') ? 0 : grow;\n      shrink = (shrink == '0') ? 0 : shrink;\n\n      // flex-basis allows you to specify the initial/starting main-axis size of the element,\n      // before anything else is computed. It can either be a percentage or an absolute value.\n      // It is, however, not the breaking point for flex-grow/shrink properties\n      //\n      // flex-grow can be seen as this:\n      //   0: Do not stretch. Either size to element's content width, or obey 'flex-basis'.\n      //   1: (Default value). Stretch; will be the same size to all other flex items on\n      //       the same row since they have a default value of 1.\n      //   ≥2 (integer n): Stretch. Will be n times the size of other elements\n      //      with 'flex-grow: 1' on the same row.\n\n      // Use `null` to clear existing styles.\n      let clearStyles = {\n        'max-width': null,\n        'max-height': null,\n        'min-width': null,\n        'min-height': null\n      };\n      switch (basis || '') {\n        case '':\n          css = extendObject(clearStyles, {'flex': `${grow} ${shrink} 0.000000001px`});\n          break;\n        case 'initial':   // default\n        case 'nogrow':\n          grow = 0;\n          css = extendObject(clearStyles, {'flex': '0 1 auto'});\n          break;\n        case 'grow':\n          css = extendObject(clearStyles, {'flex': '1 1 100%'});\n          break;\n        case 'noshrink':\n          shrink = 0;\n          css = extendObject(clearStyles, {'flex': '1 0 auto'});\n          break;\n        case 'auto':\n          css = extendObject(clearStyles, {'flex': `${grow} ${shrink} auto`});\n          break;\n        case 'none':\n          grow = 0;\n          shrink = 0;\n          css = extendObject(clearStyles, {'flex': '0 0 auto'});\n          break;\n        default:\n          let hasCalc = String(basis).indexOf('calc') > -1;\n          let isPercent = String(basis).indexOf('%') > -1 && !hasCalc;\n\n          isValue = hasCalc ||\n              String(basis).indexOf('px') > -1 ||\n              String(basis).indexOf('em') > -1 ||\n              String(basis).indexOf('vw') > -1 ||\n              String(basis).indexOf('vh') > -1;\n\n          // Defaults to percentage sizing unless `px` is explicitly set\n          if (!isValue && !isPercent && !isNaN(basis as any)) {\n            basis = basis + '%';\n          }\n\n          if (basis === '0px') {\n            basis = '0%';\n          }\n\n          css = extendObject(clearStyles, { // fix issue #5345\n            'flex-grow' : `${grow}`,\n            'flex-shrink' : `${shrink}`,\n            'flex-basis' : isValue ? `${basis}` : '100%'\n          });\n          break;\n      }\n\n      let max = isFlowHorizontal(direction) ? 'max-width' : 'max-height';\n      let min = isFlowHorizontal(direction) ? 'min-width' : 'min-height';\n\n      let usingCalc = (String(basis).indexOf('calc') > -1) || (basis == 'auto');\n      let isPx = String(basis).indexOf('px') > -1 || usingCalc;\n\n\n      // make box inflexible when shrink and grow are both zero\n      // should not set a min when the grow is zero\n      // should not set a max when the shrink is zero\n      let isFixed = !grow && !shrink;\n      css[min] = (basis == '0%') ? 0 : isFixed || (isPx && grow) ? basis : null;\n      css[max] = (basis == '0%') ? 0 : isFixed || (!usingCalc && shrink) ? basis : null;\n\n    return extendObject(css, {'box-sizing': 'border-box'});\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\n/**\n * 'flex-align' flexbox styling directive\n * Allows element-specific overrides for cross-axis alignments in a layout container\n * @see https://css-tricks.com/almanac/properties/a/align-self/\n */\n@Directive({\n  selector: `\n  [fxFlexAlign],\n  [fxFlexAlign.xs], [fxFlexAlign.sm], [fxFlexAlign.md], [fxFlexAlign.lg], [fxFlexAlign.xl],\n  [fxFlexAlign.lt-sm], [fxFlexAlign.lt-md], [fxFlexAlign.lt-lg], [fxFlexAlign.lt-xl],\n  [fxFlexAlign.gt-xs], [fxFlexAlign.gt-sm], [fxFlexAlign.gt-md], [fxFlexAlign.gt-lg]\n`\n})\nexport class FlexAlignDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /* tslint:disable */\n  @Input('fxFlexAlign')       set align(val)  { this._cacheInput('align', val);  };\n  @Input('fxFlexAlign.xs')    set alignXs(val)  { this._cacheInput('alignXs', val);  };\n  @Input('fxFlexAlign.sm')    set alignSm(val)  { this._cacheInput('alignSm', val); };\n  @Input('fxFlexAlign.md')    set alignMd(val)  { this._cacheInput('alignMd', val); };\n  @Input('fxFlexAlign.lg')    set alignLg(val)  { this._cacheInput('alignLg', val); };\n  @Input('fxFlexAlign.xl')    set alignXl(val)  { this._cacheInput('alignXl', val); };\n\n  @Input('fxFlexAlign.lt-sm') set alignLtSm(val) { this._cacheInput('alignLtSm', val); };\n  @Input('fxFlexAlign.lt-md') set alignLtMd(val) { this._cacheInput('alignLtMd', val); };\n  @Input('fxFlexAlign.lt-lg') set alignLtLg(val) { this._cacheInput('alignLtLg', val); };\n  @Input('fxFlexAlign.lt-xl') set alignLtXl(val) { this._cacheInput('alignLtXl', val); };\n\n  @Input('fxFlexAlign.gt-xs') set alignGtXs(val)  { this._cacheInput('alignGtXs', val); };\n  @Input('fxFlexAlign.gt-sm') set alignGtSm(val)  { this._cacheInput('alignGtSm', val); };\n  @Input('fxFlexAlign.gt-md') set alignGtMd(val)  { this._cacheInput('alignGtMd', val); };\n  @Input('fxFlexAlign.gt-lg') set alignGtLg(val)  { this._cacheInput('alignGtLg', val); };\n\n  /* tslint:enable */\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n  }\n\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * For @Input changes on the current mq activation property, see onMediaQueryChanges()\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['align'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('align', 'stretch', (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n    this._updateWithValue();\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  protected _updateWithValue(value?: string|number) {\n    value = value || this._queryInput('align') || 'stretch';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    this._applyStyleToElement(this._buildCSS(value));\n  }\n\n  protected _buildCSS(align) {\n    let css = {};\n\n    // Cross-axis\n    switch (align) {\n      case 'start':\n        css['align-self'] = 'flex-start';\n        break;\n      case 'end':\n        css['align-self'] = 'flex-end';\n        break;\n      default:\n        css['align-self'] = align;\n        break;\n    }\n\n    return css;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Directive, ElementRef, Inject, PLATFORM_ID, Renderer2} from '@angular/core';\n\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {BaseFxDirective} from '../core/base';\n\nconst FLEX_FILL_CSS = {\n  'margin': 0,\n  'width': '100%',\n  'height': '100%',\n  'min-width': '100%',\n  'min-height': '100%'\n};\n\n/**\n * 'fxFill' flexbox styling directive\n *  Maximizes width and height of element in a layout container\n *\n *  NOTE: fxFill is NOT responsive API!!\n */\n@Directive({selector: `\n  [fxFill],\n  [fxFlexFill]\n`})\nexport class FlexFillDirective extends BaseFxDirective {\n  constructor(monitor: MediaMonitor,\n              public elRef: ElementRef,\n              public renderer: Renderer2,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n    this._applyStyleToElement(FLEX_FILL_CSS);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Renderer2,\n  SimpleChanges,\n  SkipSelf,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {LayoutDirective} from './layout';\nimport {isFlowHorizontal} from '../../utils/layout-validator';\n\n/**\n * 'flex-offset' flexbox styling directive\n * Configures the 'margin-left' of the element in a layout container\n */\n@Directive({selector: `\n  [fxFlexOffset],\n  [fxFlexOffset.xs], [fxFlexOffset.sm], [fxFlexOffset.md], [fxFlexOffset.lg], [fxFlexOffset.xl],\n  [fxFlexOffset.lt-sm], [fxFlexOffset.lt-md], [fxFlexOffset.lt-lg], [fxFlexOffset.lt-xl],\n  [fxFlexOffset.gt-xs], [fxFlexOffset.gt-sm], [fxFlexOffset.gt-md], [fxFlexOffset.gt-lg]\n`})\nexport class FlexOffsetDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /* tslint:disable */\n  @Input('fxFlexOffset')       set offset(val)     { this._cacheInput('offset', val); }\n  @Input('fxFlexOffset.xs')    set offsetXs(val)   { this._cacheInput('offsetXs', val); }\n  @Input('fxFlexOffset.sm')    set offsetSm(val)   { this._cacheInput('offsetSm', val); };\n  @Input('fxFlexOffset.md')    set offsetMd(val)   { this._cacheInput('offsetMd', val); };\n  @Input('fxFlexOffset.lg')    set offsetLg(val)   { this._cacheInput('offsetLg', val); };\n  @Input('fxFlexOffset.xl')    set offsetXl(val)   { this._cacheInput('offsetXl', val); };\n\n  @Input('fxFlexOffset.lt-sm') set offsetLtSm(val) { this._cacheInput('offsetLtSm', val); };\n  @Input('fxFlexOffset.lt-md') set offsetLtMd(val) { this._cacheInput('offsetLtMd', val); };\n  @Input('fxFlexOffset.lt-lg') set offsetLtLg(val) { this._cacheInput('offsetLtLg', val); };\n  @Input('fxFlexOffset.lt-xl') set offsetLtXl(val) { this._cacheInput('offsetLtXl', val); };\n\n  @Input('fxFlexOffset.gt-xs') set offsetGtXs(val) { this._cacheInput('offsetGtXs', val); };\n  @Input('fxFlexOffset.gt-sm') set offsetGtSm(val) { this._cacheInput('offsetGtSm', val); };\n  @Input('fxFlexOffset.gt-md') set offsetGtMd(val) { this._cacheInput('offsetGtMd', val); };\n  @Input('fxFlexOffset.gt-lg') set offsetGtLg(val) { this._cacheInput('offsetGtLg', val); };\n\n  /* tslint:enable */\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Optional() @SkipSelf() protected _container: LayoutDirective,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n\n\n    this.watchParentFlow();\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * For @Input changes on the current mq activation property, see onMediaQueryChanges()\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['offset'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * Cleanup\n   */\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._layoutWatcher) {\n      this._layoutWatcher.unsubscribe();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('offset', 0 , (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  /** The flex-direction of this element's host container. Defaults to 'row'. */\n  protected _layout = 'row';\n\n  /**\n   * Subscription to the parent flex container's layout changes.\n   * Stored so we can unsubscribe when this directive is destroyed.\n   */\n  protected _layoutWatcher: Subscription;\n\n  /**\n   * If parent flow-direction changes, then update the margin property\n   * used to offset\n   */\n  protected watchParentFlow() {\n    if (this._container) {\n      // Subscribe to layout immediate parent direction changes (if any)\n      this._layoutWatcher = this._container.layout$.subscribe((direction) => {\n        // `direction` === null if parent container does not have a `fxLayout`\n        this._onLayoutChange(direction);\n      });\n    }\n  }\n\n  /**\n   * Caches the parent container's 'flex-direction' and updates the element's style.\n   * Used as a handler for layout change events from the parent flex container.\n   */\n  protected _onLayoutChange(direction?: string) {\n    this._layout = direction || this._layout || 'row';\n    this._updateWithValue();\n  }\n\n  /**\n   * Using the current fxFlexOffset value, update the inline CSS\n   * NOTE: this will assign `margin-left` if the parent flex-direction == 'row',\n   *       otherwise `margin-top` is used for the offset.\n   */\n  protected _updateWithValue(value?: string|number) {\n    value = value || this._queryInput('offset') || 0;\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    this._applyStyleToElement(this._buildCSS(value));\n  }\n\n  protected _buildCSS(offset) {\n    let isPercent = String(offset).indexOf('%') > -1;\n    let isPx = String(offset).indexOf('px') > -1;\n    if (!isPx && !isPercent && !isNaN(offset)) {\n      offset = offset + '%';\n    }\n\n    // The flex-direction of this element's flex container. Defaults to 'row'.\n    let layout = this._getFlowDirection(this.parentElement, true);\n    return isFlowHorizontal(layout) ? {'margin-left': `${offset}`} : {'margin-top': `${offset}`};\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\n/**\n * 'flex-order' flexbox styling directive\n * Configures the positional ordering of the element in a sorted layout container\n * @see https://css-tricks.com/almanac/properties/o/order/\n */\n@Directive({selector: `\n  [fxFlexOrder],\n  [fxFlexOrder.xs], [fxFlexOrder.sm], [fxFlexOrder.md], [fxFlexOrder.lg], [fxFlexOrder.xl],\n  [fxFlexOrder.lt-sm], [fxFlexOrder.lt-md], [fxFlexOrder.lt-lg], [fxFlexOrder.lt-xl],\n  [fxFlexOrder.gt-xs], [fxFlexOrder.gt-sm], [fxFlexOrder.gt-md], [fxFlexOrder.gt-lg]\n`})\nexport class FlexOrderDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /* tslint:disable */\n  @Input('fxFlexOrder')       set order(val)     { this._cacheInput('order', val); }\n  @Input('fxFlexOrder.xs')    set orderXs(val)   { this._cacheInput('orderXs', val); }\n  @Input('fxFlexOrder.sm')    set orderSm(val)   { this._cacheInput('orderSm', val); };\n  @Input('fxFlexOrder.md')    set orderMd(val)   { this._cacheInput('orderMd', val); };\n  @Input('fxFlexOrder.lg')    set orderLg(val)   { this._cacheInput('orderLg', val); };\n  @Input('fxFlexOrder.xl')    set orderXl(val)   { this._cacheInput('orderXl', val); };\n\n  @Input('fxFlexOrder.gt-xs') set orderGtXs(val) { this._cacheInput('orderGtXs', val); };\n  @Input('fxFlexOrder.gt-sm') set orderGtSm(val) { this._cacheInput('orderGtSm', val); };\n  @Input('fxFlexOrder.gt-md') set orderGtMd(val) { this._cacheInput('orderGtMd', val); };\n  @Input('fxFlexOrder.gt-lg') set orderGtLg(val) { this._cacheInput('orderGtLg', val); };\n\n  @Input('fxFlexOrder.lt-sm') set orderLtSm(val) { this._cacheInput('orderLtSm', val); };\n  @Input('fxFlexOrder.lt-md') set orderLtMd(val) { this._cacheInput('orderLtMd', val); };\n  @Input('fxFlexOrder.lt-lg') set orderLtLg(val) { this._cacheInput('orderLtLg', val); };\n  @Input('fxFlexOrder.lt-xl') set orderLtXl(val) { this._cacheInput('orderLtXl', val); };\n\n  /* tslint:enable */\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer2,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * For @Input changes on the current mq activation property, see onMediaQueryChanges()\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['order'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this._listenForMediaQueryChanges('order', '0', (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n    this._updateWithValue();\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  protected _updateWithValue(value?: string) {\n    value = value || this._queryInput('order') || '0';\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    this._applyStyleToElement(this._buildCSS(value));\n  }\n\n\n  protected _buildCSS(value) {\n    value = parseInt(value, 10);\n    return {order: isNaN(value) ? 0 : value};\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Renderer2, RendererStyleFlags2} from '@angular/core';\n\n/**\n * Adapts the 'deprecated' Angular Renderer v1 API to use the new Renderer2 instance\n * This is required for older versions of NgStyle and NgClass that require\n * the v1 API (but should use the v2 instances)\n */\nexport class RendererAdapter {\n  constructor(private _renderer: Renderer2) { }\n\n  setElementClass(el: any, className: string, isAdd: boolean): void {\n    if (isAdd) {\n      this._renderer.addClass(el, className);\n    } else {\n      this._renderer.removeClass(el, className);\n    }\n  }\n\n  setElementStyle(el: any, styleName: string, styleValue: string): void {\n    if (styleValue) {\n      this._renderer.setStyle(el, styleName, styleValue);\n    } else {\n      this._renderer.removeStyle(el, styleName);\n    }\n  }\n\n  // new API is forwarded\n  addClass(el: any, name: string): void {\n    this._renderer.addClass(el, name);\n  }\n\n  removeClass(el: any, name: string): void {\n    this._renderer.removeClass(el, name);\n  }\n\n  setStyle(el: any, style: string, value: any, flags?: RendererStyleFlags2): void {\n    this._renderer.setStyle(el, style, value, flags);\n  }\n\n  removeStyle(el: any, style: string, flags?: RendererStyleFlags2): void {\n    this._renderer.removeStyle(el, style, flags);\n  }\n\n  // ******************************************************************\n  // !! Renderer is an abstract class with abstract methods\n  //\n  // These are implementation of those methods... and do NOTHING since\n  // we only use setElementStyle() and setElementClass()\n  // ******************************************************************\n\n  /* tslint:disable */\n  animate()             : any  { throw _notImplemented('animate'); }\n  attachViewAfter()     : void { throw _notImplemented('attachViewAfter'); }\n  detachView()          : void { throw _notImplemented('detachView'); }\n  destroyView()         : void { throw _notImplemented('destroyView'); }\n  createElement()       : any  { throw _notImplemented('createElement'); }\n  createViewRoot()      : any  { throw _notImplemented('createViewRoot'); }\n  createTemplateAnchor(): any  { throw _notImplemented('createTemplateAnchor'); }\n  createText()          : any  { throw _notImplemented('createText'); }\n  invokeElementMethod() : void { throw _notImplemented('invokeElementMethod'); }\n  projectNodes()        : void { throw _notImplemented('projectNodes'); }\n  selectRootElement()   : any  { throw _notImplemented('selectRootElement'); }\n  setBindingDebugInfo() : void { throw _notImplemented('setBindingDebugInfo'); }\n  setElementProperty()  : void { throw _notImplemented('setElementProperty'); }\n  setElementAttribute() : void { throw _notImplemented('setElementAttribute'); }\n  setText()             : void { throw _notImplemented('setText'); }\n  listen()              : Function { throw _notImplemented('listen');  }\n  listenGlobal()        : Function { throw _notImplemented('listenGlobal');  }\n  /* tslint:enable */\n}\n\nfunction _notImplemented(methodName: string) {\n  return new Error(`The method RendererAdapter::${methodName}() has not been implemented`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  DoCheck,\n  ElementRef,\n  Input,\n  IterableDiffers,\n  KeyValueDiffers,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Renderer2,\n  SimpleChanges,\n  Self,\n  OnInit,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {NgClass} from '@angular/common';\n\nimport {BaseFxDirective} from '../core/base';\nimport {BaseFxDirectiveAdapter} from '../core/base-adapter';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {RendererAdapter} from '../core/renderer-adapter';\n\n/** NgClass allowed inputs **/\nexport type NgClassType = string | string[] | Set<string> | {[klass: string]: any};\n\n/**\n * Directive to add responsive support for ngClass.\n * This maintains the core functionality of 'ngClass' and adds responsive API\n *\n */\n@Directive({\n  selector: `\n    [ngClass.xs], [ngClass.sm], [ngClass.md], [ngClass.lg], [ngClass.xl],\n    [ngClass.lt-sm], [ngClass.lt-md], [ngClass.lt-lg], [ngClass.lt-xl],\n    [ngClass.gt-xs], [ngClass.gt-sm], [ngClass.gt-md], [ngClass.gt-lg]\n  `\n})\nexport class ClassDirective extends BaseFxDirective\n    implements DoCheck, OnChanges, OnDestroy, OnInit {\n\n  /**\n   * Intercept ngClass assignments so we cache the default classes\n   * which are merged with activated styles or used as fallbacks.\n   * Note: Base ngClass values are applied during ngDoCheck()\n   */\n  @Input('ngClass')\n  set ngClassBase(val: NgClassType) {\n    const key = 'ngClass';\n    this._base.cacheInput(key, val, true);\n    this._ngClassInstance.ngClass = this._base.queryInput(key);\n  }\n\n  /**\n   * Capture class assignments so we cache the default classes\n   * which are merged with activated styles and used as fallbacks.\n   */\n  @Input('class')\n  set klazz(val: string) {\n    const key = 'class';\n    this._base.cacheInput(key, val);\n    this._ngClassInstance.klass = val;\n  }\n\n  /* tslint:disable */\n  @Input('ngClass.xs')    set ngClassXs(val:   NgClassType) { this._base.cacheInput('ngClassXs',   val, true); }\n  @Input('ngClass.sm')    set ngClassSm(val:   NgClassType) { this._base.cacheInput('ngClassSm',   val, true); }\n  @Input('ngClass.md')    set ngClassMd(val:   NgClassType) { this._base.cacheInput('ngClassMd',   val, true); }\n  @Input('ngClass.lg')    set ngClassLg(val:   NgClassType) { this._base.cacheInput('ngClassLg',   val, true); }\n  @Input('ngClass.xl')    set ngClassXl(val:   NgClassType) { this._base.cacheInput('ngClassXl',   val, true); }\n\n  @Input('ngClass.lt-sm') set ngClassLtSm(val: NgClassType) { this._base.cacheInput('ngClassLtSm', val, true); }\n  @Input('ngClass.lt-md') set ngClassLtMd(val: NgClassType) { this._base.cacheInput('ngClassLtMd', val, true); }\n  @Input('ngClass.lt-lg') set ngClassLtLg(val: NgClassType) { this._base.cacheInput('ngClassLtLg', val, true); }\n  @Input('ngClass.lt-xl') set ngClassLtXl(val: NgClassType) { this._base.cacheInput('ngClassLtXl', val, true); }\n\n  @Input('ngClass.gt-xs') set ngClassGtXs(val: NgClassType) { this._base.cacheInput('ngClassGtXs', val, true); }\n  @Input('ngClass.gt-sm') set ngClassGtSm(val: NgClassType) { this._base.cacheInput('ngClassGtSm', val, true); }\n  @Input('ngClass.gt-md') set ngClassGtMd(val: NgClassType) { this._base.cacheInput('ngClassGtMd', val, true); }\n  @Input('ngClass.gt-lg') set ngClassGtLg(val: NgClassType) { this._base.cacheInput('ngClassGtLg', val, true); }\n\n  /* tslint:enable */\n  constructor(protected monitor: MediaMonitor,\n              protected _iterableDiffers: IterableDiffers,\n              protected _keyValueDiffers: KeyValueDiffers,\n              protected _ngEl: ElementRef,\n              protected _renderer: Renderer2,\n              @Optional() @Self() private _ngClassInstance: NgClass,\n              @Inject(PLATFORM_ID) protected _platformId: Object) {\n    super(monitor, _ngEl, _renderer, _platformId);\n    this._configureAdapters();\n  }\n\n  // ******************************************************************\n  // Lifecycle Hooks\n  // ******************************************************************\n\n  /**\n   * For @Input changes on the current mq activation property\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (this._base.activeKey in changes) {\n      this._ngClassInstance.ngClass = this._base.mqActivation.activatedInput || '';\n    }\n  }\n\n  ngOnInit() {\n    this._configureMQListener();\n  }\n\n  /**\n   * For ChangeDetectionStrategy.onPush and ngOnChanges() updates\n   */\n  ngDoCheck() {\n    this._ngClassInstance.ngDoCheck();\n  }\n\n  ngOnDestroy() {\n    this._base.ngOnDestroy();\n    delete this._ngClassInstance;\n  }\n\n  // ******************************************************************\n  // Internal Methods\n  // ******************************************************************\n\n  /**\n   * Configure adapters (that delegate to an internal ngClass instance) if responsive\n   * keys have been defined.\n   */\n  protected _configureAdapters() {\n    this._base = new BaseFxDirectiveAdapter(\n        'ngClass', this.monitor, this._ngEl, this._renderer, this._platformId\n    );\n    if (!this._ngClassInstance) {\n      // Create an instance NgClass Directive instance only if `ngClass=\"\"` has NOT been defined on\n      // the same host element; since the responsive variations may be defined...\n      let adapter = new RendererAdapter(this._renderer);\n      this._ngClassInstance = new NgClass(\n          this._iterableDiffers, this._keyValueDiffers, this._ngEl, <any> adapter\n      );\n    }\n  }\n\n  /**\n   * Build an mqActivation object that bridges mql change events to onMediaQueryChange handlers\n   * NOTE: We delegate subsequent activity to the NgClass logic\n   *       Identify the activated input value and update the ngClass iterables...\n   *       Use ngDoCheck() to actually apply the values to the element\n   */\n  protected _configureMQListener(baseKey = 'ngClass') {\n    const fallbackValue = this._base.queryInput(baseKey);\n    this._base.listenForMediaQueryChanges(baseKey, fallbackValue, (changes: MediaChange) => {\n      this._ngClassInstance.ngClass = changes.value || '';\n      this._ngClassInstance.ngDoCheck();\n    });\n  }\n\n  /**\n   * Special adapter to cross-cut responsive behaviors and capture mediaQuery changes\n   * Delegate value changes to the internal `_ngClassInstance` for processing\n   */\n  protected _base: BaseFxDirectiveAdapter;   // used for `ngClass.xxx` selectors\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport type NgStyleRawList = string[];\nexport type NgStyleMap = {[klass: string]: string};\n// NgStyle selectors accept NgStyleType values\nexport type NgStyleType = string | Set<string> | NgStyleRawList | NgStyleMap;\n\n/**\n * Callback function for SecurityContext.STYLE sanitization\n */\nexport type NgStyleSanitizer = (val: any) => string;\n\n/**\n * NgStyle allowed inputs\n */\nexport class NgStyleKeyValue {\n  constructor(public key: string, public value: string, noQuotes = true) {\n    this.key = noQuotes ? key.replace(/['\"]/g, '').trim() : key.trim();\n\n    this.value = noQuotes ? value.replace(/['\"]/g, '').trim() : value.trim();\n    this.value = this.value.replace(/;/, '');\n  }\n}\n\n/**\n * Transform Operators for @angular/flex-layout NgStyle Directive\n */\nexport const ngStyleUtils = {\n  getType,\n  buildRawList,\n  buildMapFromList,\n  buildMapFromSet\n};\n\nfunction getType(target: any): string {\n  let what = typeof target;\n  if (what === 'object') {\n    return (target.constructor === Array) ? 'array' :\n        (target.constructor === Set ) ? 'set' : 'object';\n  }\n  return what;\n}\n\n/**\n * Split string of key:value pairs into Array of k-v pairs\n * e.g.  'key:value; key:value; key:value;' -> ['key:value',...]\n */\nfunction buildRawList(source: any, delimiter = ';'): NgStyleRawList {\n  return String(source)\n      .trim()\n      .split(delimiter)\n      .map((val: string) => val.trim())\n      .filter(val => val !== '');\n}\n\n/**\n * Convert array of key:value strings to a iterable map object\n */\nfunction buildMapFromList(styles: NgStyleRawList, sanitize?: NgStyleSanitizer): NgStyleMap {\n  let sanitizeValue = (it: NgStyleKeyValue) => {\n    if (sanitize) {\n      it.value = sanitize(it.value);\n    }\n    return it;\n  };\n\n  return styles\n      .map(stringToKeyValue)\n      .filter(entry => !!entry)\n      .map(sanitizeValue)\n      .reduce(keyValuesToMap, {});\n}\n\n/**\n * Convert Set<string> or raw Object to an iterable NgStyleMap\n */\nfunction buildMapFromSet(source: any, sanitize?: NgStyleSanitizer): NgStyleMap {\n  let list = new Array<string>();\n  if (getType(source) == 'set') {\n    source.forEach(entry => list.push(entry));\n  } else {                                // simple hashmap\n    Object.keys(source).forEach(key => {\n      list.push(`${key}:${source[key]}`);\n    });\n  }\n  return buildMapFromList(list, sanitize);\n}\n\n\n/**\n * Convert 'key:value' -> [key, value]\n */\nfunction stringToKeyValue(it: string): NgStyleKeyValue|null {\n  let [key, val] = it.split(':');\n  return val ? new NgStyleKeyValue(key, val) : null;\n}\n\n/**\n * Convert [ [key,value] ] -> { key : value }\n */\nfunction keyValuesToMap(map: NgStyleMap, entry: NgStyleKeyValue): NgStyleMap {\n  if (!!entry.key) {\n    map[entry.key] = entry.value;\n  }\n  return map;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  DoCheck,\n  ElementRef,\n  Input,\n  KeyValueDiffers,\n  OnDestroy,\n  OnChanges,\n  Optional,\n  Renderer2,\n  SecurityContext,\n  Self,\n  SimpleChanges,\n  OnInit,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {NgStyle} from '@angular/common';\n\nimport {BaseFxDirective} from '../core/base';\nimport {BaseFxDirectiveAdapter} from '../core/base-adapter';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {extendObject} from '../../utils/object-extend';\nimport {DomSanitizer} from '@angular/platform-browser';\n\nimport {\n  NgStyleRawList,\n  NgStyleType,\n  NgStyleSanitizer,\n  ngStyleUtils as _\n} from '../../utils/style-transforms';\nimport {RendererAdapter} from '../core/renderer-adapter';\n\n\n/**\n * Directive to add responsive support for ngStyle.\n *\n */\n@Directive({\n  selector: `\n    [ngStyle.xs], [ngStyle.sm], [ngStyle.md], [ngStyle.lg], [ngStyle.xl],\n    [ngStyle.lt-sm], [ngStyle.lt-md], [ngStyle.lt-lg], [ngStyle.lt-xl],\n    [ngStyle.gt-xs], [ngStyle.gt-sm], [ngStyle.gt-md], [ngStyle.gt-lg]\n  `\n})\nexport class StyleDirective extends BaseFxDirective\n    implements DoCheck, OnChanges, OnDestroy, OnInit {\n\n  /**\n   * Intercept ngStyle assignments so we cache the default styles\n   * which are merged with activated styles or used as fallbacks.\n   */\n  @Input('ngStyle')\n  set ngStyleBase(val: NgStyleType) {\n    const key = 'ngStyle';\n    this._base.cacheInput(key, val, true);  // convert val to hashmap\n    this._ngStyleInstance.ngStyle = this._base.queryInput(key);\n  }\n\n  /* tslint:disable */\n  @Input('ngStyle.xs')    set ngStyleXs(val: NgStyleType) { this._base.cacheInput('ngStyleXs', val, true); }\n  @Input('ngStyle.sm')    set ngStyleSm(val: NgStyleType) { this._base.cacheInput('ngStyleSm', val, true); };\n  @Input('ngStyle.md')    set ngStyleMd(val: NgStyleType) { this._base.cacheInput('ngStyleMd', val, true); };\n  @Input('ngStyle.lg')    set ngStyleLg(val: NgStyleType) { this._base.cacheInput('ngStyleLg', val, true); };\n  @Input('ngStyle.xl')    set ngStyleXl(val: NgStyleType) { this._base.cacheInput('ngStyleXl', val, true); };\n\n  @Input('ngStyle.lt-sm') set ngStyleLtSm(val: NgStyleType) { this._base.cacheInput('ngStyleLtSm', val, true); };\n  @Input('ngStyle.lt-md') set ngStyleLtMd(val: NgStyleType) { this._base.cacheInput('ngStyleLtMd', val, true); };\n  @Input('ngStyle.lt-lg') set ngStyleLtLg(val: NgStyleType) { this._base.cacheInput('ngStyleLtLg', val, true); };\n  @Input('ngStyle.lt-xl') set ngStyleLtXl(val: NgStyleType) { this._base.cacheInput('ngStyleLtXl', val, true); };\n\n  @Input('ngStyle.gt-xs') set ngStyleGtXs(val: NgStyleType) { this._base.cacheInput('ngStyleGtXs', val, true); };\n  @Input('ngStyle.gt-sm') set ngStyleGtSm(val: NgStyleType) { this._base.cacheInput('ngStyleGtSm', val, true); } ;\n  @Input('ngStyle.gt-md') set ngStyleGtMd(val: NgStyleType) { this._base.cacheInput('ngStyleGtMd', val, true); };\n  @Input('ngStyle.gt-lg') set ngStyleGtLg(val: NgStyleType) { this._base.cacheInput('ngStyleGtLg', val, true); };\n  /* tslint:enable */\n\n  /**\n   *  Constructor for the ngStyle subclass; which adds selectors and\n   *  a MediaQuery Activation Adapter\n   */\n  constructor(private monitor: MediaMonitor,\n              protected _sanitizer: DomSanitizer,\n              protected _ngEl: ElementRef,\n              protected _renderer: Renderer2,\n              protected _differs: KeyValueDiffers,\n              @Optional() @Self() private _ngStyleInstance: NgStyle,\n              @Inject(PLATFORM_ID) protected _platformId: Object) {\n\n    super(monitor, _ngEl, _renderer, _platformId);\n    this._configureAdapters();\n  }\n\n  // ******************************************************************\n  // Lifecycle Hooks\n  // ******************************************************************\n\n  /**\n   * For @Input changes on the current mq activation property\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (this._base.activeKey in changes) {\n      this._ngStyleInstance.ngStyle = this._base.mqActivation.activatedInput || '';\n    }\n  }\n\n\n  ngOnInit() {\n    this._configureMQListener();\n  }\n  /**\n   * For ChangeDetectionStrategy.onPush and ngOnChanges() updates\n   */\n  ngDoCheck() {\n    this._ngStyleInstance.ngDoCheck();\n  }\n\n  ngOnDestroy() {\n    this._base.ngOnDestroy();\n    delete this._ngStyleInstance;\n  }\n\n  // ******************************************************************\n  // Internal Methods\n  // ******************************************************************\n\n  /**\n     * Configure adapters (that delegate to an internal ngClass instance) if responsive\n     * keys have been defined.\n     */\n    protected _configureAdapters() {\n        this._base = new BaseFxDirectiveAdapter(\n            'ngStyle', this.monitor, this._ngEl, this._renderer, this._platformId\n        );\n        if ( !this._ngStyleInstance ) {\n          // Create an instance NgClass Directive instance only if `ngClass=\"\"` has NOT been\n          // defined on the same host element; since the responsive variations may be defined...\n          let adapter = new RendererAdapter(this._renderer);\n          this._ngStyleInstance = new NgStyle(this._differs, this._ngEl, <any> adapter);\n        }\n\n        this._buildCacheInterceptor();\n        this._fallbackToStyle();\n    }\n\n    /**\n     * Build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    protected _configureMQListener(baseKey = 'ngStyle') {\n      const fallbackValue = this._base.queryInput(baseKey);\n      this._base.listenForMediaQueryChanges(baseKey, fallbackValue, (changes: MediaChange) => {\n        this._ngStyleInstance.ngStyle = changes.value || '';\n        this._ngStyleInstance.ngDoCheck();\n      });\n    }\n\n  // ************************************************************************\n  // Private Internal Methods\n  // ************************************************************************\n\n  /**\n   * Build intercept to convert raw strings to ngStyleMap\n   */\n  protected _buildCacheInterceptor() {\n    let cacheInput = this._base.cacheInput.bind(this._base);\n    this._base.cacheInput = (key?: string, source?: any, cacheRaw = false, merge = true) => {\n      let styles = this._buildStyleMap(source);\n      if (merge) {\n        styles = extendObject({}, this._base.inputMap['ngStyle'], styles);\n      }\n      cacheInput(key, styles, cacheRaw);\n    };\n  }\n  /**\n   * Convert raw strings to ngStyleMap; which is required by ngStyle\n   * NOTE: Raw string key-value pairs MUST be delimited by `;`\n   *       Comma-delimiters are not supported due to complexities of\n   *       possible style values such as `rgba(x,x,x,x)` and others\n   */\n  protected _buildStyleMap(styles: NgStyleType) {\n    let sanitizer: NgStyleSanitizer = (val: any) => {\n      // Always safe-guard (aka sanitize) style property values\n      return this._sanitizer.sanitize(SecurityContext.STYLE, val) || '';\n    };\n    if (styles) {\n      switch ( _.getType(styles) ) {\n        case 'string':  return _.buildMapFromList(_.buildRawList(styles), sanitizer);\n        case 'array' :  return _.buildMapFromList(styles as NgStyleRawList, sanitizer);\n        case 'set'   :  return _.buildMapFromSet(styles, sanitizer);\n        default      :  return _.buildMapFromSet(styles, sanitizer);\n      }\n    }\n    return styles;\n  }\n\n  /**\n   * Initial lookup of raw 'class' value (if any)\n   */\n  protected _fallbackToStyle() {\n    if (!this._base.queryInput('ngStyle')) {\n      this.ngStyleBase = this._getAttributeValue('style') || '';\n    }\n  }\n\n  /**\n   * Special adapter to cross-cut responsive behaviors\n   * into the StyleDirective\n   */\n  protected _base: BaseFxDirectiveAdapter;\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  Renderer2,\n  SimpleChanges,\n  Self,\n  Optional,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\nimport {LayoutDirective} from '../flexbox/layout';\n\nconst FALSY = ['false', false, 0];\n\n/**\n * For fxHide selectors, we invert the 'value'\n * and assign to the equivalent fxShow selector cache\n *  - When 'hide' === '' === true, do NOT show the element\n *  - When 'hide' === false or 0... we WILL show the element\n */\nexport function negativeOf(hide: any) {\n  return (hide === '') ? false :\n         ((hide === 'false') || (hide === 0)) ? true : !hide;\n}\n\n/**\n * 'show' Layout API directive\n *\n */\n@Directive({\n  selector: `\n  [fxShow],\n  [fxShow.xs], [fxShow.sm], [fxShow.md], [fxShow.lg], [fxShow.xl],\n  [fxShow.lt-sm], [fxShow.lt-md], [fxShow.lt-lg], [fxShow.lt-xl],\n  [fxShow.gt-xs], [fxShow.gt-sm], [fxShow.gt-md], [fxShow.gt-lg],\n  [fxHide],\n  [fxHide.xs], [fxHide.sm], [fxHide.md], [fxHide.lg], [fxHide.xl],\n  [fxHide.lt-sm], [fxHide.lt-md], [fxHide.lt-lg], [fxHide.lt-xl],\n  [fxHide.gt-xs], [fxHide.gt-sm], [fxHide.gt-md], [fxHide.gt-lg]\n`\n})\nexport class ShowHideDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /**\n   * Subscription to the parent flex container's layout changes.\n   * Stored so we can unsubscribe when this directive is destroyed.\n   */\n  protected _layoutWatcher: Subscription;\n\n  /* tslint:disable */\n  @Input('fxShow')       set show(val) {  this._cacheInput('show', val);  }\n  @Input('fxShow.xs')    set showXs(val) {this._cacheInput('showXs', val);}\n  @Input('fxShow.sm')    set showSm(val) {this._cacheInput('showSm', val); };\n  @Input('fxShow.md')    set showMd(val) {this._cacheInput('showMd', val); };\n  @Input('fxShow.lg')    set showLg(val) {this._cacheInput('showLg', val); };\n  @Input('fxShow.xl')    set showXl(val) {this._cacheInput('showXl', val); };\n\n  @Input('fxShow.lt-sm') set showLtSm(val) { this._cacheInput('showLtSm', val); };\n  @Input('fxShow.lt-md') set showLtMd(val) { this._cacheInput('showLtMd', val); };\n  @Input('fxShow.lt-lg') set showLtLg(val) { this._cacheInput('showLtLg', val); };\n  @Input('fxShow.lt-xl') set showLtXl(val) { this._cacheInput('showLtXl', val); };\n\n  @Input('fxShow.gt-xs') set showGtXs(val) {this._cacheInput('showGtXs', val); };\n  @Input('fxShow.gt-sm') set showGtSm(val) {this._cacheInput('showGtSm', val); };\n  @Input('fxShow.gt-md') set showGtMd(val) {this._cacheInput('showGtMd', val); };\n  @Input('fxShow.gt-lg') set showGtLg(val) {this._cacheInput('showGtLg', val); };\n\n  @Input('fxHide')       set hide(val) {this._cacheInput('show', negativeOf(val));}\n  @Input('fxHide.xs')    set hideXs(val) {this._cacheInput('showXs', negativeOf(val));}\n  @Input('fxHide.sm')    set hideSm(val) {this._cacheInput('showSm', negativeOf(val)); };\n  @Input('fxHide.md')    set hideMd(val) {this._cacheInput('showMd', negativeOf(val)); };\n  @Input('fxHide.lg')    set hideLg(val) {this._cacheInput('showLg', negativeOf(val)); };\n  @Input('fxHide.xl')    set hideXl(val) {this._cacheInput('showXl', negativeOf(val)); };\n\n  @Input('fxHide.lt-sm') set hideLtSm(val) { this._cacheInput('showLtSm', negativeOf(val)); };\n  @Input('fxHide.lt-md') set hideLtMd(val) { this._cacheInput('showLtMd', negativeOf(val)); };\n  @Input('fxHide.lt-lg') set hideLtLg(val) { this._cacheInput('showLtLg', negativeOf(val)); };\n  @Input('fxHide.lt-xl') set hideLtXl(val) { this._cacheInput('showLtXl', negativeOf(val)); };\n\n  @Input('fxHide.gt-xs') set hideGtXs(val) {this._cacheInput('showGtXs', negativeOf(val)); };\n  @Input('fxHide.gt-sm') set hideGtSm(val) {this._cacheInput('showGtSm', negativeOf(val)); };\n  @Input('fxHide.gt-md') set hideGtMd(val) {this._cacheInput('showGtMd', negativeOf(val)); };\n  @Input('fxHide.gt-lg') set hideGtLg(val) {this._cacheInput('showGtLg', negativeOf(val)); };\n\n  /* tslint:enable */\n  /**\n   *\n   */\n  constructor(monitor: MediaMonitor,\n              @Optional() @Self() protected _layout: LayoutDirective,\n              protected elRef: ElementRef,\n              protected renderer: Renderer2,\n              @Inject(PLATFORM_ID) protected platformId: Object) {\n\n    super(monitor, elRef, renderer, platformId);\n\n    if (_layout) {\n      /**\n       * The Layout can set the display:flex (and incorrectly affect the Hide/Show directives.\n       * Whenever Layout [on the same element] resets its CSS, then update the Hide/Show CSS\n       */\n      this._layoutWatcher = _layout.layout$.subscribe(() => this._updateWithValue());\n    }\n  }\n\n  // *********************************************\n  // Lifecycle Methods\n  // *********************************************\n\n  /**\n   * Override accessor to the current HTMLElement's `display` style\n   * Note: Show/Hide will not change the display to 'flex' but will set it to 'block'\n   * unless it was already explicitly specified inline or in a CSS stylesheet.\n   */\n  protected _getDisplayStyle(): string {\n    return this._layout ? 'flex' : super._getDisplayStyle();\n  }\n\n\n  /**\n   * On changes to any @Input properties...\n   * Default to use the non-responsive Input value ('fxShow')\n   * Then conditionally override with the mq-activated Input's current value\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.hasInitialized && (changes['show'] != null || this._mqActivation)) {\n      this._updateWithValue();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    let value = this._getDefaultVal('show', true);\n    // Build _mqActivation controller\n    this._listenForMediaQueryChanges('show', value, (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n    });\n\n    this._updateWithValue();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._layoutWatcher) {\n      this._layoutWatcher.unsubscribe();\n    }\n  }\n\n  // *********************************************\n  // Protected methods\n  // *********************************************\n\n  /** Validate the visibility value and then update the host's inline display style */\n  protected _updateWithValue(value?: string|number|boolean) {\n    value = value || this._getDefaultVal('show', true);\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    let shouldShow = this._validateTruthy(value);\n    this._applyStyleToElement(this._buildCSS(shouldShow));\n  }\n\n\n  /** Build the CSS that should be assigned to the element instance */\n  protected _buildCSS(show) {\n    return {'display': show ? this._display : 'none'};\n  }\n\n  /**  Validate the to be not FALSY */\n  _validateTruthy(show) {\n    return (FALSY.indexOf(show) == -1);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  OnChanges,\n  Renderer2,\n  Inject,\n  PLATFORM_ID,\n} from '@angular/core';\n\nimport {BaseFxDirective} from '../core/base';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\n/**\n * This directive provides a responsive API for the HTML <img> 'src' attribute\n * and will update the img.src property upon each responsive activation.\n *\n * e.g.\n *      <img src=\"defaultScene.jpg\" src.xs=\"mobileScene.jpg\"></img>\n *\n * @see https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-src/\n */\n@Directive({\n  selector: `\n  img[src.xs],    img[src.sm],    img[src.md],    img[src.lg],   img[src.xl],\n  img[src.lt-sm], img[src.lt-md], img[src.lt-lg], img[src.lt-xl],\n  img[src.gt-xs], img[src.gt-sm], img[src.gt-md], img[src.gt-lg]\n`\n})\nexport class ImgSrcDirective extends BaseFxDirective implements OnInit, OnChanges {\n\n  /* tslint:disable */\n  @Input('src')        set srcBase(val) { this.cacheDefaultSrc(val);           }\n\n  @Input('src.xs')     set srcXs(val)   { this._cacheInput('srcXs', val);  }\n  @Input('src.sm')     set srcSm(val)   { this._cacheInput('srcSm', val);  }\n  @Input('src.md')     set srcMd(val)   { this._cacheInput('srcMd', val);  }\n  @Input('src.lg')     set srcLg(val)   { this._cacheInput('srcLg', val);  }\n  @Input('src.xl')     set srcXl(val)   { this._cacheInput('srcXl', val);  }\n\n  @Input('src.lt-sm')  set srcLtSm(val) { this._cacheInput('srcLtSm', val);  }\n  @Input('src.lt-md')  set srcLtMd(val) { this._cacheInput('srcLtMd', val);  }\n  @Input('src.lt-lg')  set srcLtLg(val) { this._cacheInput('srcLtLg', val);  }\n  @Input('src.lt-xl')  set srcLtXl(val) { this._cacheInput('srcLtXl', val);  }\n\n  @Input('src.gt-xs')  set srcGtXs(val) { this._cacheInput('srcGtXs', val);  }\n  @Input('src.gt-sm')  set srcGtSm(val) { this._cacheInput('srcGtSm', val);  }\n  @Input('src.gt-md')  set srcGtMd(val) { this._cacheInput('srcGtMd', val);  }\n  @Input('src.gt-lg')  set srcGtLg(val) { this._cacheInput('srcGtLg', val);  }\n  /* tslint:enable */\n\n  constructor(elRef: ElementRef,\n              renderer: Renderer2,\n              monitor: MediaMonitor,\n              @Inject(PLATFORM_ID) platformId: Object) {\n    super(monitor, elRef, renderer, platformId);\n    this._cacheInput('src', elRef.nativeElement.getAttribute('src') || '');\n  }\n\n  /**\n   * Listen for responsive changes to update the img.src attribute\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.hasResponsiveKeys) {\n      // Listen for responsive changes\n      this._listenForMediaQueryChanges('src', this.defaultSrc, () => {\n        this._updateSrcFor();\n      });\n    }\n    this._updateSrcFor();\n  }\n\n  /**\n   * Update the 'src' property of the host <img> element\n   */\n  ngOnChanges() {\n    if (this.hasInitialized) {\n      this._updateSrcFor();\n    }\n  }\n\n  /**\n   * Use the [responsively] activated input value to update\n   * the host img src attribute or assign a default `img.src=''`\n   * if the src has not been defined.\n   *\n   * Do nothing to standard `<img src=\"\">` usages, only when responsive\n   * keys are present do we actually call `setAttribute()`\n   */\n  protected _updateSrcFor() {\n    if (this.hasResponsiveKeys) {\n      let url = this.activatedValue || this.defaultSrc;\n      this._renderer.setAttribute(this.nativeElement, 'src', String(url));\n    }\n  }\n\n  /**\n   * Cache initial value of 'src', this will be used as fallback when breakpoint\n   * activations change.\n   * NOTE: The default 'src' property is not bound using @Input(), so perform\n   * a post-ngOnInit() lookup of the default src value (if any).\n   */\n  protected cacheDefaultSrc(value?: string) {\n    this._cacheInput('src', value || '');\n  }\n\n  /**\n   * Empty values are maintained, undefined values are exposed as ''\n   */\n  protected get defaultSrc(): string {\n    return this._queryInput('src') || '';\n  }\n\n  /**\n   * Does the <img> have 1 or more src.<xxx> responsive inputs\n   * defined... these will be mapped to activated breakpoints.\n   */\n  protected get hasResponsiveKeys() {\n    return Object.keys(this._inputMap).length > 1;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {BreakPoint} from '../break-point';\n\nexport const RESPONSIVE_ALIASES = [\n  'xs', 'gt-xs', 'sm', 'gt-sm', 'md', 'gt-md', 'lg', 'gt-lg', 'xl'\n];\n\nexport const DEFAULT_BREAKPOINTS: BreakPoint[] = [\n  {\n    alias: 'xs',\n    mediaQuery: '(min-width: 0px) and (max-width: 599px)'\n  },\n  {\n    alias: 'gt-xs',\n    overlapping: true,\n    mediaQuery: '(min-width: 600px)'\n  },\n  {\n    alias: 'lt-sm',\n    overlapping: true,\n    mediaQuery: '(max-width: 599px)'\n  },\n  {\n    alias: 'sm',\n    mediaQuery: '(min-width: 600px) and (max-width: 959px)'\n  },\n  {\n    alias: 'gt-sm',\n    overlapping: true,\n    mediaQuery: '(min-width: 960px)'\n  },\n  {\n    alias: 'lt-md',\n    overlapping: true,\n    mediaQuery: '(max-width: 959px)'\n  },\n  {\n    alias: 'md',\n    mediaQuery: '(min-width: 960px) and (max-width: 1279px)'\n  },\n  {\n    alias: 'gt-md',\n    overlapping: true,\n    mediaQuery: '(min-width: 1280px)'\n  },\n  {\n    alias: 'lt-lg',\n    overlapping: true,\n    mediaQuery: '(max-width: 1279px)'\n  },\n  {\n    alias: 'lg',\n    mediaQuery: '(min-width: 1280px) and (max-width: 1919px)'\n  },\n  {\n    alias: 'gt-lg',\n    overlapping: true,\n    mediaQuery: '(min-width: 1920px)'\n  },\n  {\n    alias: 'lt-xl',\n    overlapping: true,\n    mediaQuery: '(max-width: 1920px)'\n  },\n  {\n    alias: 'xl',\n    mediaQuery: '(min-width: 1920px) and (max-width: 5000px)'\n  }\n];\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {BreakPoint} from '../break-point';\n\n/* tslint:disable */\nconst HANDSET_PORTRAIT  = '(orientations: portrait) and (max-width: 599px)';\nconst HANDSET_LANDSCAPE = '(orientations: landscape) and (max-width: 959px)';\n\nconst TABLET_LANDSCAPE  = '(orientations: landscape) and (min-width: 960px) and (max-width: 1279px)';\nconst TABLET_PORTRAIT   = '(orientations: portrait) and (min-width: 600px) and (max-width: 839px)';\n\nconst WEB_PORTRAIT      = '(orientations: portrait) and (min-width: 840px)';\nconst WEB_LANDSCAPE     = '(orientations: landscape) and (min-width: 1280px)';\n\nexport const ScreenTypes = {\n  'HANDSET'           : `${HANDSET_PORTRAIT}, ${HANDSET_LANDSCAPE}`,\n  'TABLET'            : `${TABLET_PORTRAIT} , ${TABLET_LANDSCAPE}`,\n  'WEB'               : `${WEB_PORTRAIT}, ${WEB_LANDSCAPE} `,\n\n  'HANDSET_PORTRAIT'  : `${HANDSET_PORTRAIT}`,\n  'TABLET_PORTRAIT'   : `${TABLET_PORTRAIT} `,\n  'WEB_PORTRAIT'      : `${WEB_PORTRAIT}`,\n\n  'HANDSET_LANDSCAPE' : `${HANDSET_LANDSCAPE}]`,\n  'TABLET_LANDSCAPE'  : `${TABLET_LANDSCAPE}`,\n  'WEB_LANDSCAPE'     : `${WEB_LANDSCAPE}`\n};\n\n/**\n * Extended Breakpoints for handset/tablets with landscape or portrait orientations\n */\nexport const ORIENTATION_BREAKPOINTS : BreakPoint[] = [\n  {'alias': 'handset',            'mediaQuery': ScreenTypes.HANDSET},\n  {'alias': 'handset.landscape',  'mediaQuery': ScreenTypes.HANDSET_LANDSCAPE},\n  {'alias': 'handset.portrait',   'mediaQuery': ScreenTypes.HANDSET_PORTRAIT},\n\n  {'alias': 'tablet',             'mediaQuery': ScreenTypes.TABLET},\n  {'alias': 'tablet.landscape',   'mediaQuery': ScreenTypes.TABLET},\n  {'alias': 'tablet.portrait',    'mediaQuery': ScreenTypes.TABLET_PORTRAIT},\n\n  {'alias': 'web',                'mediaQuery': ScreenTypes.WEB, overlapping : true },\n  {'alias': 'web.landscape',      'mediaQuery': ScreenTypes.WEB_LANDSCAPE, overlapping : true },\n  {'alias': 'web.portrait',       'mediaQuery': ScreenTypes.WEB_PORTRAIT, overlapping : true }\n];\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Injectable} from '@angular/core';\n\nimport {Subscription} from 'rxjs/Subscription';\nimport {Observable, Subscribable} from 'rxjs/Observable';\n\nimport {map} from 'rxjs/operators/map';\nimport {filter} from 'rxjs/operators/filter';\n\nimport {BreakPointRegistry} from './breakpoints/break-point-registry';\n\nimport {MediaChange} from './media-change';\nimport {MatchMedia} from './match-media';\nimport {mergeAlias} from './../utils/add-alias';\nimport {BreakPoint} from './breakpoints/break-point';\n\n/**\n * Base class for MediaService and pseudo-token for\n */\nexport abstract class ObservableMedia implements Subscribable<MediaChange> {\n  abstract isActive(query: string): boolean;\n\n  abstract asObservable(): Observable<MediaChange>;\n\n  abstract subscribe(next?: (value: MediaChange) => void,\n                     error?: (error: any) => void,\n                     complete?: () => void): Subscription;\n}\n\n/**\n * Class internalizes a MatchMedia service and exposes an Subscribable and Observable interface.\n\n * This an Observable with that exposes a feature to subscribe to mediaQuery\n * changes and a validator method (`isActive(<alias>)`) to test if a mediaQuery (or alias) is\n * currently active.\n *\n * !! Only mediaChange activations (not de-activations) are announced by the ObservableMedia\n *\n * This class uses the BreakPoint Registry to inject alias information into the raw MediaChange\n * notification. For custom mediaQuery notifications, alias information will not be injected and\n * those fields will be ''.\n *\n * !! This is not an actual Observable. It is a wrapper of an Observable used to publish additional\n * methods like `isActive(<alias>). To access the Observable and use RxJS operators, use\n * `.asObservable()` with syntax like media.asObservable().map(....).\n *\n *  @usage\n *\n *  // RxJS\n *  import {filter} from 'rxjs/operators/filter';\n *  import { ObservableMedia } from '@angular/flex-layout';\n *\n *  @Component({ ... })\n *  export class AppComponent {\n *    status : string = '';\n *\n *    constructor(  media:ObservableMedia ) {\n *      let onChange = (change:MediaChange) => {\n *        this.status = change ? `'${change.mqAlias}' = (${change.mediaQuery})` : '';\n *      };\n *\n *      // Subscribe directly or access observable to use filter/map operators\n *      // e.g.\n *      //      media.subscribe(onChange);\n *\n *      media.asObservable()\n *        .pipe(\n *          filter((change:MediaChange) => true)   // silly noop filter\n *        ).subscribe(onChange);\n *    }\n *  }\n */\n@Injectable()\nexport class MediaService implements ObservableMedia {\n  /**\n   * Should we announce gt-<xxx> breakpoint activations ?\n   */\n  filterOverlaps = true;\n\n  constructor(private breakpoints: BreakPointRegistry,\n              private mediaWatcher: MatchMedia) {\n    this._registerBreakPoints();\n    this.observable$ = this._buildObservable();\n  }\n\n  /**\n   * Test if specified query/alias is active.\n   */\n  isActive(alias): boolean {\n    let query = this._toMediaQuery(alias);\n    return this.mediaWatcher.isActive(query);\n  }\n\n  /**\n   * Proxy to the Observable subscribe method\n   */\n  subscribe(next?: (value: MediaChange) => void,\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n    return this.observable$.subscribe(next, error, complete);\n  }\n\n  /**\n   * Access to observable for use with operators like\n   * .filter(), .map(), etc.\n   */\n  asObservable(): Observable<MediaChange> {\n    return this.observable$;\n  }\n\n  // ************************************************\n  // Internal Methods\n  // ************************************************\n\n  /**\n   * Register all the mediaQueries registered in the BreakPointRegistry\n   * This is needed so subscribers can be auto-notified of all standard, registered\n   * mediaQuery activations\n   */\n  private _registerBreakPoints() {\n    let queries = this.breakpoints.sortedItems.map(bp => bp.mediaQuery);\n    this.mediaWatcher.registerQuery(queries);\n  }\n\n  /**\n   * Prepare internal observable\n   *\n   * NOTE: the raw MediaChange events [from MatchMedia] do not\n   *       contain important alias information; as such this info\n   *       must be injected into the MediaChange\n   */\n  private _buildObservable() {\n    const self = this;\n    const media$ = this.mediaWatcher.observe();\n    const activationsOnly = (change: MediaChange) => {\n      return change.matches === true;\n    };\n    const addAliasInformation = (change: MediaChange) => {\n      return mergeAlias(change, this._findByQuery(change.mediaQuery));\n    };\n    const excludeOverlaps = (change: MediaChange) => {\n      let bp = this.breakpoints.findByQuery(change.mediaQuery);\n      return !bp ? true : !(self.filterOverlaps && bp.overlapping);\n    };\n\n    /**\n     * Only pass/announce activations (not de-activations)\n     * Inject associated (if any) alias information into the MediaChange event\n     * Exclude mediaQuery activations for overlapping mQs. List bounded mQ ranges only\n     */\n    return media$.pipe(\n      filter(activationsOnly),\n      filter(excludeOverlaps),\n      map(addAliasInformation)\n    );\n  }\n\n  /**\n   * Breakpoint locator by alias\n   */\n  private _findByAlias(alias) {\n    return this.breakpoints.findByAlias(alias);\n  }\n\n  /**\n   * Breakpoint locator by mediaQuery\n   */\n  private _findByQuery(query) {\n    return this.breakpoints.findByQuery(query);\n  }\n\n  /**\n   * Find associated breakpoint (if any)\n   */\n  private _toMediaQuery(query) {\n    let bp: BreakPoint | null = this._findByAlias(query) || this._findByQuery(query);\n    return bp ? bp.mediaQuery : query;\n  }\n\n  private observable$: Observable<MediaChange>;\n}\n\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {BreakPoint} from '../media-query/breakpoints/break-point';\nimport {extendObject} from './object-extend';\n\nconst ALIAS_DELIMITERS = /(\\.|-|_)/g;\nfunction firstUpperCase(part: string) {\n  let first = part.length > 0 ? part.charAt(0) : '';\n  let remainder = (part.length > 1) ? part.slice(1) : '';\n  return first.toUpperCase() + remainder;\n}\n\n/**\n * Converts snake-case to SnakeCase.\n * @param name Text to UpperCamelCase\n */\nfunction camelCase(name: string): string {\n  return name\n      .replace(ALIAS_DELIMITERS, '|')\n      .split('|')\n      .map(firstUpperCase)\n      .join('');\n}\n\n/**\n * For each breakpoint, ensure that a Suffix is defined;\n * fallback to UpperCamelCase the unique Alias value\n */\nexport function validateSuffixes(list: BreakPoint[]): BreakPoint[] {\n  list.forEach((bp: BreakPoint) => {\n    if (!bp.suffix || bp.suffix === '') {\n      bp.suffix = camelCase(bp.alias);          // create Suffix value based on alias\n      bp.overlapping = bp.overlapping || false; // ensure default value\n    }\n  });\n  return list;\n}\n\n/**\n * Merge a custom breakpoint list with the default list based on unique alias values\n *  - Items are added if the alias is not in the default list\n *  - Items are merged with the custom override if the alias exists in the default list\n */\nexport function mergeByAlias(defaults: BreakPoint[], custom: BreakPoint[] = []): BreakPoint[] {\n  const merged = defaults.map((bp) => extendObject({}, bp));\n  const findByAlias = (alias) => merged.reduce((result, bp) => {\n    return result || (( bp.alias === alias) ? bp : null);\n  }, null);\n\n  // Merge custom breakpoints\n  custom.forEach((bp: BreakPoint) => {\n    let target = findByAlias(bp.alias);\n    if (target) {\n      extendObject(target, bp);\n    } else {\n      merged.push(bp);\n    }\n  });\n\n  return validateSuffixes(merged);\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  InjectionToken,    // tslint:disable-line:no-unused-variable\n} from '@angular/core';\n\nimport {BreakPoint} from './break-point';\nimport {BREAKPOINTS} from './break-points-token';\nimport {DEFAULT_BREAKPOINTS} from './data/break-points';\nimport {ORIENTATION_BREAKPOINTS} from './data/orientation-break-points';\n\nimport {extendObject} from '../../utils/object-extend';\nimport {mergeByAlias, validateSuffixes} from '../../utils/breakpoint-tools';\n\n\n/**\n * Options to identify which breakpoint types to include as part of\n * a BreakPoint provider\n */\nexport interface BreakPointProviderOptions {\n  /**\n   * include pre-configured, internal default breakpoints.\n   * @default 'true'\n   */\n  defaults ?: boolean;\n  /**\n   * include pre-configured, internal orientations breakpoints.\n   * @default 'false'\n   */\n  orientations ?: boolean;\n}\n\n/**\n * Add new custom items to the default list or override existing default with custom overrides\n */\nexport function buildMergedBreakPoints(_custom?: BreakPoint[],\n                                       options?: BreakPointProviderOptions) {\n  options = extendObject({}, {\n        defaults: true,       // exclude pre-configured, internal default breakpoints\n        orientation: false      // exclude pre-configured, internal orientations breakpoints\n  }, options || {});\n\n  return () => {\n    // Order so the defaults are loaded last; so ObservableMedia will report these last!\n    let defaults = (options && options.orientations) ?\n      ORIENTATION_BREAKPOINTS.concat(DEFAULT_BREAKPOINTS) : DEFAULT_BREAKPOINTS;\n\n    return (options && options.defaults) ?\n      mergeByAlias(defaults, _custom || []) : mergeByAlias(_custom || []);\n  };\n}\n\n/**\n *  Ensure that only a single global BreakPoint list is instantiated...\n */\nexport function DEFAULT_BREAKPOINTS_PROVIDER_FACTORY() {\n  return validateSuffixes(DEFAULT_BREAKPOINTS);\n}\n/**\n * Default Provider that does not support external customization nor provide\n * the extra extended breakpoints:   \"handset\", \"tablet\", and \"web\"\n *\n *  NOTE: !! breakpoints are considered to have unique 'alias' properties,\n *        custom breakpoints matching existing breakpoints will override the properties\n *        of the existing (and not be added as an extra breakpoint entry).\n *        [xs, gt-xs, sm, gt-sm, md, gt-md, lg, gt-lg, xl]\n */\nexport const DEFAULT_BREAKPOINTS_PROVIDER = { // tslint:disable-line:variable-name\n  provide: BREAKPOINTS,\n  useFactory: DEFAULT_BREAKPOINTS_PROVIDER_FACTORY\n};\n/**\n * Use with FlexLayoutModule.CUSTOM_BREAKPOINTS_PROVIDER_FACTORY!\n */\nexport function CUSTOM_BREAKPOINTS_PROVIDER_FACTORY(_custom?: BreakPoint[],\n                                                    options?: BreakPointProviderOptions) {\n  return {\n    provide: BREAKPOINTS,\n    useFactory: buildMergedBreakPoints(_custom, options)\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  Optional,\n  SkipSelf\n} from '@angular/core';\n\nimport {BreakPointRegistry} from './breakpoints/break-point-registry';\n\nimport {MatchMedia} from './match-media';\nimport {ObservableMedia, MediaService} from './observable-media';\n\n/**\n * Ensure a single global ObservableMedia service provider\n */\nexport function OBSERVABLE_MEDIA_PROVIDER_FACTORY(parentService: ObservableMedia,\n                                                  matchMedia: MatchMedia,\n                                                  breakpoints: BreakPointRegistry) {\n  return parentService || new MediaService(breakpoints, matchMedia);\n}\n/**\n *  Provider to return global service for observable service for all MediaQuery activations\n */\nexport const OBSERVABLE_MEDIA_PROVIDER = { // tslint:disable-line:variable-name\n  provide: ObservableMedia,\n  deps: [\n    [ new Optional(), new SkipSelf(), ObservableMedia ],\n    MatchMedia,\n    BreakPointRegistry\n  ],\n  useFactory: OBSERVABLE_MEDIA_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Optional, SkipSelf} from '@angular/core';\n\nimport {MediaMonitor} from './media-monitor';\nimport {MatchMedia} from './match-media';\nimport {BreakPointRegistry} from './breakpoints/break-point-registry';\n\n/**\n * Ensure a single global service provider\n */\nexport function MEDIA_MONITOR_PROVIDER_FACTORY(parentMonitor: MediaMonitor,\n                                               breakpoints: BreakPointRegistry,\n                                               matchMedia: MatchMedia) {\n  return parentMonitor || new MediaMonitor(breakpoints, matchMedia);\n}\n\n\n/**\n * Export provider that uses a global service factory (above)\n */\nexport const MEDIA_MONITOR_PROVIDER = {\n  provide : MediaMonitor,\n  deps : [\n    [ new Optional(), new SkipSelf(), MediaMonitor ],\n    BreakPointRegistry,\n    MatchMedia,\n  ],\n  useFactory : MEDIA_MONITOR_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {NgModule} from '@angular/core';\n\nimport {MatchMedia} from './match-media';\nimport {MediaMonitor} from './media-monitor';\nimport {OBSERVABLE_MEDIA_PROVIDER} from './observable-media-provider';\nimport {DEFAULT_BREAKPOINTS_PROVIDER} from './breakpoints/break-points-provider';\nimport {BreakPointRegistry} from './breakpoints/break-point-registry';\n\n/**\n * *****************************************************************\n * Define module for the MediaQuery API\n * *****************************************************************\n */\n\n@NgModule({\n  providers: [\n    DEFAULT_BREAKPOINTS_PROVIDER,  // Supports developer overrides of list of known breakpoints\n    BreakPointRegistry,      // Registry of known/used BreakPoint(s)\n    MatchMedia,              // Low-level service to publish observables w/ window.matchMedia()\n    MediaMonitor,            // MediaQuery monitor service observes all known breakpoints\n    OBSERVABLE_MEDIA_PROVIDER  // easy subscription injectable `media$` matchMedia observable\n  ]\n})\nexport class MediaQueriesModule {\n}\n\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {MediaQueriesModule} from './media-query/_module';\n\nimport {BreakPoint} from './media-query/breakpoints/break-point';\nimport {\n  BreakPointProviderOptions,\n  DEFAULT_BREAKPOINTS_PROVIDER,\n  CUSTOM_BREAKPOINTS_PROVIDER_FACTORY\n} from './media-query/breakpoints/break-points-provider';\nimport {MEDIA_MONITOR_PROVIDER} from './media-query/media-monitor-provider';\nimport {OBSERVABLE_MEDIA_PROVIDER} from './media-query/observable-media-provider';\n\nimport {FlexDirective} from './api/flexbox/flex';\nimport {LayoutDirective} from './api/flexbox/layout';\nimport {FlexAlignDirective} from './api/flexbox/flex-align';\nimport {FlexFillDirective} from './api/flexbox/flex-fill';\nimport {FlexOffsetDirective} from './api/flexbox/flex-offset';\nimport {FlexOrderDirective} from './api/flexbox/flex-order';\nimport {LayoutAlignDirective} from './api/flexbox/layout-align';\nimport {LayoutGapDirective} from './api/flexbox/layout-gap';\n\nimport {ShowHideDirective} from './api/ext/show-hide';\nimport {ClassDirective} from './api/ext/class';\nimport {StyleDirective} from './api/ext/style';\nimport {ImgSrcDirective} from './api/ext/img-src';\n\n/**\n * Since the equivalent results are easily achieved with a css class attached to each\n * layout child, these have been deprecated and removed from the API.\n *\n *  import {LayoutPaddingDirective} from './api/flexbox/layout-padding';\n *  import {LayoutMarginDirective} from './api/flexbox/layout-margin';\n */\n\nconst ALL_DIRECTIVES = [\n  LayoutDirective,\n  LayoutGapDirective,\n  LayoutAlignDirective,\n  FlexDirective,\n  FlexOrderDirective,\n  FlexOffsetDirective,\n  FlexFillDirective,\n  FlexAlignDirective,\n  ShowHideDirective,\n  ClassDirective,\n  StyleDirective,\n  ImgSrcDirective\n];\n\n/**\n *\n */\n@NgModule({\n  imports: [MediaQueriesModule],\n  exports: [MediaQueriesModule, ...ALL_DIRECTIVES],\n  declarations: [...ALL_DIRECTIVES],\n  providers: [\n    MEDIA_MONITOR_PROVIDER,\n    DEFAULT_BREAKPOINTS_PROVIDER,   // Extend defaults with internal custom breakpoints\n    OBSERVABLE_MEDIA_PROVIDER\n  ]\n})\nexport class FlexLayoutModule {\n  /**\n   * External uses can easily add custom breakpoints AND include internal orientations\n   * breakpoints; which are not available by default.\n   *\n   * !! Selector aliases are not auto-configured. Developers must subclass\n   * the API directives to support extra selectors for the orientations breakpoints !!\n   */\n  static provideBreakPoints(breakpoints: BreakPoint[],\n                            options ?: BreakPointProviderOptions): ModuleWithProviders {\n    return {\n      ngModule: FlexLayoutModule,\n      providers: [\n        CUSTOM_BREAKPOINTS_PROVIDER_FACTORY(breakpoints, options || {orientations: false})\n      ]\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n    MatButtonModule, MatCardModule, MatChipsModule, MatFormFieldModule,\n    MatIconModule, MatInputModule, MatMenuModule, MatSelectModule,\n    MatSlideToggleModule,\n    MatToolbarModule\n} from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nconst /** @type {?} */ MATERIAL_MODULES = [MatToolbarModule, FlexLayoutModule, MatCardModule, MatButtonModule,\n    MatIconModule, MatMenuModule, MatInputModule, MatSlideToggleModule, MatChipsModule, MatSelectModule, MatFormFieldModule];\nexport class MaterialModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        MATERIAL_MODULES\n    ],\n    exports: [MATERIAL_MODULES],\n    declarations: []\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction MaterialModule_tsickle_Closure_declarations() {\n/** @type {?} */\nMaterialModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMaterialModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ItemsComponent} from './items/items.component';\nimport {MaterialModule} from '../material/material.module';\nexport class ItemsModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        MaterialModule,\n    ],\n    declarations: [ItemsComponent],\n    exports: [ItemsComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ItemsModule_tsickle_Closure_declarations() {\n/** @type {?} */\nItemsModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nItemsModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomeComponent } from './iscape/home/home.component';\nimport { ItemsComponent } from './iscape/items/items/items.component';\nimport { SkillListComponent } from './iscape/skill/skill-list/skill-list.component';\nimport { SkillEditComponent } from './iscape/skill/skill-edit/skill-edit.component';\nimport { AuthGuard } from './iscape/shared/auth.guard';\nimport { UserListComponent } from './iscape/user/user-list/user-list.component';\nimport { UserEditComponent } from './iscape/user/user-edit/user-edit.component';\nimport { ProjectListComponent } from './iscape/project/project-list/project-list.component';\nimport { LocationListComponent } from './iscape/location/location-list/location-list.component';\nimport { LocationEditComponent } from './iscape/location/location-edit/location-edit.component';\nimport { ProjectEditComponent } from './iscape/project/project-edit/project-edit.component';\n\n\nconst /** @type {?} */ routes: Routes = [\n    { path: '', pathMatch: 'full', redirectTo: 'home' },\n    { path: 'home', component: HomeComponent },\n    { path: 'items', component: ItemsComponent, canActivate: [AuthGuard] },\n    { path: 'user-list', component: UserListComponent },\n    { path: 'user-edit/:id', component: UserEditComponent },\n    { path: 'skill-list', component: SkillListComponent },\n    { path: 'skill-edit/:id', component: SkillEditComponent },\n    { path: 'project-list', component: ProjectListComponent },\n    { path: 'project-edit/:id', component: ProjectEditComponent },\n    { path: 'location-list', component: LocationListComponent },\n    { path: 'location-edit/:id', component: LocationEditComponent },\n    // { path: 'company-list', component: CompanyListComponent, canActivate: [AuthGuard] },\n    // { path: 'company-edit/:id', component: CompanyEditComponent, canActivate: [AuthGuard] },\n    // { path: 'contact-list', component: ContactListComponent, canActivate: [AuthGuard] },\n    // { path: 'contact-edit/:id', component: ContactEditComponent, canActivate: [AuthGuard] }\n];\nexport class AppRoutingModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        RouterModule.forRoot(routes),\n    ],\n    exports: [RouterModule],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AppRoutingModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAppRoutingModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAppRoutingModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { AppRoutingModule } from '../../app-routing.module';\nimport { CommonModule } from '@angular/common';\nimport { LocationEditComponent } from './location-edit/location-edit.component';\nimport { LocationListComponent } from './location-list/location-list.component';\nimport { MaterialModule } from '../material/material.module';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nexport class LocationModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        AppRoutingModule,\n        CommonModule,\n        MaterialModule,\n        ReactiveFormsModule\n    ],\n    declarations: [LocationListComponent, LocationEditComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction LocationModule_tsickle_Closure_declarations() {\n/** @type {?} */\nLocationModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLocationModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { AppRoutingModule } from '../../app-routing.module';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../material/material.module';\nimport { NgModule } from '@angular/core';\nimport { ProjectEditComponent } from './project-edit/project-edit.component';\nimport { ProjectListComponent } from './project-list/project-list.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nexport class ProjectModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n      AppRoutingModule,\n      CommonModule,\n      MaterialModule,\n      ReactiveFormsModule\n  ],\n  declarations: [ProjectListComponent, ProjectEditComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ProjectModule_tsickle_Closure_declarations() {\n/** @type {?} */\nProjectModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nProjectModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataService } from './data.service';\nimport { AuthService } from './auth.service';\nimport { FormService } from './form.service';\nexport class SharedModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule\n    ],\n    declarations: [],\n    providers: [DataService, AuthService, FormService],\n    exports: []\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction SharedModule_tsickle_Closure_declarations() {\n/** @type {?} */\nSharedModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSharedModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SkillListComponent } from './skill-list/skill-list.component';\nimport { SkillService } from './skill.service';\nimport { MaterialModule } from '../material/material.module';\nimport { SkillEditComponent } from './skill-edit/skill-edit.component';\nimport { AppRoutingModule } from '../../app-routing.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nexport class SkillModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        AppRoutingModule,\n        MaterialModule,\n        ReactiveFormsModule\n    ],\n    declarations: [SkillListComponent, SkillEditComponent],\n    providers: [SkillService]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction SkillModule_tsickle_Closure_declarations() {\n/** @type {?} */\nSkillModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSkillModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserListComponent } from './user-list/user-list.component';\nimport { UserEditComponent } from './user-edit/user-edit.component';\nimport { MaterialModule } from '../material/material.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AppRoutingModule } from '../../app-routing.module';\nimport { UserService } from './user.service';\nexport class UserModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule,\n        AppRoutingModule,\n        MaterialModule,\n        ReactiveFormsModule\n    ],\n    declarations: [UserListComponent, UserEditComponent],\n    providers: [UserService]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction UserModule_tsickle_Closure_declarations() {\n/** @type {?} */\nUserModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nUserModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const /** @type {?} */ environment = {\n  production: false,\n    firebase: {\n        apiKey: 'AIzaSyCt3bRgcaGnqaUg5BN-6d2SSVJP6cIYFJU',\n        authDomain: 'iscape-plan.firebaseapp.com',\n        databaseURL: 'https://iscape-plan.firebaseio.com',\n        projectId: 'iscape-plan',\n        storageBucket: 'iscape-plan.appspot.com',\n        messagingSenderId: '246064338722'\n    }\n};\n","import'hammerjs';\n\n\nimport { BrowserModule } from '@angular/platform-browser';\n\n\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireModule, FirebaseAppConfig, FirebaseAppConfigToken, FirebaseAppName } from 'angularfire2';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AuthGuard } from './shared/auth.guard';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HomeModule } from './home/home.module';\nimport { IscapeComponent } from './iscape.component';\nimport { IscapeRoutingModule } from './iscape-routing.module';\nimport { ItemsModule } from './items/items.module';\nimport { LocationModule } from './location/location.module';\nimport { MaterialModule } from './material/material.module';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { ProjectModule } from './project/project.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from './shared/shared.module';\nimport { SkillModule } from './skill/skill.module';\nimport { UserModule } from './user/user.module';\nimport { environment } from '../../environments/environment';\nexport class IscapeModule {\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config?: FirebaseAppConfig): ModuleWithProviders {\n        return {\n            ngModule: IscapeModule,\n            providers: [AngularFireModule,\n                { provide: FirebaseAppConfigToken, useValue: config },\n                { provide: FirebaseAppName, useValue: '' },\n            ]\n        };\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [IscapeComponent],\n    imports: [\n        BrowserAnimationsModule,\n        BrowserModule,\n        HomeModule,\n        IscapeRoutingModule,\n        ItemsModule,\n        LocationModule,\n        MaterialModule,\n        AngularFireAuthModule,\n        ProjectModule,\n        ReactiveFormsModule,\n        SharedModule,\n        SkillModule,\n        UserModule,\n        AngularFireAuthModule,\n        AngularFirestoreModule,\n        AngularFireModule.initializeApp(environment.firebase),\n    ],\n    providers: [AuthGuard],\n    bootstrap: [],\n    exports: [\n        IscapeComponent,\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IscapeModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIscapeModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIscapeModule.ctorParameters;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @docs-private */\nexport function getSortDuplicateSortableIdError(id: string): Error {\n  return Error(`Cannot have two MatSortables with the same id (${id}).`);\n}\n\n/** @docs-private */\nexport function getSortHeaderNotContainedWithinSortError(): Error {\n  return Error(`MatSortHeader must be placed within a parent element with the MatSort directive.`);\n}\n\n/** @docs-private */\nexport function getSortHeaderMissingIdError(): Error {\n  return Error(`MatSortHeader must be provided with a unique id.`);\n}\n\n/** @docs-private */\nexport function getSortInvalidDirectionError(direction: string): Error {\n  return Error(`${direction} is not a valid sort direction ('asc' or 'desc').`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  EventEmitter,\n  Input,\n  isDevMode,\n  Output,\n  OnChanges,\n  OnDestroy,\n} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\nimport {SortDirection} from './sort-direction';\nimport {\n  getSortInvalidDirectionError,\n  getSortDuplicateSortableIdError,\n  getSortHeaderMissingIdError\n} from './sort-errors';\nimport {Subject} from 'rxjs/Subject';\n\n/** Interface for a directive that holds sorting state consumed by `MatSortHeader`. */\nexport interface MatSortable {\n  /** The id of the column being sorted. */\n  id: string;\n\n  /** Starting sort direction. */\n  start: 'asc' | 'desc';\n\n  /** Whether to disable clearing the sorting state. */\n  disableClear: boolean;\n}\n\n/** The current sort state. */\nexport interface Sort {\n  /** The id of the column being sorted. */\n  active: string;\n\n  /** The sort direction. */\n  direction: SortDirection;\n}\n\n// Boilerplate for applying mixins to MatSort.\n/** @docs-private */\nexport class MatSortBase {}\nexport const _MatSortMixinBase = mixinDisabled(MatSortBase);\n\n/** Container for MatSortables to manage the sort state and provide default sort parameters. */\n@Directive({\n  selector: '[matSort]',\n  exportAs: 'matSort',\n  inputs: ['disabled: matSortDisabled']\n})\nexport class MatSort extends _MatSortMixinBase implements CanDisable, OnChanges, OnDestroy {\n  /** Collection of all registered sortables that this directive manages. */\n  sortables = new Map<string, MatSortable>();\n\n  /** Used to notify any child components listening to state changes. */\n  _stateChanges = new Subject<void>();\n\n  /** The id of the most recently sorted MatSortable. */\n  @Input('matSortActive') active: string;\n\n  /**\n   * The direction to set when an MatSortable is initially sorted.\n   * May be overriden by the MatSortable's sort start.\n   */\n  @Input('matSortStart') start: 'asc' | 'desc' = 'asc';\n\n  /** The sort direction of the currently active MatSortable. */\n  @Input('matSortDirection')\n  set direction(direction: SortDirection) {\n    if (isDevMode() && direction && direction !== 'asc' && direction !== 'desc') {\n      throw getSortInvalidDirectionError(direction);\n    }\n    this._direction = direction;\n  }\n  get direction(): SortDirection { return this._direction; }\n  private _direction: SortDirection = '';\n\n  /**\n   * Whether to disable the user from clearing the sort by finishing the sort direction cycle.\n   * May be overriden by the MatSortable's disable clear input.\n   */\n  @Input('matSortDisableClear')\n  get disableClear() { return this._disableClear; }\n  set disableClear(v: boolean) { this._disableClear = coerceBooleanProperty(v); }\n  private _disableClear: boolean;\n\n  /** Event emitted when the user changes either the active sort or sort direction. */\n  @Output('matSortChange') readonly sortChange = new EventEmitter<Sort>();\n\n  /**\n   * Register function to be used by the contained MatSortables. Adds the MatSortable to the\n   * collection of MatSortables.\n   */\n  register(sortable: MatSortable) {\n    if (!sortable.id) {\n      throw getSortHeaderMissingIdError();\n    }\n\n    if (this.sortables.has(sortable.id)) {\n      throw getSortDuplicateSortableIdError(sortable.id);\n    }\n    this.sortables.set(sortable.id, sortable);\n  }\n\n  /**\n   * Unregister function to be used by the contained MatSortables. Removes the MatSortable from the\n   * collection of contained MatSortables.\n   */\n  deregister(sortable: MatSortable) {\n    this.sortables.delete(sortable.id);\n  }\n\n  /** Sets the active sort id and determines the new sort direction. */\n  sort(sortable: MatSortable) {\n    if (this.active != sortable.id) {\n      this.active = sortable.id;\n      this.direction = sortable.start ? sortable.start : this.start;\n    } else {\n      this.direction = this.getNextSortDirection(sortable);\n    }\n\n    this.sortChange.next({active: this.active, direction: this.direction});\n  }\n\n  /** Returns the next sort direction of the active sortable, checking for potential overrides. */\n  getNextSortDirection(sortable: MatSortable): SortDirection {\n    if (!sortable) { return ''; }\n\n    // Get the sort direction cycle with the potential sortable overrides.\n    const disableClear = sortable.disableClear != null ? sortable.disableClear : this.disableClear;\n    let sortDirectionCycle = getSortDirectionCycle(sortable.start || this.start, disableClear);\n\n    // Get and return the next direction in the cycle\n    let nextDirectionIndex = sortDirectionCycle.indexOf(this.direction) + 1;\n    if (nextDirectionIndex >= sortDirectionCycle.length) { nextDirectionIndex = 0; }\n    return sortDirectionCycle[nextDirectionIndex];\n  }\n\n  ngOnChanges() {\n    this._stateChanges.next();\n  }\n\n  ngOnDestroy() {\n    this._stateChanges.complete();\n  }\n}\n\n/** Returns the sort direction cycle to use given the provided parameters of order and clear. */\nfunction getSortDirectionCycle(start: 'asc' | 'desc',\n                               disableClear: boolean): SortDirection[] {\n  let sortOrder: SortDirection[] = ['asc', 'desc'];\n  if (start == 'desc') { sortOrder.reverse(); }\n  if (!disableClear) { sortOrder.push(''); }\n\n  return sortOrder;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, SkipSelf, Optional} from '@angular/core';\nimport {Subject} from 'rxjs/Subject';\nimport {SortDirection} from './sort-direction';\n\n/**\n * To modify the labels and text displayed, create a new instance of MatSortHeaderIntl and\n * include it in a custom provider.\n */\n@Injectable()\nexport class MatSortHeaderIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  changes: Subject<void> = new Subject<void>();\n\n  /** ARIA label for the sorting button. */\n  sortButtonLabel = (id: string) => {\n    return `Change sorting for ${id}`;\n  }\n\n  /** A label to describe the current sort (visible only to screenreaders). */\n  sortDescriptionLabel = (id: string, direction: SortDirection) => {\n    return `Sorted by ${id} ${direction == 'asc' ? 'ascending' : 'descending'}`;\n  }\n}\n/** @docs-private */\nexport function MAT_SORT_HEADER_INTL_PROVIDER_FACTORY(parentIntl: MatSortHeaderIntl) {\n  return parentIntl || new MatSortHeaderIntl();\n}\n\n/** @docs-private */\nexport const MAT_SORT_HEADER_INTL_PROVIDER = {\n  // If there is already an MatSortHeaderIntl available, use that. Otherwise, provide a new one.\n  provide: MatSortHeaderIntl,\n  deps: [[new Optional(), new SkipSelf(), MatSortHeaderIntl]],\n  useFactory: MAT_SORT_HEADER_INTL_PROVIDER_FACTORY\n};\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  Optional,\n  ViewEncapsulation\n} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  keyframes,\n} from '@angular/animations';\nimport {CdkColumnDef} from '@angular/cdk/table';\nimport {Subscription} from 'rxjs/Subscription';\nimport {merge} from 'rxjs/observable/merge';\nimport {MatSort, MatSortable} from './sort';\nimport {MatSortHeaderIntl} from './sort-header-intl';\nimport {getSortHeaderNotContainedWithinSortError} from './sort-errors';\nimport {AnimationCurves, AnimationDurations} from '@angular/material/core';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\n\n\nconst SORT_ANIMATION_TRANSITION =\n    AnimationDurations.ENTERING + ' ' + AnimationCurves.STANDARD_CURVE;\n\n// Boilerplate for applying mixins to the sort header.\n/** @docs-private */\nexport class MatSortHeaderBase {}\nexport const _MatSortHeaderMixinBase = mixinDisabled(MatSortHeaderBase);\n\n\n/**\n * Applies sorting behavior (click to change sort) and styles to an element, including an\n * arrow to display the current sort direction.\n *\n * Must be provided with an id and contained within a parent MatSort directive.\n *\n * If used on header cells in a CdkTable, it will automatically default its id from its containing\n * column definition.\n */\n@Component({\n  moduleId: module.id,\n  selector: '[mat-sort-header]',\n  exportAs: 'matSortHeader',\n  templateUrl: 'sort-header.html',\n  styleUrls: ['sort-header.css'],\n  host: {\n    '(click)': '_handleClick()',\n    '[class.mat-sort-header-sorted]': '_isSorted()',\n    '[class.mat-sort-header-disabled]': '_isDisabled()',\n  },\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  animations: [\n    trigger('indicator', [\n      state('asc', style({transform: 'translateY(0px)'})),\n      // 10px is the height of the sort indicator, minus the width of the pointers\n      state('desc', style({transform: 'translateY(10px)'})),\n      transition('asc <=> desc', animate(SORT_ANIMATION_TRANSITION))\n    ]),\n    trigger('leftPointer', [\n      state('asc', style({transform: 'rotate(-45deg)'})),\n      state('desc', style({transform: 'rotate(45deg)'})),\n      transition('asc <=> desc', animate(SORT_ANIMATION_TRANSITION))\n    ]),\n    trigger('rightPointer', [\n      state('asc', style({transform: 'rotate(45deg)'})),\n      state('desc', style({transform: 'rotate(-45deg)'})),\n      transition('asc <=> desc', animate(SORT_ANIMATION_TRANSITION))\n    ]),\n    trigger('indicatorToggle', [\n      transition('void => asc', animate(SORT_ANIMATION_TRANSITION, keyframes([\n        style({transform: 'translateY(25%)', opacity: 0}),\n        style({transform: 'none', opacity: 1})\n      ]))),\n      transition('asc => void', animate(SORT_ANIMATION_TRANSITION, keyframes([\n        style({transform: 'none', opacity: 1}),\n        style({transform: 'translateY(-25%)', opacity: 0})\n      ]))),\n      transition('void => desc', animate(SORT_ANIMATION_TRANSITION, keyframes([\n        style({transform: 'translateY(-25%)', opacity: 0}),\n        style({transform: 'none', opacity: 1})\n      ]))),\n      transition('desc => void', animate(SORT_ANIMATION_TRANSITION, keyframes([\n        style({transform: 'none', opacity: 1}),\n        style({transform: 'translateY(25%)', opacity: 0})\n      ]))),\n    ])\n  ]\n})\nexport class MatSortHeader extends _MatSortHeaderMixinBase implements MatSortable, CanDisable {\n  private _rerenderSubscription: Subscription;\n\n  /**\n   * ID of this sort header. If used within the context of a CdkColumnDef, this will default to\n   * the column's name.\n   */\n  @Input('mat-sort-header') id: string;\n\n  /** Sets the position of the arrow that displays when sorted. */\n  @Input() arrowPosition: 'before' | 'after' = 'after';\n\n  /** Overrides the sort start value of the containing MatSort for this MatSortable. */\n  @Input('start') start: 'asc' | 'desc';\n\n  /** Overrides the disable clear value of the containing MatSort for this MatSortable. */\n  @Input()\n  get disableClear(): boolean { return this._disableClear; }\n  set disableClear(v) { this._disableClear = coerceBooleanProperty(v); }\n  private _disableClear: boolean;\n\n  constructor(public _intl: MatSortHeaderIntl,\n              changeDetectorRef: ChangeDetectorRef,\n              @Optional() public _sort: MatSort,\n              @Optional() public _cdkColumnDef: CdkColumnDef) {\n\n    super();\n\n    if (!_sort) {\n      throw getSortHeaderNotContainedWithinSortError();\n    }\n\n    this._rerenderSubscription = merge(_sort.sortChange, _sort._stateChanges, _intl.changes)\n      .subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngOnInit() {\n    if (!this.id && this._cdkColumnDef) {\n      this.id = this._cdkColumnDef.name;\n    }\n\n    this._sort.register(this);\n  }\n\n  ngOnDestroy() {\n    this._sort.deregister(this);\n    this._rerenderSubscription.unsubscribe();\n  }\n\n  /** Handles click events on the header. */\n  _handleClick() {\n    if (!this._isDisabled()) {\n      this._sort.sort(this);\n    }\n  }\n\n  /** Whether this MatSortHeader is currently sorted in either ascending or descending order. */\n  _isSorted() {\n    return this._sort.active == this.id &&\n        (this._sort.direction === 'asc' || this._sort.direction === 'desc');\n  }\n\n  _isDisabled() {\n    return this._sort.disabled || this.disabled;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, TemplateRef} from '@angular/core';\nimport {CdkStepLabel} from '@angular/cdk/stepper';\n\n@Directive({\n  selector: '[matStepLabel]',\n})\nexport class MatStepLabel extends CdkStepLabel {\n  constructor(template: TemplateRef<any>) {\n    super(template);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs/Subject';\n\n\n/** Stepper data that is required for internationalization. */\n@Injectable()\nexport class MatStepperIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  changes: Subject<void> = new Subject<void>();\n\n  /** Label that is rendered below optional steps. */\n  optionalLabel = 'Optional';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty, coerceNumberProperty} from '@angular/cdk/coercion';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatStepLabel} from './step-label';\nimport {MatStepperIntl} from './stepper-intl';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-step-header',\n  templateUrl: 'step-header.html',\n  styleUrls: ['step-header.css'],\n  host: {\n    'class': 'mat-step-header',\n    'role': 'tab',\n  },\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatStepHeader implements OnDestroy {\n  private _intlSubscription: Subscription;\n\n  /** Icon for the given step. */\n  @Input() icon: string;\n\n  /** Label of the given step. */\n  @Input() label: MatStepLabel | string;\n\n  /** Index of the given step. */\n  @Input()\n  get index() { return this._index; }\n  set index(value: any) {\n    this._index = coerceNumberProperty(value);\n  }\n  private _index: number;\n\n  /** Whether the given step is selected. */\n  @Input()\n  get selected() { return this._selected; }\n  set selected(value: any) {\n    this._selected = coerceBooleanProperty(value);\n  }\n  private _selected: boolean;\n\n  /** Whether the given step label is active. */\n  @Input()\n  get active() { return this._active; }\n  set active(value: any) {\n    this._active = coerceBooleanProperty(value);\n  }\n  private _active: boolean;\n\n  /** Whether the given step is optional. */\n  @Input()\n  get optional() { return this._optional; }\n  set optional(value: any) {\n    this._optional = coerceBooleanProperty(value);\n  }\n  private _optional: boolean;\n\n  constructor(\n    public _intl: MatStepperIntl,\n    private _focusMonitor: FocusMonitor,\n    private _element: ElementRef,\n    changeDetectorRef: ChangeDetectorRef) {\n    _focusMonitor.monitor(_element.nativeElement, true);\n    this._intlSubscription = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngOnDestroy() {\n    this._intlSubscription.unsubscribe();\n    this._focusMonitor.stopMonitoring(this._element.nativeElement);\n  }\n\n  /** Returns string label of given step if it is a text label. */\n  _stringLabel(): string | null {\n    return this.label instanceof MatStepLabel ? null : this.label;\n  }\n\n  /** Returns MatStepLabel if the label of given step is a template label. */\n  _templateLabel(): MatStepLabel | null {\n    return this.label instanceof MatStepLabel ? this.label : null;\n  }\n\n  /** Returns the host HTML element. */\n  _getHostElement() {\n    return this._element.nativeElement;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {CdkStep, CdkStepper} from '@angular/cdk/stepper';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {\n  AfterContentInit,\n  Component,\n  ContentChild,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Inject,\n  QueryList,\n  SkipSelf,\n  ViewChildren,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Optional,\n} from '@angular/core';\nimport {FormControl, FormGroupDirective, NgForm} from '@angular/forms';\nimport {ErrorStateMatcher} from '@angular/material/core';\nimport {MatStepHeader} from './step-header';\nimport {MatStepLabel} from './step-label';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-step',\n  templateUrl: 'step.html',\n  providers: [{provide: ErrorStateMatcher, useExisting: MatStep}],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'matStep',\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatStep extends CdkStep implements ErrorStateMatcher {\n  /** Content for step label given by <ng-template matStepLabel>. */\n  @ContentChild(MatStepLabel) stepLabel: MatStepLabel;\n\n  constructor(@Inject(forwardRef(() => MatStepper)) stepper: MatStepper,\n              @SkipSelf() private _errorStateMatcher: ErrorStateMatcher) {\n    super(stepper);\n  }\n\n  /** Custom error state matcher that additionally checks for validity of interacted form. */\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const originalErrorState = this._errorStateMatcher.isErrorState(control, form);\n\n    // Custom error state checks for the validity of form that is not submitted or touched\n    // since user can trigger a form change by calling for another step without directly\n    // interacting with the current form.\n    const customErrorState = !!(control && control.invalid && this.interacted);\n\n    return originalErrorState || customErrorState;\n  }\n}\n\n@Directive({\n  selector: '[matStepper]'\n})\nexport class MatStepper extends CdkStepper implements AfterContentInit {\n  /** The list of step headers of the steps in the stepper. */\n  @ViewChildren(MatStepHeader, {read: ElementRef}) _stepHeader: QueryList<ElementRef>;\n\n  /** Steps that the stepper holds. */\n  @ContentChildren(MatStep) _steps: QueryList<MatStep>;\n\n  ngAfterContentInit() {\n    // Mark the component for change detection whenever the content children query changes\n    this._steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => this._stateChanged());\n  }\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-horizontal-stepper',\n  exportAs: 'matHorizontalStepper',\n  templateUrl: 'stepper-horizontal.html',\n  styleUrls: ['stepper.css'],\n  inputs: ['selectedIndex'],\n  host: {\n    'class': 'mat-stepper-horizontal',\n    'aria-orientation': 'horizontal',\n    'role': 'tablist',\n  },\n  animations: [\n    trigger('stepTransition', [\n      state('previous', style({transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden'})),\n      state('current', style({transform: 'none', visibility: 'visible'})),\n      state('next', style({transform: 'translate3d(100%, 0, 0)', visibility: 'hidden'})),\n      transition('* => *', animate('500ms cubic-bezier(0.35, 0, 0.25, 1)'))\n    ])\n  ],\n  providers: [{provide: MatStepper, useExisting: MatHorizontalStepper}],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatHorizontalStepper extends MatStepper { }\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-vertical-stepper',\n  exportAs: 'matVerticalStepper',\n  templateUrl: 'stepper-vertical.html',\n  styleUrls: ['stepper.css'],\n  inputs: ['selectedIndex'],\n  host: {\n    'class': 'mat-stepper-vertical',\n    'aria-orientation': 'vertical',\n    'role': 'tablist',\n  },\n  animations: [\n    trigger('stepTransition', [\n      state('previous', style({height: '0px', visibility: 'hidden'})),\n      state('next', style({height: '0px', visibility: 'hidden'})),\n      state('current', style({height: '*', visibility: 'visible'})),\n      transition('* <=> current', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))\n    ])\n  ],\n  providers: [{provide: MatStepper, useExisting: MatVerticalStepper}],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatVerticalStepper extends MatStepper {\n  constructor(@Optional() dir: Directionality, changeDetectorRef: ChangeDetectorRef) {\n    super(dir, changeDetectorRef);\n    this._orientation = 'vertical';\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\nimport {CdkStepper, CdkStepperNext, CdkStepperPrevious} from '@angular/cdk/stepper';\nimport {MatStepper} from './stepper';\n\n/** Button that moves to the next step in a stepper workflow. */\n@Directive({\n  selector: 'button[matStepperNext]',\n  host: {'(click)': '_stepper.next()'},\n  providers: [{provide: CdkStepper, useExisting: MatStepper}]\n})\nexport class MatStepperNext extends CdkStepperNext { }\n\n/** Button that moves to the previous step in a stepper workflow. */\n@Directive({\n  selector: 'button[matStepperPrevious]',\n  host: {'(click)': '_stepper.previous()'},\n  providers: [{provide: CdkStepper, useExisting: MatStepper}]\n})\nexport class MatStepperPrevious extends CdkStepperPrevious { }\n","import { Observable, ObservableInput } from '../Observable';\nimport { ArrayObservable } from '../observable/ArrayObservable';\nimport { isArray } from '../util/isArray';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../interfaces';\n\nconst none = {};\n\n/* tslint:disable:max-line-length */\nexport function combineLatest<T, R>(project: (v1: T) => R): OperatorFunction<T, R>;\nexport function combineLatest<T, T2, R>(v2: ObservableInput<T2>, project: (v1: T, v2: T2) => R): OperatorFunction<T, R>;\nexport function combineLatest<T, T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, project: (v1: T, v2: T2, v3: T3) => R): OperatorFunction<T, R>;\nexport function combineLatest<T, T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, project: (v1: T, v2: T2, v3: T3, v4: T4) => R): OperatorFunction<T, R>;\nexport function combineLatest<T, T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): OperatorFunction<T, R>;\nexport function combineLatest<T, T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, project: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): OperatorFunction<T, R> ;\nexport function combineLatest<T, T2>(v2: ObservableInput<T2>): OperatorFunction<T, [T, T2]>;\nexport function combineLatest<T, T2, T3>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): OperatorFunction<T, [T, T2, T3]>;\nexport function combineLatest<T, T2, T3, T4>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): OperatorFunction<T, [T, T2, T3, T4]>;\nexport function combineLatest<T, T2, T3, T4, T5>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): OperatorFunction<T, [T, T2, T3, T4, T5]>;\nexport function combineLatest<T, T2, T3, T4, T5, T6>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): OperatorFunction<T, [T, T2, T3, T4, T5, T6]> ;\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): OperatorFunction<T, R>;\nexport function combineLatest<T, R>(array: ObservableInput<T>[]): OperatorFunction<T, Array<T>>;\nexport function combineLatest<T, TOther, R>(array: ObservableInput<TOther>[], project: (v1: T, ...values: Array<TOther>) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from this Observable with values from\n * Observables passed as arguments. This is done by subscribing to each\n * Observable, in order, and collecting an array of each of the most recent\n * values any time any of the input Observables emits, then either taking that\n * array and passing it as arguments to an optional `project` function and\n * emitting the return value of that, or just emitting the array of recent\n * values directly if there is no `project` function.\n *\n * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method combineLatest\n * @owner Observable\n */\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<any> |\n                                                    Array<ObservableInput<any>> |\n                                                    ((...values: Array<any>) => R)>): OperatorFunction<T, R> {\n  let project: (...values: Array<any>) => R = null;\n  if (typeof observables[observables.length - 1] === 'function') {\n    project = <(...values: Array<any>) => R>observables.pop();\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = (<any>observables[0]).slice();\n  }\n\n  return (source: Observable<T>) => source.lift.call(new ArrayObservable([source, ...observables]), new CombineLatestOperator(project));\n}\n\nexport class CombineLatestOperator<T, R> implements Operator<T, R> {\n  constructor(private project?: (...values: Array<any>) => R) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class CombineLatestSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private active: number = 0;\n  private values: any[] = [];\n  private observables: any[] = [];\n  private toRespond: number;\n\n  constructor(destination: Subscriber<R>, private project?: (...values: Array<any>) => R) {\n    super(destination);\n  }\n\n  protected _next(observable: any) {\n    this.values.push(none);\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      this.active = len;\n      this.toRespond = len;\n      for (let i = 0; i < len; i++) {\n        const observable = observables[i];\n        this.add(subscribeToResult(this, observable, observable, i));\n      }\n    }\n  }\n\n  notifyComplete(unused: Subscriber<R>): void {\n    if ((this.active -= 1) === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const values = this.values;\n    const oldVal = values[outerIndex];\n    const toRespond = !this.toRespond\n      ? 0\n      : oldVal === none ? --this.toRespond : this.toRespond;\n    values[outerIndex] = innerValue;\n\n    if (toRespond === 0) {\n      if (this.project) {\n        this._tryProject(values);\n      } else {\n        this.destination.next(values.slice());\n      }\n    }\n  }\n\n  private _tryProject(values: any[]) {\n    let result: any;\n    try {\n      result = this.project.apply(this, values);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\nimport {CDK_TABLE_TEMPLATE, CdkTable} from '@angular/cdk/table';\n\n/**\n * Wrapper for the CdkTable with Material design styles.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-table',\n  exportAs: 'matTable',\n  template: CDK_TABLE_TEMPLATE,\n  styleUrls: ['table.css'],\n  host: {\n    'class': 'mat-table',\n  },\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatTable<T> extends CdkTable<T> { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef, Input} from '@angular/core';\nimport {\n  CdkCell,\n  CdkCellDef,\n  CdkColumnDef,\n  CdkHeaderCell,\n  CdkHeaderCellDef,\n} from '@angular/cdk/table';\n\n/**\n * Cell definition for the mat-table.\n * Captures the template of a column's data row cell as well as cell-specific properties.\n */\n@Directive({\n  selector: '[matCellDef]',\n  providers: [{provide: CdkCellDef, useExisting: MatCellDef}]\n})\nexport class MatCellDef extends CdkCellDef { }\n\n/**\n * Header cell definition for the mat-table.\n * Captures the template of a column's header cell and as well as cell-specific properties.\n */\n@Directive({\n  selector: '[matHeaderCellDef]',\n  providers: [{provide: CdkHeaderCellDef, useExisting: MatHeaderCellDef}]\n})\nexport class MatHeaderCellDef extends CdkHeaderCellDef { }\n\n/**\n * Column definition for the mat-table.\n * Defines a set of cells available for a table column.\n */\n@Directive({\n  selector: '[matColumnDef]',\n  providers: [{provide: CdkColumnDef, useExisting: MatColumnDef}],\n})\nexport class MatColumnDef extends CdkColumnDef {\n  /** Unique name for this column. */\n  @Input('matColumnDef') name: string;\n}\n\n/** Header cell template container that adds the right classes and role. */\n@Directive({\n  selector: 'mat-header-cell',\n  host: {\n    'class': 'mat-header-cell',\n    'role': 'columnheader',\n  },\n})\nexport class MatHeaderCell extends CdkHeaderCell {\n  constructor(columnDef: CdkColumnDef,\n              elementRef: ElementRef) {\n    super(columnDef, elementRef);\n    elementRef.nativeElement.classList.add(`mat-column-${columnDef.cssClassFriendlyName}`);\n  }\n}\n\n/** Cell template container that adds the right classes and role. */\n@Directive({\n  selector: 'mat-cell',\n  host: {\n    'class': 'mat-cell',\n    'role': 'gridcell',\n  },\n})\nexport class MatCell extends CdkCell {\n  constructor(columnDef: CdkColumnDef,\n              elementRef: ElementRef) {\n    super(columnDef, elementRef);\n    elementRef.nativeElement.classList.add(`mat-column-${columnDef.cssClassFriendlyName}`);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ChangeDetectionStrategy, Component, Directive, ViewEncapsulation} from '@angular/core';\nimport {\n  CDK_ROW_TEMPLATE,\n  CdkHeaderRow,\n  CdkHeaderRowDef,\n  CdkRow,\n  CdkRowDef,\n} from '@angular/cdk/table';\n\n/**\n * Header row definition for the mat-table.\n * Captures the header row's template and other header properties such as the columns to display.\n */\n@Directive({\n  selector: '[matHeaderRowDef]',\n  providers: [{provide: CdkHeaderRowDef, useExisting: MatHeaderRowDef}],\n  inputs: ['columns: matHeaderRowDef'],\n})\nexport class MatHeaderRowDef extends CdkHeaderRowDef { }\n\n/**\n * Data row definition for the mat-table.\n * Captures the header row's template and other row properties such as the columns to display and\n * a when predicate that describes when this row should be used.\n */\n@Directive({\n  selector: '[matRowDef]',\n  providers: [{provide: CdkRowDef, useExisting: MatRowDef}],\n  inputs: ['columns: matRowDefColumns', 'when: matRowDefWhen'],\n})\nexport class MatRowDef<T> extends CdkRowDef<T> {\n}\n\n/** Header template container that contains the cell outlet. Adds the right class and role. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-header-row',\n  template: CDK_ROW_TEMPLATE,\n  host: {\n    'class': 'mat-header-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'matHeaderRow',\n  preserveWhitespaces: false,\n})\nexport class MatHeaderRow extends CdkHeaderRow { }\n\n/** Data row template container that contains the cell outlet. Adds the right class and role. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-row',\n  template: CDK_ROW_TEMPLATE,\n  host: {\n    'class': 'mat-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'matRow',\n  preserveWhitespaces: false,\n})\nexport class MatRow extends CdkRow { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DataSource} from '@angular/cdk/table';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {Subscription} from 'rxjs/Subscription';\nimport {combineLatest} from 'rxjs/operators/combineLatest';\nimport {map} from 'rxjs/operators/map';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {empty} from 'rxjs/observable/empty';\n\n/**\n * Data source that accepts a client-side data array and includes native support of filtering,\n * sorting (using MatSort), and pagination (using MatPaginator).\n *\n * Allows for sort customization by overriding sortingDataAccessor, which defines how data\n * properties are accessed. Also allows for filter customization by overriding filterTermAccessor,\n * which defines how row data is converted to a string for filter matching.\n */\nexport class MatTableDataSource<T> implements DataSource<T> {\n  /** Stream that emits when a new data array is set on the data source. */\n  private _data: BehaviorSubject<T[]>;\n\n  /** Stream emitting render data to the table (depends on ordered data changes). */\n  private _renderData = new BehaviorSubject<T[]>([]);\n\n  /** Stream that emits when a new filter string is set on the data source. */\n  private _filter = new BehaviorSubject<string>('');\n\n  /**\n   * Subscription to the changes that should trigger an update to the table's rendered rows, such\n   * as filtering, sorting, pagination, or base data changes.\n   */\n  _renderChangesSubscription: Subscription;\n\n  /**\n   * The filtered set of data that has been matched by the filter string, or all the data if there\n   * is no filter. Useful for knowing the set of data the table represents.\n   * For example, a 'selectAll()' function would likely want to select the set of filtered data\n   * shown to the user rather than all the data.\n   */\n  filteredData: T[];\n\n  /** Array of data that should be rendered by the table, where each object represents one row. */\n  set data(data: T[]) { this._data.next(data); }\n  get data() { return this._data.value; }\n\n  /**\n   * Filter term that should be used to filter out objects from the data array. To override how\n   * data objects match to this filter string, provide a custom function for filterPredicate.\n   */\n  set filter(filter: string) { this._filter.next(filter); }\n  get filter(): string { return this._filter.value; }\n\n  /**\n   * Instance of the MatSort directive used by the table to control its sorting. Sort changes\n   * emitted by the MatSort will trigger an update to the table's rendered data.\n   */\n  set sort(sort: MatSort|null) {\n    this._sort = sort;\n    this._updateChangeSubscription();\n  }\n  get sort(): MatSort|null { return this._sort; }\n  private _sort: MatSort|null;\n\n  /**\n   * Instance of the MatPaginator component used by the table to control what page of the data is\n   * displayed. Page changes emitted by the MatPaginator will trigger an update to the\n   * table's rendered data.\n   *\n   * Note that the data source uses the paginator's properties to calculate which page of data\n   * should be displayed. If the paginator receives its properties as template inputs,\n   * e.g. `[pageLength]=100` or `[pageIndex]=1`, then be sure that the paginator's view has been\n   * initialized before assigning it to this data source.\n   */\n  set paginator(paginator: MatPaginator|null) {\n    this._paginator = paginator;\n    this._updateChangeSubscription();\n  }\n  get paginator(): MatPaginator|null { return this._paginator; }\n  private _paginator: MatPaginator|null;\n\n  /**\n   * Data accessor function that is used for accessing data properties for sorting.\n   * This default function assumes that the sort header IDs (which defaults to the column name)\n   * matches the data's properties (e.g. column Xyz represents data['Xyz']).\n   * May be set to a custom function for different behavior.\n   * @param data Data object that is being accessed.\n   * @param sortHeaderId The name of the column that represents the data.\n   */\n  sortingDataAccessor: ((data: T, sortHeaderId: string) => string|number) =\n      (data: T, sortHeaderId: string): string|number => {\n    const value: any = data[sortHeaderId];\n\n    // If the value is a string and only whitespace, return the value.\n    // Otherwise +value will convert it to 0.\n    if (typeof value === 'string' && !value.trim()) {\n      return value;\n    }\n\n    return isNaN(+value) ? value : +value;\n  }\n\n  /**\n   * Checks if a data object matches the data source's filter string. By default, each data object\n   * is converted to a string of its properties and returns true if the filter has\n   * at least one occurrence in that string. By default, the filter string has its whitespace\n   * trimmed and the match is case-insensitive. May be overriden for a custom implementation of\n   * filter matching.\n   * @param data Data object used to check against the filter.\n   * @param filter Filter string that has been set on the data source.\n   * @returns Whether the filter matches against the data\n   */\n  filterPredicate: ((data: T, filter: string) => boolean) = (data: T, filter: string): boolean => {\n    // Transform the data into a lowercase string of all property values.\n    const accumulator = (currentTerm, key) => currentTerm + data[key];\n    const dataStr = Object.keys(data).reduce(accumulator, '').toLowerCase();\n\n    // Transform the filter by converting it to lowercase and removing whitespace.\n    const transformedFilter = filter.trim().toLowerCase();\n\n    return dataStr.indexOf(transformedFilter) != -1;\n  }\n\n  constructor(initialData: T[] = []) {\n    this._data = new BehaviorSubject<T[]>(initialData);\n    this._updateChangeSubscription();\n  }\n\n  /**\n   * Subscribe to changes that should trigger an update to the table's rendered rows. When the\n   * changes occur, process the current state of the filter, sort, and pagination along with\n   * the provided base data and send it to the table for rendering.\n   */\n  _updateChangeSubscription() {\n    // Sorting and/or pagination should be watched if MatSort and/or MatPaginator are provided.\n    // Otherwise, use an empty observable stream to take their place.\n    const sortChange = this._sort ? this._sort.sortChange : empty();\n    const pageChange = this._paginator ? this._paginator.page : empty();\n\n    if (this._renderChangesSubscription) {\n      this._renderChangesSubscription.unsubscribe();\n    }\n\n    // Watch for base data or filter changes to provide a filtered set of data.\n    this._renderChangesSubscription = this._data.pipe(\n      combineLatest(this._filter),\n      map(([data]) => this._filterData(data)),\n      // Watch for filtered data or sort changes to provide an ordered set of data.\n      combineLatest(sortChange.pipe(startWith(null!))),\n      map(([data]) => this._orderData(data)),\n      // Watch for ordered data or page changes to provide a paged set of data.\n      combineLatest(pageChange.pipe(startWith(null!))),\n      map(([data]) => this._pageData(data))\n    )\n    // Watched for paged data changes and send the result to the table to render.\n    .subscribe(data => this._renderData.next(data));\n  }\n\n  /**\n   * Returns a filtered data array where each filter object contains the filter string within\n   * the result of the filterTermAccessor function. If no filter is set, returns the data array\n   * as provided.\n   */\n  _filterData(data: T[]) {\n    // If there is a filter string, filter out data that does not contain it.\n    // Each data object is converted to a string using the function defined by filterTermAccessor.\n    // May be overriden for customization.\n    this.filteredData =\n        !this.filter ? data : data.filter(obj => this.filterPredicate(obj, this.filter));\n\n    if (this.paginator) { this._updatePaginator(this.filteredData.length); }\n\n    return this.filteredData;\n  }\n\n  /**\n   * Returns a sorted copy of the data if MatSort has a sort applied, otherwise just returns the\n   * data array as provided. Uses the default data accessor for data lookup, unless a\n   * sortDataAccessor function is defined.\n   */\n  _orderData(data: T[]): T[] {\n    // If there is no active sort or direction, return the data without trying to sort.\n    if (!this.sort || !this.sort.active || this.sort.direction == '') { return data; }\n\n    const active = this.sort.active;\n    const direction = this.sort.direction;\n\n    return data.slice().sort((a, b) => {\n      let valueA = this.sortingDataAccessor(a, active);\n      let valueB = this.sortingDataAccessor(b, active);\n      return (valueA < valueB ? -1 : 1) * (direction == 'asc' ? 1 : -1);\n    });\n  }\n\n  /**\n   * Returns a paged splice of the provided data array according to the provided MatPaginator's page\n   * index and length. If there is no paginator provided, returns the data array as provided.\n   */\n  _pageData(data: T[]): T[] {\n    if (!this.paginator) { return data; }\n\n    const startIndex = this.paginator.pageIndex * this.paginator.pageSize;\n    return data.slice().splice(startIndex, this.paginator.pageSize);\n  }\n\n  /**\n   * Updates the paginator to reflect the length of the filtered data, and makes sure that the page\n   * index does not exceed the paginator's last page. Values are changed in a resolved promise to\n   * guard against making property changes within a round of change detection.\n   */\n  _updatePaginator(filteredDataLength: number) {\n    Promise.resolve().then(() => {\n      if (!this.paginator) { return; }\n\n      this.paginator.length = filteredDataLength;\n\n      // If the page index is set beyond the page, reduce it to the last page.\n      if (this.paginator.pageIndex > 0) {\n        const lastPageIndex = Math.ceil(this.paginator.length / this.paginator.pageSize) - 1 || 0;\n        this.paginator.pageIndex = Math.min(this.paginator.pageIndex, lastPageIndex);\n      }\n    });\n  }\n\n  /**\n   * Used by the MatTable. Called when it connects to the data source.\n   * @docs-private\n   */\n  connect() { return this._renderData; }\n\n  /**\n   * Used by the MatTable. Called when it is destroyed. No-op.\n   * @docs-private\n   */\n  disconnect() { }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef, NgZone} from '@angular/core';\n\n\n/**\n * The ink-bar is used to display and animate the line underneath the current active tab label.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-ink-bar',\n  host: {\n    'class': 'mat-ink-bar',\n  },\n})\nexport class MatInkBar {\n  constructor(\n    private _elementRef: ElementRef,\n    private _ngZone: NgZone) {}\n\n  /**\n   * Calculates the styles from the provided element in order to align the ink-bar to that element.\n   * Shows the ink bar if previously set as hidden.\n   * @param element\n   */\n  alignToElement(element: HTMLElement) {\n    this.show();\n\n    if (typeof requestAnimationFrame !== 'undefined') {\n      this._ngZone.runOutsideAngular(() => {\n        requestAnimationFrame(() => this._setStyles(element));\n      });\n    } else {\n      this._setStyles(element);\n    }\n  }\n\n  /** Shows the ink bar. */\n  show(): void {\n    this._elementRef.nativeElement.style.visibility = 'visible';\n  }\n\n  /** Hides the ink bar. */\n  hide(): void {\n    this._elementRef.nativeElement.style.visibility = 'hidden';\n  }\n\n  /**\n   * Sets the proper styles to the ink bar element.\n   * @param element\n   */\n  private _setStyles(element: HTMLElement) {\n    const inkBar: HTMLElement = this._elementRef.nativeElement;\n\n    inkBar.style.left = element ? (element.offsetLeft || 0) + 'px' : '0';\n    inkBar.style.width = element ? (element.offsetWidth || 0) + 'px' : '0';\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, TemplateRef, ViewContainerRef} from '@angular/core';\nimport {CdkPortal} from '@angular/cdk/portal';\n\n/** Used to flag tab labels for use with the portal directive */\n@Directive({\n  selector: '[mat-tab-label], [matTabLabel]',\n})\nexport class MatTabLabel extends CdkPortal {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\nimport {Subject} from 'rxjs/Subject';\nimport {MatTabLabel} from './tab-label';\n\n\n// Boilerplate for applying mixins to MatTab.\n/** @docs-private */\nexport class MatTabBase {}\nexport const _MatTabMixinBase = mixinDisabled(MatTabBase);\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-tab',\n  templateUrl: 'tab.html',\n  inputs: ['disabled'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  exportAs: 'matTab',\n})\nexport class MatTab extends _MatTabMixinBase implements OnInit, CanDisable, OnChanges, OnDestroy {\n  /** Content for the tab label given by <ng-template mat-tab-label>. */\n  @ContentChild(MatTabLabel) templateLabel: MatTabLabel;\n\n  /** Template inside the MatTab view that contains an <ng-content>. */\n  @ViewChild(TemplateRef) _content: TemplateRef<any>;\n\n  /** The plain text label for the tab, used when there is no template label. */\n  @Input('label') textLabel: string = '';\n\n  /** The portal that will be the hosted content of the tab */\n  private _contentPortal: TemplatePortal<any> | null = null;\n\n  /** @docs-private */\n  get content(): TemplatePortal<any> | null {\n    return this._contentPortal;\n  }\n\n  /** Emits whenever the label changes. */\n  _labelChange = new Subject<void>();\n\n  /** Emits whenever the disable changes */\n  _disableChange = new Subject<void>();\n\n  /**\n   * The relatively indexed position where 0 represents the center, negative is left, and positive\n   * represents the right.\n   */\n  position: number | null = null;\n\n  /**\n   * The initial relatively index origin of the tab if it was created and selected after there\n   * was already a selected tab. Provides context of what position the tab should originate from.\n   */\n  origin: number | null = null;\n\n  /**\n   * Whether the tab is currently active.\n   */\n  isActive = false;\n\n  constructor(private _viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.hasOwnProperty('textLabel')) {\n      this._labelChange.next();\n    }\n\n    if (changes.hasOwnProperty('disabled')) {\n      this._disableChange.next();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._disableChange.complete();\n    this._labelChange.complete();\n  }\n\n  ngOnInit(): void {\n    this._contentPortal = new TemplatePortal(this._content, this._viewContainerRef);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  Input,\n  Inject,\n  Output,\n  EventEmitter,\n  OnDestroy,\n  OnInit,\n  ElementRef,\n  Directive,\n  Optional,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ComponentFactoryResolver,\n  ViewContainerRef,\n  forwardRef,\n} from '@angular/core';\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  AnimationEvent,\n} from '@angular/animations';\nimport {TemplatePortal, CdkPortalOutlet} from '@angular/cdk/portal';\nimport {Directionality, Direction} from '@angular/cdk/bidi';\nimport {Subscription} from 'rxjs/Subscription';\n\n/**\n * These position states are used internally as animation states for the tab body. Setting the\n * position state to left, right, or center will transition the tab body from its current\n * position to its respective state. If there is not current position (void, in the case of a new\n * tab body), then there will be no transition animation to its state.\n *\n * In the case of a new tab body that should immediately be centered with an animating transition,\n * then left-origin-center or right-origin-center can be used, which will use left or right as its\n * psuedo-prior state.\n */\nexport type MatTabBodyPositionState =\n    'left' | 'center' | 'right' | 'left-origin-center' | 'right-origin-center';\n\n/**\n * The origin state is an internally used state that is set on a new tab body indicating if it\n * began to the left or right of the prior selected index. For example, if the selected index was\n * set to 1, and a new tab is created and selected at index 2, then the tab body would have an\n * origin of right because its index was greater than the prior selected index.\n */\nexport type MatTabBodyOriginState = 'left' | 'right';\n\n/**\n * The portal host directive for the contents of the tab.\n * @docs-private\n */\n@Directive({\n  selector: '[matTabBodyHost]'\n})\nexport class MatTabBodyPortal extends CdkPortalOutlet implements OnInit, OnDestroy {\n  /** A subscription to events for when the tab body begins centering. */\n  private _centeringSub: Subscription;\n  /** A subscription to events for when the tab body finishes leaving from center position. */\n  private _leavingSub: Subscription;\n\n  constructor(\n    _componentFactoryResolver: ComponentFactoryResolver,\n    _viewContainerRef: ViewContainerRef,\n    @Inject(forwardRef(() => MatTabBody)) private _host: MatTabBody) {\n      super(_componentFactoryResolver, _viewContainerRef);\n  }\n\n  /** Set initial visibility or set up subscription for changing visibility. */\n  ngOnInit(): void {\n    if (this._host._isCenterPosition(this._host._position)) {\n      this.attach(this._host._content);\n    }\n    this._centeringSub = this._host._beforeCentering.subscribe((isCentering: boolean) => {\n      if (isCentering) {\n        if (!this.hasAttached()) {\n          this.attach(this._host._content);\n        }\n      }\n    });\n\n    this._leavingSub = this._host._afterLeavingCenter.subscribe(() => {\n      this.detach();\n    });\n  }\n\n  /** Clean up centering subscription. */\n  ngOnDestroy(): void {\n    if (this._centeringSub && !this._centeringSub.closed) {\n      this._centeringSub.unsubscribe();\n    }\n\n    if (this._leavingSub && !this._leavingSub.closed) {\n      this._leavingSub.unsubscribe();\n    }\n  }\n}\n\n/**\n * Wrapper for the contents of a tab.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-tab-body',\n  templateUrl: 'tab-body.html',\n  styleUrls: ['tab-body.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'mat-tab-body',\n  },\n  animations: [\n    trigger('translateTab', [\n      // Note: transitions to `none` instead of 0, because some browsers might blur the content.\n      state('center, void, left-origin-center, right-origin-center', style({transform: 'none'})),\n      state('left', style({transform: 'translate3d(-100%, 0, 0)'})),\n      state('right', style({transform: 'translate3d(100%, 0, 0)'})),\n      transition('* => left, * => right, left => center, right => center',\n          animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')),\n      transition('void => left-origin-center', [\n        style({transform: 'translate3d(-100%, 0, 0)'}),\n        animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')\n      ]),\n      transition('void => right-origin-center', [\n        style({transform: 'translate3d(100%, 0, 0)'}),\n        animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')\n      ])\n    ])\n  ]\n})\nexport class MatTabBody implements OnInit {\n  /** Event emitted when the tab begins to animate towards the center as the active tab. */\n  @Output() _onCentering: EventEmitter<number> = new EventEmitter<number>();\n\n  /** Event emitted before the centering of the tab begins. */\n  @Output() _beforeCentering: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  /** Event emitted before the centering of the tab begins. */\n  @Output() _afterLeavingCenter: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  /** Event emitted when the tab completes its animation towards the center. */\n  @Output() _onCentered: EventEmitter<void> = new EventEmitter<void>(true);\n\n  /** The tab body content to display. */\n  @Input('content') _content: TemplatePortal<any>;\n\n  /** The shifted index position of the tab body, where zero represents the active center tab. */\n  _position: MatTabBodyPositionState;\n  @Input('position') set position(position: number) {\n    if (position < 0) {\n      this._position = this._getLayoutDirection() == 'ltr' ? 'left' : 'right';\n    } else if (position > 0) {\n      this._position = this._getLayoutDirection() == 'ltr' ? 'right' : 'left';\n    } else {\n      this._position = 'center';\n    }\n  }\n\n  /** The origin position from which this tab should appear when it is centered into view. */\n  _origin: MatTabBodyOriginState;\n\n  /** The origin position from which this tab should appear when it is centered into view. */\n  @Input('origin') set origin(origin: number) {\n    if (origin == null) { return; }\n\n    const dir = this._getLayoutDirection();\n    if ((dir == 'ltr' && origin <= 0) || (dir == 'rtl' && origin > 0)) {\n      this._origin = 'left';\n    } else {\n      this._origin = 'right';\n    }\n  }\n\n  constructor(private _elementRef: ElementRef,\n              @Optional() private _dir: Directionality) { }\n\n  /**\n   * After initialized, check if the content is centered and has an origin. If so, set the\n   * special position states that transition the tab from the left or right before centering.\n   */\n  ngOnInit() {\n    if (this._position == 'center' && this._origin) {\n      this._position = this._origin == 'left' ? 'left-origin-center' : 'right-origin-center';\n    }\n  }\n\n  _onTranslateTabStarted(e: AnimationEvent): void {\n    const isCentering = this._isCenterPosition(e.toState);\n    this._beforeCentering.emit(isCentering);\n    if (isCentering) {\n      this._onCentering.emit(this._elementRef.nativeElement.clientHeight);\n    }\n  }\n\n  _onTranslateTabComplete(e: AnimationEvent): void {\n    // If the transition to the center is complete, emit an event.\n    if (this._isCenterPosition(e.toState) && this._isCenterPosition(this._position)) {\n      this._onCentered.emit();\n    }\n\n    if (this._isCenterPosition(e.fromState) && !this._isCenterPosition(this._position)) {\n      this._afterLeavingCenter.emit();\n    }\n  }\n\n  /** The text direction of the containing app. */\n  _getLayoutDirection(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /** Whether the provided position state is considered center, regardless of origin. */\n  _isCenterPosition(position: MatTabBodyPositionState|string): boolean {\n    return position == 'center' ||\n        position == 'left-origin-center' ||\n        position == 'right-origin-center';\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterContentChecked,\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {coerceBooleanProperty, coerceNumberProperty} from '@angular/cdk/coercion';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatTab} from './tab';\nimport {MatTabHeader} from './tab-header';\nimport {merge} from 'rxjs/observable/merge';\nimport {\n  CanColor,\n  CanDisableRipple,\n  mixinColor,\n  mixinDisableRipple,\n  ThemePalette\n} from '@angular/material/core';\n\n\n/** Used to generate unique ID's for each tab component */\nlet nextId = 0;\n\n/** A simple change event emitted on focus or selection changes. */\nexport class MatTabChangeEvent {\n  /** Index of the currently-selected tab. */\n  index: number;\n  /** Reference to the currently-selected tab. */\n  tab: MatTab;\n}\n\n/** Possible positions for the tab header. */\nexport type MatTabHeaderPosition = 'above' | 'below';\n\n// Boilerplate for applying mixins to MatTabGroup.\n/** @docs-private */\nexport class MatTabGroupBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatTabGroupMixinBase = mixinColor(mixinDisableRipple(MatTabGroupBase), 'primary');\n\n/**\n * Material design tab-group component.  Supports basic tab pairs (label + content) and includes\n * animated ink-bar, keyboard navigation, and screen reader.\n * See: https://www.google.com/design/spec/components/tabs.html\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-tab-group',\n  exportAs: 'matTabGroup',\n  templateUrl: 'tab-group.html',\n  styleUrls: ['tab-group.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['color', 'disableRipple'],\n  host: {\n    'class': 'mat-tab-group',\n    '[class.mat-tab-group-dynamic-height]': 'dynamicHeight',\n    '[class.mat-tab-group-inverted-header]': 'headerPosition === \"below\"',\n  },\n})\nexport class MatTabGroup extends _MatTabGroupMixinBase implements AfterContentInit,\n    AfterContentChecked, OnDestroy, CanColor, CanDisableRipple {\n\n  @ContentChildren(MatTab) _tabs: QueryList<MatTab>;\n\n  @ViewChild('tabBodyWrapper') _tabBodyWrapper: ElementRef;\n\n  /** The tab index that should be selected after the content has been checked. */\n  private _indexToSelect: number | null = 0;\n\n  /** Snapshot of the height of the tab body wrapper before another tab is activated. */\n  private _tabBodyWrapperHeight: number = 0;\n\n  /** Subscription to tabs being added/removed. */\n  private _tabsSubscription = Subscription.EMPTY;\n\n  /** Subscription to changes in the tab labels. */\n  private _tabLabelSubscription = Subscription.EMPTY;\n\n  /** Whether the tab group should grow to the size of the active tab. */\n  @Input()\n  get dynamicHeight(): boolean { return this._dynamicHeight; }\n  set dynamicHeight(value: boolean) { this._dynamicHeight = coerceBooleanProperty(value); }\n  private _dynamicHeight: boolean = false;\n\n  /** @deprecated */\n  @Input('mat-dynamic-height')\n  get _dynamicHeightDeprecated(): boolean { return this._dynamicHeight; }\n  set _dynamicHeightDeprecated(value: boolean) { this._dynamicHeight = value; }\n\n  /** The index of the active tab. */\n  @Input()\n  set selectedIndex(value: number | null) {\n    this._indexToSelect = coerceNumberProperty(value, null);\n  }\n  get selectedIndex(): number | null { return this._selectedIndex; }\n  private _selectedIndex: number | null = null;\n\n  /** Position of the tab header. */\n  @Input() headerPosition: MatTabHeaderPosition = 'above';\n\n  /** Background color of the tab group. */\n  @Input()\n  get backgroundColor(): ThemePalette { return this._backgroundColor; }\n  set backgroundColor(value: ThemePalette) {\n    const nativeElement: HTMLElement = this._elementRef.nativeElement;\n\n    nativeElement.classList.remove(`mat-background-${this.backgroundColor}`);\n\n    if (value) {\n      nativeElement.classList.add(`mat-background-${value}`);\n    }\n\n    this._backgroundColor = value;\n  }\n  private _backgroundColor: ThemePalette;\n\n  /** Output to enable support for two-way binding on `[(selectedIndex)]` */\n  @Output() selectedIndexChange: EventEmitter<number> = new EventEmitter();\n\n  /** Event emitted when focus has changed within a tab group. */\n  @Output() focusChange: EventEmitter<MatTabChangeEvent> = new EventEmitter<MatTabChangeEvent>();\n\n  /** Event emitted when the tab selection has changed. */\n  @Output() selectedTabChange: EventEmitter<MatTabChangeEvent> =\n      new EventEmitter<MatTabChangeEvent>(true);\n\n  /**\n   * Event emitted when the tab selection has changed.\n   * @deprecated Use `selectedTabChange` instead.\n   */\n  @Output() selectChange: EventEmitter<MatTabChangeEvent> = this.selectedTabChange;\n\n  private _groupId: number;\n\n  constructor(elementRef: ElementRef,\n              private _changeDetectorRef: ChangeDetectorRef) {\n    super(elementRef);\n    this._groupId = nextId++;\n  }\n\n  /**\n   * After the content is checked, this component knows what tabs have been defined\n   * and what the selected index should be. This is where we can know exactly what position\n   * each tab should be in according to the new selected index, and additionally we know how\n   * a new selected tab should transition in (from the left or right).\n   */\n  ngAfterContentChecked(): void {\n    // Clamp the next selected index to the boundsof 0 and the tabs length.\n    // Note the `|| 0`, which ensures that values like NaN can't get through\n    // and which would otherwise throw the component into an infinite loop\n    // (since Math.max(NaN, 0) === NaN).\n    let indexToSelect = this._indexToSelect =\n        Math.min(this._tabs.length - 1, Math.max(this._indexToSelect || 0, 0));\n\n    // If there is a change in selected index, emit a change event. Should not trigger if\n    // the selected index has not yet been initialized.\n    if (this._selectedIndex != indexToSelect && this._selectedIndex != null) {\n      const tabChangeEvent = this._createChangeEvent(indexToSelect);\n      this.selectedTabChange.emit(tabChangeEvent);\n      // Emitting this value after change detection has run\n      // since the checked content may contain this variable'\n      Promise.resolve().then(() => this.selectedIndexChange.emit(indexToSelect));\n    }\n\n    // Setup the position for each tab and optionally setup an origin on the next selected tab.\n    this._tabs.forEach((tab: MatTab, index: number) => {\n      tab.position = index - indexToSelect;\n      tab.isActive = index === indexToSelect;\n\n      // If there is already a selected tab, then set up an origin for the next selected tab\n      // if it doesn't have one already.\n      if (this._selectedIndex != null && tab.position == 0 && !tab.origin) {\n        tab.origin = indexToSelect - this._selectedIndex;\n      }\n    });\n\n    if (this._selectedIndex !== indexToSelect) {\n      this._selectedIndex = indexToSelect;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  ngAfterContentInit() {\n    this._subscribeToTabLabels();\n\n    // Subscribe to changes in the amount of tabs, in order to be\n    // able to re-render the content as new tabs are added or removed.\n    this._tabsSubscription = this._tabs.changes.subscribe(() => {\n      this._subscribeToTabLabels();\n      this._changeDetectorRef.markForCheck();\n    });\n  }\n\n  ngOnDestroy() {\n    this._tabsSubscription.unsubscribe();\n    this._tabLabelSubscription.unsubscribe();\n  }\n\n  _focusChanged(index: number) {\n    this.focusChange.emit(this._createChangeEvent(index));\n  }\n\n  private _createChangeEvent(index: number): MatTabChangeEvent {\n    const event = new MatTabChangeEvent;\n    event.index = index;\n    if (this._tabs && this._tabs.length) {\n      event.tab = this._tabs.toArray()[index];\n    }\n    return event;\n  }\n\n  /**\n   * Subscribes to changes in the tab labels. This is needed, because the @Input for the label is\n   * on the MatTab component, whereas the data binding is inside the MatTabGroup. In order for the\n   * binding to be updated, we need to subscribe to changes in it and trigger change detection\n   * manually.\n   */\n  private _subscribeToTabLabels() {\n    if (this._tabLabelSubscription) {\n      this._tabLabelSubscription.unsubscribe();\n    }\n\n    this._tabLabelSubscription = merge(\n        ...this._tabs.map(tab => tab._disableChange),\n        ...this._tabs.map(tab => tab._labelChange)).subscribe(() => {\n      this._changeDetectorRef.markForCheck();\n    });\n  }\n\n  /** Returns a unique id for each tab label element */\n  _getTabLabelId(i: number): string {\n    return `mat-tab-label-${this._groupId}-${i}`;\n  }\n\n  /** Returns a unique id for each tab content element */\n  _getTabContentId(i: number): string {\n    return `mat-tab-content-${this._groupId}-${i}`;\n  }\n\n  /**\n   * Sets the height of the body wrapper to the height of the activating tab if dynamic\n   * height property is true.\n   */\n  _setTabBodyWrapperHeight(tabHeight: number): void {\n    if (!this._dynamicHeight || !this._tabBodyWrapperHeight) { return; }\n\n    const wrapper: HTMLElement = this._tabBodyWrapper.nativeElement;\n\n    wrapper.style.height = this._tabBodyWrapperHeight + 'px';\n\n    // This conditional forces the browser to paint the height so that\n    // the animation to the new height can have an origin.\n    if (this._tabBodyWrapper.nativeElement.offsetHeight) {\n      wrapper.style.height = tabHeight + 'px';\n    }\n  }\n\n  /** Removes the height of the tab body wrapper. */\n  _removeTabBodyWrapperHeight(): void {\n    this._tabBodyWrapperHeight = this._tabBodyWrapper.nativeElement.clientHeight;\n    this._tabBodyWrapper.nativeElement.style.height = '';\n  }\n\n  /** Handle click events, setting new selected index if appropriate. */\n  _handleClick(tab: MatTab, tabHeader: MatTabHeader, idx: number) {\n    if (!tab.disabled) {\n      this.selectedIndex = tabHeader.focusIndex = idx;\n    }\n  }\n\n  /** Retrieves the tabindex for the tab. */\n  _getTabIndex(tab: MatTab, idx: number): number | null {\n    if (tab.disabled) {\n      return null;\n    }\n    return this.selectedIndex === idx ? 0 : -1;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef} from '@angular/core';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\n\n// Boilerplate for applying mixins to MatTabLabelWrapper.\n/** @docs-private */\nexport class MatTabLabelWrapperBase {}\nexport const _MatTabLabelWrapperMixinBase = mixinDisabled(MatTabLabelWrapperBase);\n\n/**\n * Used in the `mat-tab-group` view to display tab labels.\n * @docs-private\n */\n@Directive({\n  selector: '[matTabLabelWrapper]',\n  inputs: ['disabled'],\n  host: {\n    '[class.mat-tab-disabled]': 'disabled'\n  }\n})\nexport class MatTabLabelWrapper extends _MatTabLabelWrapperMixinBase implements CanDisable {\n  constructor(public elementRef: ElementRef) {\n    super();\n  }\n\n  /** Sets focus on the wrapper element */\n  focus(): void {\n    this.elementRef.nativeElement.focus();\n  }\n\n  getOffsetLeft(): number {\n    return this.elementRef.nativeElement.offsetLeft;\n  }\n\n  getOffsetWidth(): number {\n    return this.elementRef.nativeElement.offsetWidth;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {ENTER, LEFT_ARROW, RIGHT_ARROW, SPACE} from '@angular/cdk/keycodes';\nimport {\n  AfterContentChecked,\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CanDisableRipple, mixinDisableRipple} from '@angular/material/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {Subscription} from 'rxjs/Subscription';\nimport {coerceNumberProperty} from '@angular/cdk/coercion';\nimport {MatInkBar} from './ink-bar';\nimport {MatTabLabelWrapper} from './tab-label-wrapper';\nimport {ViewportRuler} from '@angular/cdk/scrolling';\n\n\n/**\n * The directions that scrolling can go in when the header's tabs exceed the header width. 'After'\n * will scroll the header towards the end of the tabs list and 'before' will scroll towards the\n * beginning of the list.\n */\nexport type ScrollDirection = 'after' | 'before';\n\n/**\n * The distance in pixels that will be overshot when scrolling a tab label into view. This helps\n * provide a small affordance to the label next to it.\n */\nconst EXAGGERATED_OVERSCROLL = 60;\n\n// Boilerplate for applying mixins to MatTabHeader.\n/** @docs-private */\nexport class MatTabHeaderBase {}\nexport const _MatTabHeaderMixinBase = mixinDisableRipple(MatTabHeaderBase);\n\n/**\n * The header of the tab group which displays a list of all the tabs in the tab group. Includes\n * an ink bar that follows the currently selected tab. When the tabs list's width exceeds the\n * width of the header container, then arrows will be displayed to allow the user to scroll\n * left and right across the header.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-tab-header',\n  templateUrl: 'tab-header.html',\n  styleUrls: ['tab-header.css'],\n  inputs: ['disableRipple'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'mat-tab-header',\n    '[class.mat-tab-header-pagination-controls-enabled]': '_showPaginationControls',\n    '[class.mat-tab-header-rtl]': \"_getLayoutDirection() == 'rtl'\",\n  },\n})\nexport class MatTabHeader extends _MatTabHeaderMixinBase\n    implements AfterContentChecked, AfterContentInit, OnDestroy, CanDisableRipple {\n\n  @ContentChildren(MatTabLabelWrapper) _labelWrappers: QueryList<MatTabLabelWrapper>;\n  @ViewChild(MatInkBar) _inkBar: MatInkBar;\n  @ViewChild('tabListContainer') _tabListContainer: ElementRef;\n  @ViewChild('tabList') _tabList: ElementRef;\n\n  /** The tab index that is focused. */\n  private _focusIndex: number = 0;\n\n  /** The distance in pixels that the tab labels should be translated to the left. */\n  private _scrollDistance = 0;\n\n  /** Whether the header should scroll to the selected index after the view has been checked. */\n  private _selectedIndexChanged = false;\n\n  /** Combines listeners that will re-align the ink bar whenever they're invoked. */\n  private _realignInkBar = Subscription.EMPTY;\n\n  /** Whether the controls for pagination should be displayed */\n  _showPaginationControls = false;\n\n  /** Whether the tab list can be scrolled more towards the end of the tab label list. */\n  _disableScrollAfter = true;\n\n  /** Whether the tab list can be scrolled more towards the beginning of the tab label list. */\n  _disableScrollBefore = true;\n\n  /**\n   * The number of tab labels that are displayed on the header. When this changes, the header\n   * should re-evaluate the scroll position.\n   */\n  private _tabLabelCount: number;\n\n  /** Whether the scroll distance has changed and should be applied after the view is checked. */\n  private _scrollDistanceChanged: boolean;\n\n  private _selectedIndex: number = 0;\n\n  /** The index of the active tab. */\n  @Input()\n  get selectedIndex(): number { return this._selectedIndex; }\n  set selectedIndex(value: number) {\n    value = coerceNumberProperty(value);\n    this._selectedIndexChanged = this._selectedIndex != value;\n    this._selectedIndex = value;\n    this._focusIndex = value;\n  }\n\n  /** Event emitted when the option is selected. */\n  @Output() selectFocusedIndex = new EventEmitter();\n\n  /** Event emitted when a label is focused. */\n  @Output() indexFocused = new EventEmitter();\n\n  constructor(private _elementRef: ElementRef,\n              private _changeDetectorRef: ChangeDetectorRef,\n              private _viewportRuler: ViewportRuler,\n              @Optional() private _dir: Directionality) {\n    super();\n  }\n\n  ngAfterContentChecked(): void {\n    // If the number of tab labels have changed, check if scrolling should be enabled\n    if (this._tabLabelCount != this._labelWrappers.length) {\n      this._updatePagination();\n      this._tabLabelCount = this._labelWrappers.length;\n      this._changeDetectorRef.markForCheck();\n    }\n\n    // If the selected index has changed, scroll to the label and check if the scrolling controls\n    // should be disabled.\n    if (this._selectedIndexChanged) {\n      this._scrollToLabel(this._selectedIndex);\n      this._checkScrollingControls();\n      this._alignInkBarToSelectedTab();\n      this._selectedIndexChanged = false;\n      this._changeDetectorRef.markForCheck();\n    }\n\n    // If the scroll distance has been changed (tab selected, focused, scroll controls activated),\n    // then translate the header to reflect this.\n    if (this._scrollDistanceChanged) {\n      this._updateTabScrollPosition();\n      this._scrollDistanceChanged = false;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  _handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case RIGHT_ARROW:\n        this._focusNextTab();\n        break;\n      case LEFT_ARROW:\n        this._focusPreviousTab();\n        break;\n      case ENTER:\n      case SPACE:\n        this.selectFocusedIndex.emit(this.focusIndex);\n        event.preventDefault();\n        break;\n    }\n  }\n\n  /**\n   * Aligns the ink bar to the selected tab on load.\n   */\n  ngAfterContentInit() {\n    const dirChange = this._dir ? this._dir.change : observableOf(null);\n    const resize = this._viewportRuler.change(150);\n    const realign = () => {\n      this._updatePagination();\n      this._alignInkBarToSelectedTab();\n    };\n\n    // Defer the first call in order to allow for slower browsers to lay out the elements.\n    // This helps in cases where the user lands directly on a page with paginated tabs.\n    typeof requestAnimationFrame !== 'undefined' ? requestAnimationFrame(realign) : realign();\n    this._realignInkBar = merge(dirChange, resize).subscribe(realign);\n  }\n\n  ngOnDestroy() {\n    this._realignInkBar.unsubscribe();\n  }\n\n  /**\n   * Callback for when the MutationObserver detects that the content has changed.\n   */\n  _onContentChanges() {\n    this._updatePagination();\n    this._alignInkBarToSelectedTab();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Updating the view whether pagination should be enabled or not\n   */\n  _updatePagination() {\n    this._checkPaginationEnabled();\n    this._checkScrollingControls();\n    this._updateTabScrollPosition();\n  }\n\n  /** When the focus index is set, we must manually send focus to the correct label */\n  set focusIndex(value: number) {\n    if (!this._isValidIndex(value) || this._focusIndex == value) { return; }\n\n    this._focusIndex = value;\n    this.indexFocused.emit(value);\n    this._setTabFocus(value);\n  }\n\n  /** Tracks which element has focus; used for keyboard navigation */\n  get focusIndex(): number { return this._focusIndex; }\n\n  /**\n   * Determines if an index is valid.  If the tabs are not ready yet, we assume that the user is\n   * providing a valid index and return true.\n   */\n  _isValidIndex(index: number): boolean {\n    if (!this._labelWrappers) { return true; }\n\n    const tab = this._labelWrappers ? this._labelWrappers.toArray()[index] : null;\n    return !!tab && !tab.disabled;\n  }\n\n  /**\n   * Sets focus on the HTML element for the label wrapper and scrolls it into the view if\n   * scrolling is enabled.\n   */\n  _setTabFocus(tabIndex: number) {\n    if (this._showPaginationControls) {\n      this._scrollToLabel(tabIndex);\n    }\n\n    if (this._labelWrappers && this._labelWrappers.length) {\n      this._labelWrappers.toArray()[tabIndex].focus();\n\n      // Do not let the browser manage scrolling to focus the element, this will be handled\n      // by using translation. In LTR, the scroll left should be 0. In RTL, the scroll width\n      // should be the full width minus the offset width.\n      const containerEl = this._tabListContainer.nativeElement;\n      const dir = this._getLayoutDirection();\n\n      if (dir == 'ltr') {\n        containerEl.scrollLeft = 0;\n      } else {\n        containerEl.scrollLeft = containerEl.scrollWidth - containerEl.offsetWidth;\n      }\n    }\n  }\n\n  /**\n   * Moves the focus towards the beginning or the end of the list depending on the offset provided.\n   * Valid offsets are 1 and -1.\n   */\n  _moveFocus(offset: number) {\n    if (this._labelWrappers) {\n      const tabs: MatTabLabelWrapper[] = this._labelWrappers.toArray();\n\n      for (let i = this.focusIndex + offset; i < tabs.length && i >= 0; i += offset) {\n        if (this._isValidIndex(i)) {\n          this.focusIndex = i;\n          return;\n        }\n      }\n    }\n  }\n\n  /** Increment the focus index by 1 until a valid tab is found. */\n  _focusNextTab(): void {\n    this._moveFocus(this._getLayoutDirection() == 'ltr' ? 1 : -1);\n  }\n\n  /** Decrement the focus index by 1 until a valid tab is found. */\n  _focusPreviousTab(): void {\n    this._moveFocus(this._getLayoutDirection() == 'ltr' ? -1 : 1);\n  }\n\n  /** The layout direction of the containing app. */\n  _getLayoutDirection(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /** Performs the CSS transformation on the tab list that will cause the list to scroll. */\n  _updateTabScrollPosition() {\n    const scrollDistance = this.scrollDistance;\n    const translateX = this._getLayoutDirection() === 'ltr' ? -scrollDistance : scrollDistance;\n\n    this._tabList.nativeElement.style.transform = `translate3d(${translateX}px, 0, 0)`;\n  }\n\n  /** Sets the distance in pixels that the tab header should be transformed in the X-axis. */\n  set scrollDistance(v: number) {\n    this._scrollDistance = Math.max(0, Math.min(this._getMaxScrollDistance(), v));\n\n    // Mark that the scroll distance has changed so that after the view is checked, the CSS\n    // transformation can move the header.\n    this._scrollDistanceChanged = true;\n    this._checkScrollingControls();\n  }\n  get scrollDistance(): number { return this._scrollDistance; }\n\n  /**\n   * Moves the tab list in the 'before' or 'after' direction (towards the beginning of the list or\n   * the end of the list, respectively). The distance to scroll is computed to be a third of the\n   * length of the tab list view window.\n   *\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n   * should be called sparingly.\n   */\n  _scrollHeader(scrollDir: ScrollDirection) {\n    const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n\n    // Move the scroll distance one-third the length of the tab list's viewport.\n    this.scrollDistance += (scrollDir == 'before' ? -1 : 1) * viewLength / 3;\n  }\n\n  /**\n   * Moves the tab list such that the desired tab label (marked by index) is moved into view.\n   *\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n   * should be called sparingly.\n   */\n  _scrollToLabel(labelIndex: number) {\n    const selectedLabel = this._labelWrappers ? this._labelWrappers.toArray()[labelIndex] : null;\n\n    if (!selectedLabel) { return; }\n\n    // The view length is the visible width of the tab labels.\n    const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n\n    let labelBeforePos: number, labelAfterPos: number;\n    if (this._getLayoutDirection() == 'ltr') {\n      labelBeforePos = selectedLabel.getOffsetLeft();\n      labelAfterPos = labelBeforePos + selectedLabel.getOffsetWidth();\n    } else {\n      labelAfterPos = this._tabList.nativeElement.offsetWidth - selectedLabel.getOffsetLeft();\n      labelBeforePos = labelAfterPos - selectedLabel.getOffsetWidth();\n    }\n\n    const beforeVisiblePos = this.scrollDistance;\n    const afterVisiblePos = this.scrollDistance + viewLength;\n\n    if (labelBeforePos < beforeVisiblePos) {\n      // Scroll header to move label to the before direction\n      this.scrollDistance -= beforeVisiblePos - labelBeforePos + EXAGGERATED_OVERSCROLL;\n    } else if (labelAfterPos > afterVisiblePos) {\n      // Scroll header to move label to the after direction\n      this.scrollDistance += labelAfterPos - afterVisiblePos + EXAGGERATED_OVERSCROLL;\n    }\n  }\n\n  /**\n   * Evaluate whether the pagination controls should be displayed. If the scroll width of the\n   * tab list is wider than the size of the header container, then the pagination controls should\n   * be shown.\n   *\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n   * should be called sparingly.\n   */\n  _checkPaginationEnabled() {\n    const isEnabled =\n        this._tabList.nativeElement.scrollWidth > this._elementRef.nativeElement.offsetWidth;\n\n    if (!isEnabled) {\n      this.scrollDistance = 0;\n    }\n\n    if (isEnabled !== this._showPaginationControls) {\n      this._changeDetectorRef.markForCheck();\n    }\n\n    this._showPaginationControls = isEnabled;\n  }\n\n  /**\n   * Evaluate whether the before and after controls should be enabled or disabled.\n   * If the header is at the beginning of the list (scroll distance is equal to 0) then disable the\n   * before button. If the header is at the end of the list (scroll distance is equal to the\n   * maximum distance we can scroll), then disable the after button.\n   *\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n   * should be called sparingly.\n   */\n  _checkScrollingControls() {\n    // Check if the pagination arrows should be activated.\n    this._disableScrollBefore = this.scrollDistance == 0;\n    this._disableScrollAfter = this.scrollDistance == this._getMaxScrollDistance();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Determines what is the maximum length in pixels that can be set for the scroll distance. This\n   * is equal to the difference in width between the tab list container and tab header container.\n   *\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n   * should be called sparingly.\n   */\n  _getMaxScrollDistance(): number {\n    const lengthOfTabList = this._tabList.nativeElement.scrollWidth;\n    const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n    return (lengthOfTabList - viewLength) || 0;\n  }\n\n  /** Tells the ink-bar to align itself to the current label wrapper */\n  private _alignInkBarToSelectedTab(): void {\n    const selectedLabelWrapper = this._labelWrappers && this._labelWrappers.length ?\n        this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement :\n        null;\n\n    this._inkBar.alignToElement(selectedLabelWrapper);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Platform} from '@angular/cdk/platform';\nimport {ViewportRuler} from '@angular/cdk/scrolling';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Inject,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  CanColor,\n  CanDisable,\n  CanDisableRipple,\n  HasTabIndex,\n  MAT_RIPPLE_GLOBAL_OPTIONS,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinTabIndex, RippleConfig,\n  RippleGlobalOptions,\n  RippleRenderer,\n  RippleTarget,\n  ThemePalette,\n} from '@angular/material/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {Subject} from 'rxjs/Subject';\nimport {MatInkBar} from '../ink-bar';\n\n\n// Boilerplate for applying mixins to MatTabNav.\n/** @docs-private */\nexport class MatTabNavBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatTabNavMixinBase = mixinDisableRipple(mixinColor(MatTabNavBase, 'primary'));\n\n/**\n * Navigation component matching the styles of the tab group header.\n * Provides anchored navigation with animated ink bar.\n */\n@Component({\n  moduleId: module.id,\n  selector: '[mat-tab-nav-bar]',\n  exportAs: 'matTabNavBar, matTabNav',\n  inputs: ['color', 'disableRipple'],\n  templateUrl: 'tab-nav-bar.html',\n  styleUrls: ['tab-nav-bar.css'],\n  host: {'class': 'mat-tab-nav-bar'},\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatTabNav extends _MatTabNavMixinBase implements AfterContentInit, CanColor,\n    CanDisableRipple, OnDestroy {\n\n  /** Subject that emits when the component has been destroyed. */\n  private _onDestroy = new Subject<void>();\n\n  _activeLinkChanged: boolean;\n  _activeLinkElement: ElementRef;\n\n  @ViewChild(MatInkBar) _inkBar: MatInkBar;\n\n  /** Query list of all tab links of the tab navigation. */\n  @ContentChildren(forwardRef(() => MatTabLink), {descendants: true})\n  _tabLinks: QueryList<MatTabLink>;\n\n  /** Background color of the tab nav. */\n  @Input()\n  get backgroundColor(): ThemePalette { return this._backgroundColor; }\n  set backgroundColor(value: ThemePalette) {\n    const nativeElement: HTMLElement = this._elementRef.nativeElement;\n\n    nativeElement.classList.remove(`mat-background-${this.backgroundColor}`);\n\n    if (value) {\n      nativeElement.classList.add(`mat-background-${value}`);\n    }\n\n    this._backgroundColor = value;\n  }\n  private _backgroundColor: ThemePalette;\n\n  /** Whether ripples should be disabled for all links or not. */\n  get disableRipple() { return this._disableRipple; }\n  set disableRipple(value: boolean) {\n    this._disableRipple = coerceBooleanProperty(value);\n    this._setLinkDisableRipple();\n  }\n  private _disableRipple: boolean = false;\n\n  constructor(elementRef: ElementRef,\n              @Optional() private _dir: Directionality,\n              private _ngZone: NgZone,\n              private _changeDetectorRef: ChangeDetectorRef,\n              private _viewportRuler: ViewportRuler) {\n    super(elementRef);\n  }\n\n  /** Notifies the component that the active link has been changed. */\n  updateActiveLink(element: ElementRef) {\n    this._activeLinkChanged = this._activeLinkElement != element;\n    this._activeLinkElement = element;\n\n    if (this._activeLinkChanged) {\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  ngAfterContentInit(): void {\n    this._ngZone.runOutsideAngular(() => {\n      const dirChange = this._dir ? this._dir.change : observableOf(null);\n\n      return merge(dirChange, this._viewportRuler.change(10)).pipe(takeUntil(this._onDestroy))\n          .subscribe(() => this._alignInkBar());\n    });\n\n    this._setLinkDisableRipple();\n  }\n\n  /** Checks if the active link has been changed and, if so, will update the ink bar. */\n  ngAfterContentChecked(): void {\n    if (this._activeLinkChanged) {\n      this._alignInkBar();\n      this._activeLinkChanged = false;\n    }\n  }\n\n  ngOnDestroy() {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  /** Aligns the ink bar to the active link. */\n  _alignInkBar(): void {\n    if (this._activeLinkElement) {\n      this._inkBar.alignToElement(this._activeLinkElement.nativeElement);\n    }\n  }\n\n  /** Sets the `disableRipple` property on each link of the navigation bar. */\n  private _setLinkDisableRipple() {\n    if (this._tabLinks) {\n      this._tabLinks.forEach(link => link.disableRipple = this.disableRipple);\n    }\n  }\n}\n\n\n// Boilerplate for applying mixins to MatTabLink.\nexport class MatTabLinkBase {}\nexport const _MatTabLinkMixinBase =\n  mixinTabIndex(mixinDisableRipple(mixinDisabled(MatTabLinkBase)));\n\n/**\n * Link inside of a `mat-tab-nav-bar`.\n */\n@Directive({\n  selector: '[mat-tab-link], [matTabLink]',\n  exportAs: 'matTabLink',\n  inputs: ['disabled', 'disableRipple', 'tabIndex'],\n  host: {\n    'class': 'mat-tab-link',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.tabIndex]': 'tabIndex',\n    '[class.mat-tab-disabled]': 'disabled',\n    '[class.mat-tab-label-active]': 'active',\n  }\n})\nexport class MatTabLink extends _MatTabLinkMixinBase\n    implements OnDestroy, CanDisable, CanDisableRipple, HasTabIndex, RippleTarget {\n\n  /** Whether the tab link is active or not. */\n  private _isActive: boolean = false;\n\n  /** Reference to the RippleRenderer for the tab-link. */\n  private _tabLinkRipple: RippleRenderer;\n\n  /** Whether the link is active. */\n  @Input()\n  get active(): boolean { return this._isActive; }\n  set active(value: boolean) {\n    this._isActive = value;\n    if (value) {\n      this._tabNavBar.updateActiveLink(this._elementRef);\n    }\n  }\n\n  /**\n   * Ripple configuration for ripples that are launched on pointer down.\n   * @docs-private\n   */\n  rippleConfig: RippleConfig = {};\n\n  /**\n   * Whether ripples are disabled on interaction\n   * @docs-private\n   */\n  get rippleDisabled(): boolean {\n    return this.disabled || this.disableRipple;\n  }\n\n  constructor(private _tabNavBar: MatTabNav,\n              private _elementRef: ElementRef,\n              ngZone: NgZone,\n              platform: Platform,\n              @Optional() @Inject(MAT_RIPPLE_GLOBAL_OPTIONS) globalOptions: RippleGlobalOptions,\n              @Attribute('tabindex') tabIndex: string) {\n    super();\n\n    this._tabLinkRipple = new RippleRenderer(this, ngZone, _elementRef, platform);\n    this._tabLinkRipple.setupTriggerEvents(_elementRef.nativeElement);\n\n    this.tabIndex = parseInt(tabIndex) || 0;\n\n    if (globalOptions) {\n      this.rippleConfig = {speedFactor: globalOptions.baseSpeedFactor};\n    }\n  }\n\n  ngOnDestroy() {\n    this._tabLinkRipple._removeTriggerEvents();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  isDevMode,\n  QueryList,\n  ViewEncapsulation\n} from '@angular/core';\nimport {CanColor, mixinColor} from '@angular/material/core';\nimport {Platform} from '@angular/cdk/platform';\n\n// Boilerplate for applying mixins to MatToolbar.\n/** @docs-private */\nexport class MatToolbarBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatToolbarMixinBase = mixinColor(MatToolbarBase);\n\n@Directive({\n  selector: 'mat-toolbar-row',\n  exportAs: 'matToolbarRow',\n  host: {'class': 'mat-toolbar-row'},\n})\nexport class MatToolbarRow {}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-toolbar',\n  exportAs: 'matToolbar',\n  templateUrl: 'toolbar.html',\n  styleUrls: ['toolbar.css'],\n  inputs: ['color'],\n  host: {\n    'class': 'mat-toolbar',\n    '[class.mat-toolbar-multiple-rows]': 'this._toolbarRows.length',\n    '[class.mat-toolbar-single-row]': '!this._toolbarRows.length'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatToolbar extends _MatToolbarMixinBase implements CanColor, AfterViewInit {\n\n  /** Reference to all toolbar row elements that have been projected. */\n  @ContentChildren(MatToolbarRow) _toolbarRows: QueryList<MatToolbarRow>;\n\n  constructor(elementRef: ElementRef, private _platform: Platform) {\n    super(elementRef);\n  }\n\n  ngAfterViewInit() {\n    if (!isDevMode() || !this._platform.isBrowser) {\n      return;\n    }\n\n    this._checkToolbarMixedModes();\n    this._toolbarRows.changes.subscribe(() => this._checkToolbarMixedModes());\n  }\n\n  /**\n   * Throws an exception when developers are attempting to combine the different toolbar row modes.\n   */\n  private _checkToolbarMixedModes() {\n    if (!this._toolbarRows.length) {\n      return;\n    }\n\n    // Check if there are any other DOM nodes that can display content but aren't inside of\n    // a <mat-toolbar-row> element.\n    const isCombinedUsage = [].slice.call(this._elementRef.nativeElement.childNodes)\n      .filter(node => !(node.classList && node.classList.contains('mat-toolbar-row')))\n      .filter(node => node.nodeType !== Node.COMMENT_NODE)\n      .some(node => node.textContent.trim());\n\n    if (isCombinedUsage) {\n      throwToolbarMixedModesError();\n    }\n  }\n}\n\n/**\n * Throws an exception when attempting to combine the different toolbar row modes.\n * @docs-private\n */\nexport function throwToolbarMixedModesError() {\n  throw Error('MatToolbar: Attempting to combine different toolbar modes. ' +\n    'Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content ' +\n    'inside of a `<mat-toolbar>` for a single row.');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatCommonModule} from '@angular/material/core';\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {MatToolbar, MatToolbarRow} from './toolbar';\n\n@NgModule({\n  imports: [MatCommonModule, PlatformModule],\n  exports: [MatToolbar, MatToolbarRow, MatCommonModule],\n  declarations: [MatToolbar, MatToolbarRow],\n})\nexport class MatToolbarModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Version} from '@angular/core';\n\n/** Current version of Angular Material. */\nexport const VERSION = new Version('5.0.4');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {animate, AnimationEvent, state, style, transition, trigger} from '@angular/animations';\nimport {FocusTrap, FocusTrapFactory, FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  AfterContentChecked,\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n  QueryList,\n  ViewEncapsulation,\n  InjectionToken,\n} from '@angular/core';\nimport {DOCUMENT} from '@angular/common';\nimport {merge} from 'rxjs/observable/merge';\nimport {filter} from 'rxjs/operators/filter';\nimport {take} from 'rxjs/operators/take';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {debounceTime} from 'rxjs/operators/debounceTime';\nimport {map} from 'rxjs/operators/map';\nimport {Subject} from 'rxjs/Subject';\nimport {Observable} from 'rxjs/Observable';\n\n\n/** Throws an exception when two MatDrawer are matching the same position. */\nexport function throwMatDuplicatedDrawerError(position: string) {\n  throw Error(`A drawer was already declared for 'position=\"${position}\"'`);\n}\n\n\n/**\n * Drawer toggle promise result.\n * @deprecated\n */\nexport class MatDrawerToggleResult {\n  constructor(\n    /** Whether the drawer is opened or closed. */\n    public type: 'open' | 'close',\n    /** Whether the drawer animation is finished. */\n    public animationFinished: boolean) {}\n}\n\n/** Configures whether drawers should use auto sizing by default. */\nexport const MAT_DRAWER_DEFAULT_AUTOSIZE =\n    new InjectionToken<boolean>('MAT_DRAWER_DEFAULT_AUTOSIZE');\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-drawer-content',\n  template: '<ng-content></ng-content>',\n  host: {\n    'class': 'mat-drawer-content',\n    '[style.margin-left.px]': '_margins.left',\n    '[style.margin-right.px]': '_margins.right',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatDrawerContent implements AfterContentInit {\n  /**\n   * Margins to be applied to the content. These are used to push / shrink the drawer content when a\n   * drawer is open. We use margin rather than transform even for push mode because transform breaks\n   * fixed position elements inside of the transformed element.\n   */\n  _margins: {left: number|null, right: number|null} = {left: null, right: null};\n\n  constructor(\n      private _changeDetectorRef: ChangeDetectorRef,\n      @Inject(forwardRef(() => MatDrawerContainer)) private _container: MatDrawerContainer) {\n  }\n\n  ngAfterContentInit() {\n    this._container._contentMargins.subscribe(margins => {\n      this._margins = margins;\n      this._changeDetectorRef.markForCheck();\n    });\n  }\n}\n\n\n/**\n * This component corresponds to a drawer that can be opened on the drawer container.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-drawer',\n  exportAs: 'matDrawer',\n  template: '<ng-content></ng-content>',\n  animations: [\n    trigger('transform', [\n      state('open, open-instant', style({\n        transform: 'translate3d(0, 0, 0)',\n        visibility: 'visible',\n      })),\n      state('void', style({\n        visibility: 'hidden',\n      })),\n      transition('void => open-instant', animate('0ms')),\n      transition('void <=> open, open-instant => void',\n          animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))\n    ])\n  ],\n  host: {\n    'class': 'mat-drawer',\n    '[@transform]': '_animationState',\n    '(@transform.start)': '_onAnimationStart($event)',\n    '(@transform.done)': '_onAnimationEnd($event)',\n    '(keydown)': 'handleKeydown($event)',\n    // must prevent the browser from aligning text based on value\n    '[attr.align]': 'null',\n    '[class.mat-drawer-end]': 'position === \"end\"',\n    '[class.mat-drawer-over]': 'mode === \"over\"',\n    '[class.mat-drawer-push]': 'mode === \"push\"',\n    '[class.mat-drawer-side]': 'mode === \"side\"',\n    'tabIndex': '-1',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatDrawer implements AfterContentInit, AfterContentChecked, OnDestroy {\n  private _focusTrap: FocusTrap;\n  private _elementFocusedBeforeDrawerWasOpened: HTMLElement | null = null;\n\n  /** Whether the drawer is initialized. Used for disabling the initial animation. */\n  private _enableAnimations = false;\n\n  /** The side that the drawer is attached to. */\n  @Input()\n  get position(): 'start' | 'end' { return this._position; }\n  set position(value) {\n    // Make sure we have a valid value.\n    value = value === 'end' ? 'end' : 'start';\n    if (value != this._position) {\n      this._position = value;\n      this.onAlignChanged.emit();\n      this.onPositionChanged.emit();\n    }\n  }\n  private _position: 'start' | 'end' = 'start';\n\n  /** @deprecated */\n  @Input()\n  get align(): 'start' | 'end' { return this.position; }\n  set align(value) { this.position = value; }\n\n  /** Mode of the drawer; one of 'over', 'push' or 'side'. */\n  @Input()\n  get mode(): 'over' | 'push' | 'side' { return this._mode; }\n  set mode(value) {\n    this._mode = value;\n    this._modeChanged.next();\n  }\n  private _mode: 'over' | 'push' | 'side' = 'over';\n\n  /** Whether the drawer can be closed with the escape key or by clicking on the backdrop. */\n  @Input()\n  get disableClose(): boolean { return this._disableClose; }\n  set disableClose(value: boolean) { this._disableClose = coerceBooleanProperty(value); }\n  private _disableClose: boolean = false;\n\n  /** Whether the drawer is opened. */\n  private _opened: boolean = false;\n\n  /** How the sidenav was opened (keypress, mouse click etc.) */\n  private _openedVia: FocusOrigin | null;\n\n  /** Emits whenever the drawer has started animating. */\n  _animationStarted = new EventEmitter<AnimationEvent>();\n\n  /** Current state of the sidenav animation. */\n  _animationState: 'open-instant' | 'open' | 'void' = 'void';\n\n  /** Event emitted when the drawer open state is changed. */\n  @Output() openedChange: EventEmitter<boolean> =\n      // Note this has to be async in order to avoid some issues with two-bindings (see #8872).\n      new EventEmitter<boolean>(/* isAsync */true);\n\n  /** Event emitted when the drawer has been opened. */\n  @Output('opened')\n  get _openedStream(): Observable<void> {\n    return this.openedChange.pipe(filter(o => o), map(() => {}));\n  }\n\n  /** Event emitted when the drawer has started opening. */\n  @Output()\n  get openedStart(): Observable<void> {\n    return this._animationStarted.pipe(\n      filter(e => e.fromState !== e.toState && e.toState.indexOf('open') === 0),\n      map(() => {})\n    );\n  }\n\n  /** Event emitted when the drawer has been closed. */\n  @Output('closed')\n  get _closedStream(): Observable<void> {\n    return this.openedChange.pipe(filter(o => !o), map(() => {}));\n  }\n\n  /** Event emitted when the drawer has started closing. */\n  @Output()\n  get closedStart(): Observable<void> {\n    return this._animationStarted.pipe(\n      filter(e => e.fromState !== e.toState && e.toState === 'void'),\n      map(() => {})\n    );\n  }\n\n  /**\n   * Event emitted when the drawer is fully opened.\n   * @deprecated Use `opened` instead.\n   */\n  @Output('open') onOpen = this._openedStream;\n\n  /**\n   * Event emitted when the drawer is fully closed.\n   * @deprecated Use `closed` instead.\n   */\n  @Output('close') onClose = this._closedStream;\n\n  /** Event emitted when the drawer's position changes. */\n  @Output('positionChanged') onPositionChanged = new EventEmitter<void>();\n\n  /** @deprecated */\n  @Output('align-changed') onAlignChanged = new EventEmitter<void>();\n\n  /**\n   * An observable that emits when the drawer mode changes. This is used by the drawer container to\n   * to know when to when the mode changes so it can adapt the margins on the content.\n   */\n  _modeChanged = new Subject();\n\n  get _isFocusTrapEnabled(): boolean {\n    // The focus trap is only enabled when the drawer is open in any mode other than side.\n    return this.opened && this.mode !== 'side';\n  }\n\n  constructor(private _elementRef: ElementRef,\n              private _focusTrapFactory: FocusTrapFactory,\n              private _focusMonitor: FocusMonitor,\n              private _platform: Platform,\n              @Optional() @Inject(DOCUMENT) private _doc: any) {\n\n    this.openedChange.subscribe((opened: boolean) => {\n      if (opened) {\n        if (this._doc) {\n          this._elementFocusedBeforeDrawerWasOpened = this._doc.activeElement as HTMLElement;\n        }\n\n        if (this._isFocusTrapEnabled && this._focusTrap) {\n          this._trapFocus();\n        }\n      } else {\n        this._restoreFocus();\n      }\n    });\n  }\n\n  /** Traps focus inside the drawer. */\n  private _trapFocus() {\n    this._focusTrap.focusInitialElementWhenReady().then(hasMovedFocus => {\n      // If there were no focusable elements, focus the sidenav itself so the keyboard navigation\n      // still works. We need to check that `focus` is a function due to Universal.\n      if (!hasMovedFocus && typeof this._elementRef.nativeElement.focus === 'function') {\n        this._elementRef.nativeElement.focus();\n      }\n    });\n  }\n\n  /**\n   * If focus is currently inside the drawer, restores it to where it was before the drawer\n   * opened.\n   */\n  private _restoreFocus() {\n    const activeEl = this._doc && this._doc.activeElement;\n\n    if (activeEl && this._elementRef.nativeElement.contains(activeEl)) {\n      if (this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement) {\n        this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened, this._openedVia);\n      } else {\n        this._elementRef.nativeElement.blur();\n      }\n    }\n\n    this._elementFocusedBeforeDrawerWasOpened = null;\n    this._openedVia = null;\n  }\n\n  ngAfterContentInit() {\n    this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n    this._focusTrap.enabled = this._isFocusTrapEnabled;\n  }\n\n  ngAfterContentChecked() {\n    // Enable the animations after the lifecycle hooks have run, in order to avoid animating\n    // drawers that are open by default. When we're on the server, we shouldn't enable the\n    // animations, because we don't want the drawer to animate the first time the user sees\n    // the page.\n    if (this._platform.isBrowser) {\n      this._enableAnimations = true;\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._focusTrap) {\n      this._focusTrap.destroy();\n    }\n  }\n\n  /**\n   * Whether the drawer is opened. We overload this because we trigger an event when it\n   * starts or end.\n   */\n  @Input()\n  get opened(): boolean { return this._opened; }\n  set opened(v: boolean) {\n    this.toggle(coerceBooleanProperty(v));\n  }\n\n  /**\n   * Open the drawer.\n   * @param openedVia Whether the drawer was opened by a key press, mouse click or programmatically.\n   * Used for focus management after the sidenav is closed.\n   */\n  open(openedVia?: FocusOrigin): Promise<void> {\n    return this.toggle(true, openedVia);\n  }\n\n  /** Close the drawer. */\n  close(): Promise<void> {\n    return this.toggle(false);\n  }\n\n  /**\n   * Toggle this drawer.\n   * @param isOpen Whether the drawer should be open.\n   * @param openedVia Whether the drawer was opened by a key press, mouse click or programmatically.\n   * Used for focus management after the sidenav is closed.\n   */\n  toggle(isOpen: boolean = !this.opened, openedVia: FocusOrigin = 'program'):\n    Promise<void> {\n\n    this._opened = isOpen;\n\n    if (isOpen) {\n      this._animationState = this._enableAnimations ? 'open' : 'open-instant';\n      this._openedVia = openedVia;\n    } else {\n      this._animationState = 'void';\n      this._restoreFocus();\n    }\n\n    if (this._focusTrap) {\n      this._focusTrap.enabled = this._isFocusTrapEnabled;\n    }\n\n    // TODO(crisbeto): This promise is here for backwards-compatibility.\n    // It should be removed next time we do breaking changes in the drawer.\n    return new Promise<any>(resolve => {\n      this.openedChange.pipe(take(1)).subscribe(open => {\n        resolve(new MatDrawerToggleResult(open ? 'open' : 'close', true));\n      });\n    });\n  }\n\n  /**\n   * Handles the keyboard events.\n   * @docs-private\n   */\n  handleKeydown(event: KeyboardEvent) {\n    if (event.keyCode === ESCAPE && !this.disableClose) {\n      this.close();\n      event.stopPropagation();\n    }\n  }\n\n  _onAnimationStart(event: AnimationEvent) {\n    this._animationStarted.emit(event);\n  }\n\n  _onAnimationEnd(event: AnimationEvent) {\n    const {fromState, toState} = event;\n\n    if ((toState.indexOf('open') === 0 && fromState === 'void') ||\n        (toState === 'void' && fromState.indexOf('open') === 0)) {\n      this.openedChange.emit(this._opened);\n    }\n  }\n\n  get _width() {\n    return this._elementRef.nativeElement ? (this._elementRef.nativeElement.offsetWidth || 0) : 0;\n  }\n}\n\n\n/**\n * <mat-drawer-container> component.\n *\n * This is the parent component to one or two <mat-drawer>s that validates the state internally\n * and coordinates the backdrop and content styling.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-drawer-container',\n  exportAs: 'matDrawerContainer',\n  templateUrl: 'drawer-container.html',\n  styleUrls: ['drawer.css'],\n  host: {\n    'class': 'mat-drawer-container',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatDrawerContainer implements AfterContentInit, OnDestroy {\n  @ContentChildren(MatDrawer) _drawers: QueryList<MatDrawer>;\n  @ContentChild(MatDrawerContent) _content: MatDrawerContent;\n\n  /** The drawer child with the `start` position. */\n  get start(): MatDrawer | null { return this._start; }\n\n  /** The drawer child with the `end` position. */\n  get end(): MatDrawer | null { return this._end; }\n\n  /**\n   * Whether to automatically resize the container whenever\n   * the size of any of its drawers changes.\n   *\n   * **Use at your own risk!** Enabling this option can cause layout thrashing by measuring\n   * the drawers on every change detection cycle. Can be configured globally via the\n   * `MAT_DRAWER_DEFAULT_AUTOSIZE` token.\n   */\n  @Input()\n  get autosize(): boolean { return this._autosize; }\n  set autosize(value: boolean) { this._autosize = coerceBooleanProperty(value); }\n  private _autosize: boolean;\n\n  /** Event emitted when the drawer backdrop is clicked. */\n  @Output() backdropClick = new EventEmitter<void>();\n\n  /** The drawer at the start/end position, independent of direction. */\n  private _start: MatDrawer | null;\n  private _end: MatDrawer | null;\n\n  /**\n   * The drawer at the left/right. When direction changes, these will change as well.\n   * They're used as aliases for the above to set the left/right style properly.\n   * In LTR, _left == _start and _right == _end.\n   * In RTL, _left == _end and _right == _start.\n   */\n  private _left: MatDrawer | null;\n  private _right: MatDrawer | null;\n\n  /** Emits when the component is destroyed. */\n  private _destroyed = new Subject<void>();\n\n  /** Emits on every ngDoCheck. Used for debouncing reflows. */\n  private _doCheckSubject = new Subject<void>();\n\n  _contentMargins = new Subject<{left: number|null, right: number|null}>();\n\n  constructor(@Optional() private _dir: Directionality,\n              private _element: ElementRef,\n              private _ngZone: NgZone,\n              private _changeDetectorRef: ChangeDetectorRef,\n              @Inject(MAT_DRAWER_DEFAULT_AUTOSIZE) defaultAutosize = false) {\n\n    // If a `Dir` directive exists up the tree, listen direction changes\n    // and update the left/right properties to point to the proper start/end.\n    if (_dir) {\n      _dir.change.pipe(takeUntil(this._destroyed)).subscribe(() => {\n        this._validateDrawers();\n        this._updateContentMargins();\n      });\n    }\n\n    this._autosize = defaultAutosize;\n  }\n\n  ngAfterContentInit() {\n    this._drawers.changes.pipe(startWith(null)).subscribe(() => {\n      this._validateDrawers();\n\n      this._drawers.forEach((drawer: MatDrawer) => {\n        this._watchDrawerToggle(drawer);\n        this._watchDrawerPosition(drawer);\n        this._watchDrawerMode(drawer);\n      });\n\n      if (!this._drawers.length ||\n          this._isDrawerOpen(this._start) ||\n          this._isDrawerOpen(this._end)) {\n        this._updateContentMargins();\n      }\n\n      this._changeDetectorRef.markForCheck();\n    });\n\n    this._doCheckSubject.pipe(\n      debounceTime(10), // Arbitrary debounce time, less than a frame at 60fps\n      takeUntil(this._destroyed)\n    ).subscribe(() => this._updateContentMargins());\n  }\n\n  ngOnDestroy() {\n    this._doCheckSubject.complete();\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** Calls `open` of both start and end drawers */\n  open(): void {\n    this._drawers.forEach(drawer => drawer.open());\n  }\n\n  /** Calls `close` of both start and end drawers */\n  close(): void {\n    this._drawers.forEach(drawer => drawer.close());\n  }\n\n  ngDoCheck() {\n    // If users opted into autosizing, do a check every change detection cycle.\n    if (this._autosize && this._isPushed()) {\n      // Run outside the NgZone, otherwise the debouncer will throw us into an infinite loop.\n      this._ngZone.runOutsideAngular(() => this._doCheckSubject.next());\n    }\n  }\n\n  /**\n   * Subscribes to drawer events in order to set a class on the main container element when the\n   * drawer is open and the backdrop is visible. This ensures any overflow on the container element\n   * is properly hidden.\n   */\n  private _watchDrawerToggle(drawer: MatDrawer): void {\n    drawer._animationStarted.pipe(\n      takeUntil(this._drawers.changes),\n      filter((event: AnimationEvent) => event.fromState !== event.toState)\n    )\n    .subscribe((event: AnimationEvent) => {\n      // Set the transition class on the container so that the animations occur. This should not\n      // be set initially because animations should only be triggered via a change in state.\n      if (event.toState !== 'open-instant') {\n        this._element.nativeElement.classList.add('mat-drawer-transition');\n      }\n\n      this._updateContentMargins();\n      this._changeDetectorRef.markForCheck();\n    });\n\n    if (drawer.mode !== 'side') {\n      drawer.openedChange.pipe(takeUntil(this._drawers.changes)).subscribe(() =>\n          this._setContainerClass(drawer.opened));\n    }\n  }\n\n  /**\n   * Subscribes to drawer onPositionChanged event in order to\n   * re-validate drawers when the position changes.\n   */\n  private _watchDrawerPosition(drawer: MatDrawer): void {\n    if (!drawer) {\n      return;\n    }\n    // NOTE: We need to wait for the microtask queue to be empty before validating,\n    // since both drawers may be swapping positions at the same time.\n    drawer.onPositionChanged.pipe(takeUntil(this._drawers.changes)).subscribe(() => {\n      this._ngZone.onMicrotaskEmpty.asObservable().pipe(take(1)).subscribe(() => {\n        this._validateDrawers();\n      });\n    });\n  }\n\n  /** Subscribes to changes in drawer mode so we can run change detection. */\n  private _watchDrawerMode(drawer: MatDrawer): void {\n    if (drawer) {\n      drawer._modeChanged.pipe(takeUntil(merge(this._drawers.changes, this._destroyed)))\n        .subscribe(() => {\n          this._updateContentMargins();\n          this._changeDetectorRef.markForCheck();\n        });\n    }\n  }\n\n  /** Toggles the 'mat-drawer-opened' class on the main 'mat-drawer-container' element. */\n  private _setContainerClass(isAdd: boolean): void {\n    if (isAdd) {\n      this._element.nativeElement.classList.add('mat-drawer-opened');\n    } else {\n      this._element.nativeElement.classList.remove('mat-drawer-opened');\n    }\n  }\n\n  /** Validate the state of the drawer children components. */\n  private _validateDrawers() {\n    this._start = this._end = null;\n\n    // Ensure that we have at most one start and one end drawer.\n    this._drawers.forEach(drawer => {\n      if (drawer.position == 'end') {\n        if (this._end != null) {\n          throwMatDuplicatedDrawerError('end');\n        }\n        this._end = drawer;\n      } else {\n        if (this._start != null) {\n          throwMatDuplicatedDrawerError('start');\n        }\n        this._start = drawer;\n      }\n    });\n\n    this._right = this._left = null;\n\n    // Detect if we're LTR or RTL.\n    if (!this._dir || this._dir.value == 'ltr') {\n      this._left = this._start;\n      this._right = this._end;\n    } else {\n      this._left = this._end;\n      this._right = this._start;\n    }\n  }\n\n  /** Whether the container is being pushed to the side by one of the drawers. */\n  private _isPushed() {\n    return (this._isDrawerOpen(this._start) && this._start!.mode != 'over') ||\n           (this._isDrawerOpen(this._end) && this._end!.mode != 'over');\n  }\n\n  _onBackdropClicked() {\n    this.backdropClick.emit();\n    this._closeModalDrawer();\n  }\n\n  _closeModalDrawer() {\n    // Close all open drawers where closing is not disabled and the mode is not `side`.\n    [this._start, this._end]\n      .filter(drawer => drawer && !drawer.disableClose && drawer.mode !== 'side')\n      .forEach(drawer => drawer!.close());\n  }\n\n  _isShowingBackdrop(): boolean {\n    return (this._isDrawerOpen(this._start) && this._start!.mode != 'side')\n        || (this._isDrawerOpen(this._end) && this._end!.mode != 'side');\n  }\n\n  private _isDrawerOpen(drawer: MatDrawer | null): boolean {\n    return drawer != null && drawer.opened;\n  }\n\n  /**\n   * Recalculates and updates the inline styles for the content. Note that this should be used\n   * sparingly, because it causes a reflow.\n   */\n  private _updateContentMargins() {\n    // 1. For drawers in `over` mode, they don't affect the content.\n    // 2. For drawers in `side` mode they should shrink the content. We do this by adding to the\n    //    left margin (for left drawer) or right margin (for right the drawer).\n    // 3. For drawers in `push` mode the should shift the content without resizing it. We do this by\n    //    adding to the left or right margin and simultaneously subtracting the same amount of\n    //    margin from the other side.\n\n    let left = 0;\n    let right = 0;\n\n    if (this._left && this._left.opened) {\n      if (this._left.mode == 'side') {\n        left += this._left._width;\n      } else if (this._left.mode == 'push') {\n        let width = this._left._width;\n        left += width;\n        right -= width;\n      }\n    }\n\n    if (this._right && this._right.opened) {\n      if (this._right.mode == 'side') {\n        right += this._right._width;\n      } else if (this._right.mode == 'push') {\n        let width = this._right._width;\n        right += width;\n        left -= width;\n      }\n    }\n\n    // Pull back into the NgZone since in some cases we could be outside.\n    this._ngZone.run(() => this._contentMargins.next({left, right}));\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component, ContentChild,\n  ContentChildren, forwardRef, Inject, Input,\n  ViewEncapsulation\n} from '@angular/core';\nimport {MatDrawer, MatDrawerContainer, MatDrawerContent} from './drawer';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {coerceBooleanProperty, coerceNumberProperty} from '@angular/cdk/coercion';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-sidenav-content',\n  template: '<ng-content></ng-content>',\n  host: {\n    'class': 'mat-drawer-content mat-sidenav-content',\n    '[style.margin-left.px]': '_margins.left',\n    '[style.margin-right.px]': '_margins.right',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatSidenavContent extends MatDrawerContent {\n  constructor(\n      changeDetectorRef: ChangeDetectorRef,\n      @Inject(forwardRef(() => MatSidenavContainer)) container: MatSidenavContainer) {\n    super(changeDetectorRef, container);\n  }\n}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-sidenav',\n  exportAs: 'matSidenav',\n  template: '<ng-content></ng-content>',\n  animations: [\n    trigger('transform', [\n      state('open, open-instant', style({\n        transform: 'translate3d(0, 0, 0)',\n        visibility: 'visible',\n      })),\n      state('void', style({\n        visibility: 'hidden',\n      })),\n      transition('void => open-instant', animate('0ms')),\n      transition('void <=> open, open-instant => void',\n        animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))\n    ])\n  ],\n  host: {\n    'class': 'mat-drawer mat-sidenav',\n    'tabIndex': '-1',\n    '[@transform]': '_animationState',\n    '(@transform.start)': '_onAnimationStart($event)',\n    '(@transform.done)': '_onAnimationEnd($event)',\n    '(keydown)': 'handleKeydown($event)',\n    // must prevent the browser from aligning text based on value\n    '[attr.align]': 'null',\n    '[class.mat-drawer-end]': 'position === \"end\"',\n    '[class.mat-drawer-over]': 'mode === \"over\"',\n    '[class.mat-drawer-push]': 'mode === \"push\"',\n    '[class.mat-drawer-side]': 'mode === \"side\"',\n    '[class.mat-sidenav-fixed]': 'fixedInViewport',\n    '[style.top.px]': 'fixedInViewport ? fixedTopGap : null',\n    '[style.bottom.px]': 'fixedInViewport ? fixedBottomGap : null',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatSidenav extends MatDrawer {\n  /** Whether the sidenav is fixed in the viewport. */\n  @Input()\n  get fixedInViewport(): boolean { return this._fixedInViewport; }\n  set fixedInViewport(value) { this._fixedInViewport = coerceBooleanProperty(value); }\n  private _fixedInViewport = false;\n\n  /**\n   * The gap between the top of the sidenav and the top of the viewport when the sidenav is in fixed\n   * mode.\n   */\n  @Input()\n  get fixedTopGap(): number { return this._fixedTopGap; }\n  set fixedTopGap(value) { this._fixedTopGap = coerceNumberProperty(value); }\n  private _fixedTopGap = 0;\n\n  /**\n   * The gap between the bottom of the sidenav and the bottom of the viewport when the sidenav is in\n   * fixed mode.\n   */\n  @Input()\n  get fixedBottomGap(): number { return this._fixedBottomGap; }\n  set fixedBottomGap(value) { this._fixedBottomGap = coerceNumberProperty(value); }\n  private _fixedBottomGap = 0;\n}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-sidenav-container',\n  exportAs: 'matSidenavContainer',\n  templateUrl: 'sidenav-container.html',\n  styleUrls: ['drawer.css'],\n  host: {\n    'class': 'mat-drawer-container mat-sidenav-container',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatSidenavContainer extends MatDrawerContainer {\n  @ContentChildren(MatSidenav) _drawers;\n\n  @ContentChild(MatSidenavContent) _content;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  Output,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {\n  applyCssTransform,\n  CanColor,\n  CanDisable,\n  CanDisableRipple,\n  HammerInput,\n  HasTabIndex,\n  MatRipple,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinTabIndex,\n  RippleConfig,\n  RippleRef,\n} from '@angular/material/core';\n\n// Increasing integer for generating unique ids for slide-toggle components.\nlet nextUniqueId = 0;\n\nexport const MAT_SLIDE_TOGGLE_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatSlideToggle),\n  multi: true\n};\n\n/** Change event object emitted by a MatSlideToggle. */\nexport class MatSlideToggleChange {\n  source: MatSlideToggle;\n  checked: boolean;\n}\n\n// Boilerplate for applying mixins to MatSlideToggle.\n/** @docs-private */\nexport class MatSlideToggleBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatSlideToggleMixinBase =\n  mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(MatSlideToggleBase)), 'accent'));\n\n/** Represents a slidable \"switch\" toggle that can be moved between on and off. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-slide-toggle',\n  exportAs: 'matSlideToggle',\n  host: {\n    'class': 'mat-slide-toggle',\n    '[id]': 'id',\n    '[class.mat-checked]': 'checked',\n    '[class.mat-disabled]': 'disabled',\n    '[class.mat-slide-toggle-label-before]': 'labelPosition == \"before\"',\n  },\n  templateUrl: 'slide-toggle.html',\n  styleUrls: ['slide-toggle.css'],\n  providers: [MAT_SLIDE_TOGGLE_VALUE_ACCESSOR],\n  inputs: ['disabled', 'disableRipple', 'color', 'tabIndex'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatSlideToggle extends _MatSlideToggleMixinBase implements OnDestroy, AfterContentInit,\n    ControlValueAccessor, CanDisable, CanColor, HasTabIndex, CanDisableRipple {\n\n  private onChange = (_: any) => {};\n  private onTouched = () => {};\n\n  private _uniqueId: string = `mat-slide-toggle-${++nextUniqueId}`;\n  private _slideRenderer: SlideToggleRenderer;\n  private _required: boolean = false;\n  private _checked: boolean = false;\n\n  /** Reference to the focus state ripple. */\n  private _focusRipple: RippleRef | null;\n\n  /** Name value will be applied to the input element if present */\n  @Input() name: string | null = null;\n\n  /** A unique id for the slide-toggle input. If none is supplied, it will be auto-generated. */\n  @Input() id: string = this._uniqueId;\n\n  /** Whether the label should appear after or before the slide-toggle. Defaults to 'after' */\n  @Input() labelPosition: 'before' | 'after' = 'after';\n\n  /** Whether the slide-toggle element is checked or not */\n\n  /** Used to set the aria-label attribute on the underlying input element. */\n  @Input('aria-label') ariaLabel: string | null = null;\n\n  /** Used to set the aria-labelledby attribute on the underlying input element. */\n  @Input('aria-labelledby') ariaLabelledby: string | null = null;\n\n  /** Whether the slide-toggle is required. */\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value) { this._required = coerceBooleanProperty(value); }\n\n  /** Whether the slide-toggle element is checked or not */\n  @Input()\n  get checked(): boolean { return this._checked; }\n  set checked(value) {\n    this._checked = coerceBooleanProperty(value);\n    this._changeDetectorRef.markForCheck();\n  }\n  /** An event will be dispatched each time the slide-toggle changes its value. */\n  @Output() change: EventEmitter<MatSlideToggleChange> = new EventEmitter<MatSlideToggleChange>();\n\n  /** Returns the unique id for the visual hidden input. */\n  get inputId(): string { return `${this.id || this._uniqueId}-input`; }\n\n  /** Reference to the underlying input element. */\n  @ViewChild('input') _inputElement: ElementRef;\n\n  /** Reference to the ripple directive on the thumb container. */\n  @ViewChild(MatRipple) _ripple: MatRipple;\n\n  /** Ripple configuration for the mouse ripples and focus indicators. */\n  _rippleConfig: RippleConfig = {centered: true, radius: 23, speedFactor: 1.5};\n\n  constructor(elementRef: ElementRef,\n              private _platform: Platform,\n              private _focusMonitor: FocusMonitor,\n              private _changeDetectorRef: ChangeDetectorRef,\n              @Attribute('tabindex') tabIndex: string) {\n\n    super(elementRef);\n    this.tabIndex = parseInt(tabIndex) || 0;\n  }\n\n  ngAfterContentInit() {\n    this._slideRenderer = new SlideToggleRenderer(this._elementRef, this._platform);\n\n    this._focusMonitor\n      .monitor(this._inputElement.nativeElement, false)\n      .subscribe(focusOrigin => this._onInputFocusChange(focusOrigin));\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._inputElement.nativeElement);\n  }\n\n  /** Method being called whenever the underlying input emits a change event. */\n  _onChangeEvent(event: Event) {\n    // We always have to stop propagation on the change event.\n    // Otherwise the change event, from the input element, will bubble up and\n    // emit its event object to the component's `change` output.\n    event.stopPropagation();\n\n    // Releasing the pointer over the `<label>` element while dragging triggers another\n    // click event on the `<label>` element. This means that the checked state of the underlying\n    // input changed unintentionally and needs to be changed back.\n    if (this._slideRenderer.dragging) {\n      this._inputElement.nativeElement.checked = this.checked;\n      return;\n    }\n\n    // Sync the value from the underlying input element with the component instance.\n    this.checked = this._inputElement.nativeElement.checked;\n\n    // Emit our custom change event only if the underlying input emitted one. This ensures that\n    // there is no change event, when the checked state changes programmatically.\n    this._emitChangeEvent();\n  }\n\n  /** Method being called whenever the slide-toggle has been clicked. */\n  _onInputClick(event: Event) {\n    // We have to stop propagation for click events on the visual hidden input element.\n    // By default, when a user clicks on a label element, a generated click event will be\n    // dispatched on the associated input element. Since we are using a label element as our\n    // root container, the click event on the `slide-toggle` will be executed twice.\n    // The real click event will bubble up, and the generated click event also tries to bubble up.\n    // This will lead to multiple click events.\n    // Preventing bubbling for the second event will solve that issue.\n    event.stopPropagation();\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  writeValue(value: any): void {\n    this.checked = !!value;\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  /** Implemented as a part of ControlValueAccessor. */\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** Focuses the slide-toggle. */\n  focus() {\n    this._focusMonitor.focusVia(this._inputElement.nativeElement, 'keyboard');\n  }\n\n  /** Toggles the checked state of the slide-toggle. */\n  toggle() {\n    this.checked = !this.checked;\n  }\n\n  /** Function is called whenever the focus changes for the input element. */\n  private _onInputFocusChange(focusOrigin: FocusOrigin) {\n    if (!this._focusRipple && focusOrigin === 'keyboard') {\n      // For keyboard focus show a persistent ripple as focus indicator.\n      this._focusRipple = this._ripple.launch(0, 0, {persistent: true, ...this._rippleConfig});\n    } else if (!focusOrigin) {\n      this.onTouched();\n\n      // Fade out and clear the focus ripple if one is currently present.\n      if (this._focusRipple) {\n        this._focusRipple.fadeOut();\n        this._focusRipple = null;\n      }\n    }\n  }\n\n  /**\n   * Emits a change event on the `change` output. Also notifies the FormControl about the change.\n   */\n  private _emitChangeEvent() {\n    let event = new MatSlideToggleChange();\n    event.source = this;\n    event.checked = this.checked;\n    this.onChange(this.checked);\n    this.change.emit(event);\n  }\n\n  _onDragStart() {\n    if (!this.disabled) {\n      this._slideRenderer.startThumbDrag(this.checked);\n    }\n  }\n\n  _onDrag(event: HammerInput) {\n    if (this._slideRenderer.dragging) {\n      this._slideRenderer.updateThumbPosition(event.deltaX);\n    }\n  }\n\n  _onDragEnd() {\n    if (this._slideRenderer.dragging) {\n      const newCheckedValue = this._slideRenderer.dragPercentage > 50;\n\n      if (newCheckedValue !== this.checked) {\n        this.checked = newCheckedValue;\n        this._emitChangeEvent();\n      }\n\n      // The drag should be stopped outside of the current event handler, because otherwise the\n      // click event will be fired before and will revert the drag change.\n      setTimeout(() => this._slideRenderer.stopThumbDrag());\n    }\n  }\n\n  /** Method being called whenever the label text changes. */\n  _onLabelTextChange() {\n    // This method is getting called whenever the label of the slide-toggle changes.\n    // Since the slide-toggle uses the OnPush strategy we need to notify it about the change\n    // that has been recognized by the cdkObserveContent directive.\n    this._changeDetectorRef.markForCheck();\n  }\n}\n\n/**\n * Renderer for the Slide Toggle component, which separates DOM modification in its own class\n */\nclass SlideToggleRenderer {\n\n  /** Reference to the thumb HTMLElement. */\n  private _thumbEl: HTMLElement;\n\n  /** Reference to the thumb bar HTMLElement. */\n  private _thumbBarEl: HTMLElement;\n\n  /** Width of the thumb bar of the slide-toggle. */\n  private _thumbBarWidth: number;\n\n  /** Previous checked state before drag started. */\n  private _previousChecked: boolean;\n\n  /** Percentage of the thumb while dragging. Percentage as fraction of 100. */\n  dragPercentage: number;\n\n  /** Whether the thumb is currently being dragged. */\n  dragging: boolean = false;\n\n  constructor(elementRef: ElementRef, platform: Platform) {\n    // We only need to interact with these elements when we're on the browser, so only grab\n    // the reference in that case.\n    if (platform.isBrowser) {\n      this._thumbEl = elementRef.nativeElement.querySelector('.mat-slide-toggle-thumb-container');\n      this._thumbBarEl = elementRef.nativeElement.querySelector('.mat-slide-toggle-bar');\n    }\n  }\n\n  /** Initializes the drag of the slide-toggle. */\n  startThumbDrag(checked: boolean) {\n    if (this.dragging) { return; }\n\n    this._thumbBarWidth = this._thumbBarEl.clientWidth - this._thumbEl.clientWidth;\n    this._thumbEl.classList.add('mat-dragging');\n\n    this._previousChecked = checked;\n    this.dragging = true;\n  }\n\n  /** Resets the current drag and returns the new checked value. */\n  stopThumbDrag(): boolean {\n    if (!this.dragging) { return false; }\n\n    this.dragging = false;\n    this._thumbEl.classList.remove('mat-dragging');\n\n    // Reset the transform because the component will take care of the thumb position after drag.\n    applyCssTransform(this._thumbEl, '');\n\n    return this.dragPercentage > 50;\n  }\n\n  /** Updates the thumb containers position from the specified distance. */\n  updateThumbPosition(distance: number) {\n    this.dragPercentage = this._getDragPercentage(distance);\n    // Calculate the moved distance based on the thumb bar width.\n    let dragX = (this.dragPercentage / 100) * this._thumbBarWidth;\n    applyCssTransform(this._thumbEl, `translate3d(${dragX}px, 0, 0)`);\n  }\n\n  /** Retrieves the percentage of thumb from the moved distance. Percentage as fraction of 100. */\n  private _getDragPercentage(distance: number) {\n    let percentage = (distance / this._thumbBarWidth) * 100;\n\n    // When the toggle was initially checked, then we have to start the drag at the end.\n    if (this._previousChecked) {\n      percentage += 100;\n    }\n\n    return Math.max(0, Math.min(percentage, 100));\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ObserversModule} from '@angular/cdk/observers';\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {NgModule} from '@angular/core';\nimport {\n  GestureConfig,\n  MatCommonModule,\n  MatRippleModule,\n} from '@angular/material/core';\nimport {HAMMER_GESTURE_CONFIG} from '@angular/platform-browser';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {MatSlideToggle} from './slide-toggle';\n\n\n@NgModule({\n  imports: [MatRippleModule, MatCommonModule, PlatformModule, ObserversModule, A11yModule],\n  exports: [MatSlideToggle, MatCommonModule],\n  declarations: [MatSlideToggle],\n  providers: [\n    {provide: HAMMER_GESTURE_CONFIG, useClass: GestureConfig}\n  ],\n})\nexport class MatSlideToggleModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty, coerceNumberProperty} from '@angular/cdk/coercion';\nimport {\n  DOWN_ARROW,\n  END,\n  HOME,\n  LEFT_ARROW,\n  PAGE_DOWN,\n  PAGE_UP,\n  RIGHT_ARROW,\n  UP_ARROW,\n} from '@angular/cdk/keycodes';\nimport {\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {\n  CanColor,\n  CanDisable,\n  HammerInput,\n  HasTabIndex,\n  mixinColor,\n  mixinDisabled,\n  mixinTabIndex,\n} from '@angular/material/core';\nimport {Subscription} from 'rxjs/Subscription';\n\n/**\n * Visually, a 30px separation between tick marks looks best. This is very subjective but it is\n * the default separation we chose.\n */\nconst MIN_AUTO_TICK_SEPARATION = 30;\n\n/** The thumb gap size for a disabled slider. */\nconst DISABLED_THUMB_GAP = 7;\n\n/** The thumb gap size for a non-active slider at its minimum value. */\nconst MIN_VALUE_NONACTIVE_THUMB_GAP = 7;\n\n/** The thumb gap size for an active slider at its minimum value. */\nconst MIN_VALUE_ACTIVE_THUMB_GAP = 10;\n\n/**\n * Provider Expression that allows mat-slider to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)] and [formControl].\n */\nexport const MAT_SLIDER_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatSlider),\n  multi: true\n};\n\n/** A simple change event emitted by the MatSlider component. */\nexport class MatSliderChange {\n  /** The MatSlider that changed. */\n  source: MatSlider;\n\n  /** The new value of the source slider. */\n  value: number | null;\n}\n\n\n// Boilerplate for applying mixins to MatSlider.\n/** @docs-private */\nexport class MatSliderBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatSliderMixinBase =\n  mixinTabIndex(mixinColor(mixinDisabled(MatSliderBase), 'accent'));\n\n/**\n * Allows users to select from a range of values by moving the slider thumb. It is similar in\n * behavior to the native `<input type=\"range\">` element.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-slider',\n  exportAs: 'matSlider',\n  providers: [MAT_SLIDER_VALUE_ACCESSOR],\n  host: {\n    '(focus)': '_onFocus()',\n    '(blur)': '_onBlur()',\n    '(click)': '_onClick($event)',\n    '(keydown)': '_onKeydown($event)',\n    '(keyup)': '_onKeyup()',\n    '(mouseenter)': '_onMouseenter()',\n    '(slide)': '_onSlide($event)',\n    '(slideend)': '_onSlideEnd()',\n    '(slidestart)': '_onSlideStart($event)',\n    'class': 'mat-slider',\n    'role': 'slider',\n    '[tabIndex]': 'tabIndex',\n    '[attr.aria-disabled]': 'disabled',\n    '[attr.aria-valuemax]': 'max',\n    '[attr.aria-valuemin]': 'min',\n    '[attr.aria-valuenow]': 'value',\n    '[attr.aria-orientation]': 'vertical ? \"vertical\" : \"horizontal\"',\n    '[class.mat-slider-disabled]': 'disabled',\n    '[class.mat-slider-has-ticks]': 'tickInterval',\n    '[class.mat-slider-horizontal]': '!vertical',\n    '[class.mat-slider-axis-inverted]': '_invertAxis',\n    '[class.mat-slider-sliding]': '_isSliding',\n    '[class.mat-slider-thumb-label-showing]': 'thumbLabel',\n    '[class.mat-slider-vertical]': 'vertical',\n    '[class.mat-slider-min-value]': '_isMinValue',\n    '[class.mat-slider-hide-last-tick]': 'disabled || _isMinValue && _thumbGap && _invertAxis',\n  },\n  templateUrl: 'slider.html',\n  styleUrls: ['slider.css'],\n  inputs: ['disabled', 'color', 'tabIndex'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatSlider extends _MatSliderMixinBase\n    implements ControlValueAccessor, OnDestroy, CanDisable, CanColor, OnInit, HasTabIndex {\n  /** Whether the slider is inverted. */\n  @Input()\n  get invert() { return this._invert; }\n  set invert(value: any) {\n    this._invert = coerceBooleanProperty(value);\n  }\n  private _invert = false;\n\n  /** The maximum value that the slider can have. */\n  @Input()\n  get max() { return this._max; }\n  set max(v: number) {\n    this._max = coerceNumberProperty(v, this._max);\n    this._percent = this._calculatePercentage(this._value);\n\n    // Since this also modifies the percentage, we need to let the change detection know.\n    this._changeDetectorRef.markForCheck();\n  }\n  private _max: number = 100;\n\n  /** The minimum value that the slider can have. */\n  @Input()\n  get min() { return this._min; }\n  set min(v: number) {\n    this._min = coerceNumberProperty(v, this._min);\n\n    // If the value wasn't explicitly set by the user, set it to the min.\n    if (this._value === null) {\n      this.value = this._min;\n    }\n    this._percent = this._calculatePercentage(this._value);\n\n    // Since this also modifies the percentage, we need to let the change detection know.\n    this._changeDetectorRef.markForCheck();\n  }\n  private _min: number = 0;\n\n  /** The values at which the thumb will snap. */\n  @Input()\n  get step() { return this._step; }\n  set step(v: number) {\n    this._step = coerceNumberProperty(v, this._step);\n\n    if (this._step % 1 !== 0) {\n      this._roundLabelTo = this._step.toString().split('.').pop()!.length;\n    }\n\n    // Since this could modify the label, we need to notify the change detection.\n    this._changeDetectorRef.markForCheck();\n  }\n  private _step: number = 1;\n\n  /** Whether or not to show the thumb label. */\n  @Input()\n  get thumbLabel(): boolean { return this._thumbLabel; }\n  set thumbLabel(value) { this._thumbLabel = coerceBooleanProperty(value); }\n  private _thumbLabel: boolean = false;\n\n  /** @deprecated */\n  @Input('thumb-label')\n  get _thumbLabelDeprecated(): boolean { return this._thumbLabel; }\n  set _thumbLabelDeprecated(value) { this._thumbLabel = value; }\n\n  /**\n   * How often to show ticks. Relative to the step so that a tick always appears on a step.\n   * Ex: Tick interval of 4 with a step of 3 will draw a tick every 4 steps (every 12 values).\n   */\n  @Input()\n  get tickInterval() { return this._tickInterval; }\n  set tickInterval(value: 'auto' | number) {\n    if (value === 'auto') {\n      this._tickInterval = 'auto';\n    } else if (typeof value === 'number' || typeof value === 'string') {\n      this._tickInterval = coerceNumberProperty(value, this._tickInterval as number);\n    } else {\n      this._tickInterval = 0;\n    }\n  }\n  private _tickInterval: 'auto' | number = 0;\n\n  /** @deprecated */\n  @Input('tick-interval')\n  get _tickIntervalDeprecated() { return this.tickInterval; }\n  set _tickIntervalDeprecated(v) { this.tickInterval = v; }\n\n  /** Value of the slider. */\n  @Input()\n  get value() {\n    // If the value needs to be read and it is still uninitialized, initialize it to the min.\n    if (this._value === null) {\n      this.value = this._min;\n    }\n    return this._value;\n  }\n  set value(v: number | null) {\n    if (v !== this._value) {\n      this._value = coerceNumberProperty(v, this._value || 0);\n      this._percent = this._calculatePercentage(this._value);\n\n      // Since this also modifies the percentage, we need to let the change detection know.\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  private _value: number | null = null;\n\n  /** Whether the slider is vertical. */\n  @Input()\n  get vertical() { return this._vertical; }\n  set vertical(value: any) {\n    this._vertical = coerceBooleanProperty(value);\n  }\n  private _vertical = false;\n\n  /** Event emitted when the slider value has changed. */\n  @Output() change = new EventEmitter<MatSliderChange>();\n\n  /** Event emitted when the slider thumb moves. */\n  @Output() input = new EventEmitter<MatSliderChange>();\n\n  /** The value to be used for display purposes. */\n  get displayValue(): string | number {\n    // Note that this could be improved further by rounding something like 0.999 to 1 or\n    // 0.899 to 0.9, however it is very performance sensitive, because it gets called on\n    // every change detection cycle.\n    if (this._roundLabelTo && this.value && this.value % 1 !== 0) {\n      return this.value.toFixed(this._roundLabelTo);\n    }\n\n    return this.value || 0;\n  }\n\n  /** onTouch function registered via registerOnTouch (ControlValueAccessor). */\n  onTouched: () => any = () => {};\n\n  /** The percentage of the slider that coincides with the value. */\n  get percent(): number { return this._clamp(this._percent); }\n  private _percent: number = 0;\n\n  /**\n   * Whether or not the thumb is sliding.\n   * Used to determine if there should be a transition for the thumb and fill track.\n   */\n  _isSliding: boolean = false;\n\n  /**\n   * Whether or not the slider is active (clicked or sliding).\n   * Used to shrink and grow the thumb as according to the Material Design spec.\n   */\n  _isActive: boolean = false;\n\n  /**\n   * Whether the axis of the slider is inverted.\n   * (i.e. whether moving the thumb in the positive x or y direction decreases the slider's value).\n   */\n  get _invertAxis() {\n    // Standard non-inverted mode for a vertical slider should be dragging the thumb from bottom to\n    // top. However from a y-axis standpoint this is inverted.\n    return this.vertical ? !this.invert : this.invert;\n  }\n\n\n  /** Whether the slider is at its minimum value. */\n  get _isMinValue() {\n    return this.percent === 0;\n  }\n\n  /**\n   * The amount of space to leave between the slider thumb and the track fill & track background\n   * elements.\n   */\n  get _thumbGap() {\n    if (this.disabled) {\n      return DISABLED_THUMB_GAP;\n    }\n    if (this._isMinValue && !this.thumbLabel) {\n      return this._isActive ? MIN_VALUE_ACTIVE_THUMB_GAP : MIN_VALUE_NONACTIVE_THUMB_GAP;\n    }\n    return 0;\n  }\n\n  /** CSS styles for the track background element. */\n  get _trackBackgroundStyles(): { [key: string]: string } {\n    let axis = this.vertical ? 'Y' : 'X';\n    let sign = this._invertMouseCoords ? '-' : '';\n    return {\n      'transform': `translate${axis}(${sign}${this._thumbGap}px) scale${axis}(${1 - this.percent})`\n    };\n  }\n\n  /** CSS styles for the track fill element. */\n  get _trackFillStyles(): { [key: string]: string } {\n    let axis = this.vertical ? 'Y' : 'X';\n    let sign = this._invertMouseCoords ? '' : '-';\n    return {\n      'transform': `translate${axis}(${sign}${this._thumbGap}px) scale${axis}(${this.percent})`\n    };\n  }\n\n  /** CSS styles for the ticks container element. */\n  get _ticksContainerStyles(): { [key: string]: string } {\n    let axis = this.vertical ? 'Y' : 'X';\n    // For a horizontal slider in RTL languages we push the ticks container off the left edge\n    // instead of the right edge to avoid causing a horizontal scrollbar to appear.\n    let sign = !this.vertical && this._direction == 'rtl' ? '' : '-';\n    let offset = this._tickIntervalPercent / 2 * 100;\n    return {\n      'transform': `translate${axis}(${sign}${offset}%)`\n    };\n  }\n\n  /** CSS styles for the ticks element. */\n  get _ticksStyles(): { [key: string]: string } {\n    let tickSize = this._tickIntervalPercent * 100;\n    let backgroundSize = this.vertical ? `2px ${tickSize}%` : `${tickSize}% 2px`;\n    let axis = this.vertical ? 'Y' : 'X';\n    // Depending on the direction we pushed the ticks container, push the ticks the opposite\n    // direction to re-center them but clip off the end edge. In RTL languages we need to flip the\n    // ticks 180 degrees so we're really cutting off the end edge abd not the start.\n    let sign = !this.vertical && this._direction == 'rtl' ? '-' : '';\n    let rotate = !this.vertical && this._direction == 'rtl' ? ' rotate(180deg)' : '';\n    let styles: { [key: string]: string } = {\n      'backgroundSize': backgroundSize,\n      // Without translateZ ticks sometimes jitter as the slider moves on Chrome & Firefox.\n      'transform': `translateZ(0) translate${axis}(${sign}${tickSize / 2}%)${rotate}`\n    };\n\n    if (this._isMinValue && this._thumbGap) {\n      let side = this.vertical ?\n          (this._invertAxis ? 'Bottom' : 'Top') :\n          (this._invertAxis ? 'Right' : 'Left');\n      styles[`padding${side}`] = `${this._thumbGap}px`;\n    }\n\n    return styles;\n  }\n\n  get _thumbContainerStyles(): { [key: string]: string } {\n    let axis = this.vertical ? 'Y' : 'X';\n    // For a horizontal slider in RTL languages we push the thumb container off the left edge\n    // instead of the right edge to avoid causing a horizontal scrollbar to appear.\n    let invertOffset =\n        (this._direction == 'rtl' && !this.vertical) ? !this._invertAxis : this._invertAxis;\n    let offset = (invertOffset ? this.percent : 1 - this.percent) * 100;\n    return {\n      'transform': `translate${axis}(-${offset}%)`\n    };\n  }\n\n  /** The size of a tick interval as a percentage of the size of the track. */\n  private _tickIntervalPercent: number = 0;\n\n  /** The dimensions of the slider. */\n  private _sliderDimensions: ClientRect | null = null;\n\n  private _controlValueAccessorChangeFn: (value: any) => void = () => {};\n\n  /** Decimal places to round to, based on the step amount. */\n  private _roundLabelTo: number;\n\n  /** Subscription to the Directionality change EventEmitter. */\n  private _dirChangeSubscription = Subscription.EMPTY;\n\n  /** The value of the slider when the slide start event fires. */\n  private _valueOnSlideStart: number | null;\n\n  /** Reference to the inner slider wrapper element. */\n  @ViewChild('sliderWrapper') private _sliderWrapper: ElementRef;\n\n  /**\n   * Whether mouse events should be converted to a slider position by calculating their distance\n   * from the right or bottom edge of the slider as opposed to the top or left.\n   */\n  private get _invertMouseCoords() {\n    return (this._direction == 'rtl' && !this.vertical) ? !this._invertAxis : this._invertAxis;\n  }\n\n  /** The language direction for this slider element. */\n  private get _direction() {\n    return (this._dir && this._dir.value == 'rtl') ? 'rtl' : 'ltr';\n  }\n\n  constructor(elementRef: ElementRef,\n              private _focusMonitor: FocusMonitor,\n              private _changeDetectorRef: ChangeDetectorRef,\n              @Optional() private _dir: Directionality,\n              @Attribute('tabindex') tabIndex: string) {\n    super(elementRef);\n\n    this.tabIndex = parseInt(tabIndex) || 0;\n  }\n\n  ngOnInit() {\n    this._focusMonitor\n        .monitor(this._elementRef.nativeElement, true)\n        .subscribe((origin: FocusOrigin) => {\n          this._isActive = !!origin && origin !== 'keyboard';\n          this._changeDetectorRef.detectChanges();\n        });\n    if (this._dir) {\n      this._dirChangeSubscription = this._dir.change.subscribe(() => {\n        this._changeDetectorRef.markForCheck();\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    this._dirChangeSubscription.unsubscribe();\n  }\n\n  _onMouseenter() {\n    if (this.disabled) {\n      return;\n    }\n\n    // We save the dimensions of the slider here so we can use them to update the spacing of the\n    // ticks and determine where on the slider click and slide events happen.\n    this._sliderDimensions = this._getSliderDimensions();\n    this._updateTickIntervalPercent();\n  }\n\n  _onClick(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n\n    let oldValue = this.value;\n    this._isSliding = false;\n    this._focusHostElement();\n    this._updateValueFromPosition({x: event.clientX, y: event.clientY});\n\n    /* Emit a change and input event if the value changed. */\n    if (oldValue != this.value) {\n      this._emitInputEvent();\n      this._emitChangeEvent();\n    }\n  }\n\n  _onSlide(event: HammerInput) {\n    if (this.disabled) {\n      return;\n    }\n\n    // The slide start event sometimes fails to fire on iOS, so if we're not already in the sliding\n    // state, call the slide start handler manually.\n    if (!this._isSliding) {\n      this._onSlideStart(null);\n    }\n\n    // Prevent the slide from selecting anything else.\n    event.preventDefault();\n\n    let oldValue = this.value;\n    this._updateValueFromPosition({x: event.center.x, y: event.center.y});\n\n    // Native range elements always emit `input` events when the value changed while sliding.\n    if (oldValue != this.value) {\n      this._emitInputEvent();\n    }\n  }\n\n  _onSlideStart(event: HammerInput | null) {\n    if (this.disabled || this._isSliding) {\n      return;\n    }\n\n    // Simulate mouseenter in case this is a mobile device.\n    this._onMouseenter();\n\n    this._isSliding = true;\n    this._focusHostElement();\n    this._valueOnSlideStart = this.value;\n\n    if (event) {\n      this._updateValueFromPosition({x: event.center.x, y: event.center.y});\n      event.preventDefault();\n    }\n  }\n\n  _onSlideEnd() {\n    this._isSliding = false;\n\n    if (this._valueOnSlideStart != this.value) {\n      this._emitChangeEvent();\n    }\n    this._valueOnSlideStart = null;\n  }\n\n  _onFocus() {\n    // We save the dimensions of the slider here so we can use them to update the spacing of the\n    // ticks and determine where on the slider click and slide events happen.\n    this._sliderDimensions = this._getSliderDimensions();\n    this._updateTickIntervalPercent();\n  }\n\n  _onBlur() {\n    this.onTouched();\n  }\n\n  _onKeydown(event: KeyboardEvent) {\n    if (this.disabled) { return; }\n\n    let oldValue = this.value;\n\n    switch (event.keyCode) {\n      case PAGE_UP:\n        this._increment(10);\n        break;\n      case PAGE_DOWN:\n        this._increment(-10);\n        break;\n      case END:\n        this.value = this.max;\n        break;\n      case HOME:\n        this.value = this.min;\n        break;\n      case LEFT_ARROW:\n        // NOTE: For a sighted user it would make more sense that when they press an arrow key on an\n        // inverted slider the thumb moves in that direction. However for a blind user, nothing\n        // about the slider indicates that it is inverted. They will expect left to be decrement,\n        // regardless of how it appears on the screen. For speakers ofRTL languages, they probably\n        // expect left to mean increment. Therefore we flip the meaning of the side arrow keys for\n        // RTL. For inverted sliders we prefer a good a11y experience to having it \"look right\" for\n        // sighted users, therefore we do not swap the meaning.\n        this._increment(this._direction == 'rtl' ? 1 : -1);\n        break;\n      case UP_ARROW:\n        this._increment(1);\n        break;\n      case RIGHT_ARROW:\n        // See comment on LEFT_ARROW about the conditions under which we flip the meaning.\n        this._increment(this._direction == 'rtl' ? -1 : 1);\n        break;\n      case DOWN_ARROW:\n        this._increment(-1);\n        break;\n      default:\n        // Return if the key is not one that we explicitly handle to avoid calling preventDefault on\n        // it.\n        return;\n    }\n\n    if (oldValue != this.value) {\n      this._emitInputEvent();\n      this._emitChangeEvent();\n    }\n\n    this._isSliding = true;\n    event.preventDefault();\n  }\n\n  _onKeyup() {\n    this._isSliding = false;\n  }\n\n  /** Increments the slider by the given number of steps (negative number decrements). */\n  private _increment(numSteps: number) {\n    this.value = this._clamp((this.value || 0) + this.step * numSteps, this.min, this.max);\n  }\n\n  /** Calculate the new value from the new physical location. The value will always be snapped. */\n  private _updateValueFromPosition(pos: {x: number, y: number}) {\n    if (!this._sliderDimensions) {\n      return;\n    }\n\n    let offset = this.vertical ? this._sliderDimensions.top : this._sliderDimensions.left;\n    let size = this.vertical ? this._sliderDimensions.height : this._sliderDimensions.width;\n    let posComponent = this.vertical ? pos.y : pos.x;\n\n    // The exact value is calculated from the event and used to find the closest snap value.\n    let percent = this._clamp((posComponent - offset) / size);\n    if (this._invertMouseCoords) {\n      percent = 1 - percent;\n    }\n    let exactValue = this._calculateValue(percent);\n\n    // This calculation finds the closest step by finding the closest whole number divisible by the\n    // step relative to the min.\n    let closestValue = Math.round((exactValue - this.min) / this.step) * this.step + this.min;\n    // The value needs to snap to the min and max.\n    this.value = this._clamp(closestValue, this.min, this.max);\n  }\n\n  /** Emits a change event if the current value is different from the last emitted value. */\n  private _emitChangeEvent() {\n    this._controlValueAccessorChangeFn(this.value);\n    this.change.emit(this._createChangeEvent());\n  }\n\n  /** Emits an input event when the current value is different from the last emitted value. */\n  private _emitInputEvent() {\n    this.input.emit(this._createChangeEvent());\n  }\n\n  /** Updates the amount of space between ticks as a percentage of the width of the slider. */\n  private _updateTickIntervalPercent() {\n    if (!this.tickInterval || !this._sliderDimensions) {\n      return;\n    }\n\n    if (this.tickInterval == 'auto') {\n      let trackSize = this.vertical ? this._sliderDimensions.height : this._sliderDimensions.width;\n      let pixelsPerStep = trackSize * this.step / (this.max - this.min);\n      let stepsPerTick = Math.ceil(MIN_AUTO_TICK_SEPARATION / pixelsPerStep);\n      let pixelsPerTick = stepsPerTick * this.step;\n      this._tickIntervalPercent = pixelsPerTick / trackSize;\n    } else {\n      this._tickIntervalPercent = this.tickInterval * this.step / (this.max - this.min);\n    }\n  }\n\n  /** Creates a slider change object from the specified value. */\n  private _createChangeEvent(value = this.value): MatSliderChange {\n    let event = new MatSliderChange();\n\n    event.source = this;\n    event.value = value;\n\n    return event;\n  }\n\n  /** Calculates the percentage of the slider that a value is. */\n  private _calculatePercentage(value: number | null) {\n    return ((value || 0) - this.min) / (this.max - this.min);\n  }\n\n  /** Calculates the value a percentage of the slider corresponds to. */\n  private _calculateValue(percentage: number) {\n    return this.min + percentage * (this.max - this.min);\n  }\n\n  /** Return a number between two numbers. */\n  private _clamp(value: number, min = 0, max = 1) {\n    return Math.max(min, Math.min(value, max));\n  }\n\n  /**\n   * Get the bounding client rect of the slider track element.\n   * The track is used rather than the native element to ignore the extra space that the thumb can\n   * take up.\n   */\n  private _getSliderDimensions() {\n    return this._sliderWrapper ? this._sliderWrapper.nativeElement.getBoundingClientRect() : null;\n  }\n\n  /**\n   * Focuses the native element.\n   * Currently only used to allow a blur event to fire but will be used with keyboard input later.\n   */\n  private _focusHostElement() {\n    this._elementRef.nativeElement.focus();\n  }\n\n  /**\n   * Sets the model value. Implemented as part of ControlValueAccessor.\n   * @param value\n   */\n  writeValue(value: any) {\n    this.value = value;\n  }\n\n  /**\n   * Registers a callback to eb triggered when the value has changed.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Callback to be registered.\n   */\n  registerOnChange(fn: (value: any) => void) {\n    this._controlValueAccessorChangeFn = fn;\n  }\n\n  /**\n   * Registers a callback to be triggered when the component is touched.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Callback to be registered.\n   */\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Sets whether the component should be disabled.\n   * Implemented as part of ControlValueAccessor.\n   * @param isDisabled\n   */\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Injectable} from '@angular/core';\nimport {Platform} from '@angular/cdk/platform';\n\n/**\n * Global registry for all dynamically-created, injected style tags.\n */\nconst styleElementForWebkitCompatibility: Map<string, HTMLStyleElement> = new Map();\n\n/** A utility for calling matchMedia queries. */\n@Injectable()\nexport class MediaMatcher {\n  /** The internal matchMedia method to return back a MediaQueryList like object. */\n  private _matchMedia: (query: string) => MediaQueryList;\n\n  constructor(private platform: Platform) {\n    this._matchMedia = this.platform.isBrowser && window.matchMedia ?\n      // matchMedia is bound to the window scope intentionally as it is an illegal invocation to\n      // call it from a different scope.\n      window.matchMedia.bind(window) :\n      noopMatchMedia;\n  }\n\n  /**\n   * Evaluates the given media query and returns the native MediaQueryList from which results\n   * can be retrieved.\n   * Confirms the layout engine will trigger for the selector query provided and returns the\n   * MediaQueryList for the query provided.\n   */\n  matchMedia(query: string): MediaQueryList {\n    if (this.platform.WEBKIT) {\n      createEmptyStyleRule(query);\n    }\n    return this._matchMedia(query);\n  }\n}\n\n/**\n * For Webkit engines that only trigger the MediaQueryListListener when there is at least one CSS\n * selector for the respective media query.\n */\nfunction createEmptyStyleRule(query: string) {\n  if (!styleElementForWebkitCompatibility.has(query)) {\n    try {\n      const style = document.createElement('style');\n\n      style.setAttribute('type', 'text/css');\n      if (!style.sheet) {\n        const cssText = `@media ${query} {.fx-query-test{ }}`;\n        style.appendChild(document.createTextNode(cssText));\n      }\n\n      document.getElementsByTagName('head')[0].appendChild(style);\n\n      // Store in private global registry\n      styleElementForWebkitCompatibility.set(query, style);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\n/** No-op matchMedia replacement for non-browser platforms.  */\nfunction noopMatchMedia(query: string): MediaQueryList {\n  return {\n    matches: query === 'all' || query === '',\n    media: query,\n    addListener: () => {},\n    removeListener: () => {}\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Injectable, NgZone, OnDestroy} from '@angular/core';\nimport {MediaMatcher} from './media-matcher';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {map} from 'rxjs/operators/map';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {coerceArray} from '@angular/cdk/coercion';\nimport {combineLatest} from 'rxjs/observable/combineLatest';\nimport {fromEventPattern} from 'rxjs/observable/fromEventPattern';\n\n/** The current state of a layout breakpoint. */\nexport interface BreakpointState {\n  /** Whether the breakpoint is currently matching. */\n  matches: boolean;\n}\n\ninterface Query {\n  observable: Observable<BreakpointState>;\n  mql: MediaQueryList;\n}\n\n/** Utility for checking the matching state of @media queries. */\n@Injectable()\nexport class BreakpointObserver implements OnDestroy {\n  /**  A map of all media queries currently being listened for. */\n  private _queries: Map<string, Query> = new Map();\n  /** A subject for all other observables to takeUntil based on. */\n  private _destroySubject: Subject<{}> = new Subject();\n\n  constructor(private mediaMatcher: MediaMatcher, private zone: NgZone) {}\n\n  /** Completes the active subject, signalling to all other observables to complete. */\n  ngOnDestroy() {\n    this._destroySubject.next();\n    this._destroySubject.complete();\n  }\n\n  /**\n   * Whether one or more media queries match the current viewport size.\n   * @param value One or more media queries to check.\n   * @returns Whether any of the media queries match.\n   */\n  isMatched(value: string | string[]): boolean {\n    let queries = coerceArray(value);\n    return queries.some(mediaQuery => this._registerQuery(mediaQuery).mql.matches);\n  }\n\n  /**\n   * Gets an observable of results for the given queries that will emit new results for any changes\n   * in matching of the given queries.\n   * @returns A stream of matches for the given queries.\n   */\n  observe(value: string | string[]): Observable<BreakpointState> {\n    let queries = coerceArray(value);\n    let observables = queries.map(query => this._registerQuery(query).observable);\n\n    return combineLatest(observables, (a: BreakpointState, b: BreakpointState) => {\n      return {\n        matches: !!((a && a.matches) || (b && b.matches)),\n      };\n    });\n  }\n\n  /** Registers a specific query to be listened for. */\n  private _registerQuery(query: string): Query {\n    // Only set up a new MediaQueryList if it is not already being listened for.\n    if (this._queries.has(query)) {\n      return this._queries.get(query)!;\n    }\n\n    let mql: MediaQueryList = this.mediaMatcher.matchMedia(query);\n    // Create callback for match changes and add it is as a listener.\n    let queryObservable = fromEventPattern(\n      // Listener callback methods are wrapped to be placed back in ngZone. Callbacks must be placed\n      // back into the zone because matchMedia is only included in Zone.js by loading the\n      // webapis-media-query.js file alongside the zone.js file.  Additionally, some browsers do not\n      // have MediaQueryList inherit from EventTarget, which causes inconsistencies in how Zone.js\n      // patches it.\n      (listener: MediaQueryListListener) => {\n        mql.addListener((e: MediaQueryList) => this.zone.run(() => listener(e)));\n      },\n      (listener: MediaQueryListListener) => {\n        mql.removeListener((e: MediaQueryList) => this.zone.run(() => listener(e)));\n      })\n      .pipe(\n        takeUntil(this._destroySubject),\n        startWith(mql),\n        map((nextMql: MediaQueryList) => ({matches: nextMql.matches}))\n      );\n\n    // Add the MediaQueryList to the set of queries.\n    let output = {observable: queryObservable, mql: mql};\n    this._queries.set(query, output);\n    return output;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// PascalCase is being used as Breakpoints is used like an enum.\n// tslint:disable-next-line:variable-name\nexport const Breakpoints = {\n  Handset: '(max-width: 599px) and (orientation: portrait), ' +\n           '(max-width: 959px) and (orientation: landscape)',\n  Tablet: '(min-width: 600px) and (max-width: 839px) and (orientation: portrait), ' +\n          '(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)',\n  Web: '(min-width: 840px) and (orientation: portrait), ' +\n       '(min-width: 1280px) and (orientation: landscape)',\n\n  HandsetPortrait: '(max-width: 599px) and (orientation: portrait)',\n  TabletPortrait: '(min-width: 600px) and (max-width: 839px) and (orientation: portrait)',\n  WebPortrait: '(min-width: 840px) and (orientation: portrait)',\n\n  HandsetLandscape: '(max-width: 959px) and (orientation: landscape)',\n  TabletLandscape: '(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)',\n  WebLandscape: '(min-width: 1280px) and (orientation: landscape)',\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {OverlayRef} from '@angular/cdk/overlay';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {MatSnackBarContainer} from './snack-bar-container';\n\n/**\n * Reference to a snack bar dispatched from the snack bar service.\n */\nexport class MatSnackBarRef<T> {\n  /** The instance of the component making up the content of the snack bar. */\n  instance: T;\n\n  /**\n   * The instance of the component making up the content of the snack bar.\n   * @docs-private\n   */\n  containerInstance: MatSnackBarContainer;\n\n  /** Subject for notifying the user that the snack bar has closed. */\n  private _afterClosed = new Subject<void>();\n\n  /** Subject for notifying the user that the snack bar has opened and appeared. */\n  private _afterOpened = new Subject<void>();\n\n  /** Subject for notifying the user that the snack bar action was called. */\n  private _onAction = new Subject<void>();\n\n  /**\n   * Timeout ID for the duration setTimeout call. Used to clear the timeout if the snackbar is\n   * dismissed before the duration passes.\n   */\n  private _durationTimeoutId: number;\n\n  constructor(containerInstance: MatSnackBarContainer,\n              private _overlayRef: OverlayRef) {\n    this.containerInstance = containerInstance;\n    // Dismiss snackbar on action.\n    this.onAction().subscribe(() => this.dismiss());\n    containerInstance._onExit.subscribe(() => this._finishDismiss());\n  }\n\n  /** Dismisses the snack bar. */\n  dismiss(): void {\n    if (!this._afterClosed.closed) {\n      this.containerInstance.exit();\n    }\n    clearTimeout(this._durationTimeoutId);\n  }\n\n  /** Marks the snackbar action clicked. */\n  closeWithAction(): void {\n    if (!this._onAction.closed) {\n      this._onAction.next();\n      this._onAction.complete();\n    }\n  }\n\n  /** Dismisses the snack bar after some duration */\n  _dismissAfter(duration: number): void {\n    this._durationTimeoutId = setTimeout(() => this.dismiss(), duration);\n  }\n\n  /** Marks the snackbar as opened */\n  _open(): void {\n    if (!this._afterOpened.closed) {\n      this._afterOpened.next();\n      this._afterOpened.complete();\n    }\n  }\n\n  /** Cleans up the DOM after closing. */\n  private _finishDismiss(): void {\n    this._overlayRef.dispose();\n\n    if (!this._onAction.closed) {\n      this._onAction.complete();\n    }\n\n    this._afterClosed.next();\n    this._afterClosed.complete();\n  }\n\n  /** Gets an observable that is notified when the snack bar is finished closing. */\n  afterDismissed(): Observable<void> {\n    return this._afterClosed.asObservable();\n  }\n\n  /** Gets an observable that is notified when the snack bar has opened and appeared. */\n  afterOpened(): Observable<void> {\n    return this.containerInstance._onEnter;\n  }\n\n  /** Gets an observable that is notified when the snack bar action is called. */\n  onAction(): Observable<void> {\n    return this._onAction.asObservable();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ViewContainerRef, InjectionToken} from '@angular/core';\nimport {AriaLivePoliteness} from '@angular/cdk/a11y';\nimport {Direction} from '@angular/cdk/bidi';\n\nexport const MAT_SNACK_BAR_DATA = new InjectionToken<any>('MatSnackBarData');\n\n/** Possible values for horizontalPosition on MatSnackBarConfig. */\nexport type MatSnackBarHorizontalPosition = 'start' | 'center' | 'end' | 'left' | 'right';\n\n/** Possible values for verticalPosition on MatSnackBarConfig. */\nexport type MatSnackBarVerticalPosition = 'top' | 'bottom';\n\n/**\n * Configuration used when opening a snack-bar.\n */\nexport class MatSnackBarConfig {\n  /** The politeness level for the MatAriaLiveAnnouncer announcement. */\n  politeness?: AriaLivePoliteness = 'assertive';\n\n  /** Message to be announced by the MatAriaLiveAnnouncer */\n  announcementMessage?: string = '';\n\n  /** The view container to place the overlay for the snack bar into. */\n  viewContainerRef?: ViewContainerRef;\n\n  /** The length of time in milliseconds to wait before automatically dismissing the snack bar. */\n  duration?: number = 0;\n\n  /** Extra CSS classes to be added to the snack bar container. */\n  panelClass?: string | string[];\n\n  /**\n   * Extra CSS classes to be added to the snack bar container.\n   * @deprecated Use `panelClass` instead.\n   */\n extraClasses?: string | string[];\n\n  /** Text layout direction for the snack bar. */\n  direction?: Direction = 'ltr';\n\n  /** Data being injected into the child component. */\n  data?: any = null;\n\n  /** The horizontal position to place the snack bar. */\n  horizontalPosition?: MatSnackBarHorizontalPosition = 'center';\n\n  /** The vertical position to place the snack bar. */\n  verticalPosition?: MatSnackBarVerticalPosition = 'bottom';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Component, ViewEncapsulation, Inject, ChangeDetectionStrategy} from '@angular/core';\nimport {trigger, style, transition, animate} from '@angular/animations';\nimport {AnimationCurves, AnimationDurations} from '@angular/material/core';\nimport {MatSnackBarRef} from './snack-bar-ref';\nimport {MAT_SNACK_BAR_DATA} from './snack-bar-config';\n\n\n/**\n * A component used to open as the default snack bar, matching material spec.\n * This should only be used internally by the snack bar service.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'simple-snack-bar',\n  templateUrl: 'simple-snack-bar.html',\n  styleUrls: ['simple-snack-bar.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('contentFade', [\n      transition(':enter', [\n        style({opacity: '0'}),\n        animate(`${AnimationDurations.COMPLEX} ${AnimationCurves.STANDARD_CURVE}`)\n      ])\n    ])\n  ],\n  host: {\n    '[@contentFade]': '',\n    'class': 'mat-simple-snackbar',\n  }\n})\nexport class SimpleSnackBar {\n  /** Data that was injected into the snack bar. */\n  data: { message: string, action: string };\n\n  constructor(\n    public snackBarRef: MatSnackBarRef<SimpleSnackBar>,\n    @Inject(MAT_SNACK_BAR_DATA) data: any) {\n    this.data = data;\n  }\n\n  /** Performs the action on the snack bar. */\n  action(): void {\n    this.snackBarRef.closeWithAction();\n  }\n\n  /** If the action button should be shown. */\n  get hasAction(): boolean {\n    return !!this.data.action;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ComponentRef,\n  EmbeddedViewRef,\n  ViewChild,\n  NgZone,\n  OnDestroy,\n  ElementRef,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate,\n  AnimationEvent,\n} from '@angular/animations';\nimport {\n  BasePortalOutlet,\n  ComponentPortal,\n  CdkPortalOutlet,\n} from '@angular/cdk/portal';\nimport {take} from 'rxjs/operators/take';\nimport {AnimationCurves, AnimationDurations} from '@angular/material/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {MatSnackBarConfig} from './snack-bar-config';\n\n\nexport const SHOW_ANIMATION =\n    `${AnimationDurations.ENTERING} ${AnimationCurves.DECELERATION_CURVE}`;\nexport const HIDE_ANIMATION =\n    `${AnimationDurations.EXITING} ${AnimationCurves.ACCELERATION_CURVE}`;\n\n/**\n * Internal component that wraps user-provided snack bar content.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'snack-bar-container',\n  templateUrl: 'snack-bar-container.html',\n  styleUrls: ['snack-bar-container.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  host: {\n    'role': 'alert',\n    'class': 'mat-snack-bar-container',\n    '[@state]': '_animationState',\n    '(@state.done)': 'onAnimationEnd($event)'\n  },\n  animations: [\n    trigger('state', [\n      state('visible-top, visible-bottom', style({transform: 'translateY(0%)'})),\n      transition('visible-top => hidden-top, visible-bottom => hidden-bottom',\n        animate(HIDE_ANIMATION)),\n      transition('void => visible-top, void => visible-bottom', animate(SHOW_ANIMATION)),\n    ])\n  ],\n})\nexport class MatSnackBarContainer extends BasePortalOutlet implements OnDestroy {\n  /** Whether the component has been destroyed. */\n  private _destroyed = false;\n\n  /** The portal outlet inside of this container into which the snack bar content will be loaded. */\n  @ViewChild(CdkPortalOutlet) _portalOutlet: CdkPortalOutlet;\n\n  /** Subject for notifying that the snack bar has exited from view. */\n  _onExit: Subject<any> = new Subject();\n\n  /** Subject for notifying that the snack bar has finished entering the view. */\n  _onEnter: Subject<any> = new Subject();\n\n  /** The state of the snack bar animations. */\n  _animationState = 'void';\n\n  /** The snack bar configuration. */\n  snackBarConfig: MatSnackBarConfig;\n\n  constructor(\n    private _ngZone: NgZone,\n    private _elementRef: ElementRef,\n    private _changeDetectorRef: ChangeDetectorRef) {\n    super();\n  }\n\n  /** Attach a component portal as content to this snack bar container. */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    if (this._portalOutlet.hasAttached()) {\n      throw Error('Attempting to attach snack bar content after content is already attached');\n    }\n\n    const element: HTMLElement = this._elementRef.nativeElement;\n\n    if (this.snackBarConfig.panelClass || this.snackBarConfig.extraClasses) {\n      this._setCssClasses(this.snackBarConfig.panelClass);\n      this._setCssClasses(this.snackBarConfig.extraClasses);\n    }\n\n    if (this.snackBarConfig.horizontalPosition === 'center') {\n      element.classList.add('mat-snack-bar-center');\n    }\n\n    if (this.snackBarConfig.verticalPosition === 'top') {\n      element.classList.add('mat-snack-bar-top');\n    }\n\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  /** Attach a template portal as content to this snack bar container. */\n  attachTemplatePortal(): EmbeddedViewRef<any> {\n    throw Error('Not yet implemented');\n  }\n\n  /** Handle end of animations, updating the state of the snackbar. */\n  onAnimationEnd(event: AnimationEvent) {\n    const {fromState, toState} = event;\n\n    if ((toState === 'void' && fromState !== 'void') || toState.startsWith('hidden')) {\n      this._completeExit();\n    }\n\n    if (toState.startsWith('visible')) {\n      // Note: we shouldn't use `this` inside the zone callback,\n      // because it can cause a memory leak.\n      const onEnter = this._onEnter;\n\n      this._ngZone.run(() => {\n        onEnter.next();\n        onEnter.complete();\n      });\n    }\n  }\n\n  /** Begin animation of snack bar entrance into view. */\n  enter(): void {\n    if (!this._destroyed) {\n      this._animationState = `visible-${this.snackBarConfig.verticalPosition}`;\n      this._changeDetectorRef.detectChanges();\n    }\n  }\n\n  /** Begin animation of the snack bar exiting from view. */\n  exit(): Observable<void> {\n    this._animationState = `hidden-${this.snackBarConfig.verticalPosition}`;\n    return this._onExit;\n  }\n\n  /** Makes sure the exit callbacks have been invoked when the element is destroyed. */\n  ngOnDestroy() {\n    this._destroyed = true;\n    this._completeExit();\n  }\n\n  /**\n   * Waits for the zone to settle before removing the element. Helps prevent\n   * errors where we end up removing an element which is in the middle of an animation.\n   */\n  private _completeExit() {\n    this._ngZone.onMicrotaskEmpty.asObservable().pipe(take(1)).subscribe(() => {\n      this._onExit.next();\n      this._onExit.complete();\n    });\n  }\n\n  /** Applies the user-specified list of CSS classes to the element. */\n  private _setCssClasses(classList: undefined|string|string[]) {\n    if (!classList) {\n      return;\n    }\n\n    const element = this._elementRef.nativeElement;\n\n    if (Array.isArray(classList)) {\n      // Note that we can't use a spread here, because IE doesn't support multiple arguments.\n      classList.forEach(cssClass => element.classList.add(cssClass));\n    } else {\n      element.classList.add(classList);\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LiveAnnouncer} from '@angular/cdk/a11y';\nimport {BreakpointObserver, Breakpoints} from '@angular/cdk/layout';\nimport {Overlay, OverlayConfig, OverlayRef} from '@angular/cdk/overlay';\nimport {ComponentPortal, ComponentType, PortalInjector} from '@angular/cdk/portal';\nimport {ComponentRef, Injectable, Injector, Optional, SkipSelf} from '@angular/core';\nimport {take} from 'rxjs/operators/take';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {SimpleSnackBar} from './simple-snack-bar';\nimport {MAT_SNACK_BAR_DATA, MatSnackBarConfig} from './snack-bar-config';\nimport {MatSnackBarContainer} from './snack-bar-container';\nimport {MatSnackBarRef} from './snack-bar-ref';\n\n\n/**\n * Service to dispatch Material Design snack bar messages.\n */\n@Injectable()\nexport class MatSnackBar {\n  /**\n   * Reference to the current snack bar in the view *at this level* (in the Angular injector tree).\n   * If there is a parent snack-bar service, all operations should delegate to that parent\n   * via `_openedSnackBarRef`.\n   */\n  private _snackBarRefAtThisLevel: MatSnackBarRef<any> | null = null;\n\n  /** Reference to the currently opened snackbar at *any* level. */\n  get _openedSnackBarRef(): MatSnackBarRef<any> | null {\n    const parent = this._parentSnackBar;\n    return parent ? parent._openedSnackBarRef : this._snackBarRefAtThisLevel;\n  }\n\n  set _openedSnackBarRef(value: MatSnackBarRef<any> | null) {\n    if (this._parentSnackBar) {\n      this._parentSnackBar._openedSnackBarRef = value;\n    } else {\n      this._snackBarRefAtThisLevel = value;\n    }\n  }\n\n  constructor(\n      private _overlay: Overlay,\n      private _live: LiveAnnouncer,\n      private _injector: Injector,\n      private _breakpointObserver: BreakpointObserver,\n      @Optional() @SkipSelf() private _parentSnackBar: MatSnackBar) {}\n\n  /**\n   * Creates and dispatches a snack bar with a custom component for the content, removing any\n   * currently opened snack bars.\n   *\n   * @param component Component to be instantiated.\n   * @param config Extra configuration for the snack bar.\n   */\n  openFromComponent<T>(component: ComponentType<T>, config?: MatSnackBarConfig): MatSnackBarRef<T> {\n    const _config = _applyConfigDefaults(config);\n    const snackBarRef = this._attach(component, _config);\n\n    // When the snackbar is dismissed, clear the reference to it.\n    snackBarRef.afterDismissed().subscribe(() => {\n      // Clear the snackbar ref if it hasn't already been replaced by a newer snackbar.\n      if (this._openedSnackBarRef == snackBarRef) {\n        this._openedSnackBarRef = null;\n      }\n    });\n\n    if (this._openedSnackBarRef) {\n      // If a snack bar is already in view, dismiss it and enter the\n      // new snack bar after exit animation is complete.\n      this._openedSnackBarRef.afterDismissed().subscribe(() => {\n        snackBarRef.containerInstance.enter();\n      });\n      this._openedSnackBarRef.dismiss();\n    } else {\n      // If no snack bar is in view, enter the new snack bar.\n      snackBarRef.containerInstance.enter();\n    }\n\n    // If a dismiss timeout is provided, set up dismiss based on after the snackbar is opened.\n    if (_config.duration && _config.duration > 0) {\n      snackBarRef.afterOpened().subscribe(() => snackBarRef._dismissAfter(_config!.duration!));\n    }\n\n    if (_config.announcementMessage) {\n      this._live.announce(_config.announcementMessage, _config.politeness);\n    }\n\n    this._openedSnackBarRef = snackBarRef;\n    return this._openedSnackBarRef;\n  }\n\n  /**\n   * Opens a snackbar with a message and an optional action.\n   * @param message The message to show in the snackbar.\n   * @param action The label for the snackbar action.\n   * @param config Additional configuration options for the snackbar.\n   */\n  open(message: string, action: string = '', config?: MatSnackBarConfig):\n      MatSnackBarRef<SimpleSnackBar> {\n    const _config = _applyConfigDefaults(config);\n\n    // Since the user doesn't have access to the component, we can\n    // override the data to pass in our own message and action.\n    _config.data = {message, action};\n    _config.announcementMessage = message;\n\n    return this.openFromComponent(SimpleSnackBar, _config);\n  }\n\n  /**\n   * Dismisses the currently-visible snack bar.\n   */\n  dismiss(): void {\n    if (this._openedSnackBarRef) {\n      this._openedSnackBarRef.dismiss();\n    }\n  }\n\n  /**\n   * Attaches the snack bar container component to the overlay.\n   */\n  private _attachSnackBarContainer(overlayRef: OverlayRef,\n                                   config: MatSnackBarConfig): MatSnackBarContainer {\n    const containerPortal = new ComponentPortal(MatSnackBarContainer, config.viewContainerRef);\n    const containerRef: ComponentRef<MatSnackBarContainer> = overlayRef.attach(containerPortal);\n    containerRef.instance.snackBarConfig = config;\n    return containerRef.instance;\n  }\n\n  /**\n   * Places a new component as the content of the snack bar container.\n   */\n  private _attach<T>(component: ComponentType<T>, config: MatSnackBarConfig): MatSnackBarRef<T> {\n    const overlayRef = this._createOverlay(config);\n    const container = this._attachSnackBarContainer(overlayRef, config);\n    const snackBarRef = new MatSnackBarRef<T>(container, overlayRef);\n    const injector = this._createInjector(config, snackBarRef);\n    const portal = new ComponentPortal(component, undefined, injector);\n    const contentRef = container.attachComponentPortal(portal);\n\n    // We can't pass this via the injector, because the injector is created earlier.\n    snackBarRef.instance = contentRef.instance;\n\n    // Subscribe to the breakpoint observer and attach the mat-snack-bar-handset class as\n    // appropriate. This class is applied to the overlay element because the overlay must expand to\n    // fill the width of the screen for full width snackbars.\n    this._breakpointObserver.observe(Breakpoints.Handset).pipe(\n      takeUntil(overlayRef.detachments().pipe(take(1)))\n    ).subscribe(state => {\n      if (state.matches) {\n        overlayRef.overlayElement.classList.add('mat-snack-bar-handset');\n      } else {\n        overlayRef.overlayElement.classList.remove('mat-snack-bar-handset');\n      }\n    });\n\n    return snackBarRef;\n  }\n\n  /**\n   * Creates a new overlay and places it in the correct location.\n   * @param config The user-specified snack bar config.\n   */\n  private _createOverlay(config: MatSnackBarConfig): OverlayRef {\n    const overlayConfig = new OverlayConfig();\n    overlayConfig.direction = config.direction;\n\n    let positionStrategy = this._overlay.position().global();\n    // Set horizontal position.\n    const isRtl = config.direction === 'rtl';\n    const isLeft = (\n      config.horizontalPosition === 'left' ||\n      (config.horizontalPosition === 'start' && !isRtl) ||\n      (config.horizontalPosition === 'end' && isRtl));\n    const isRight = !isLeft && config.horizontalPosition !== 'center';\n    if (isLeft) {\n      positionStrategy.left('0');\n    } else if (isRight) {\n      positionStrategy.right('0');\n    } else {\n      positionStrategy.centerHorizontally();\n    }\n    // Set horizontal position.\n    if (config.verticalPosition === 'top') {\n      positionStrategy.top('0');\n    } else {\n      positionStrategy.bottom('0');\n    }\n\n    overlayConfig.positionStrategy = positionStrategy;\n    return this._overlay.create(overlayConfig);\n  }\n\n  /**\n   * Creates an injector to be used inside of a snack bar component.\n   * @param config Config that was used to create the snack bar.\n   * @param snackBarRef Reference to the snack bar.\n   */\n  private _createInjector<T>(\n      config: MatSnackBarConfig,\n      snackBarRef: MatSnackBarRef<T>): PortalInjector {\n\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injectionTokens = new WeakMap();\n\n    injectionTokens.set(MatSnackBarRef, snackBarRef);\n    injectionTokens.set(MAT_SNACK_BAR_DATA, config.data);\n\n    return new PortalInjector(userInjector || this._injector, injectionTokens);\n  }\n}\n\n/**\n * Applies default options to the snackbar config.\n * @param config The configuration to which the defaults will be applied.\n * @returns The new configuration object with defaults applied.\n */\nfunction _applyConfigDefaults(config?: MatSnackBarConfig): MatSnackBarConfig {\n  return {...new MatSnackBarConfig(), ...config};\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  Input,\n  ElementRef,\n  SimpleChanges,\n  OnChanges,\n  ViewEncapsulation,\n  Optional,\n  Inject,\n} from '@angular/core';\nimport {CanColor, mixinColor} from '@angular/material/core';\nimport {Platform} from '@angular/cdk/platform';\nimport {DOCUMENT} from '@angular/common';\nimport {coerceNumberProperty} from '@angular/cdk/coercion';\n\n/** Possible mode for a progress spinner. */\nexport type ProgressSpinnerMode = 'determinate' | 'indeterminate';\n\n/**\n * Base reference size of the spinner.\n * @docs-private\n */\nconst BASE_SIZE = 100;\n\n/**\n * Base reference stroke width of the spinner.\n * @docs-private\n */\nconst BASE_STROKE_WIDTH = 10;\n\n// Boilerplate for applying mixins to MatProgressSpinner.\n/** @docs-private */\nexport class MatProgressSpinnerBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatProgressSpinnerMixinBase = mixinColor(MatProgressSpinnerBase, 'primary');\n\nconst INDETERMINATE_ANIMATION_TEMPLATE = `\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.1%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.01%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.01%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.51%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n`;\n\n/**\n * <mat-progress-spinner> component.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-progress-spinner',\n  exportAs: 'matProgressSpinner',\n  host: {\n    'role': 'progressbar',\n    'class': 'mat-progress-spinner',\n    '[style.width.px]': '_elementSize',\n    '[style.height.px]': '_elementSize',\n    '[attr.aria-valuemin]': 'mode === \"determinate\" ? 0 : null',\n    '[attr.aria-valuemax]': 'mode === \"determinate\" ? 100 : null',\n    '[attr.aria-valuenow]': 'value',\n    '[attr.mode]': 'mode',\n  },\n  inputs: ['color'],\n  templateUrl: 'progress-spinner.html',\n  styleUrls: ['progress-spinner.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatProgressSpinner extends _MatProgressSpinnerMixinBase implements CanColor,\n  OnChanges {\n\n  private _value = 0;\n  private _strokeWidth: number;\n  private _fallbackAnimation = false;\n\n  /** The width and height of the host element. Will grow with stroke width. **/\n  _elementSize = BASE_SIZE;\n\n  /** Tracks diameters of existing instances to de-dupe generated styles (default d = 100) */\n  private static diameters = new Set<number>([BASE_SIZE]);\n\n  /**\n   * Used for storing all of the generated keyframe animations.\n   * @dynamic\n   */\n  private static styleTag: HTMLStyleElement|null = null;\n\n  /** The diameter of the progress spinner (will set width and height of svg). */\n  @Input()\n  get diameter(): number {\n    return this._diameter;\n  }\n  set diameter(size: number) {\n    this._diameter = coerceNumberProperty(size);\n\n    if (!this._fallbackAnimation && !MatProgressSpinner.diameters.has(this._diameter)) {\n      this._attachStyleNode();\n    }\n  }\n  private _diameter = BASE_SIZE;\n\n  /** Stroke width of the progress spinner. */\n  @Input()\n  get strokeWidth(): number {\n    return this._strokeWidth || this.diameter / 10;\n  }\n\n  set strokeWidth(value: number) {\n    this._strokeWidth = coerceNumberProperty(value);\n  }\n\n\n  /** Mode of the progress circle */\n  @Input() mode: ProgressSpinnerMode = 'determinate';\n\n  /** Value of the progress circle. */\n  @Input()\n  get value(): number {\n    return this.mode === 'determinate' ? this._value : 0;\n  }\n  set value(newValue: number) {\n    this._value = Math.max(0, Math.min(100, coerceNumberProperty(newValue)));\n  }\n\n  constructor(public _elementRef: ElementRef,\n              platform: Platform,\n              @Optional() @Inject(DOCUMENT) private _document: any) {\n\n    super(_elementRef);\n    this._fallbackAnimation = platform.EDGE || platform.TRIDENT;\n\n    // On IE and Edge, we can't animate the `stroke-dashoffset`\n    // reliably so we fall back to a non-spec animation.\n    const animationClass =\n      `mat-progress-spinner-indeterminate${this._fallbackAnimation ? '-fallback' : ''}-animation`;\n\n    _elementRef.nativeElement.classList.add(animationClass);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.strokeWidth || changes.diameter) {\n      this._elementSize = this._diameter + Math.max(this.strokeWidth - BASE_STROKE_WIDTH, 0);\n    }\n  }\n\n  /** The radius of the spinner, adjusted for stroke width. */\n  get _circleRadius() {\n    return (this.diameter - BASE_STROKE_WIDTH) / 2;\n  }\n\n  /** The view box of the spinner's svg element. */\n  get _viewBox() {\n    const viewBox = this._circleRadius * 2 + this.strokeWidth;\n    return `0 0 ${viewBox} ${viewBox}`;\n  }\n\n  /** The stroke circumference of the svg circle. */\n  get _strokeCircumference(): number {\n    return 2 * Math.PI * this._circleRadius;\n  }\n\n  /** The dash offset of the svg circle. */\n  get _strokeDashOffset() {\n    if (this.mode === 'determinate') {\n      return this._strokeCircumference * (100 - this._value) / 100;\n    }\n\n    // In fallback mode set the circle to 80% and rotate it with CSS.\n    if (this._fallbackAnimation && this.mode === 'indeterminate') {\n      return this._strokeCircumference * 0.2;\n    }\n\n    return null;\n  }\n\n  /** Stroke width of the circle in percent. */\n  get _circleStrokeWidth() {\n    return this.strokeWidth / this._elementSize * 100;\n  }\n\n  /** Dynamically generates a style tag containing the correct animation for this diameter. */\n  private _attachStyleNode(): void {\n    let styleTag = MatProgressSpinner.styleTag;\n\n    if (!styleTag) {\n      styleTag = this._document.createElement('style');\n      this._document.head.appendChild(styleTag);\n      MatProgressSpinner.styleTag = styleTag;\n    }\n\n    if (styleTag && styleTag.sheet) {\n      (styleTag.sheet as CSSStyleSheet).insertRule(this._getAnimationText(), 0);\n    }\n\n    MatProgressSpinner.diameters.add(this.diameter);\n  }\n\n  /** Generates animation styles adjusted for the spinner's diameter. */\n  private _getAnimationText(): string {\n    return INDETERMINATE_ANIMATION_TEMPLATE\n        // Animation should begin at 5% and end at 80%\n        .replace(/START_VALUE/g, `${0.95 * this._strokeCircumference}`)\n        .replace(/END_VALUE/g, `${0.2 * this._strokeCircumference}`)\n        .replace(/DIAMETER/g, `${this.diameter}`);\n  }\n}\n\n\n/**\n * <mat-spinner> component.\n *\n * This is a component definition to be used as a convenience reference to create an\n * indeterminate <mat-progress-spinner> instance.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-spinner',\n  host: {\n    'role': 'progressbar',\n    'mode': 'indeterminate',\n    'class': 'mat-spinner mat-progress-spinner',\n    '[style.width.px]': '_elementSize',\n    '[style.height.px]': '_elementSize',\n  },\n  inputs: ['color'],\n  templateUrl: 'progress-spinner.html',\n  styleUrls: ['progress-spinner.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatSpinner extends MatProgressSpinner {\n  constructor(elementRef: ElementRef, platform: Platform,\n              @Optional() @Inject(DOCUMENT) document: any) {\n    super(elementRef, platform, document);\n    this.mode = 'indeterminate';\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {\n  CanColor,\n  CanDisable,\n  CanDisableRipple,\n  MatRipple,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  RippleConfig,\n  RippleRef,\n} from '@angular/material/core';\n\n// Increasing integer for generating unique ids for radio components.\nlet nextUniqueId = 0;\n\n/**\n * Provider Expression that allows mat-radio-group to register as a ControlValueAccessor. This\n * allows it to support [(ngModel)] and ngControl.\n * @docs-private\n */\nexport const MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatRadioGroup),\n  multi: true\n};\n\n/** Change event object emitted by MatRadio and MatRadioGroup. */\nexport class MatRadioChange {\n  /** The MatRadioButton that emits the change event. */\n  source: MatRadioButton | null;\n  /** The value of the MatRadioButton. */\n  value: any;\n}\n\n\n// Boilerplate for applying mixins to MatRadioGroup.\n/** @docs-private */\nexport class MatRadioGroupBase { }\nexport const _MatRadioGroupMixinBase = mixinDisabled(MatRadioGroupBase);\n\n/**\n * A group of radio buttons. May contain one or more `<mat-radio-button>` elements.\n */\n@Directive({\n  selector: 'mat-radio-group',\n  exportAs: 'matRadioGroup',\n  providers: [MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR],\n  host: {\n    'role': 'radiogroup',\n    'class': 'mat-radio-group',\n  },\n  inputs: ['disabled'],\n})\nexport class MatRadioGroup extends _MatRadioGroupMixinBase\n    implements AfterContentInit, ControlValueAccessor, CanDisable {\n  /**\n   * Selected value for group. Should equal the value of the selected radio button if there *is*\n   * a corresponding radio button with a matching value. If there is *not* such a corresponding\n   * radio button, this value persists to be applied in case a new radio button is added with a\n   * matching value.\n   */\n  private _value: any = null;\n\n  /** The HTML name attribute applied to radio buttons in this group. */\n  private _name: string = `mat-radio-group-${nextUniqueId++}`;\n\n  /** The currently selected radio button. Should match value. */\n  private _selected: MatRadioButton | null = null;\n\n  /** Whether the `value` has been set to its initial value. */\n  private _isInitialized: boolean = false;\n\n  /** Whether the labels should appear after or before the radio-buttons. Defaults to 'after' */\n  private _labelPosition: 'before' | 'after' = 'after';\n\n  /** Whether the radio group is disabled. */\n  private _disabled: boolean = false;\n\n  /** Whether the radio group is required. */\n  private _required: boolean = false;\n\n  /** The method to be called in order to update ngModel */\n  _controlValueAccessorChangeFn: (value: any) => void = () => {};\n\n  /**\n   * onTouch function registered via registerOnTouch (ControlValueAccessor).\n   * @docs-private\n   */\n  onTouched: () => any = () => {};\n\n  /**\n   * Event emitted when the group value changes.\n   * Change events are only emitted when the value changes due to user interaction with\n   * a radio button (the same behavior as `<input type-\"radio\">`).\n   */\n  @Output() change: EventEmitter<MatRadioChange> = new EventEmitter<MatRadioChange>();\n\n  /** Child radio buttons. */\n  @ContentChildren(forwardRef(() => MatRadioButton), { descendants: true })\n  _radios: QueryList<MatRadioButton>;\n\n  /** Name of the radio button group. All radio buttons inside this group will use this name. */\n  @Input()\n  get name(): string { return this._name; }\n  set name(value: string) {\n    this._name = value;\n    this._updateRadioButtonNames();\n  }\n\n  /**\n   * Alignment of the radio-buttons relative to their labels. Can be 'before' or 'after'.\n   * @deprecated\n   */\n  @Input()\n  get align(): 'start' | 'end' {\n    // align refers to the checkbox relative to the label, while labelPosition refers to the\n    // label relative to the checkbox. As such, they are inverted.\n    return this.labelPosition == 'after' ? 'start' : 'end';\n  }\n\n  set align(v) {\n    this.labelPosition = (v == 'start') ? 'after' : 'before';\n  }\n\n\n  /** Whether the labels should appear after or before the radio-buttons. Defaults to 'after' */\n  @Input()\n  get labelPosition(): 'before' | 'after' {\n    return this._labelPosition;\n  }\n\n  set labelPosition(v) {\n    this._labelPosition = (v == 'before') ? 'before' : 'after';\n    this._markRadiosForCheck();\n  }\n\n  /** Value of the radio button. */\n  @Input()\n  get value(): any { return this._value; }\n  set value(newValue: any) {\n    if (this._value != newValue) {\n      // Set this before proceeding to ensure no circular loop occurs with selection.\n      this._value = newValue;\n\n      this._updateSelectedRadioFromValue();\n      this._checkSelectedRadioButton();\n    }\n  }\n\n  _checkSelectedRadioButton() {\n    if (this._selected && !this._selected.checked) {\n      this._selected.checked = true;\n    }\n  }\n\n  /** Whether the radio button is selected. */\n  @Input()\n  get selected() { return this._selected; }\n  set selected(selected: MatRadioButton | null) {\n    this._selected = selected;\n    this.value = selected ? selected.value : null;\n    this._checkSelectedRadioButton();\n  }\n\n  /** Whether the radio group is disabled */\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) {\n    this._disabled = coerceBooleanProperty(value);\n    this._markRadiosForCheck();\n  }\n\n  /** Whether the radio group is required */\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value: boolean) {\n    this._required = coerceBooleanProperty(value);\n    this._markRadiosForCheck();\n  }\n\n  constructor(private _changeDetector: ChangeDetectorRef) {\n    super();\n  }\n\n  /**\n   * Initialize properties once content children are available.\n   * This allows us to propagate relevant attributes to associated buttons.\n   */\n  ngAfterContentInit() {\n    // Mark this component as initialized in AfterContentInit because the initial value can\n    // possibly be set by NgModel on MatRadioGroup, and it is possible that the OnInit of the\n    // NgModel occurs *after* the OnInit of the MatRadioGroup.\n    this._isInitialized = true;\n  }\n\n  /**\n   * Mark this group as being \"touched\" (for ngModel). Meant to be called by the contained\n   * radio buttons upon their blur.\n   */\n  _touch() {\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n\n  private _updateRadioButtonNames(): void {\n    if (this._radios) {\n      this._radios.forEach(radio => {\n        radio.name = this.name;\n      });\n    }\n  }\n\n  /** Updates the `selected` radio button from the internal _value state. */\n  private _updateSelectedRadioFromValue(): void {\n    // If the value already matches the selected radio, do nothing.\n    const isAlreadySelected = this._selected != null && this._selected.value == this._value;\n\n    if (this._radios != null && !isAlreadySelected) {\n      this._selected = null;\n      this._radios.forEach(radio => {\n        radio.checked = this.value == radio.value;\n        if (radio.checked) {\n          this._selected = radio;\n        }\n      });\n    }\n  }\n\n  /** Dispatch change event with current selection and group value. */\n  _emitChangeEvent(): void {\n    if (this._isInitialized) {\n      const event = new MatRadioChange();\n      event.source = this._selected;\n      event.value = this._value;\n      this.change.emit(event);\n    }\n  }\n\n  _markRadiosForCheck() {\n    if (this._radios) {\n      this._radios.forEach(radio => radio._markForCheck());\n    }\n  }\n\n  /**\n   * Sets the model value. Implemented as part of ControlValueAccessor.\n   * @param value\n   */\n  writeValue(value: any) {\n    this.value = value;\n    this._changeDetector.markForCheck();\n  }\n\n  /**\n   * Registers a callback to be triggered when the model value changes.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Callback to be registered.\n   */\n  registerOnChange(fn: (value: any) => void) {\n    this._controlValueAccessorChangeFn = fn;\n  }\n\n  /**\n   * Registers a callback to be triggered when the control is touched.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Callback to be registered.\n   */\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Sets the disabled state of the control. Implemented as a part of ControlValueAccessor.\n   * @param isDisabled Whether the control should be disabled.\n   */\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n    this._changeDetector.markForCheck();\n  }\n}\n\n// Boilerplate for applying mixins to MatRadioButton.\n/** @docs-private */\nexport class MatRadioButtonBase {\n  constructor(public _elementRef: ElementRef) {}\n}\n// As per Material design specifications the selection control radio should use the accent color\n// palette by default. https://material.io/guidelines/components/selection-controls.html\nexport const _MatRadioButtonMixinBase =\n    mixinColor(mixinDisableRipple(MatRadioButtonBase), 'accent');\n\n/**\n * A radio-button. May be inside of\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-radio-button',\n  templateUrl: 'radio.html',\n  styleUrls: ['radio.css'],\n  inputs: ['color', 'disableRipple'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  exportAs: 'matRadioButton',\n  host: {\n    'class': 'mat-radio-button',\n    '[class.mat-radio-checked]': 'checked',\n    '[class.mat-radio-disabled]': 'disabled',\n    '[attr.id]': 'id',\n    // Note: under normal conditions focus shouldn't land on this element, however it may be\n    // programmatically set, for example inside of a focus trap, in this case we want to forward\n    // the focus to the native element.\n    '(focus)': '_inputElement.nativeElement.focus()',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatRadioButton extends _MatRadioButtonMixinBase\n    implements OnInit, AfterViewInit, OnDestroy, CanColor, CanDisableRipple {\n\n  private _uniqueId: string = `mat-radio-${++nextUniqueId}`;\n\n  /** The unique ID for the radio button. */\n  @Input() id: string = this._uniqueId;\n\n  /** Analog to HTML 'name' attribute used to group radios for unique selection. */\n  @Input() name: string;\n\n  /** Used to set the 'aria-label' attribute on the underlying input element. */\n  @Input('aria-label') ariaLabel: string;\n\n  /** The 'aria-labelledby' attribute takes precedence as the element's text alternative. */\n  @Input('aria-labelledby') ariaLabelledby: string;\n\n  /** Whether this radio button is checked. */\n  @Input()\n  get checked(): boolean { return this._checked; }\n  set checked(value: boolean) {\n    const newCheckedState = coerceBooleanProperty(value);\n\n    if (this._checked != newCheckedState) {\n      this._checked = newCheckedState;\n\n      if (newCheckedState && this.radioGroup && this.radioGroup.value != this.value) {\n        this.radioGroup.selected = this;\n      } else if (!newCheckedState && this.radioGroup && this.radioGroup.value == this.value) {\n        // When unchecking the selected radio button, update the selected radio\n        // property on the group.\n        this.radioGroup.selected = null;\n      }\n\n      if (newCheckedState) {\n        // Notify all radio buttons with the same name to un-check.\n        this._radioDispatcher.notify(this.id, this.name);\n      }\n      this._changeDetector.markForCheck();\n    }\n  }\n\n  /** The value of this radio button. */\n  @Input()\n  get value(): any {\n    return this._value;\n  }\n\n  set value(value: any) {\n    if (this._value != value) {\n      this._value = value;\n      if (this.radioGroup != null) {\n        if (!this.checked) {\n          // Update checked when the value changed to match the radio group's value\n          this.checked = this.radioGroup.value == value;\n        }\n        if (this.checked) {\n          this.radioGroup.selected = this;\n        }\n      }\n    }\n  }\n\n  /**\n   * Whether or not the radio-button should appear before or after the label.\n   * @deprecated\n   */\n  @Input()\n  get align(): 'start' | 'end' {\n    // align refers to the checkbox relative to the label, while labelPosition refers to the\n    // label relative to the checkbox. As such, they are inverted.\n    return this.labelPosition == 'after' ? 'start' : 'end';\n  }\n\n  set align(v) {\n    this.labelPosition = (v == 'start') ? 'after' : 'before';\n  }\n\n  private _labelPosition: 'before' | 'after';\n\n  /** Whether the label should appear after or before the radio button. Defaults to 'after' */\n  @Input()\n  get labelPosition(): 'before' | 'after' {\n    return this._labelPosition || (this.radioGroup && this.radioGroup.labelPosition) || 'after';\n  }\n\n  set labelPosition(value) {\n    this._labelPosition = value;\n  }\n\n  /** Whether the radio button is disabled. */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled || (this.radioGroup != null && this.radioGroup.disabled);\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n\n  /** Whether the radio button is required. */\n  @Input()\n  get required(): boolean {\n    return this._required || (this.radioGroup && this.radioGroup.required);\n  }\n  set required(value: boolean) {\n    this._required = coerceBooleanProperty(value);\n  }\n\n  /**\n   * Event emitted when the checked state of this radio button changes.\n   * Change events are only emitted when the value changes due to user interaction with\n   * the radio button (the same behavior as `<input type-\"radio\">`).\n   */\n  @Output() change: EventEmitter<MatRadioChange> = new EventEmitter<MatRadioChange>();\n\n  /** The parent radio group. May or may not be present. */\n  radioGroup: MatRadioGroup;\n\n  /** ID of the native input element inside `<mat-radio-button>` */\n  get inputId(): string { return `${this.id || this._uniqueId}-input`; }\n\n  /** Whether this radio is checked. */\n  private _checked: boolean = false;\n\n  /** Whether this radio is disabled. */\n  private _disabled: boolean;\n\n  /** Whether this radio is required. */\n  private _required: boolean;\n\n  /** Value assigned to this radio.*/\n  private _value: any = null;\n\n  /** The child ripple instance. */\n  @ViewChild(MatRipple) _ripple: MatRipple;\n\n  /** Ripple configuration for the mouse ripples and focus indicators. */\n  _rippleConfig: RippleConfig = {centered: true, radius: 23, speedFactor: 1.5};\n\n  /** Reference to the current focus ripple. */\n  private _focusRipple: RippleRef | null;\n\n  /** Unregister function for _radioDispatcher **/\n  private _removeUniqueSelectionListener: () => void = () => {};\n\n  /** The native `<input type=radio>` element */\n  @ViewChild('input') _inputElement: ElementRef;\n\n  constructor(@Optional() radioGroup: MatRadioGroup,\n              elementRef: ElementRef,\n              private _changeDetector: ChangeDetectorRef,\n              private _focusMonitor: FocusMonitor,\n              private _radioDispatcher: UniqueSelectionDispatcher) {\n    super(elementRef);\n\n    // Assertions. Ideally these should be stripped out by the compiler.\n    // TODO(jelbourn): Assert that there's no name binding AND a parent radio group.\n    this.radioGroup = radioGroup;\n\n    this._removeUniqueSelectionListener =\n      _radioDispatcher.listen((id: string, name: string) => {\n        if (id != this.id && name == this.name) {\n          this.checked = false;\n        }\n      });\n  }\n\n  /** Focuses the radio button. */\n  focus(): void {\n    this._focusMonitor.focusVia(this._inputElement.nativeElement, 'keyboard');\n  }\n\n  /**\n   * Marks the radio button as needing checking for change detection.\n   * This method is exposed because the parent radio group will directly\n   * update bound properties of the radio button.\n   */\n  _markForCheck() {\n    // When group value changes, the button will not be notified. Use `markForCheck` to explicit\n    // update radio button's status\n    this._changeDetector.markForCheck();\n  }\n\n  ngOnInit() {\n    if (this.radioGroup) {\n      // If the radio is inside a radio group, determine if it should be checked\n      this.checked = this.radioGroup.value === this._value;\n      // Copy name from parent radio group\n      this.name = this.radioGroup.name;\n    }\n  }\n\n  ngAfterViewInit() {\n    this._focusMonitor\n      .monitor(this._inputElement.nativeElement, false)\n      .subscribe(focusOrigin => this._onInputFocusChange(focusOrigin));\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._inputElement.nativeElement);\n    this._removeUniqueSelectionListener();\n  }\n\n  /** Dispatch change event with current value. */\n  private _emitChangeEvent(): void {\n    const event = new MatRadioChange();\n    event.source = this;\n    event.value = this._value;\n    this.change.emit(event);\n  }\n\n  _isRippleDisabled() {\n    return this.disableRipple || this.disabled;\n  }\n\n  _onInputClick(event: Event) {\n    // We have to stop propagation for click events on the visual hidden input element.\n    // By default, when a user clicks on a label element, a generated click event will be\n    // dispatched on the associated input element. Since we are using a label element as our\n    // root container, the click event on the `radio-button` will be executed twice.\n    // The real click event will bubble up, and the generated click event also tries to bubble up.\n    // This will lead to multiple click events.\n    // Preventing bubbling for the second event will solve that issue.\n    event.stopPropagation();\n  }\n\n  /**\n   * Triggered when the radio button received a click or the input recognized any change.\n   * Clicking on a label element, will trigger a change event on the associated input.\n   */\n  _onInputChange(event: Event) {\n    // We always have to stop propagation on the change event.\n    // Otherwise the change event, from the input element, will bubble up and\n    // emit its event object to the `change` output.\n    event.stopPropagation();\n\n    const groupValueChanged = this.radioGroup && this.value != this.radioGroup.value;\n    this.checked = true;\n    this._emitChangeEvent();\n\n    if (this.radioGroup) {\n      this.radioGroup._controlValueAccessorChangeFn(this.value);\n      this.radioGroup._touch();\n      if (groupValueChanged) {\n        this.radioGroup._emitChangeEvent();\n      }\n    }\n  }\n\n  /** Function is called whenever the focus changes for the input element. */\n  private _onInputFocusChange(focusOrigin: FocusOrigin) {\n    if (!this._focusRipple && focusOrigin === 'keyboard') {\n      this._focusRipple = this._ripple.launch(0, 0, {persistent: true, ...this._rippleConfig});\n    } else if (!focusOrigin) {\n      if (this.radioGroup) {\n        this.radioGroup._touch();\n      }\n\n      if (this._focusRipple) {\n        this._focusRipple.fadeOut();\n        this._focusRipple = null;\n      }\n    }\n  }\n\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { IScheduler } from '../Scheduler';\nimport { Subscription, TeardownLogic } from '../Subscription';\nimport { async } from '../scheduler/async';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * <img src=\"./img/debounceTime.png\" width=\"100%\">\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link IScheduler} for\n * managing timers.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounceTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nexport function debounceTime<T>(dueTime: number, scheduler: IScheduler = async): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\n\nclass DebounceTimeOperator<T> implements Operator<T, T> {\n  constructor(private dueTime: number, private scheduler: IScheduler) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DebounceTimeSubscriber<T> extends Subscriber<T> {\n  private debouncedSubscription: Subscription = null;\n  private lastValue: T = null;\n  private hasValue: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              private dueTime: number,\n              private scheduler: IScheduler) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    this.clearDebounce();\n    this.lastValue = value;\n    this.hasValue = true;\n    this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n  }\n\n  protected _complete() {\n    this.debouncedNext();\n    this.destination.complete();\n  }\n\n  debouncedNext(): void {\n    this.clearDebounce();\n\n    if (this.hasValue) {\n      this.destination.next(this.lastValue);\n      this.lastValue = null;\n      this.hasValue = false;\n    }\n  }\n\n  private clearDebounce(): void {\n    const debouncedSubscription = this.debouncedSubscription;\n\n    if (debouncedSubscription !== null) {\n      this.remove(debouncedSubscription);\n      debouncedSubscription.unsubscribe();\n      this.debouncedSubscription = null;\n    }\n  }\n}\n\nfunction dispatchNext(subscriber: DebounceTimeSubscriber<any>) {\n  subscriber.debouncedNext();\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Converts values into strings. Falsy values become empty strings.\n * @docs-private\n */\nexport function coerceToString(value: string | number): string {\n  return `${value || ''}`;\n}\n\n/**\n * Converts a value that might be a string into a number.\n * @docs-private\n */\nexport function coerceToNumber(value: string | number): number {\n  return typeof value === 'string' ? parseInt(value, 10) : value;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ViewEncapsulation,\n  ElementRef,\n  Input,\n  ContentChildren,\n  QueryList,\n  AfterContentInit,\n  Directive,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport {MatLine, MatLineSetter} from '@angular/material/core';\nimport {coerceToNumber} from './grid-list-measure';\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-grid-tile',\n  exportAs: 'matGridTile',\n  host: {\n    'class': 'mat-grid-tile',\n  },\n  templateUrl: 'grid-tile.html',\n  styleUrls: ['grid-list.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatGridTile {\n  _rowspan: number = 1;\n  _colspan: number = 1;\n\n  constructor(private _element: ElementRef) {}\n\n  /** Amount of rows that the grid tile takes up. */\n  @Input()\n  get rowspan(): number { return this._rowspan; }\n  set rowspan(value) { this._rowspan = coerceToNumber(value); }\n\n  /** Amount of columns that the grid tile takes up. */\n  @Input()\n  get colspan(): number { return this._colspan; }\n  set colspan(value) { this._colspan = coerceToNumber(value); }\n\n  /**\n   * Sets the style of the grid-tile element.  Needs to be set manually to avoid\n   * \"Changed after checked\" errors that would occur with HostBinding.\n   */\n  _setStyle(property: string, value: any): void {\n    this._element.nativeElement.style[property] = value;\n  }\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-grid-tile-header, mat-grid-tile-footer',\n  templateUrl: 'grid-tile-text.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatGridTileText implements AfterContentInit {\n  /**\n   *  Helper that watches the number of lines in a text area and sets\n   * a class on the host element that matches the line count.\n   */\n  _lineSetter: MatLineSetter;\n  @ContentChildren(MatLine) _lines: QueryList<MatLine>;\n\n  constructor(private _element: ElementRef) {}\n\n  ngAfterContentInit() {\n    this._lineSetter = new MatLineSetter(this._lines, this._element);\n  }\n}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-grid-avatar], [matGridAvatar]',\n  host: {'class': 'mat-grid-avatar'}\n})\nexport class MatGridAvatarCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-grid-tile-header',\n  host: {'class': 'mat-grid-tile-header'}\n})\nexport class MatGridTileHeaderCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-grid-tile-footer',\n  host: {'class': 'mat-grid-tile-footer'}\n})\nexport class MatGridTileFooterCssMatStyler {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {QueryList} from '@angular/core';\nimport {MatGridTile} from './grid-tile';\n\n/**\n * Class for determining, from a list of tiles, the (row, col) position of each of those tiles\n * in the grid. This is necessary (rather than just rendering the tiles in normal document flow)\n * because the tiles can have a rowspan.\n *\n * The positioning algorithm greedily places each tile as soon as it encounters a gap in the grid\n * large enough to accommodate it so that the tiles still render in the same order in which they\n * are given.\n *\n * The basis of the algorithm is the use of an array to track the already placed tiles. Each\n * element of the array corresponds to a column, and the value indicates how many cells in that\n * column are already occupied; zero indicates an empty cell. Moving \"down\" to the next row\n * decrements each value in the tracking array (indicating that the column is one cell closer to\n * being free).\n *\n * @docs-private\n */\nexport class TileCoordinator {\n  /** Tracking array (see class description). */\n  tracker: number[];\n\n  /** Index at which the search for the next gap will start. */\n  columnIndex: number = 0;\n\n  /** The current row index. */\n  rowIndex: number = 0;\n\n  /** Gets the total number of rows occupied by tiles */\n  get rowCount(): number { return this.rowIndex + 1; }\n\n  /** Gets the total span of rows occupied by tiles.\n   * Ex: A list with 1 row that contains a tile with rowspan 2 will have a total rowspan of 2. */\n  get rowspan() {\n    let lastRowMax = Math.max(...this.tracker);\n    // if any of the tiles has a rowspan that pushes it beyond the total row count,\n    // add the difference to the rowcount\n    return lastRowMax > 1 ? this.rowCount + lastRowMax - 1 : this.rowCount;\n  }\n\n  /** The computed (row, col) position of each tile (the output). */\n  positions: TilePosition[];\n\n  constructor(numColumns: number, tiles: QueryList<MatGridTile>) {\n    this.tracker = new Array(numColumns);\n    this.tracker.fill(0, 0, this.tracker.length);\n\n    this.positions = tiles.map(tile => this._trackTile(tile));\n  }\n\n  /** Calculates the row and col position of a tile. */\n  private _trackTile(tile: MatGridTile): TilePosition {\n    // Find a gap large enough for this tile.\n    let gapStartIndex = this._findMatchingGap(tile.colspan);\n\n    // Place tile in the resulting gap.\n    this._markTilePosition(gapStartIndex, tile);\n\n    // The next time we look for a gap, the search will start at columnIndex, which should be\n    // immediately after the tile that has just been placed.\n    this.columnIndex = gapStartIndex + tile.colspan;\n\n    return new TilePosition(this.rowIndex, gapStartIndex);\n  }\n\n  /** Finds the next available space large enough to fit the tile. */\n  private _findMatchingGap(tileCols: number): number {\n    if (tileCols > this.tracker.length) {\n      throw Error(`mat-grid-list: tile with colspan ${tileCols} is wider than ` +\n                      `grid with cols=\"${this.tracker.length}\".`);\n    }\n\n    // Start index is inclusive, end index is exclusive.\n    let gapStartIndex = -1;\n    let gapEndIndex = -1;\n\n    // Look for a gap large enough to fit the given tile. Empty spaces are marked with a zero.\n    do {\n      // If we've reached the end of the row, go to the next row.\n      if (this.columnIndex + tileCols > this.tracker.length) {\n        this._nextRow();\n        continue;\n      }\n\n      gapStartIndex = this.tracker.indexOf(0, this.columnIndex);\n\n      // If there are no more empty spaces in this row at all, move on to the next row.\n      if (gapStartIndex == -1) {\n        this._nextRow();\n        continue;\n      }\n\n      gapEndIndex = this._findGapEndIndex(gapStartIndex);\n\n      // If a gap large enough isn't found, we want to start looking immediately after the current\n      // gap on the next iteration.\n      this.columnIndex = gapStartIndex + 1;\n\n      // Continue iterating until we find a gap wide enough for this tile.\n    } while (gapEndIndex - gapStartIndex < tileCols);\n    return gapStartIndex;\n  }\n\n  /** Move \"down\" to the next row. */\n  private _nextRow(): void {\n    this.columnIndex = 0;\n    this.rowIndex++;\n\n    // Decrement all spaces by one to reflect moving down one row.\n    for (let i = 0; i < this.tracker.length; i++) {\n      this.tracker[i] = Math.max(0, this.tracker[i] - 1);\n    }\n  }\n\n  /**\n   * Finds the end index (exclusive) of a gap given the index from which to start looking.\n   * The gap ends when a non-zero value is found.\n   */\n  private _findGapEndIndex(gapStartIndex: number): number {\n    for (let i = gapStartIndex + 1; i < this.tracker.length; i++) {\n      if (this.tracker[i] != 0) {\n        return i;\n      }\n    }\n\n    // The gap ends with the end of the row.\n    return this.tracker.length;\n  }\n\n  /** Update the tile tracker to account for the given tile in the given space. */\n  private _markTilePosition(start: number, tile: MatGridTile): void {\n    for (let i = 0; i < tile.colspan; i++) {\n      this.tracker[start + i] = tile.rowspan;\n    }\n  }\n}\n\n/**\n * Simple data structure for tile position (row, col).\n * @docs-private\n */\nexport class TilePosition {\n  constructor(public row: number, public col: number) {}\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {MatGridList} from './grid-list';\nimport {MatGridTile} from './grid-tile';\nimport {TileCoordinator} from './tile-coordinator';\n\n/**\n * Sets the style properties for an individual tile, given the position calculated by the\n * Tile Coordinator.\n * @docs-private\n */\nexport abstract class TileStyler {\n  _gutterSize: string;\n  _rows: number = 0;\n  _rowspan: number = 0;\n  _cols: number;\n  _direction: string;\n\n  /**\n   * Adds grid-list layout info once it is available. Cannot be processed in the constructor\n   * because these properties haven't been calculated by that point.\n   *\n   * @param gutterSize Size of the grid's gutter.\n   * @param tracker Instance of the TileCoordinator.\n   * @param cols Amount of columns in the grid.\n   * @param direction Layout direction of the grid.\n   */\n  init(gutterSize: string, tracker: TileCoordinator, cols: number, direction: string): void {\n    this._gutterSize = normalizeUnits(gutterSize);\n    this._rows = tracker.rowCount;\n    this._rowspan = tracker.rowspan;\n    this._cols = cols;\n    this._direction = direction;\n  }\n\n  /**\n   * Computes the amount of space a single 1x1 tile would take up (width or height).\n   * Used as a basis for other calculations.\n   * @param sizePercent Percent of the total grid-list space that one 1x1 tile would take up.\n   * @param gutterFraction Fraction of the gutter size taken up by one 1x1 tile.\n   * @return The size of a 1x1 tile as an expression that can be evaluated via CSS calc().\n   */\n  getBaseTileSize(sizePercent: number, gutterFraction: number): string {\n    // Take the base size percent (as would be if evenly dividing the size between cells),\n    // and then subtracting the size of one gutter. However, since there are no gutters on the\n    // edges, each tile only uses a fraction (gutterShare = numGutters / numCells) of the gutter\n    // size. (Imagine having one gutter per tile, and then breaking up the extra gutter on the\n    // edge evenly among the cells).\n    return `(${sizePercent}% - (${this._gutterSize} * ${gutterFraction}))`;\n  }\n\n\n  /**\n   * Gets The horizontal or vertical position of a tile, e.g., the 'top' or 'left' property value.\n   * @param offset Number of tiles that have already been rendered in the row/column.\n   * @param baseSize Base size of a 1x1 tile (as computed in getBaseTileSize).\n   * @return Position of the tile as a CSS calc() expression.\n   */\n  getTilePosition(baseSize: string, offset: number): string {\n    // The position comes the size of a 1x1 tile plus gutter for each previous tile in the\n    // row/column (offset).\n    return offset === 0 ? '0' : calc(`(${baseSize} + ${this._gutterSize}) * ${offset}`);\n  }\n\n\n  /**\n   * Gets the actual size of a tile, e.g., width or height, taking rowspan or colspan into account.\n   * @param baseSize Base size of a 1x1 tile (as computed in getBaseTileSize).\n   * @param span The tile's rowspan or colspan.\n   * @return Size of the tile as a CSS calc() expression.\n   */\n  getTileSize(baseSize: string, span: number): string {\n    return `(${baseSize} * ${span}) + (${span - 1} * ${this._gutterSize})`;\n  }\n\n\n  /**\n   * Sets the style properties to be applied to a tile for the given row and column index.\n   * @param tile Tile to which to apply the styling.\n   * @param rowIndex Index of the tile's row.\n   * @param colIndex Index of the tile's column.\n   */\n  setStyle(tile: MatGridTile, rowIndex: number, colIndex: number): void {\n    // Percent of the available horizontal space that one column takes up.\n    let percentWidthPerTile = 100 / this._cols;\n\n    // Fraction of the vertical gutter size that each column takes up.\n    // For example, if there are 5 columns, each column uses 4/5 = 0.8 times the gutter width.\n    let gutterWidthFractionPerTile = (this._cols - 1) / this._cols;\n\n    this.setColStyles(tile, colIndex, percentWidthPerTile, gutterWidthFractionPerTile);\n    this.setRowStyles(tile, rowIndex, percentWidthPerTile, gutterWidthFractionPerTile);\n  }\n\n  /** Sets the horizontal placement of the tile in the list. */\n  setColStyles(tile: MatGridTile, colIndex: number, percentWidth: number,\n               gutterWidth: number) {\n    // Base horizontal size of a column.\n    let baseTileWidth = this.getBaseTileSize(percentWidth, gutterWidth);\n\n    // The width and horizontal position of each tile is always calculated the same way, but the\n    // height and vertical position depends on the rowMode.\n    let side = this._direction === 'ltr' ? 'left' : 'right';\n    tile._setStyle(side, this.getTilePosition(baseTileWidth, colIndex));\n    tile._setStyle('width', calc(this.getTileSize(baseTileWidth, tile.colspan)));\n  }\n\n  /**\n   * Calculates the total size taken up by gutters across one axis of a list.\n   */\n  getGutterSpan(): string {\n    return `${this._gutterSize} * (${this._rowspan} - 1)`;\n  }\n\n  /**\n   * Calculates the total size taken up by tiles across one axis of a list.\n   * @param tileHeight Height of the tile.\n   */\n  getTileSpan(tileHeight: string): string {\n    return `${this._rowspan} * ${this.getTileSize(tileHeight, 1)}`;\n  }\n\n  /**\n   * Sets the vertical placement of the tile in the list.\n   * This method will be implemented by each type of TileStyler.\n   * @docs-private\n   */\n  abstract setRowStyles(tile: MatGridTile, rowIndex: number, percentWidth: number,\n                        gutterWidth: number);\n\n  /**\n   * Calculates the computed height and returns the correct style property to set.\n   * This method can be implemented by each type of TileStyler.\n   * @docs-private\n   */\n  getComputedHeight(): [string, string] | null { return null; }\n\n  /**\n   * Called when the tile styler is swapped out with a different one. To be used for cleanup.\n   * @param list Grid list that the styler was attached to.\n   * @docs-private\n   */\n  abstract reset(list: MatGridList);\n}\n\n\n/**\n * This type of styler is instantiated when the user passes in a fixed row height.\n * Example <mat-grid-list cols=\"3\" rowHeight=\"100px\">\n * @docs-private\n */\nexport class FixedTileStyler extends TileStyler {\n\n  constructor(public fixedRowHeight: string) { super(); }\n\n  init(gutterSize: string, tracker: TileCoordinator, cols: number, direction: string) {\n    super.init(gutterSize, tracker, cols, direction);\n    this.fixedRowHeight = normalizeUnits(this.fixedRowHeight);\n  }\n\n  setRowStyles(tile: MatGridTile, rowIndex: number): void {\n    tile._setStyle('top', this.getTilePosition(this.fixedRowHeight, rowIndex));\n    tile._setStyle('height', calc(this.getTileSize(this.fixedRowHeight, tile.rowspan)));\n  }\n\n  getComputedHeight(): [string, string] {\n    return [\n      'height', calc(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)\n    ];\n  }\n\n  reset(list: MatGridList) {\n    list._setListStyle(['height', null]);\n\n    list._tiles.forEach(tile => {\n      tile._setStyle('top', null);\n      tile._setStyle('height', null);\n    });\n  }\n}\n\n\n/**\n * This type of styler is instantiated when the user passes in a width:height ratio\n * for the row height.  Example <mat-grid-list cols=\"3\" rowHeight=\"3:1\">\n * @docs-private\n */\nexport class RatioTileStyler extends TileStyler {\n\n  /** Ratio width:height given by user to determine row height.*/\n  rowHeightRatio: number;\n  baseTileHeight: string;\n\n  constructor(value: string) {\n    super();\n    this._parseRatio(value);\n  }\n\n  setRowStyles(tile: MatGridTile, rowIndex: number, percentWidth: number,\n               gutterWidth: number): void {\n    let percentHeightPerTile = percentWidth / this.rowHeightRatio;\n    this.baseTileHeight = this.getBaseTileSize(percentHeightPerTile, gutterWidth);\n\n    // Use padding-top and margin-top to maintain the given aspect ratio, as\n    // a percentage-based value for these properties is applied versus the *width* of the\n    // containing block. See http://www.w3.org/TR/CSS2/box.html#margin-properties\n    tile._setStyle('margin-top', this.getTilePosition(this.baseTileHeight, rowIndex));\n    tile._setStyle('padding-top', calc(this.getTileSize(this.baseTileHeight, tile.rowspan)));\n  }\n\n  getComputedHeight(): [string, string] {\n    return [\n      'padding-bottom', calc(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)\n    ];\n  }\n\n  reset(list: MatGridList) {\n    list._setListStyle(['padding-bottom', null]);\n\n    list._tiles.forEach(tile => {\n      tile._setStyle('margin-top', null);\n      tile._setStyle('padding-top', null);\n    });\n  }\n\n  private _parseRatio(value: string): void {\n    const ratioParts = value.split(':');\n\n    if (ratioParts.length !== 2) {\n      throw Error(`mat-grid-list: invalid ratio given for row-height: \"${value}\"`);\n    }\n\n    this.rowHeightRatio = parseFloat(ratioParts[0]) / parseFloat(ratioParts[1]);\n  }\n}\n\n/**\n * This type of styler is instantiated when the user selects a \"fit\" row height mode.\n * In other words, the row height will reflect the total height of the container divided\n * by the number of rows.  Example <mat-grid-list cols=\"3\" rowHeight=\"fit\">\n *\n * @docs-private\n */\nexport class FitTileStyler extends TileStyler {\n\n  setRowStyles(tile: MatGridTile, rowIndex: number): void {\n    // Percent of the available vertical space that one row takes up.\n    let percentHeightPerTile = 100 / this._rowspan;\n\n    // Fraction of the horizontal gutter size that each column takes up.\n    let gutterHeightPerTile = (this._rows - 1) / this._rows;\n\n    // Base vertical size of a column.\n    let baseTileHeight = this.getBaseTileSize(percentHeightPerTile, gutterHeightPerTile);\n\n    tile._setStyle('top', this.getTilePosition(baseTileHeight, rowIndex));\n    tile._setStyle('height', calc(this.getTileSize(baseTileHeight, tile.rowspan)));\n  }\n\n  reset(list: MatGridList) {\n    list._tiles.forEach(tile => {\n      tile._setStyle('top', null);\n      tile._setStyle('height', null);\n    });\n  }\n}\n\n\n/** Wraps a CSS string in a calc function */\nfunction calc(exp: string): string { return `calc(${exp})`; }\n\n\n/** Appends pixels to a CSS string if no units are given. */\nfunction normalizeUnits(value: string): string {\n  return (value.match(/px|em|rem/)) ? value : value + 'px';\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ViewEncapsulation,\n  AfterContentChecked,\n  OnInit,\n  Input,\n  ContentChildren,\n  QueryList,\n  ElementRef,\n  Optional,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport {MatGridTile} from './grid-tile';\nimport {TileCoordinator} from './tile-coordinator';\nimport {TileStyler, FitTileStyler, RatioTileStyler, FixedTileStyler} from './tile-styler';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {\n  coerceToString,\n  coerceToNumber,\n} from './grid-list-measure';\n\n\n// TODO(kara): Conditional (responsive) column count / row size.\n// TODO(kara): Re-layout on window resize / media change (debounced).\n// TODO(kara): gridTileHeader and gridTileFooter.\n\nconst MAT_FIT_MODE = 'fit';\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-grid-list',\n  exportAs: 'matGridList',\n  templateUrl: 'grid-list.html',\n  styleUrls: ['grid-list.css'],\n  host: {\n    'class': 'mat-grid-list',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatGridList implements OnInit, AfterContentChecked {\n  /** Number of columns being rendered. */\n  private _cols: number;\n\n  /**\n   * Row height value passed in by user. This can be one of three types:\n   * - Number value (ex: \"100px\"):  sets a fixed row height to that value\n   * - Ratio value (ex: \"4:3\"): sets the row height based on width:height ratio\n   * - \"Fit\" mode (ex: \"fit\"): sets the row height to total height divided by number of rows\n   */\n  private _rowHeight: string;\n\n  /** The amount of space between tiles. This will be something like '5px' or '2em'. */\n  private _gutter: string = '1px';\n\n  /** Sets position and size styles for a tile */\n  private _tileStyler: TileStyler;\n\n  /** Query list of tiles that are being rendered. */\n  @ContentChildren(MatGridTile) _tiles: QueryList<MatGridTile>;\n\n  constructor(private _element: ElementRef, @Optional() private _dir: Directionality) {}\n\n  /** Amount of columns in the grid list. */\n  @Input()\n  get cols() { return this._cols; }\n  set cols(value: any) { this._cols = coerceToNumber(value); }\n\n  /** Size of the grid list's gutter in pixels. */\n  @Input()\n  get gutterSize() { return this._gutter; }\n  set gutterSize(value: any) { this._gutter = coerceToString(value); }\n\n  /** Set internal representation of row height from the user-provided value. */\n  @Input()\n  set rowHeight(value: string | number) {\n    const newValue = coerceToString(value);\n\n    if (newValue !== this._rowHeight) {\n      this._rowHeight = newValue;\n      this._setTileStyler(this._rowHeight);\n    }\n  }\n\n  ngOnInit() {\n    this._checkCols();\n    this._checkRowHeight();\n  }\n\n  /**\n   * The layout calculation is fairly cheap if nothing changes, so there's little cost\n   * to run it frequently.\n   */\n  ngAfterContentChecked() {\n    this._layoutTiles();\n  }\n\n  /** Throw a friendly error if cols property is missing */\n  private _checkCols() {\n    if (!this.cols) {\n      throw Error(`mat-grid-list: must pass in number of columns. ` +\n                  `Example: <mat-grid-list cols=\"3\">`);\n    }\n  }\n\n  /** Default to equal width:height if rowHeight property is missing */\n  private _checkRowHeight(): void {\n    if (!this._rowHeight) {\n      this._setTileStyler('1:1');\n    }\n  }\n\n  /** Creates correct Tile Styler subtype based on rowHeight passed in by user */\n  private _setTileStyler(rowHeight: string): void {\n    if (this._tileStyler) {\n      this._tileStyler.reset(this);\n    }\n\n    if (rowHeight === MAT_FIT_MODE) {\n      this._tileStyler = new FitTileStyler();\n    } else if (rowHeight && rowHeight.indexOf(':') > -1) {\n      this._tileStyler = new RatioTileStyler(rowHeight);\n    } else {\n      this._tileStyler = new FixedTileStyler(rowHeight);\n    }\n  }\n\n  /** Computes and applies the size and position for all children grid tiles. */\n  private _layoutTiles(): void {\n    const tracker = new TileCoordinator(this.cols, this._tiles);\n    const direction = this._dir ? this._dir.value : 'ltr';\n    this._tileStyler.init(this.gutterSize, tracker, this.cols, direction);\n\n    this._tiles.forEach((tile, index) => {\n      const pos = tracker.positions[index];\n      this._tileStyler.setStyle(tile, pos.row, pos.col);\n    });\n\n    this._setListStyle(this._tileStyler.getComputedHeight());\n  }\n\n  /** Sets style on the main grid-list element, given the style name and value. */\n  _setListStyle(style: [string, string | null] | null): void {\n    if (style) {\n      this._element.nativeElement.style[style[0]] = style[1];\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChild,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  Optional,\n  QueryList,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CanDisableRipple, MatLine, MatLineSetter, mixinDisableRipple} from '@angular/material/core';\n\n// Boilerplate for applying mixins to MatList.\n/** @docs-private */\nexport class MatListBase {}\nexport const _MatListMixinBase = mixinDisableRipple(MatListBase);\n\n// Boilerplate for applying mixins to MatListItem.\n/** @docs-private */\nexport class MatListItemBase {}\nexport const _MatListItemMixinBase = mixinDisableRipple(MatListItemBase);\n\n\n/** Divider between items within a list. */\n@Directive({\n  selector: 'mat-divider',\n  host: {\n    'role': 'separator',\n    'aria-orientation': 'horizontal'\n  }\n})\nexport class MatListDivider {}\n\n/** A Material Design list component. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-nav-list',\n  exportAs: 'matNavList',\n  host: {\n    'role': 'navigation',\n    'class': 'mat-nav-list'\n  },\n  templateUrl: 'list.html',\n  styleUrls: ['list.css'],\n  inputs: ['disableRipple'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatNavList extends _MatListMixinBase implements CanDisableRipple {}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-list',\n  exportAs: 'matList',\n  templateUrl: 'list.html',\n  host: {'class': 'mat-list'},\n  styleUrls: ['list.css'],\n  inputs: ['disableRipple'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatList extends _MatListMixinBase implements CanDisableRipple {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-divider',\n  host: {'class': 'mat-divider'}\n})\nexport class MatDividerCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-list-avatar], [matListAvatar]',\n  host: {'class': 'mat-list-avatar'}\n})\nexport class MatListAvatarCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-list-icon], [matListIcon]',\n  host: {'class': 'mat-list-icon'}\n})\nexport class MatListIconCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-subheader], [matSubheader]',\n  host: {'class': 'mat-subheader'}\n})\nexport class MatListSubheaderCssMatStyler {}\n\n/** An item within a Material Design list. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-list-item, a[mat-list-item]',\n  exportAs: 'matListItem',\n  host: {\n    'class': 'mat-list-item',\n    '(focus)': '_handleFocus()',\n    '(blur)': '_handleBlur()',\n  },\n  inputs: ['disableRipple'],\n  templateUrl: 'list-item.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatListItem extends _MatListItemMixinBase implements AfterContentInit,\n    CanDisableRipple {\n  private _lineSetter: MatLineSetter;\n  private _isNavList: boolean = false;\n\n  @ContentChildren(MatLine) _lines: QueryList<MatLine>;\n\n  @ContentChild(MatListAvatarCssMatStyler)\n  set _hasAvatar(avatar: MatListAvatarCssMatStyler) {\n    if (avatar != null) {\n      this._element.nativeElement.classList.add('mat-list-item-avatar');\n    } else {\n      this._element.nativeElement.classList.remove('mat-list-item-avatar');\n    }\n  }\n\n  constructor(private _element: ElementRef,\n              @Optional() private _navList: MatNavList) {\n    super();\n    this._isNavList = !!_navList;\n  }\n\n  ngAfterContentInit() {\n    this._lineSetter = new MatLineSetter(this._lines, this._element);\n  }\n\n  /** Whether this list item should show a ripple effect when clicked.  */\n  _isRippleDisabled() {\n    return !this._isNavList || this.disableRipple || this._navList.disableRipple;\n  }\n\n  _handleFocus() {\n    this._element.nativeElement.classList.add('mat-list-item-focus');\n  }\n\n  _handleBlur() {\n    this._element.nativeElement.classList.remove('mat-list-item-focus');\n  }\n\n  /** Retrieves the DOM element of the component host. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusableOption, FocusKeyManager} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {END, ENTER, HOME, SPACE} from '@angular/cdk/keycodes';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {\n  CanDisable,\n  CanDisableRipple,\n  HasTabIndex,\n  MatLine,\n  MatLineSetter,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinTabIndex,\n} from '@angular/material/core';\n\n\n/** @docs-private */\nexport class MatSelectionListBase {}\nexport const _MatSelectionListMixinBase =\n  mixinTabIndex(mixinDisableRipple(mixinDisabled(MatSelectionListBase)));\n\n/** @docs-private */\nexport class MatListOptionBase {}\nexport const _MatListOptionMixinBase = mixinDisableRipple(MatListOptionBase);\n\n/** @docs-private */\nexport const MAT_SELECTION_LIST_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatSelectionList),\n  multi: true\n};\n\n/**\n * Change event object emitted by MatListOption whenever the selected state changes.\n * @deprecated Use the `MatSelectionListChange` event on the selection list instead.\n */\nexport class MatListOptionChange {\n  constructor(\n    /** Reference to the list option that changed. */\n    public source: MatListOption,\n    /** The new selected state of the option. */\n    public selected: boolean) {}\n}\n\n/** Change event that is being fired whenever the selected state of an option changes. */\nexport class MatSelectionListChange {\n  constructor(\n    /** Reference to the selection list that emitted the event. */\n    public source: MatSelectionList,\n    /** Reference to the option that has been changed. */\n    public option: MatListOption) {}\n}\n\n/**\n * Component for list-options of selection-list. Each list-option can automatically\n * generate a checkbox and can put current item into the selectionModel of selection-list\n * if the current item is selected.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-list-option',\n  exportAs: 'matListOption',\n  inputs: ['disableRipple'],\n  host: {\n    'role': 'option',\n    'class': 'mat-list-item mat-list-option',\n    '(focus)': '_handleFocus()',\n    '(blur)': '_handleBlur()',\n    '(click)': '_handleClick()',\n    'tabindex': '-1',\n    '[class.mat-list-item-disabled]': 'disabled',\n    '[class.mat-list-item-focus]': '_hasFocus',\n    '[attr.aria-selected]': 'selected.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n  },\n  templateUrl: 'list-option.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatListOption extends _MatListOptionMixinBase\n    implements AfterContentInit, OnDestroy, OnInit, FocusableOption, CanDisableRipple {\n\n  private _lineSetter: MatLineSetter;\n  private _selected: boolean = false;\n  private _disabled: boolean = false;\n\n  /** Whether the option has focus. */\n  _hasFocus: boolean = false;\n\n  @ContentChildren(MatLine) _lines: QueryList<MatLine>;\n\n  /** DOM element containing the item's text. */\n  @ViewChild('text') _text: ElementRef;\n\n  /** Whether the label should appear before or after the checkbox. Defaults to 'after' */\n  @Input() checkboxPosition: 'before' | 'after' = 'after';\n\n  /** Value of the option */\n  @Input() value: any;\n\n  /** Whether the option is disabled. */\n  @Input()\n  get disabled() { return (this.selectionList && this.selectionList.disabled) || this._disabled; }\n  set disabled(value: any) {\n    const newValue = coerceBooleanProperty(value);\n\n    if (newValue !== this._disabled) {\n      this._disabled = newValue;\n      this._changeDetector.markForCheck();\n    }\n  }\n\n  /** Whether the option is selected. */\n  @Input()\n  get selected(): boolean { return this.selectionList.selectedOptions.isSelected(this); }\n  set selected(value: boolean) {\n    const isSelected = coerceBooleanProperty(value);\n\n    if (isSelected !== this._selected) {\n      this._setSelected(isSelected);\n      this.selectionList._reportValueChange();\n    }\n  }\n\n  /**\n   * Emits a change event whenever the selected state of an option changes.\n   * @deprecated Use the `selectionChange` event on the `<mat-selection-list>` instead.\n   */\n  @Output() selectionChange: EventEmitter<MatListOptionChange> =\n    new EventEmitter<MatListOptionChange>();\n\n  constructor(private _element: ElementRef,\n              private _changeDetector: ChangeDetectorRef,\n              @Optional() @Inject(forwardRef(() => MatSelectionList))\n              public selectionList: MatSelectionList) {\n    super();\n  }\n\n  ngOnInit() {\n    if (this._selected) {\n      // List options that are selected at initialization can't be reported properly to the form\n      // control. This is because it takes some time until the selection-list knows about all\n      // available options. Also it can happen that the ControlValueAccessor has an initial value\n      // that should be used instead. Deferring the value change report to the next tick ensures\n      // that the form control value is not being overwritten.\n      Promise.resolve().then(() => this.selected = true);\n    }\n  }\n\n  ngAfterContentInit() {\n    this._lineSetter = new MatLineSetter(this._lines, this._element);\n  }\n\n  ngOnDestroy(): void {\n    if (this.selected) {\n      // We have to delay this until the next tick in order\n      // to avoid changed after checked errors.\n      Promise.resolve().then(() => this.selected = false);\n    }\n\n    this.selectionList._removeOptionFromList(this);\n  }\n\n  /** Toggles the selection state of the option. */\n  toggle(): void {\n    this.selected = !this.selected;\n  }\n\n  /** Allows for programmatic focusing of the option. */\n  focus(): void {\n    this._element.nativeElement.focus();\n  }\n\n  /**\n   * Returns the list item's text label. Implemented as a part of the FocusKeyManager.\n   * @docs-private\n   */\n  getLabel() {\n    return this._text ? this._text.nativeElement.textContent : '';\n  }\n\n  /** Whether this list item should show a ripple effect when clicked.  */\n  _isRippleDisabled() {\n    return this.disabled || this.disableRipple || this.selectionList.disableRipple;\n  }\n\n  _handleClick() {\n    if (!this.disabled) {\n      this.toggle();\n\n      // Emit a change event if the selected state of the option changed through user interaction.\n      this.selectionList._emitChangeEvent(this);\n\n      // TODO: the `selectionChange` event on the option is deprecated. Remove that in the future.\n      this._emitDeprecatedChangeEvent();\n    }\n  }\n\n  _handleFocus() {\n    this._hasFocus = true;\n    this.selectionList._setFocusedOption(this);\n  }\n\n  _handleBlur() {\n    this._hasFocus = false;\n    this.selectionList.onTouched();\n  }\n\n  /** Retrieves the DOM element of the component host. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  /** Sets the selected state of the option. */\n  _setSelected(selected: boolean) {\n    if (selected === this._selected) {\n      return;\n    }\n\n    this._selected = selected;\n\n    if (selected) {\n      this.selectionList.selectedOptions.select(this);\n    } else {\n      this.selectionList.selectedOptions.deselect(this);\n    }\n\n    this._changeDetector.markForCheck();\n  }\n\n  /** Emits a selectionChange event for this option. */\n  _emitDeprecatedChangeEvent() {\n    // TODO: the `selectionChange` event on the option is deprecated. Remove that in the future.\n    this.selectionChange.emit(new MatListOptionChange(this, this.selected));\n  }\n}\n\n\n/**\n * Material Design list component where each item is a selectable option. Behaves as a listbox.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-selection-list',\n  exportAs: 'matSelectionList',\n  inputs: ['disabled', 'disableRipple', 'tabIndex'],\n  host: {\n    'role': 'listbox',\n    '[tabIndex]': 'tabIndex',\n    'class': 'mat-selection-list',\n    '(focus)': 'focus()',\n    '(blur)': 'onTouched()',\n    '(keydown)': '_keydown($event)',\n    '[attr.aria-disabled]': 'disabled.toString()'},\n  template: '<ng-content></ng-content>',\n  styleUrls: ['list.css'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [MAT_SELECTION_LIST_VALUE_ACCESSOR],\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MatSelectionList extends _MatSelectionListMixinBase implements FocusableOption,\n    CanDisable, CanDisableRipple, HasTabIndex, AfterContentInit, ControlValueAccessor {\n\n  /** The FocusKeyManager which handles focus. */\n  _keyManager: FocusKeyManager<MatListOption>;\n\n  /** The option components contained within this selection-list. */\n  @ContentChildren(MatListOption) options: QueryList<MatListOption>;\n\n  /** Emits a change event whenever the selected state of an option changes. */\n  @Output() selectionChange: EventEmitter<MatSelectionListChange> =\n      new EventEmitter<MatSelectionListChange>();\n\n  /** The currently selected options. */\n  selectedOptions: SelectionModel<MatListOption> = new SelectionModel<MatListOption>(true);\n\n  /** View to model callback that should be called whenever the selected options change. */\n  private _onChange: (value: any) => void = (_: any) => {};\n\n  /** Used for storing the values that were assigned before the options were initialized. */\n  private _tempValues: string[]|null;\n\n  /** View to model callback that should be called if the list or its options lost focus. */\n  onTouched: () => void = () => {};\n\n  constructor(private _element: ElementRef, @Attribute('tabindex') tabIndex: string) {\n    super();\n\n    this.tabIndex = parseInt(tabIndex) || 0;\n  }\n\n  ngAfterContentInit(): void {\n    this._keyManager = new FocusKeyManager<MatListOption>(this.options).withWrap().withTypeAhead();\n\n    if (this._tempValues) {\n      this._setOptionsFromValues(this._tempValues);\n      this._tempValues = null;\n    }\n  }\n\n  /** Focus the selection-list. */\n  focus() {\n    this._element.nativeElement.focus();\n  }\n\n  /** Selects all of the options. */\n  selectAll() {\n    this.options.forEach(option => option._setSelected(true));\n    this._reportValueChange();\n  }\n\n  /** Deselects all of the options. */\n  deselectAll() {\n    this.options.forEach(option => option._setSelected(false));\n    this._reportValueChange();\n  }\n\n  /** Sets the focused option of the selection-list. */\n  _setFocusedOption(option: MatListOption) {\n    this._keyManager.updateActiveItemIndex(this._getOptionIndex(option));\n  }\n\n  /** Removes an option from the selection list and updates the active item. */\n  _removeOptionFromList(option: MatListOption) {\n    if (option._hasFocus) {\n      const optionIndex = this._getOptionIndex(option);\n\n      // Check whether the option is the last item\n      if (optionIndex > 0) {\n        this._keyManager.setPreviousItemActive();\n      } else if (optionIndex === 0 && this.options.length > 1) {\n        this._keyManager.setNextItemActive();\n      }\n    }\n  }\n\n  /** Passes relevant key presses to our key manager. */\n  _keydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case SPACE:\n      case ENTER:\n        this._toggleSelectOnFocusedOption();\n        // Always prevent space from scrolling the page since the list has focus\n        event.preventDefault();\n        break;\n      case HOME:\n      case END:\n        event.keyCode === HOME ? this._keyManager.setFirstItemActive() :\n                                 this._keyManager.setLastItemActive();\n        event.preventDefault();\n        break;\n      default:\n        this._keyManager.onKeydown(event);\n    }\n  }\n\n  /** Reports a value change to the ControlValueAccessor */\n  _reportValueChange() {\n    if (this.options) {\n      this._onChange(this._getSelectedOptionValues());\n    }\n  }\n\n  /** Emits a change event if the selected state of an option changed. */\n  _emitChangeEvent(option: MatListOption) {\n    this.selectionChange.emit(new MatSelectionListChange(this, option));\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  writeValue(values: string[]): void {\n    if (this.options) {\n      this._setOptionsFromValues(values || []);\n    } else {\n      this._tempValues = values;\n    }\n  }\n\n  /** Implemented as a part of ControlValueAccessor. */\n  setDisabledState(isDisabled: boolean): void {\n    if (this.options) {\n      this.options.forEach(option => option.disabled = isDisabled);\n    }\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChange = fn;\n  }\n\n  /** Implemented as part of ControlValueAccessor. */\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  /** Returns the option with the specified value. */\n  private _getOptionByValue(value: string): MatListOption | undefined {\n    return this.options.find(option => option.value === value);\n  }\n\n  /** Sets the selected options based on the specified values. */\n  private _setOptionsFromValues(values: string[]) {\n    this.options.forEach(option => option._setSelected(false));\n\n    values\n      .map(value => this._getOptionByValue(value))\n      .filter(Boolean)\n      .forEach(option => option!._setSelected(true));\n  }\n\n  /** Returns the values of the selected options. */\n  private _getSelectedOptionValues(): string[] {\n    return this.options.filter(option => option.selected).map(option => option.value);\n  }\n\n  /** Toggles the selected state of the currently focused option. */\n  private _toggleSelectOnFocusedOption(): void {\n    let focusedIndex = this._keyManager.activeItemIndex;\n\n    if (focusedIndex != null && this._isValidIndex(focusedIndex)) {\n      let focusedOption: MatListOption = this.options.toArray()[focusedIndex];\n\n      if (focusedOption) {\n        focusedOption.toggle();\n\n        // Emit a change event because the focused option changed its state through user\n        // interaction.\n        this._emitChangeEvent(focusedOption);\n\n        // TODO: the `selectionChange` event on the option is deprecated. Remove that in the future.\n        focusedOption._emitDeprecatedChangeEvent();\n      }\n    }\n  }\n\n  /**\n   * Utility to ensure all indexes are valid.\n   * @param index The index to be checked.\n   * @returns True if the index is valid for our list of options.\n   */\n  private _isValidIndex(index: number): boolean {\n    return index >= 0 && index < this.options.length;\n  }\n\n  /** Returns the index of the specified list option. */\n  private _getOptionIndex(option: MatListOption): number {\n    return this.options.toArray().indexOf(option);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport{\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  AnimationTriggerMetadata,\n} from '@angular/animations';\n\n/**\n * Below are all the animations for the mat-menu component.\n * Animation duration and timing values are based on:\n * https://material.io/guidelines/components/menus.html#menus-usage\n */\n\n\n/**\n * This animation controls the menu panel's entry and exit from the page.\n *\n * When the menu panel is added to the DOM, it scales in and fades in its border.\n *\n * When the menu panel is removed from the DOM, it simply fades out after a brief\n * delay to display the ripple.\n */\n\n// TODO(kara): switch to :enter and :leave once Mobile Safari is sorted out.\nexport const transformMenu: AnimationTriggerMetadata = trigger('transformMenu', [\n  state('void', style({\n    opacity: 0,\n    // This starts off from 0.01, instead of 0, because there's an issue in the Angular animations\n    // as of 4.2, which causes the animation to be skipped if it starts from 0.\n    transform: 'scale(0.01, 0.01)'\n  })),\n  state('enter-start', style({\n    opacity: 1,\n    transform: 'scale(1, 0.5)'\n  })),\n  state('enter', style({\n    transform: 'scale(1, 1)'\n  })),\n  transition('void => enter-start', animate('100ms linear')),\n  transition('enter-start => enter', animate('300ms cubic-bezier(0.25, 0.8, 0.25, 1)')),\n  transition('* => void', animate('150ms 50ms linear', style({opacity: 0})))\n]);\n\n\n/**\n * This animation fades in the background color and content of the menu panel\n * after its containing element is scaled in.\n */\nexport const fadeInItems: AnimationTriggerMetadata = trigger('fadeInItems', [\n  state('showing', style({opacity: 1})),\n  transition('void => *', [\n    style({opacity: 0}),\n    animate('400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n  ])\n]);\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Throws an exception for the case when menu trigger doesn't have a valid mat-menu instance\n * @docs-private\n */\nexport function throwMatMenuMissingError() {\n  throw Error(`mat-menu-trigger: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu=\"matMenu\"></mat-menu>\n      <button [matMenuTriggerFor]=\"menu\"></button>`);\n}\n\n/**\n * Throws an exception for the case when menu's x-position value isn't valid.\n * In other words, it doesn't match 'before' or 'after'.\n * @docs-private\n */\nexport function throwMatMenuInvalidPositionX() {\n  throw Error(`x-position value must be either 'before' or after'.\n      Example: <mat-menu x-position=\"before\" #menu=\"matMenu\"></mat-menu>`);\n}\n\n/**\n * Throws an exception for the case when menu's y-position value isn't valid.\n * In other words, it doesn't match 'above' or 'below'.\n * @docs-private\n */\nexport function throwMatMenuInvalidPositionY() {\n  throw Error(`y-position value must be either 'above' or below'.\n      Example: <mat-menu y-position=\"above\" #menu=\"matMenu\"></mat-menu>`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusableOption} from '@angular/cdk/a11y';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  CanDisable,\n  CanDisableRipple,\n  mixinDisabled,\n  mixinDisableRipple\n} from '@angular/material/core';\nimport {Subject} from 'rxjs/Subject';\n\n// Boilerplate for applying mixins to MatMenuItem.\n/** @docs-private */\nexport class MatMenuItemBase {}\nexport const _MatMenuItemMixinBase = mixinDisableRipple(mixinDisabled(MatMenuItemBase));\n\n/**\n * This directive is intended to be used inside an mat-menu tag.\n * It exists mostly to set the role attribute.\n */\n@Component({\n  moduleId: module.id,\n  selector: '[mat-menu-item]',\n  exportAs: 'matMenuItem',\n  inputs: ['disabled', 'disableRipple'],\n  host: {\n    'role': 'menuitem',\n    'class': 'mat-menu-item',\n    '[class.mat-menu-item-highlighted]': '_highlighted',\n    '[class.mat-menu-item-submenu-trigger]': '_triggersSubmenu',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.disabled]': 'disabled || null',\n    '(click)': '_checkDisabled($event)',\n    '(mouseenter)': '_emitHoverEvent()',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  templateUrl: 'menu-item.html',\n})\nexport class MatMenuItem extends _MatMenuItemMixinBase\n    implements FocusableOption, CanDisable, CanDisableRipple, OnDestroy {\n\n  /** Stream that emits when the menu item is hovered. */\n  _hovered: Subject<MatMenuItem> = new Subject();\n\n  /** Whether the menu item is highlighted. */\n  _highlighted: boolean = false;\n\n  /** Whether the menu item acts as a trigger for a sub-menu. */\n  _triggersSubmenu: boolean = false;\n\n  constructor(private _elementRef: ElementRef) {\n    super();\n  }\n\n  /** Focuses the menu item. */\n  focus(): void {\n    this._getHostElement().focus();\n  }\n\n  ngOnDestroy() {\n    this._hovered.complete();\n  }\n\n  /** Used to set the `tabindex`. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Returns the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._elementRef.nativeElement;\n  }\n\n  /** Prevents the default element actions if it is disabled. */\n  _checkDisabled(event: Event): void {\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  /** Emits to the hover stream. */\n  _emitHoverEvent() {\n    if (!this.disabled) {\n      this._hovered.next(this);\n    }\n  }\n\n  /** Gets the label to be used when determining whether the option should be focused. */\n  getLabel(): string {\n    const element: HTMLElement = this._elementRef.nativeElement;\n    let output = '';\n\n    if (element.childNodes) {\n      const length = element.childNodes.length;\n\n      // Go through all the top-level text nodes and extract their text.\n      // We skip anything that's not a text node to prevent the text from\n      // being thrown off by something like an icon.\n      for (let i = 0; i < length; i++) {\n        if (element.childNodes[i].nodeType === Node.TEXT_NODE) {\n          output += element.childNodes[i].textContent;\n        }\n      }\n    }\n\n    return output.trim();\n  }\n\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationEvent} from '@angular/animations';\nimport {FocusKeyManager} from '@angular/cdk/a11y';\nimport {Direction} from '@angular/cdk/bidi';\nimport {ESCAPE, LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {switchMap} from 'rxjs/operators/switchMap';\nimport {take} from 'rxjs/operators/take';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  NgZone,\n} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {merge} from 'rxjs/observable/merge';\nimport {Subscription} from 'rxjs/Subscription';\nimport {fadeInItems, transformMenu} from './menu-animations';\nimport {throwMatMenuInvalidPositionX, throwMatMenuInvalidPositionY} from './menu-errors';\nimport {MatMenuItem} from './menu-item';\nimport {MatMenuPanel} from './menu-panel';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\n\n\n/** Default `mat-menu` options that can be overridden. */\nexport interface MatMenuDefaultOptions {\n  /** The x-axis position of the menu. */\n  xPosition: MenuPositionX;\n\n  /** The y-axis position of the menu. */\n  yPosition: MenuPositionY;\n\n  /** Whether the menu should overlap the menu trigger. */\n  overlapTrigger: boolean;\n}\n\n/** Injection token to be used to override the default options for `mat-menu`. */\nexport const MAT_MENU_DEFAULT_OPTIONS =\n    new InjectionToken<MatMenuDefaultOptions>('mat-menu-default-options');\n\n/**\n * Start elevation for the menu panel.\n * @docs-private\n */\nconst MAT_MENU_BASE_ELEVATION = 2;\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-menu',\n  templateUrl: 'menu.html',\n  styleUrls: ['menu.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  animations: [\n    transformMenu,\n    fadeInItems\n  ],\n  exportAs: 'matMenu'\n})\nexport class MatMenu implements AfterContentInit, MatMenuPanel, OnDestroy {\n  private _keyManager: FocusKeyManager<MatMenuItem>;\n  private _xPosition: MenuPositionX = this._defaultOptions.xPosition;\n  private _yPosition: MenuPositionY = this._defaultOptions.yPosition;\n  private _previousElevation: string;\n\n  /** Subscription to tab events on the menu panel */\n  private _tabSubscription = Subscription.EMPTY;\n\n  /** Config object to be passed into the menu's ngClass */\n  _classList: {[key: string]: boolean} = {};\n\n  /** Current state of the panel animation. */\n  _panelAnimationState: 'void' | 'enter-start' | 'enter' = 'void';\n\n  /** Parent menu of the current menu panel. */\n  parentMenu: MatMenuPanel | undefined;\n\n  /** Layout direction of the menu. */\n  direction: Direction;\n\n  /** Position of the menu in the X axis. */\n  @Input()\n  get xPosition() { return this._xPosition; }\n  set xPosition(value: MenuPositionX) {\n    if (value !== 'before' && value !== 'after') {\n      throwMatMenuInvalidPositionX();\n    }\n    this._xPosition = value;\n    this.setPositionClasses();\n  }\n\n  /** Position of the menu in the Y axis. */\n  @Input()\n  get yPosition() { return this._yPosition; }\n  set yPosition(value: MenuPositionY) {\n    if (value !== 'above' && value !== 'below') {\n      throwMatMenuInvalidPositionY();\n    }\n    this._yPosition = value;\n    this.setPositionClasses();\n  }\n\n  /** @docs-private */\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  /** List of the items inside of a menu. */\n  @ContentChildren(MatMenuItem) items: QueryList<MatMenuItem>;\n\n  /** Whether the menu should overlap its trigger. */\n  @Input()\n  set overlapTrigger(value: boolean) {\n    this._overlapTrigger = coerceBooleanProperty(value);\n  }\n  get overlapTrigger(): boolean {\n    return this._overlapTrigger;\n  }\n  private _overlapTrigger: boolean = this._defaultOptions.overlapTrigger;\n\n  /**\n   * This method takes classes set on the host mat-menu element and applies them on the\n   * menu template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing menu from outside the component.\n   * @param classes list of class names\n   */\n  @Input('class')\n  set panelClass(classes: string) {\n    if (classes && classes.length) {\n      this._classList = classes.split(' ').reduce((obj: any, className: string) => {\n        obj[className] = true;\n        return obj;\n      }, {});\n\n      this._elementRef.nativeElement.className = '';\n      this.setPositionClasses();\n    }\n  }\n\n  /**\n   * This method takes classes set on the host mat-menu element and applies them on the\n   * menu template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing menu from outside the component.\n   * @deprecated Use `panelClass` instead.\n   */\n  @Input()\n  set classList(classes: string) { this.panelClass = classes; }\n  get classList(): string { return this.panelClass; }\n\n  /** Event emitted when the menu is closed. */\n  @Output() closed = new EventEmitter<void | 'click' | 'keydown'>();\n\n  /**\n   * Event emitted when the menu is closed.\n   * @deprecated Switch to `closed` instead\n   */\n  @Output() close = this.closed;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _ngZone: NgZone,\n    @Inject(MAT_MENU_DEFAULT_OPTIONS) private _defaultOptions: MatMenuDefaultOptions) { }\n\n  ngAfterContentInit() {\n    this._keyManager = new FocusKeyManager<MatMenuItem>(this.items).withWrap().withTypeAhead();\n    this._tabSubscription = this._keyManager.tabOut.subscribe(() => this.close.emit('keydown'));\n  }\n\n  ngOnDestroy() {\n    this._tabSubscription.unsubscribe();\n    this.closed.complete();\n  }\n\n  /** Stream that emits whenever the hovered menu item changes. */\n  _hovered(): Observable<MatMenuItem> {\n    if (this.items) {\n      return this.items.changes.pipe(\n        startWith(this.items),\n        switchMap(items => merge(...items.map(item => item._hovered)))\n      );\n    }\n\n    return this._ngZone.onStable\n      .asObservable()\n      .pipe(take(1), switchMap(() => this._hovered()));\n  }\n\n  /** Handle a keyboard event from the menu, delegating to the appropriate action. */\n  _handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case ESCAPE:\n        this.closed.emit('keydown');\n        event.stopPropagation();\n      break;\n      case LEFT_ARROW:\n        if (this.parentMenu && this.direction === 'ltr') {\n          this.closed.emit('keydown');\n        }\n      break;\n      case RIGHT_ARROW:\n        if (this.parentMenu && this.direction === 'rtl') {\n          this.closed.emit('keydown');\n        }\n      break;\n      default:\n        this._keyManager.onKeydown(event);\n    }\n  }\n\n  /**\n   * Focus the first item in the menu. This method is used by the menu trigger\n   * to focus the first item when the menu is opened by the ENTER key.\n   */\n  focusFirstItem() {\n    this._keyManager.setFirstItemActive();\n  }\n\n  /**\n   * Resets the active item in the menu. This is used when the menu is opened by mouse,\n   * allowing the user to start from the first option when pressing the down arrow.\n   */\n  resetActiveItem() {\n    this._keyManager.setActiveItem(-1);\n  }\n\n  /**\n   * It's necessary to set position-based classes to ensure the menu panel animation\n   * folds out from the correct direction.\n   */\n  setPositionClasses(posX: MenuPositionX = this.xPosition, posY: MenuPositionY = this.yPosition) {\n    this._classList['mat-menu-before'] = posX === 'before';\n    this._classList['mat-menu-after'] = posX === 'after';\n    this._classList['mat-menu-above'] = posY === 'above';\n    this._classList['mat-menu-below'] = posY === 'below';\n  }\n\n  /**\n   * Sets the menu panel elevation.\n   * @param depth Number of parent menus that come before the menu.\n   */\n  setElevation(depth: number): void {\n    // The elevation starts at the base and increases by one for each level.\n    const newElevation = `mat-elevation-z${MAT_MENU_BASE_ELEVATION + depth}`;\n    const customElevation = Object.keys(this._classList).find(c => c.startsWith('mat-elevation-z'));\n\n    if (!customElevation || customElevation === this._previousElevation) {\n      if (this._previousElevation) {\n        this._classList[this._previousElevation] = false;\n      }\n\n      this._classList[newElevation] = true;\n      this._previousElevation = newElevation;\n    }\n  }\n\n  /** Starts the enter animation. */\n  _startAnimation() {\n    this._panelAnimationState = 'enter-start';\n  }\n\n  /** Resets the panel animation to its initial state. */\n  _resetAnimation() {\n    this._panelAnimationState = 'void';\n  }\n\n  /** Callback that is invoked when the panel animation completes. */\n  _onAnimationDone(event: AnimationEvent) {\n    // After the initial expansion is done, trigger the second phase of the enter animation.\n    if (event.toState === 'enter-start') {\n      this._panelAnimationState = 'enter';\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isFakeMousedownFromScreenReader} from '@angular/cdk/a11y';\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {\n  ConnectedPositionStrategy,\n  HorizontalConnectionPos,\n  Overlay,\n  OverlayRef,\n  OverlayConfig,\n  RepositionScrollStrategy,\n  ScrollStrategy,\n  VerticalConnectionPos,\n} from '@angular/cdk/overlay';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {filter} from 'rxjs/operators/filter';\nimport {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatMenu} from './menu-directive';\nimport {throwMatMenuMissingError} from './menu-errors';\nimport {MatMenuItem} from './menu-item';\nimport {MatMenuPanel} from './menu-panel';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\n\n/** Injection token that determines the scroll handling while the menu is open. */\nexport const MAT_MENU_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-menu-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MAT_MENU_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_MENU_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n\n\n// TODO(andrewseguin): Remove the kebab versions in favor of camelCased attribute selectors\n\n/** Default top padding of the menu panel. */\nexport const MENU_PANEL_TOP_PADDING = 8;\n\n/**\n * This directive is intended to be used in conjunction with an mat-menu tag.  It is\n * responsible for toggling the display of the provided menu instance.\n */\n@Directive({\n  selector: `[mat-menu-trigger-for], [matMenuTriggerFor]`,\n  host: {\n    'aria-haspopup': 'true',\n    '(mousedown)': '_handleMousedown($event)',\n    '(keydown)': '_handleKeydown($event)',\n    '(click)': '_handleClick($event)',\n  },\n  exportAs: 'matMenuTrigger'\n})\nexport class MatMenuTrigger implements AfterContentInit, OnDestroy {\n  private _portal: TemplatePortal<any>;\n  private _overlayRef: OverlayRef | null = null;\n  private _menuOpen: boolean = false;\n  private _closeSubscription = Subscription.EMPTY;\n  private _positionSubscription = Subscription.EMPTY;\n  private _hoverSubscription = Subscription.EMPTY;\n\n  // Tracking input type is necessary so it's possible to only auto-focus\n  // the first item of the list when the menu is opened via the keyboard\n  private _openedByMouse: boolean = false;\n\n  /** @deprecated */\n  @Input('mat-menu-trigger-for')\n  get _deprecatedMatMenuTriggerFor(): MatMenuPanel {\n    return this.menu;\n  }\n\n  set _deprecatedMatMenuTriggerFor(v: MatMenuPanel) {\n    this.menu = v;\n  }\n\n  /** References the menu instance that the trigger is associated with. */\n  @Input('matMenuTriggerFor') menu: MatMenuPanel;\n\n  /** Event emitted when the associated menu is opened. */\n  @Output() menuOpened = new EventEmitter<void>();\n\n  /**\n   * Event emitted when the associated menu is opened.\n   * @deprecated Switch to `menuOpened` instead\n   */\n  @Output() onMenuOpen = this.menuOpened;\n\n  /** Event emitted when the associated menu is closed. */\n  @Output() menuClosed = new EventEmitter<void>();\n\n  /**\n   * Event emitted when the associated menu is closed.\n   * @deprecated Switch to `menuClosed` instead\n   */\n  @Output() onMenuClose = this.menuClosed;\n\n  constructor(private _overlay: Overlay,\n              private _element: ElementRef,\n              private _viewContainerRef: ViewContainerRef,\n              @Inject(MAT_MENU_SCROLL_STRATEGY) private _scrollStrategy,\n              @Optional() private _parentMenu: MatMenu,\n              @Optional() @Self() private _menuItemInstance: MatMenuItem,\n              @Optional() private _dir: Directionality) {\n\n    if (_menuItemInstance) {\n      _menuItemInstance._triggersSubmenu = this.triggersSubmenu();\n    }\n  }\n\n  ngAfterContentInit() {\n    this._checkMenu();\n\n    this.menu.close.subscribe(reason => {\n      this._destroyMenu();\n\n      // If a click closed the menu, we should close the entire chain of nested menus.\n      if (reason === 'click' && this._parentMenu) {\n        this._parentMenu.closed.emit(reason);\n      }\n    });\n\n    if (this.triggersSubmenu()) {\n      // Subscribe to changes in the hovered item in order to toggle the panel.\n      this._hoverSubscription = this._parentMenu._hovered()\n          .pipe(filter(active => active === this._menuItemInstance))\n          .subscribe(() => {\n            this._openedByMouse = true;\n            this.openMenu();\n          });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n\n    this._cleanUpSubscriptions();\n  }\n\n  /** Whether the menu is open. */\n  get menuOpen(): boolean {\n    return this._menuOpen;\n  }\n\n  /** The text direction of the containing app. */\n  get dir(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /** Whether the menu triggers a sub-menu or a top-level one. */\n  triggersSubmenu(): boolean {\n    return !!(this._menuItemInstance && this._parentMenu);\n  }\n\n  /** Toggles the menu between the open and closed states. */\n  toggleMenu(): void {\n    return this._menuOpen ? this.closeMenu() : this.openMenu();\n  }\n\n  /** Opens the menu. */\n  openMenu(): void {\n    if (!this._menuOpen) {\n      this._createOverlay().attach(this._portal);\n      this._closeSubscription = this._menuClosingActions().subscribe(() => this.closeMenu());\n      this._initMenu();\n\n      if (this.menu instanceof MatMenu) {\n        this.menu._startAnimation();\n      }\n    }\n  }\n\n  /** Closes the menu. */\n  closeMenu(): void {\n    this.menu.close.emit();\n  }\n\n  /** Focuses the menu trigger. */\n  focus() {\n    this._element.nativeElement.focus();\n  }\n\n  /** Closes the menu and does the necessary cleanup. */\n  private _destroyMenu() {\n    if (this._overlayRef && this.menuOpen) {\n      this._resetMenu();\n      this._closeSubscription.unsubscribe();\n      this._overlayRef.detach();\n\n      if (this.menu instanceof MatMenu) {\n        this.menu._resetAnimation();\n      }\n    }\n  }\n\n  /**\n   * This method sets the menu state to open and focuses the first item if\n   * the menu was opened via the keyboard.\n   */\n  private _initMenu(): void {\n    this.menu.parentMenu = this.triggersSubmenu() ? this._parentMenu : undefined;\n    this.menu.direction = this.dir;\n    this._setMenuElevation();\n    this._setIsMenuOpen(true);\n\n    // If the menu was opened by mouse, we focus the root node, which allows for the keyboard\n    // interactions to work. Otherwise, if the menu was opened by keyboard, we focus the first item.\n    if (this._openedByMouse) {\n      let rootNode = this._overlayRef!.overlayElement.firstElementChild as HTMLElement;\n\n      if (rootNode) {\n        this.menu.resetActiveItem();\n        rootNode.focus();\n      }\n    } else {\n      this.menu.focusFirstItem();\n    }\n  }\n\n  /** Updates the menu elevation based on the amount of parent menus that it has. */\n  private _setMenuElevation(): void {\n    if (this.menu.setElevation) {\n      let depth = 0;\n      let parentMenu = this.menu.parentMenu;\n\n      while (parentMenu) {\n        depth++;\n        parentMenu = parentMenu.parentMenu;\n      }\n\n      this.menu.setElevation(depth);\n    }\n  }\n\n  /**\n   * This method resets the menu when it's closed, most importantly restoring\n   * focus to the menu trigger if the menu was opened via the keyboard.\n   */\n  private _resetMenu(): void {\n    this._setIsMenuOpen(false);\n\n    // We should reset focus if the user is navigating using a keyboard or\n    // if we have a top-level trigger which might cause focus to be lost\n    // when clicking on the backdrop.\n    if (!this._openedByMouse || !this.triggersSubmenu()) {\n      this.focus();\n    }\n\n    this._openedByMouse = false;\n  }\n\n  // set state rather than toggle to support triggers sharing a menu\n  private _setIsMenuOpen(isOpen: boolean): void {\n    this._menuOpen = isOpen;\n    this._menuOpen ? this.menuOpened.emit() : this.menuClosed.emit();\n\n    if (this.triggersSubmenu()) {\n      this._menuItemInstance._highlighted = isOpen;\n    }\n  }\n\n  /**\n   * This method checks that a valid instance of MatMenu has been passed into\n   * matMenuTriggerFor. If not, an exception is thrown.\n   */\n  private _checkMenu() {\n    if (!this.menu) {\n      throwMatMenuMissingError();\n    }\n  }\n\n  /**\n   * This method creates the overlay from the provided menu's template and saves its\n   * OverlayRef so that it can be attached to the DOM when openMenu is called.\n   */\n  private _createOverlay(): OverlayRef {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.menu.templateRef, this._viewContainerRef);\n      const config = this._getOverlayConfig();\n      this._subscribeToPositions(config.positionStrategy as ConnectedPositionStrategy);\n      this._overlayRef = this._overlay.create(config);\n    }\n\n    return this._overlayRef;\n  }\n\n  /**\n   * This method builds the configuration object needed to create the overlay, the OverlayState.\n   * @returns OverlayConfig\n   */\n  private _getOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      positionStrategy: this._getPosition(),\n      hasBackdrop: !this.triggersSubmenu(),\n      backdropClass: 'cdk-overlay-transparent-backdrop',\n      direction: this.dir,\n      scrollStrategy: this._scrollStrategy()\n    });\n  }\n\n  /**\n   * Listens to changes in the position of the overlay and sets the correct classes\n   * on the menu based on the new position. This ensures the animation origin is always\n   * correct, even if a fallback position is used for the overlay.\n   */\n  private _subscribeToPositions(position: ConnectedPositionStrategy): void {\n    this._positionSubscription = position.onPositionChange.subscribe(change => {\n      const posX: MenuPositionX = change.connectionPair.overlayX === 'start' ? 'after' : 'before';\n      const posY: MenuPositionY = change.connectionPair.overlayY === 'top' ? 'below' : 'above';\n\n      this.menu.setPositionClasses(posX, posY);\n    });\n  }\n\n  /**\n   * This method builds the position strategy for the overlay, so the menu is properly connected\n   * to the trigger.\n   * @returns ConnectedPositionStrategy\n   */\n  private _getPosition(): ConnectedPositionStrategy {\n    let [originX, originFallbackX]: HorizontalConnectionPos[] =\n        this.menu.xPosition === 'before' ? ['end', 'start'] : ['start', 'end'];\n\n    let [overlayY, overlayFallbackY]: VerticalConnectionPos[] =\n        this.menu.yPosition === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\n\n    let [originY, originFallbackY] = [overlayY, overlayFallbackY];\n    let [overlayX, overlayFallbackX] = [originX, originFallbackX];\n    let offsetY = 0;\n\n    if (this.triggersSubmenu()) {\n      // When the menu is a sub-menu, it should always align itself\n      // to the edges of the trigger, instead of overlapping it.\n      overlayFallbackX = originX = this.menu.xPosition === 'before' ? 'start' : 'end';\n      originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n      offsetY = overlayY === 'bottom' ? MENU_PANEL_TOP_PADDING : -MENU_PANEL_TOP_PADDING;\n    } else if (!this.menu.overlapTrigger) {\n      originY = overlayY === 'top' ? 'bottom' : 'top';\n      originFallbackY = overlayFallbackY === 'top' ? 'bottom' : 'top';\n    }\n\n    return this._overlay.position()\n        .connectedTo(this._element, {originX, originY}, {overlayX, overlayY})\n        .withDirection(this.dir)\n        .withOffsetY(offsetY)\n        .withFallbackPosition(\n            {originX: originFallbackX, originY},\n            {overlayX: overlayFallbackX, overlayY})\n        .withFallbackPosition(\n            {originX, originY: originFallbackY},\n            {overlayX, overlayY: overlayFallbackY},\n            undefined, -offsetY)\n        .withFallbackPosition(\n            {originX: originFallbackX, originY: originFallbackY},\n            {overlayX: overlayFallbackX, overlayY: overlayFallbackY},\n            undefined, -offsetY);\n  }\n\n  /** Cleans up the active subscriptions. */\n  private _cleanUpSubscriptions(): void {\n    this._closeSubscription.unsubscribe();\n    this._positionSubscription.unsubscribe();\n    this._hoverSubscription.unsubscribe();\n  }\n\n  /** Returns a stream that emits whenever an action that should close the menu occurs. */\n  private _menuClosingActions() {\n    const backdrop = this._overlayRef!.backdropClick();\n    const detachments = this._overlayRef!.detachments();\n    const parentClose = this._parentMenu ? this._parentMenu.close : observableOf();\n    const hover = this._parentMenu ? this._parentMenu._hovered().pipe(\n      filter(active => active !== this._menuItemInstance),\n      filter(() => this._menuOpen)\n    ) : observableOf();\n\n    return merge(backdrop, parentClose, hover, detachments);\n  }\n\n  /** Handles mouse presses on the trigger. */\n  _handleMousedown(event: MouseEvent): void {\n    if (!isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n\n      // Since clicking on the trigger won't close the menu if it opens a sub-menu,\n      // we should prevent focus from moving onto it via click to avoid the\n      // highlight from lingering on the menu item.\n      if (this.triggersSubmenu()) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  /** Handles key presses on the trigger. */\n  _handleKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n\n    if (this.triggersSubmenu() && (\n            (keyCode === RIGHT_ARROW && this.dir === 'ltr') ||\n            (keyCode === LEFT_ARROW && this.dir === 'rtl'))) {\n      this.openMenu();\n    }\n  }\n\n  /** Handles click events on the trigger. */\n  _handleClick(event: MouseEvent): void {\n    if (this.triggersSubmenu()) {\n      // Stop event propagation to avoid closing the parent menu.\n      event.stopPropagation();\n      this.openMenu();\n    } else {\n      this.toggleMenu();\n    }\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatCommonModule} from '@angular/material/core';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {MatMenu, MAT_MENU_DEFAULT_OPTIONS} from './menu-directive';\nimport {MatMenuItem} from './menu-item';\nimport {MatMenuTrigger, MAT_MENU_SCROLL_STRATEGY_PROVIDER} from './menu-trigger';\nimport {MatRippleModule} from '@angular/material/core';\n\n\n@NgModule({\n  imports: [\n    OverlayModule,\n    CommonModule,\n    MatRippleModule,\n    MatCommonModule,\n  ],\n  exports: [MatMenu, MatMenuItem, MatMenuTrigger, MatCommonModule],\n  declarations: [MatMenu, MatMenuItem, MatMenuTrigger],\n  providers: [\n    MAT_MENU_SCROLL_STRATEGY_PROVIDER,\n    {\n      provide: MAT_MENU_DEFAULT_OPTIONS,\n      useValue: {\n        overlapTrigger: true,\n        xPosition: 'after',\n        yPosition: 'below',\n      },\n    }\n  ],\n})\nexport class MatMenuModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  animate,\n  AnimationTriggerMetadata,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\n/**\n * The following are all the animations for the mat-select component, with each\n * const containing the metadata for one animation.\n *\n * The values below match the implementation of the AngularJS Material mat-select animation.\n */\n\n/**\n * This animation transforms the select's overlay panel on and off the page.\n *\n * When the panel is attached to the DOM, it expands its width by the amount of padding, scales it\n * up to 100% on the Y axis, fades in its border, and translates slightly up and to the\n * side to ensure the option text correctly overlaps the trigger text.\n *\n * When the panel is removed from the DOM, it simply fades out linearly.\n */\nexport const transformPanel: AnimationTriggerMetadata = trigger('transformPanel', [\n  state('showing', style({\n    opacity: 1,\n    minWidth: 'calc(100% + 32px)', // 32px = 2 * 16px padding\n    transform: 'scaleY(1)'\n  })),\n  state('showing-multiple', style({\n    opacity: 1,\n    minWidth: 'calc(100% + 64px)', // 64px = 48px padding on the left + 16px padding on the right\n    transform: 'scaleY(1)'\n  })),\n  transition('void => *', [\n    style({\n      opacity: 0,\n      minWidth: '100%',\n      transform: 'scaleY(0)'\n    }),\n    animate('150ms cubic-bezier(0.25, 0.8, 0.25, 1)')\n  ]),\n  transition('* => void', [\n    animate('250ms 100ms linear', style({opacity: 0}))\n  ])\n]);\n\n/**\n * This animation fades in the background color and text content of the\n * select's options. It is time delayed to occur 100ms after the overlay\n * panel has transformed in.\n */\nexport const fadeInContent: AnimationTriggerMetadata = trigger('fadeInContent', [\n  state('showing', style({opacity: 1})),\n  transition('void => showing', [\n    style({opacity: 0}),\n    animate('150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n  ])\n]);\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Returns an exception to be thrown when attempting to change a select's `multiple` option\n * after initialization.\n * @docs-private\n */\nexport function getMatSelectDynamicMultipleError(): Error {\n  return Error('Cannot change `multiple` mode of select after initialization.');\n}\n\n/**\n * Returns an exception to be thrown when attempting to assign a non-array value to a select\n * in `multiple` mode. Note that `undefined` and `null` are still valid values to allow for\n * resetting the value.\n * @docs-private\n */\nexport function getMatSelectNonArrayValueError(): Error {\n  return Error('Value must be an array in multiple-selection mode.');\n}\n\n/**\n * Returns an exception to be thrown when assigning a non-function value to the comparator\n * used to determine if a value corresponds to an option. Note that whether the function\n * actually takes two values and returns a boolean is not checked.\n */\nexport function getMatSelectNonFunctionValueError(): Error {\n  return Error('`compareWith` must be a function.');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {ActiveDescendantKeyManager} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {DOWN_ARROW, END, ENTER, HOME, SPACE, UP_ARROW} from '@angular/cdk/keycodes';\nimport {\n  CdkConnectedOverlay,\n  Overlay,\n  RepositionScrollStrategy,\n  ScrollStrategy,\n  ViewportRuler,\n} from '@angular/cdk/overlay';\nimport {filter} from 'rxjs/operators/filter';\nimport {take} from 'rxjs/operators/take';\nimport {map} from 'rxjs/operators/map';\nimport {switchMap} from 'rxjs/operators/switchMap';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  Directive,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  isDevMode,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  Self,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormGroupDirective,\n  NgControl,\n  NgForm\n} from '@angular/forms';\nimport {\n  CanDisable,\n  ErrorStateMatcher,\n  CanUpdateErrorState,\n  mixinErrorState,\n  HasTabIndex,\n  MatOptgroup,\n  MatOption,\n  MatOptionSelectionChange,\n  mixinDisabled,\n  mixinTabIndex,\n  MAT_OPTION_PARENT_COMPONENT,\n  mixinDisableRipple,\n  CanDisableRipple,\n} from '@angular/material/core';\nimport {MatFormField, MatFormFieldControl} from '@angular/material/form-field';\nimport {Observable} from 'rxjs/Observable';\nimport {merge} from 'rxjs/observable/merge';\nimport {Subject} from 'rxjs/Subject';\nimport {defer} from 'rxjs/observable/defer';\nimport {fadeInContent, transformPanel} from './select-animations';\nimport {\n  getMatSelectDynamicMultipleError,\n  getMatSelectNonArrayValueError,\n  getMatSelectNonFunctionValueError,\n} from './select-errors';\n\n\nlet nextUniqueId = 0;\n\n/**\n * The following style constants are necessary to save here in order\n * to properly calculate the alignment of the selected option over\n * the trigger element.\n */\n\n/** The max height of the select's overlay panel */\nexport const SELECT_PANEL_MAX_HEIGHT = 256;\n\n/** The panel's padding on the x-axis */\nexport const SELECT_PANEL_PADDING_X = 16;\n\n/** The panel's x axis padding if it is indented (e.g. there is an option group). */\nexport const SELECT_PANEL_INDENT_PADDING_X = SELECT_PANEL_PADDING_X * 2;\n\n/** The height of the select items in `em` units. */\nexport const SELECT_ITEM_HEIGHT_EM = 3;\n\n/**\n * Distance between the panel edge and the option text in\n * multi-selection mode.\n *\n * (SELECT_PANEL_PADDING_X * 1.5) + 20 = 44\n * The padding is multiplied by 1.5 because the checkbox's margin is half the padding.\n * The checkbox width is 20px.\n */\nexport const SELECT_MULTIPLE_PANEL_PADDING_X = SELECT_PANEL_PADDING_X * 1.5 + 20;\n\n/**\n * The select panel will only \"fit\" inside the viewport if it is positioned at\n * this value or more away from the viewport boundary.\n */\nexport const SELECT_PANEL_VIEWPORT_PADDING = 8;\n\n/** Injection token that determines the scroll handling while a select is open. */\nexport const MAT_SELECT_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-select-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MAT_SELECT_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_SELECT_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n\n/** Change event object that is emitted when the select value has changed. */\nexport class MatSelectChange {\n  constructor(\n    /** Reference to the select that emitted the change event. */\n    public source: MatSelect,\n    /** Current value of the select that emitted the event. */\n    public value: any) { }\n}\n\n// Boilerplate for applying mixins to MatSelect.\n/** @docs-private */\nexport class MatSelectBase {\n  constructor(public _elementRef: ElementRef,\n              public _defaultErrorStateMatcher: ErrorStateMatcher,\n              public _parentForm: NgForm,\n              public _parentFormGroup: FormGroupDirective,\n              public ngControl: NgControl) {}\n}\nexport const _MatSelectMixinBase = mixinDisableRipple(\n    mixinTabIndex(mixinDisabled(mixinErrorState(MatSelectBase))));\n\n\n/**\n * Allows the user to customize the trigger that is displayed when the select has a value.\n */\n@Directive({\n  selector: 'mat-select-trigger'\n})\nexport class MatSelectTrigger {}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-select',\n  exportAs: 'matSelect',\n  templateUrl: 'select.html',\n  styleUrls: ['select.css'],\n  inputs: ['disabled', 'disableRipple', 'tabIndex'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'role': 'listbox',\n    '[attr.id]': 'id',\n    '[attr.tabindex]': 'tabIndex',\n    '[attr.aria-label]': '_ariaLabel',\n    '[attr.aria-labelledby]': 'ariaLabelledby',\n    '[attr.aria-required]': 'required.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-invalid]': 'errorState',\n    '[attr.aria-owns]': 'panelOpen ? _optionIds : null',\n    '[attr.aria-multiselectable]': 'multiple',\n    '[attr.aria-describedby]': '_ariaDescribedby || null',\n    '[attr.aria-activedescendant]': '_getAriaActiveDescendant()',\n    '[class.mat-select-disabled]': 'disabled',\n    '[class.mat-select-invalid]': 'errorState',\n    '[class.mat-select-required]': 'required',\n    'class': 'mat-select',\n    '(keydown)': '_handleKeydown($event)',\n    '(focus)': '_onFocus()',\n    '(blur)': '_onBlur()',\n  },\n  animations: [\n    transformPanel,\n    fadeInContent\n  ],\n  providers: [\n    {provide: MatFormFieldControl, useExisting: MatSelect},\n    {provide: MAT_OPTION_PARENT_COMPONENT, useExisting: MatSelect}\n  ],\n})\nexport class MatSelect extends _MatSelectMixinBase implements AfterContentInit, OnChanges,\n    OnDestroy, OnInit, DoCheck, ControlValueAccessor, CanDisable, HasTabIndex,\n    MatFormFieldControl<any>, CanUpdateErrorState, CanDisableRipple {\n  /** Whether or not the overlay panel is open. */\n  private _panelOpen = false;\n\n  /** Whether filling out the select is required in the form.  */\n  private _required: boolean = false;\n\n  /** The scroll position of the overlay panel, calculated to center the selected option. */\n  private _scrollTop = 0;\n\n  /** The placeholder displayed in the trigger of the select. */\n  private _placeholder: string;\n\n  /** Whether the component is in multiple selection mode. */\n  private _multiple: boolean = false;\n\n  /** Comparison function to specify which option is displayed. Defaults to object equality. */\n  private _compareWith = (o1: any, o2: any) => o1 === o2;\n\n  /** Unique id for this input. */\n  private _uid = `mat-select-${nextUniqueId++}`;\n\n  /** Emits whenever the component is destroyed. */\n  private _destroy = new Subject<void>();\n\n  /** The last measured value for the trigger's client bounding rect. */\n  _triggerRect: ClientRect;\n\n  /** The aria-describedby attribute on the select for improved a11y. */\n  _ariaDescribedby: string;\n\n  /** The cached font-size of the trigger element. */\n  _triggerFontSize = 0;\n\n  /** Deals with the selection logic. */\n  _selectionModel: SelectionModel<MatOption>;\n\n  /** Manages keyboard events for options in the panel. */\n  _keyManager: ActiveDescendantKeyManager<MatOption>;\n\n  /** View -> model callback called when value changes */\n  _onChange: (value: any) => void = () => {};\n\n  /** View -> model callback called when select has been touched */\n  _onTouched = () => {};\n\n  /** The IDs of child options to be passed to the aria-owns attribute. */\n  _optionIds: string = '';\n\n  /** The value of the select panel's transform-origin property. */\n  _transformOrigin: string = 'top';\n\n  /** Whether the panel's animation is done. */\n  _panelDoneAnimating: boolean = false;\n\n  /** Strategy that will be used to handle scrolling while the select panel is open. */\n  _scrollStrategy = this._scrollStrategyFactory();\n\n  /**\n   * The y-offset of the overlay panel in relation to the trigger's top start corner.\n   * This must be adjusted to align the selected option text over the trigger text.\n   * when the panel opens. Will change based on the y-position of the selected option.\n   */\n  _offsetY = 0;\n\n  /**\n   * This position config ensures that the top \"start\" corner of the overlay\n   * is aligned with with the top \"start\" of the origin by default (overlapping\n   * the trigger completely). If the panel cannot fit below the trigger, it\n   * will fall back to a position above the trigger.\n   */\n  _positions = [\n    {\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'top',\n    },\n    {\n      originX: 'start',\n      originY: 'bottom',\n      overlayX: 'start',\n      overlayY: 'bottom',\n    },\n  ];\n\n  /** Whether the select is focused. */\n  focused = false;\n\n  /** A name for this control that can be used by `mat-form-field`. */\n  controlType = 'mat-select';\n\n  /** Trigger that opens the select. */\n  @ViewChild('trigger') trigger: ElementRef;\n\n  /** Panel containing the select options. */\n  @ViewChild('panel') panel: ElementRef;\n\n  /** Overlay pane containing the options. */\n  @ViewChild(CdkConnectedOverlay) overlayDir: CdkConnectedOverlay;\n\n  /** All of the defined select options. */\n  @ContentChildren(MatOption, { descendants: true }) options: QueryList<MatOption>;\n\n  /** All of the defined groups of options. */\n  @ContentChildren(MatOptgroup) optionGroups: QueryList<MatOptgroup>;\n\n  /** Classes to be passed to the select panel. Supports the same syntax as `ngClass`. */\n  @Input() panelClass: string|string[]|Set<string>|{[key: string]: any};\n\n  /** User-supplied override of the trigger element. */\n  @ContentChild(MatSelectTrigger) customTrigger: MatSelectTrigger;\n\n  /** Placeholder to be shown if no value has been selected. */\n  @Input()\n  get placeholder() { return this._placeholder; }\n  set placeholder(value: string) {\n    this._placeholder = value;\n    this.stateChanges.next();\n  }\n\n  /** Whether the component is required. */\n  @Input()\n  get required() { return this._required; }\n  set required(value: any) {\n    this._required = coerceBooleanProperty(value);\n    this.stateChanges.next();\n  }\n\n  /** Whether the user should be allowed to select multiple options. */\n  @Input()\n  get multiple(): boolean { return this._multiple; }\n  set multiple(value: boolean) {\n    if (this._selectionModel) {\n      throw getMatSelectDynamicMultipleError();\n    }\n\n    this._multiple = coerceBooleanProperty(value);\n  }\n\n  /**\n   * A function to compare the option values with the selected values. The first argument\n   * is a value from an option. The second is a value from the selection. A boolean\n   * should be returned.\n   */\n  @Input()\n  get compareWith() { return this._compareWith; }\n  set compareWith(fn: (o1: any, o2: any) => boolean) {\n    if (typeof fn !== 'function') {\n      throw getMatSelectNonFunctionValueError();\n    }\n    this._compareWith = fn;\n    if (this._selectionModel) {\n      // A different comparator means the selection could change.\n      this._initializeSelection();\n    }\n  }\n\n  /** Value of the select control. */\n  @Input()\n  get value() { return this._value; }\n  set value(newValue: any) {\n    if (newValue !== this._value) {\n      this.writeValue(newValue);\n      this._value = newValue;\n    }\n  }\n  private _value: any;\n\n  /** Aria label of the select. If not specified, the placeholder will be used as label. */\n  @Input('aria-label') ariaLabel: string = '';\n\n  /** Input that can be used to specify the `aria-labelledby` attribute. */\n  @Input('aria-labelledby') ariaLabelledby: string;\n\n  /** An object used to control when error messages are shown. */\n  @Input() errorStateMatcher: ErrorStateMatcher;\n\n  /** Unique id of the element. */\n  @Input()\n  get id() { return this._id; }\n  set id(value: string) {\n    this._id = value || this._uid;\n    this.stateChanges.next();\n  }\n  private _id: string;\n\n  /** Combined stream of all of the child options' change events. */\n  optionSelectionChanges: Observable<MatOptionSelectionChange> = defer(() => {\n    if (this.options) {\n      return merge(...this.options.map(option => option.onSelectionChange));\n    }\n\n    return this._ngZone.onStable\n      .asObservable()\n      .pipe(take(1), switchMap(() => this.optionSelectionChanges));\n  });\n\n   /** Event emitted when the select has been opened. */\n   @Output() openedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n   /** Event emitted when the select has been opened. */\n   @Output('opened')\n   get _openedStream(): Observable<void> {\n    return this.openedChange.pipe(filter(o => o), map(() => {}));\n  }\n\n  /** Event emitted when the select has been closed. */\n  @Output('closed')\n  get _closedStream(): Observable<void> {\n    return this.openedChange.pipe(filter(o => !o), map(() => {}));\n  }\n\n  /**\n   * Event emitted when the select has been opened.\n   * @deprecated Use `openedChange` instead.\n   */\n  @Output() onOpen: Observable<void> = this._openedStream;\n\n  /**\n   * Event emitted when the select has been closed.\n   * @deprecated Use `openedChange` instead.\n   */\n  @Output() onClose: Observable<void> = this._closedStream;\n\n   /** Event emitted when the selected value has been changed by the user. */\n  @Output() selectionChange: EventEmitter<MatSelectChange> = new EventEmitter<MatSelectChange>();\n\n  /**\n   * Event emitted when the selected value has been changed by the user.\n   * @deprecated Use `selectionChange` instead.\n   */\n  @Output() change: EventEmitter<MatSelectChange> = this.selectionChange;\n\n  /**\n   * Event that emits whenever the raw value of the select changes. This is here primarily\n   * to facilitate the two-way binding for the `value` input.\n   * @docs-private\n   */\n  @Output() valueChange = new EventEmitter<any>();\n\n  constructor(\n    private _viewportRuler: ViewportRuler,\n    private _changeDetectorRef: ChangeDetectorRef,\n    private _ngZone: NgZone,\n    _defaultErrorStateMatcher: ErrorStateMatcher,\n    elementRef: ElementRef,\n    @Optional() private _dir: Directionality,\n    @Optional() _parentForm: NgForm,\n    @Optional() _parentFormGroup: FormGroupDirective,\n    @Optional() private _parentFormField: MatFormField,\n    @Self() @Optional() public ngControl: NgControl,\n    @Attribute('tabindex') tabIndex: string,\n    @Inject(MAT_SELECT_SCROLL_STRATEGY) private _scrollStrategyFactory) {\n    super(elementRef, _defaultErrorStateMatcher, _parentForm,\n          _parentFormGroup, ngControl);\n\n    if (this.ngControl) {\n      this.ngControl.valueAccessor = this;\n    }\n\n    this.tabIndex = parseInt(tabIndex) || 0;\n\n    // Force setter to be called in case id was not specified.\n    this.id = this.id;\n  }\n\n  ngOnInit() {\n    this._selectionModel = new SelectionModel<MatOption>(this.multiple, undefined, false);\n    this.stateChanges.next();\n  }\n\n  ngAfterContentInit() {\n    this._initKeyManager();\n\n    this.options.changes.pipe(startWith(null), takeUntil(this._destroy)).subscribe(() => {\n      this._resetOptions();\n      this._initializeSelection();\n    });\n  }\n\n  ngDoCheck() {\n    if (this.ngControl) {\n      this.updateErrorState();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Updating the disabled state is handled by `mixinDisabled`, but we need to additionally let\n    // the parent form field know to run change detection when the disabled state changes.\n    if (changes.disabled) {\n      this.stateChanges.next();\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroy.next();\n    this._destroy.complete();\n    this.stateChanges.complete();\n  }\n\n  /** Toggles the overlay panel open or closed. */\n  toggle(): void {\n    this.panelOpen ? this.close() : this.open();\n  }\n\n  /** Opens the overlay panel. */\n  open(): void {\n    if (this.disabled || !this.options || !this.options.length) {\n      return;\n    }\n\n    this._triggerRect = this.trigger.nativeElement.getBoundingClientRect();\n    // Note: The computed font-size will be a string pixel value (e.g. \"16px\").\n    // `parseInt` ignores the trailing 'px' and converts this to a number.\n    this._triggerFontSize = parseInt(getComputedStyle(this.trigger.nativeElement)['font-size']);\n\n    this._panelOpen = true;\n    this._calculateOverlayPosition();\n    this._highlightCorrectOption();\n    this._changeDetectorRef.markForCheck();\n\n    // Set the font size on the panel element once it exists.\n    this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n      if (this._triggerFontSize && this.overlayDir.overlayRef &&\n          this.overlayDir.overlayRef.overlayElement) {\n        this.overlayDir.overlayRef.overlayElement.style.fontSize = `${this._triggerFontSize}px`;\n      }\n    });\n  }\n\n  /** Closes the overlay panel and focuses the host element. */\n  close(): void {\n    if (this._panelOpen) {\n      this._panelOpen = false;\n      this._changeDetectorRef.markForCheck();\n      this._onTouched();\n      this.focus();\n    }\n  }\n\n  /**\n   * Sets the select's value. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param value New value to be written to the model.\n   */\n  writeValue(value: any): void {\n    if (this.options) {\n      this._setSelectionByValue(value);\n    }\n  }\n\n  /**\n   * Saves a callback function to be invoked when the select's value\n   * changes from user input. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the value changes.\n   */\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChange = fn;\n  }\n\n  /**\n   * Saves a callback function to be invoked when the select is blurred\n   * by the user. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the component has been touched.\n   */\n  registerOnTouched(fn: () => {}): void {\n    this._onTouched = fn;\n  }\n\n  /**\n   * Disables the select. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param isDisabled Sets whether the component is disabled.\n   */\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this._changeDetectorRef.markForCheck();\n    this.stateChanges.next();\n  }\n\n  /** Whether or not the overlay panel is open. */\n  get panelOpen(): boolean {\n    return this._panelOpen;\n  }\n\n  /** The currently selected option. */\n  get selected(): MatOption | MatOption[] {\n    return this.multiple ? this._selectionModel.selected : this._selectionModel.selected[0];\n  }\n\n  /** The value displayed in the trigger. */\n  get triggerValue(): string {\n    if (this.empty) {\n      return '';\n    }\n\n    if (this._multiple) {\n      const selectedOptions = this._selectionModel.selected.map(option => option.viewValue);\n\n      if (this._isRtl()) {\n        selectedOptions.reverse();\n      }\n\n      // TODO(crisbeto): delimiter should be configurable for proper localization.\n      return selectedOptions.join(', ');\n    }\n\n    return this._selectionModel.selected[0].viewValue;\n  }\n\n  /** Whether the element is in RTL mode. */\n  _isRtl(): boolean {\n    return this._dir ? this._dir.value === 'rtl' : false;\n  }\n\n  /** Handles all keydown events on the select. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (!this.disabled) {\n      this.panelOpen ? this._handleOpenKeydown(event) : this._handleClosedKeydown(event);\n    }\n  }\n\n  /** Handles keyboard events while the select is closed. */\n  private _handleClosedKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n    const isArrowKey = keyCode === DOWN_ARROW || keyCode === UP_ARROW;\n    const isOpenKey = keyCode === ENTER || keyCode === SPACE;\n\n    if (isOpenKey || ((this.multiple || event.altKey) && isArrowKey)) {\n      event.preventDefault(); // prevents the page from scrolling down when pressing space\n      this.open();\n    } else if (!this.multiple) {\n      this._keyManager.onKeydown(event);\n    }\n  }\n\n  /** Handles keyboard events when the selected is open. */\n  private _handleOpenKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n\n    if (keyCode === HOME || keyCode === END) {\n      event.preventDefault();\n      keyCode === HOME ? this._keyManager.setFirstItemActive() :\n                         this._keyManager.setLastItemActive();\n    } else if ((keyCode === ENTER || keyCode === SPACE) && this._keyManager.activeItem) {\n      event.preventDefault();\n      this._keyManager.activeItem._selectViaInteraction();\n    } else {\n      const isArrowKey = keyCode === DOWN_ARROW || keyCode === UP_ARROW;\n      const previouslyFocusedIndex = this._keyManager.activeItemIndex;\n\n      this._keyManager.onKeydown(event);\n\n      if (this._multiple && isArrowKey && event.shiftKey && this._keyManager.activeItem &&\n          this._keyManager.activeItemIndex !== previouslyFocusedIndex) {\n        this._keyManager.activeItem._selectViaInteraction();\n      }\n    }\n  }\n\n  /**\n   * When the panel element is finished transforming in (though not fading in), it\n   * emits an event and focuses an option if the panel is open.\n   */\n  _onPanelDone(): void {\n    if (this.panelOpen) {\n      this._scrollTop = 0;\n      this.openedChange.emit(true);\n    } else {\n      this.openedChange.emit(false);\n      this._panelDoneAnimating = false;\n      this.overlayDir.offsetX = 0;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /**\n   * When the panel content is done fading in, the _panelDoneAnimating property is\n   * set so the proper class can be added to the panel.\n   */\n  _onFadeInDone(): void {\n    this._panelDoneAnimating = this.panelOpen;\n    this._changeDetectorRef.markForCheck();\n  }\n\n  _onFocus() {\n    if (!this.disabled) {\n      this.focused = true;\n      this.stateChanges.next();\n    }\n  }\n\n  /**\n   * Calls the touched callback only if the panel is closed. Otherwise, the trigger will\n   * \"blur\" to the panel when it opens, causing a false positive.\n   */\n  _onBlur() {\n    if (!this.disabled && !this.panelOpen) {\n      this.focused = false;\n      this._onTouched();\n      this._changeDetectorRef.markForCheck();\n      this.stateChanges.next();\n    }\n  }\n\n  /**\n   * Callback that is invoked when the overlay panel has been attached.\n   */\n  _onAttached(): void {\n    this.overlayDir.positionChange.pipe(take(1)).subscribe(() => {\n      this._changeDetectorRef.detectChanges();\n      this._calculateOverlayOffsetX();\n      this.panel.nativeElement.scrollTop = this._scrollTop;\n    });\n  }\n\n  /** Returns the theme to be used on the panel. */\n  _getPanelTheme(): string {\n    return this._parentFormField ? `mat-${this._parentFormField.color}` : '';\n  }\n\n  /** Whether the select has a value. */\n  get empty(): boolean {\n    return !this._selectionModel || this._selectionModel.isEmpty();\n  }\n\n  private _initializeSelection(): void {\n    // Defer setting the value in order to avoid the \"Expression\n    // has changed after it was checked\" errors from Angular.\n    Promise.resolve().then(() => {\n      this._setSelectionByValue(this.ngControl ? this.ngControl.value : this._value);\n    });\n  }\n\n  /**\n   * Sets the selected option based on a value. If no option can be\n   * found with the designated value, the select trigger is cleared.\n   */\n  private _setSelectionByValue(value: any | any[], isUserInput = false): void {\n    if (this.multiple && value) {\n      if (!Array.isArray(value)) {\n        throw getMatSelectNonArrayValueError();\n      }\n\n      this._clearSelection();\n      value.forEach((currentValue: any) => this._selectValue(currentValue, isUserInput));\n      this._sortValues();\n    } else {\n      this._clearSelection();\n\n      const correspondingOption = this._selectValue(value, isUserInput);\n\n      // Shift focus to the active item. Note that we shouldn't do this in multiple\n      // mode, because we don't know what option the user interacted with last.\n      if (correspondingOption) {\n        this._keyManager.setActiveItem(this.options.toArray().indexOf(correspondingOption));\n      }\n    }\n\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Finds and selects and option based on its value.\n   * @returns Option that has the corresponding value.\n   */\n  private _selectValue(value: any, isUserInput = false): MatOption | undefined {\n    const correspondingOption = this.options.find((option: MatOption) => {\n      try {\n        // Treat null as a special reset value.\n        return option.value != null && this._compareWith(option.value,  value);\n      } catch (error) {\n        if (isDevMode()) {\n          // Notify developers of errors in their comparator.\n          console.warn(error);\n        }\n        return false;\n      }\n    });\n\n    if (correspondingOption) {\n      isUserInput ? correspondingOption._selectViaInteraction() : correspondingOption.select();\n      this._selectionModel.select(correspondingOption);\n      this.stateChanges.next();\n    }\n\n    return correspondingOption;\n  }\n\n\n  /**\n   * Clears the select trigger and deselects every option in the list.\n   * @param skip Option that should not be deselected.\n   */\n  private _clearSelection(skip?: MatOption): void {\n    this._selectionModel.clear();\n    this.options.forEach(option => {\n      if (option !== skip) {\n        option.deselect();\n      }\n    });\n    this.stateChanges.next();\n  }\n\n  /** Sets up a key manager to listen to keyboard events on the overlay panel. */\n  private _initKeyManager() {\n    this._keyManager = new ActiveDescendantKeyManager<MatOption>(this.options).withTypeAhead();\n    this._keyManager.tabOut.pipe(takeUntil(this._destroy)).subscribe(() => this.close());\n\n    this._keyManager.change.pipe(takeUntil(this._destroy)).subscribe(() => {\n      if (this._panelOpen && this.panel) {\n        this._scrollActiveOptionIntoView();\n      } else if (!this._panelOpen && !this.multiple && this._keyManager.activeItem) {\n        this._keyManager.activeItem._selectViaInteraction();\n      }\n    });\n  }\n\n  /** Drops current option subscriptions and IDs and resets from scratch. */\n  private _resetOptions(): void {\n    this.optionSelectionChanges.pipe(\n      takeUntil(merge(this._destroy, this.options.changes)),\n      filter(event => event.isUserInput)\n    ).subscribe(event => {\n      this._onSelect(event.source);\n\n      if (!this.multiple) {\n        this.close();\n      }\n    });\n\n    this._setOptionIds();\n  }\n\n  /** Invoked when an option is clicked. */\n  private _onSelect(option: MatOption): void {\n    const wasSelected = this._selectionModel.isSelected(option);\n\n    // TODO(crisbeto): handle blank/null options inside multi-select.\n    if (this.multiple) {\n      this._selectionModel.toggle(option);\n      this.stateChanges.next();\n      wasSelected ? option.deselect() : option.select();\n      this._keyManager.setActiveItem(this._getOptionIndex(option)!);\n      this._sortValues();\n    } else {\n      this._clearSelection(option.value == null ? undefined : option);\n\n      if (option.value == null) {\n        this._propagateChanges(option.value);\n      } else {\n        this._selectionModel.select(option);\n        this.stateChanges.next();\n      }\n    }\n\n    if (wasSelected !== this._selectionModel.isSelected(option)) {\n      this._propagateChanges();\n    }\n  }\n\n  /**\n   * Sorts the model values, ensuring that they keep the same\n   * order that they have in the panel.\n   */\n  private _sortValues(): void {\n    if (this._multiple) {\n      this._selectionModel.clear();\n\n      this.options.forEach(option => {\n        if (option.selected) {\n          this._selectionModel.select(option);\n        }\n      });\n      this.stateChanges.next();\n    }\n  }\n\n  /** Emits change event to set the model value. */\n  private _propagateChanges(fallbackValue?: any): void {\n    let valueToEmit: any = null;\n\n    if (this.multiple) {\n      valueToEmit = (this.selected as MatOption[]).map(option => option.value);\n    } else {\n      valueToEmit = this.selected ? (this.selected as MatOption).value : fallbackValue;\n    }\n\n    this._value = valueToEmit;\n    this.valueChange.emit(valueToEmit);\n    this._onChange(valueToEmit);\n    this.selectionChange.emit(new MatSelectChange(this, valueToEmit));\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** Records option IDs to pass to the aria-owns property. */\n  private _setOptionIds() {\n    this._optionIds = this.options.map(option => option.id).join(' ');\n  }\n\n  /**\n   * Highlights the selected item. If no option is selected, it will highlight\n   * the first item instead.\n   */\n  private _highlightCorrectOption(): void {\n    if (this._keyManager) {\n      if (this.empty) {\n        this._keyManager.setFirstItemActive();\n      } else {\n        this._keyManager.setActiveItem(this._getOptionIndex(this._selectionModel.selected[0])!);\n      }\n    }\n  }\n\n  /** Scrolls the active option into view. */\n  private _scrollActiveOptionIntoView(): void {\n    const itemHeight = this._getItemHeight();\n    const activeOptionIndex = this._keyManager.activeItemIndex || 0;\n    const labelCount = MatOption.countGroupLabelsBeforeOption(activeOptionIndex,\n        this.options, this.optionGroups);\n    const scrollOffset = (activeOptionIndex + labelCount) * itemHeight;\n    const panelTop = this.panel.nativeElement.scrollTop;\n\n    if (scrollOffset < panelTop) {\n      this.panel.nativeElement.scrollTop = scrollOffset;\n    } else if (scrollOffset + itemHeight > panelTop + SELECT_PANEL_MAX_HEIGHT) {\n      this.panel.nativeElement.scrollTop =\n          Math.max(0, scrollOffset - SELECT_PANEL_MAX_HEIGHT + itemHeight);\n    }\n  }\n\n  /** Focuses the select element. */\n  focus(): void {\n    this._elementRef.nativeElement.focus();\n  }\n\n  /** Gets the index of the provided option in the option list. */\n  private _getOptionIndex(option: MatOption): number | undefined {\n    return this.options.reduce((result: number, current: MatOption, index: number) => {\n      return result === undefined ? (option === current ? index : undefined) : result;\n    }, undefined);\n  }\n\n  /** Calculates the scroll position and x- and y-offsets of the overlay panel. */\n  private _calculateOverlayPosition(): void {\n    const itemHeight = this._getItemHeight();\n    const items = this._getItemCount();\n    const panelHeight = Math.min(items * itemHeight, SELECT_PANEL_MAX_HEIGHT);\n    const scrollContainerHeight = items * itemHeight;\n\n    // The farthest the panel can be scrolled before it hits the bottom\n    const maxScroll = scrollContainerHeight - panelHeight;\n\n    // If no value is selected we open the popup to the first item.\n    let selectedOptionOffset =\n        this.empty ? 0 : this._getOptionIndex(this._selectionModel.selected[0])!;\n\n    selectedOptionOffset += MatOption.countGroupLabelsBeforeOption(selectedOptionOffset,\n        this.options, this.optionGroups);\n\n    // We must maintain a scroll buffer so the selected option will be scrolled to the\n    // center of the overlay panel rather than the top.\n    const scrollBuffer = panelHeight / 2;\n    this._scrollTop = this._calculateOverlayScroll(selectedOptionOffset, scrollBuffer, maxScroll);\n    this._offsetY = this._calculateOverlayOffsetY(selectedOptionOffset, scrollBuffer, maxScroll);\n\n    this._checkOverlayWithinViewport(maxScroll);\n  }\n\n  /**\n   * Calculates the scroll position of the select's overlay panel.\n   *\n   * Attempts to center the selected option in the panel. If the option is\n   * too high or too low in the panel to be scrolled to the center, it clamps the\n   * scroll position to the min or max scroll positions respectively.\n   */\n  _calculateOverlayScroll(selectedIndex: number, scrollBuffer: number,\n                          maxScroll: number): number {\n    const itemHeight = this._getItemHeight();\n    const optionOffsetFromScrollTop = itemHeight * selectedIndex;\n    const halfOptionHeight = itemHeight / 2;\n\n    // Starts at the optionOffsetFromScrollTop, which scrolls the option to the top of the\n    // scroll container, then subtracts the scroll buffer to scroll the option down to\n    // the center of the overlay panel. Half the option height must be re-added to the\n    // scrollTop so the option is centered based on its middle, not its top edge.\n    const optimalScrollPosition = optionOffsetFromScrollTop - scrollBuffer + halfOptionHeight;\n    return Math.min(Math.max(0, optimalScrollPosition), maxScroll);\n  }\n\n  /** Returns the aria-label of the select component. */\n  get _ariaLabel(): string | null {\n    // If an ariaLabelledby value has been set, the select should not overwrite the\n    // `aria-labelledby` value by setting the ariaLabel to the placeholder.\n    return this.ariaLabelledby ? null : this.ariaLabel || this.placeholder;\n  }\n\n  /** Determines the `aria-activedescendant` to be set on the host. */\n  _getAriaActiveDescendant(): string | null {\n    if (this.panelOpen && this._keyManager && this._keyManager.activeItem) {\n      return this._keyManager.activeItem.id;\n    }\n\n    return null;\n  }\n\n  /**\n   * Sets the x-offset of the overlay panel in relation to the trigger's top start corner.\n   * This must be adjusted to align the selected option text over the trigger text when\n   * the panel opens. Will change based on LTR or RTL text direction. Note that the offset\n   * can't be calculated until the panel has been attached, because we need to know the\n   * content width in order to constrain the panel within the viewport.\n   */\n  private _calculateOverlayOffsetX(): void {\n    const overlayRect = this.overlayDir.overlayRef.overlayElement.getBoundingClientRect();\n    const viewportSize = this._viewportRuler.getViewportSize();\n    const isRtl = this._isRtl();\n    const paddingWidth = this.multiple ? SELECT_MULTIPLE_PANEL_PADDING_X + SELECT_PANEL_PADDING_X :\n                                         SELECT_PANEL_PADDING_X * 2;\n    let offsetX: number;\n\n    // Adjust the offset, depending on the option padding.\n    if (this.multiple) {\n      offsetX = SELECT_MULTIPLE_PANEL_PADDING_X;\n    } else {\n      let selected = this._selectionModel.selected[0] || this.options.first;\n      offsetX = selected && selected.group ? SELECT_PANEL_INDENT_PADDING_X : SELECT_PANEL_PADDING_X;\n    }\n\n    // Invert the offset in LTR.\n    if (!isRtl) {\n      offsetX *= -1;\n    }\n\n    // Determine how much the select overflows on each side.\n    const leftOverflow = 0 - (overlayRect.left + offsetX - (isRtl ? paddingWidth : 0));\n    const rightOverflow = overlayRect.right + offsetX - viewportSize.width\n                          + (isRtl ? 0 : paddingWidth);\n\n    // If the element overflows on either side, reduce the offset to allow it to fit.\n    if (leftOverflow > 0) {\n      offsetX += leftOverflow + SELECT_PANEL_VIEWPORT_PADDING;\n    } else if (rightOverflow > 0) {\n      offsetX -= rightOverflow + SELECT_PANEL_VIEWPORT_PADDING;\n    }\n\n    // Set the offset directly in order to avoid having to go through change detection and\n    // potentially triggering \"changed after it was checked\" errors.\n    this.overlayDir.offsetX = offsetX;\n    this.overlayDir.overlayRef.updatePosition();\n  }\n\n  /**\n   * Calculates the y-offset of the select's overlay panel in relation to the\n   * top start corner of the trigger. It has to be adjusted in order for the\n   * selected option to be aligned over the trigger when the panel opens.\n   */\n  private _calculateOverlayOffsetY(selectedIndex: number, scrollBuffer: number,\n                                  maxScroll: number): number {\n    const itemHeight = this._getItemHeight();\n    const optionHeightAdjustment = (itemHeight - this._triggerRect.height) / 2;\n    const maxOptionsDisplayed = Math.floor(SELECT_PANEL_MAX_HEIGHT / itemHeight);\n    let optionOffsetFromPanelTop: number;\n\n    if (this._scrollTop === 0) {\n      optionOffsetFromPanelTop = selectedIndex * itemHeight;\n    } else if (this._scrollTop === maxScroll) {\n      const firstDisplayedIndex = this._getItemCount() - maxOptionsDisplayed;\n      const selectedDisplayIndex = selectedIndex - firstDisplayedIndex;\n\n      // The first item is partially out of the viewport. Therefore we need to calculate what\n      // portion of it is shown in the viewport and account for it in our offset.\n      let partialItemHeight =\n          itemHeight - (this._getItemCount() * itemHeight - SELECT_PANEL_MAX_HEIGHT) % itemHeight;\n\n      // Because the panel height is longer than the height of the options alone,\n      // there is always extra padding at the top or bottom of the panel. When\n      // scrolled to the very bottom, this padding is at the top of the panel and\n      // must be added to the offset.\n      optionOffsetFromPanelTop = selectedDisplayIndex * itemHeight + partialItemHeight;\n    } else {\n      // If the option was scrolled to the middle of the panel using a scroll buffer,\n      // its offset will be the scroll buffer minus the half height that was added to\n      // center it.\n      optionOffsetFromPanelTop = scrollBuffer - itemHeight / 2;\n    }\n\n    // The final offset is the option's offset from the top, adjusted for the height\n    // difference, multiplied by -1 to ensure that the overlay moves in the correct\n    // direction up the page.\n    return optionOffsetFromPanelTop * -1 - optionHeightAdjustment;\n  }\n\n  /**\n   * Checks that the attempted overlay position will fit within the viewport.\n   * If it will not fit, tries to adjust the scroll position and the associated\n   * y-offset so the panel can open fully on-screen. If it still won't fit,\n   * sets the offset back to 0 to allow the fallback position to take over.\n   */\n  private _checkOverlayWithinViewport(maxScroll: number): void {\n    const itemHeight = this._getItemHeight();\n    const viewportSize = this._viewportRuler.getViewportSize();\n\n    const topSpaceAvailable = this._triggerRect.top - SELECT_PANEL_VIEWPORT_PADDING;\n    const bottomSpaceAvailable =\n        viewportSize.height - this._triggerRect.bottom - SELECT_PANEL_VIEWPORT_PADDING;\n\n    const panelHeightTop = Math.abs(this._offsetY);\n    const totalPanelHeight =\n        Math.min(this._getItemCount() * itemHeight, SELECT_PANEL_MAX_HEIGHT);\n    const panelHeightBottom = totalPanelHeight - panelHeightTop - this._triggerRect.height;\n\n    if (panelHeightBottom > bottomSpaceAvailable) {\n      this._adjustPanelUp(panelHeightBottom, bottomSpaceAvailable);\n    } else if (panelHeightTop > topSpaceAvailable) {\n     this._adjustPanelDown(panelHeightTop, topSpaceAvailable, maxScroll);\n    } else {\n      this._transformOrigin = this._getOriginBasedOnOption();\n    }\n  }\n\n  /** Adjusts the overlay panel up to fit in the viewport. */\n  private _adjustPanelUp(panelHeightBottom: number, bottomSpaceAvailable: number) {\n    // Browsers ignore fractional scroll offsets, so we need to round.\n    const distanceBelowViewport = Math.round(panelHeightBottom - bottomSpaceAvailable);\n\n    // Scrolls the panel up by the distance it was extending past the boundary, then\n    // adjusts the offset by that amount to move the panel up into the viewport.\n    this._scrollTop -= distanceBelowViewport;\n    this._offsetY -= distanceBelowViewport;\n    this._transformOrigin = this._getOriginBasedOnOption();\n\n    // If the panel is scrolled to the very top, it won't be able to fit the panel\n    // by scrolling, so set the offset to 0 to allow the fallback position to take\n    // effect.\n    if (this._scrollTop <= 0) {\n      this._scrollTop = 0;\n      this._offsetY = 0;\n      this._transformOrigin = `50% bottom 0px`;\n    }\n  }\n\n  /** Adjusts the overlay panel down to fit in the viewport. */\n  private _adjustPanelDown(panelHeightTop: number, topSpaceAvailable: number,\n                           maxScroll: number) {\n    // Browsers ignore fractional scroll offsets, so we need to round.\n    const distanceAboveViewport = Math.round(panelHeightTop - topSpaceAvailable);\n\n    // Scrolls the panel down by the distance it was extending past the boundary, then\n    // adjusts the offset by that amount to move the panel down into the viewport.\n    this._scrollTop += distanceAboveViewport;\n    this._offsetY += distanceAboveViewport;\n    this._transformOrigin = this._getOriginBasedOnOption();\n\n    // If the panel is scrolled to the very bottom, it won't be able to fit the\n    // panel by scrolling, so set the offset to 0 to allow the fallback position\n    // to take effect.\n    if (this._scrollTop >= maxScroll) {\n      this._scrollTop = maxScroll;\n      this._offsetY = 0;\n      this._transformOrigin = `50% top 0px`;\n      return;\n    }\n  }\n\n  /** Sets the transform origin point based on the selected option. */\n  private _getOriginBasedOnOption(): string {\n    const itemHeight = this._getItemHeight();\n    const optionHeightAdjustment = (itemHeight - this._triggerRect.height) / 2;\n    const originY = Math.abs(this._offsetY) - optionHeightAdjustment + itemHeight / 2;\n    return `50% ${originY}px 0px`;\n  }\n\n  /** Calculates the amount of items in the select. This includes options and group labels. */\n  private _getItemCount(): number {\n    return this.options.length + this.optionGroups.length;\n  }\n\n  /** Calculates the height of the select's options. */\n  private _getItemHeight(): number {\n    return this._triggerFontSize * SELECT_ITEM_HEIGHT_EM;\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  setDescribedByIds(ids: string[]) {\n    this._ariaDescribedby = ids.join(' ');\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  onContainerClick() {\n    this.focus();\n    this.open();\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  get shouldLabelFloat(): boolean {\n    return this._panelOpen || !this.empty;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatSelect, MatSelectTrigger, MAT_SELECT_SCROLL_STRATEGY_PROVIDER} from './select';\nimport {MatCommonModule, MatOptionModule} from '@angular/material/core';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {ErrorStateMatcher} from '@angular/material/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    OverlayModule,\n    MatOptionModule,\n    MatCommonModule,\n  ],\n  exports: [MatFormFieldModule, MatSelect, MatSelectTrigger, MatOptionModule, MatCommonModule],\n  declarations: [MatSelect, MatSelectTrigger],\n  providers: [MAT_SELECT_SCROLL_STRATEGY_PROVIDER, ErrorStateMatcher]\n})\nexport class MatSelectModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {animate, AnimationEvent, state, style, transition, trigger} from '@angular/animations';\nimport {AriaDescriber, FocusMonitor} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {\n  ConnectionPositionPair,\n  HorizontalConnectionPos,\n  OriginConnectionPosition,\n  Overlay,\n  OverlayConfig,\n  OverlayConnectionPosition,\n  OverlayRef,\n  RepositionScrollStrategy,\n  ScrollStrategy,\n  VerticalConnectionPos,\n} from '@angular/cdk/overlay';\nimport {Platform} from '@angular/cdk/platform';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {take} from 'rxjs/operators/take';\nimport {merge} from 'rxjs/observable/merge';\nimport {ScrollDispatcher} from '@angular/cdk/scrolling';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  ElementRef,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\n\n\nexport type TooltipPosition = 'left' | 'right' | 'above' | 'below' | 'before' | 'after';\n\n/** Time in ms to delay before changing the tooltip visibility to hidden */\nexport const TOUCHEND_HIDE_DELAY = 1500;\n\n/** Time in ms to throttle repositioning after scroll events. */\nexport const SCROLL_THROTTLE_MS = 20;\n\n/** CSS class that will be attached to the overlay panel. */\nexport const TOOLTIP_PANEL_CLASS = 'mat-tooltip-panel';\n\n/** Creates an error to be thrown if the user supplied an invalid tooltip position. */\nexport function getMatTooltipInvalidPositionError(position: string) {\n  return Error(`Tooltip position \"${position}\" is invalid.`);\n}\n\n/** Injection token that determines the scroll handling while a tooltip is visible. */\nexport const MAT_TOOLTIP_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-tooltip-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_TOOLTIP_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition({ scrollThrottle: SCROLL_THROTTLE_MS });\n}\n\n/** @docs-private */\nexport const MAT_TOOLTIP_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_TOOLTIP_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_TOOLTIP_SCROLL_STRATEGY_PROVIDER_FACTORY\n};\n/**\n * Directive that attaches a material design tooltip to the host element. Animates the showing and\n * hiding of a tooltip provided position (defaults to below the element).\n *\n * https://material.google.com/components/tooltips.html\n */\n@Directive({\n  selector: '[matTooltip]',\n  exportAs: 'matTooltip',\n  host: {\n    '(longpress)': 'show()',\n    '(keydown)': '_handleKeydown($event)',\n    '(touchend)': 'hide(' + TOUCHEND_HIDE_DELAY + ')',\n  },\n})\nexport class MatTooltip implements OnDestroy {\n  _overlayRef: OverlayRef | null;\n  _tooltipInstance: TooltipComponent | null;\n\n  private _position: TooltipPosition = 'below';\n  private _disabled: boolean = false;\n  private _tooltipClass: string|string[]|Set<string>|{[key: string]: any};\n\n  /** Allows the user to define the position of the tooltip relative to the parent element */\n  @Input('matTooltipPosition')\n  get position(): TooltipPosition { return this._position; }\n  set position(value: TooltipPosition) {\n    if (value !== this._position) {\n      this._position = value;\n\n      // TODO(andrewjs): When the overlay's position can be dynamically changed, do not destroy\n      // the tooltip.\n      if (this._tooltipInstance) {\n        this._disposeTooltip();\n      }\n    }\n  }\n\n  /** Disables the display of the tooltip. */\n  @Input('matTooltipDisabled')\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) {\n    this._disabled = coerceBooleanProperty(value);\n\n    // If tooltip is disabled, hide immediately.\n    if (this._disabled) {\n      this.hide(0);\n    }\n  }\n\n  /** @deprecated */\n  @Input('tooltip-position')\n  get _positionDeprecated(): TooltipPosition { return this._position; }\n  set _positionDeprecated(value: TooltipPosition) { this._position = value; }\n\n  /** The default delay in ms before showing the tooltip after show is called */\n  @Input('matTooltipShowDelay') showDelay = 0;\n\n  /** The default delay in ms before hiding the tooltip after hide is called */\n  @Input('matTooltipHideDelay') hideDelay = 0;\n\n  private _message = '';\n\n  /** The message to be displayed in the tooltip */\n  @Input('matTooltip')\n  get message() { return this._message; }\n  set message(value: string) {\n    this._ariaDescriber.removeDescription(this._elementRef.nativeElement, this._message);\n\n    // If the message is not a string (e.g. number), convert it to a string and trim it.\n    this._message = value != null ? `${value}`.trim() : '';\n\n    if (!this._message && this._isTooltipVisible()) {\n      this.hide(0);\n    } else {\n      this._updateTooltipMessage();\n      this._ariaDescriber.describe(this._elementRef.nativeElement, this.message);\n    }\n  }\n\n  /** Classes to be passed to the tooltip. Supports the same syntax as `ngClass`. */\n  @Input('matTooltipClass')\n  get tooltipClass() { return this._tooltipClass; }\n  set tooltipClass(value: string|string[]|Set<string>|{[key: string]: any}) {\n    this._tooltipClass = value;\n    if (this._tooltipInstance) {\n      this._setTooltipClass(this._tooltipClass);\n    }\n  }\n\n  private _manualListeners = new Map<string, Function>();\n\n  constructor(\n    private _overlay: Overlay,\n    private _elementRef: ElementRef,\n    private _scrollDispatcher: ScrollDispatcher,\n    private _viewContainerRef: ViewContainerRef,\n    private _ngZone: NgZone,\n    private _platform: Platform,\n    private _ariaDescriber: AriaDescriber,\n    private _focusMonitor: FocusMonitor,\n    @Inject(MAT_TOOLTIP_SCROLL_STRATEGY) private _scrollStrategy,\n    @Optional() private _dir: Directionality) {\n\n    const element: HTMLElement = _elementRef.nativeElement;\n\n    // The mouse events shouldn't be bound on iOS devices, because\n    // they can prevent the first tap from firing its click event.\n    if (!_platform.IOS) {\n      this._manualListeners.set('mouseenter', () => this.show());\n      this._manualListeners.set('mouseleave', () => this.hide());\n\n      this._manualListeners\n        .forEach((listener, event) => _elementRef.nativeElement.addEventListener(event, listener));\n    } else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n      // When we bind a gesture event on an element (in this case `longpress`), HammerJS\n      // will add some inline styles by default, including `user-select: none`. This is\n      // problematic on iOS, because it will prevent users from typing in inputs. If\n      // we're on iOS and the tooltip is attached on an input or textarea, we clear\n      // the `user-select` to avoid these issues.\n      element.style.webkitUserSelect = element.style.userSelect = '';\n    }\n\n    _focusMonitor.monitor(element, false).subscribe(origin => {\n      // Note that the focus monitor runs outside the Angular zone.\n      if (!origin) {\n        _ngZone.run(() => this.hide(0));\n      } else if (origin !== 'program') {\n        _ngZone.run(() => this.show());\n      }\n    });\n  }\n\n  /**\n   * Dispose the tooltip when destroyed.\n   */\n  ngOnDestroy() {\n    if (this._tooltipInstance) {\n      this._disposeTooltip();\n    }\n\n    // Clean up the event listeners set in the constructor\n    if (!this._platform.IOS) {\n      this._manualListeners.forEach((listener, event) => {\n        this._elementRef.nativeElement.removeEventListener(event, listener);\n      });\n\n      this._manualListeners.clear();\n    }\n\n    this._ariaDescriber.removeDescription(this._elementRef.nativeElement, this.message);\n    this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n  }\n\n  /** Shows the tooltip after the delay in ms, defaults to tooltip-delay-show or 0ms if no input */\n  show(delay: number = this.showDelay): void {\n    if (this.disabled || !this.message) { return; }\n\n    if (!this._tooltipInstance) {\n      this._createTooltip();\n    }\n\n    this._setTooltipClass(this._tooltipClass);\n    this._updateTooltipMessage();\n    this._tooltipInstance!.show(this._position, delay);\n  }\n\n  /** Hides the tooltip after the delay in ms, defaults to tooltip-delay-hide or 0ms if no input */\n  hide(delay: number = this.hideDelay): void {\n    if (this._tooltipInstance) {\n      this._tooltipInstance.hide(delay);\n    }\n  }\n\n  /** Shows/hides the tooltip */\n  toggle(): void {\n    this._isTooltipVisible() ? this.hide() : this.show();\n  }\n\n  /** Returns true if the tooltip is currently visible to the user */\n  _isTooltipVisible(): boolean {\n    return !!this._tooltipInstance && this._tooltipInstance.isVisible();\n  }\n\n  /** Handles the keydown events on the host element. */\n  _handleKeydown(e: KeyboardEvent) {\n    if (this._isTooltipVisible() && e.keyCode === ESCAPE) {\n      e.stopPropagation();\n      this.hide(0);\n    }\n  }\n\n  /** Create the tooltip to display */\n  private _createTooltip(): void {\n    const overlayRef = this._createOverlay();\n    const portal = new ComponentPortal(TooltipComponent, this._viewContainerRef);\n\n    this._tooltipInstance = overlayRef.attach(portal).instance;\n\n    // Dispose of the tooltip when the overlay is detached.\n    merge(this._tooltipInstance!.afterHidden(), overlayRef.detachments()).subscribe(() => {\n      // Check first if the tooltip has already been removed through this components destroy.\n      if (this._tooltipInstance) {\n        this._disposeTooltip();\n      }\n    });\n  }\n\n  /** Create the overlay config and position strategy */\n  private _createOverlay(): OverlayRef {\n    const origin = this._getOrigin();\n    const overlay = this._getOverlayPosition();\n\n    // Create connected position strategy that listens for scroll events to reposition.\n    const strategy = this._overlay\n      .position()\n      .connectedTo(this._elementRef, origin.main, overlay.main)\n      .withFallbackPosition(origin.fallback, overlay.fallback);\n\n    const scrollableAncestors = this._scrollDispatcher\n      .getAncestorScrollContainers(this._elementRef);\n\n    strategy.withScrollableContainers(scrollableAncestors);\n\n    strategy.onPositionChange.subscribe(change => {\n      if (this._tooltipInstance) {\n        if (change.scrollableViewProperties.isOverlayClipped && this._tooltipInstance.isVisible()) {\n          // After position changes occur and the overlay is clipped by\n          // a parent scrollable then close the tooltip.\n          this._ngZone.run(() => this.hide(0));\n        } else {\n          // Otherwise recalculate the origin based on the new position.\n          this._tooltipInstance._setTransformOrigin(change.connectionPair);\n        }\n      }\n    });\n\n    const config = new OverlayConfig({\n      direction: this._dir ? this._dir.value : 'ltr',\n      positionStrategy: strategy,\n      panelClass: TOOLTIP_PANEL_CLASS,\n      scrollStrategy: this._scrollStrategy()\n    });\n\n    this._overlayRef = this._overlay.create(config);\n\n    return this._overlayRef;\n  }\n\n  /** Disposes the current tooltip and the overlay it is attached to */\n  private _disposeTooltip(): void {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n\n    this._tooltipInstance = null;\n  }\n\n  /**\n   * Returns the origin position and a fallback position based on the user's position preference.\n   * The fallback position is the inverse of the origin (e.g. 'below' -> 'above').\n   */\n  _getOrigin(): {main: OriginConnectionPosition, fallback: OriginConnectionPosition} {\n    const isDirectionLtr = !this._dir || this._dir.value == 'ltr';\n    let position: OriginConnectionPosition;\n\n    if (this.position == 'above' || this.position == 'below') {\n      position = {originX: 'center', originY: this.position == 'above' ? 'top' : 'bottom'};\n    } else if (this.position == 'left' ||\n               this.position == 'before' && isDirectionLtr ||\n               this.position == 'after' && !isDirectionLtr) {\n      position = {originX: 'start', originY: 'center'};\n    } else if (this.position == 'right' ||\n               this.position == 'after' && isDirectionLtr ||\n               this.position == 'before' && !isDirectionLtr) {\n      position = {originX: 'end', originY: 'center'};\n    } else {\n      throw getMatTooltipInvalidPositionError(this.position);\n    }\n\n    const {x, y} = this._invertPosition(position.originX, position.originY);\n\n    return {\n      main: position,\n      fallback: {originX: x, originY: y}\n    };\n  }\n\n  /** Returns the overlay position and a fallback position based on the user's preference */\n  _getOverlayPosition(): {main: OverlayConnectionPosition, fallback: OverlayConnectionPosition} {\n    const isLtr = !this._dir || this._dir.value == 'ltr';\n    let position: OverlayConnectionPosition;\n\n    if (this.position == 'above') {\n      position = {overlayX: 'center', overlayY: 'bottom'};\n    } else if (this.position == 'below') {\n      position = {overlayX: 'center', overlayY: 'top'};\n    } else if (this.position == 'left' ||\n               this.position == 'before' && isLtr ||\n               this.position == 'after' && !isLtr) {\n      position = {overlayX: 'end', overlayY: 'center'};\n    } else if (this.position == 'right' ||\n               this.position == 'after' && isLtr ||\n               this.position == 'before' && !isLtr) {\n      position = {overlayX: 'start', overlayY: 'center'};\n    } else {\n      throw getMatTooltipInvalidPositionError(this.position);\n    }\n\n    const {x, y} = this._invertPosition(position.overlayX, position.overlayY);\n\n    return {\n      main: position,\n      fallback: {overlayX: x, overlayY: y}\n    };\n  }\n\n  /** Updates the tooltip message and repositions the overlay according to the new message length */\n  private _updateTooltipMessage() {\n    // Must wait for the message to be painted to the tooltip so that the overlay can properly\n    // calculate the correct positioning based on the size of the text.\n    if (this._tooltipInstance) {\n      this._tooltipInstance.message = this.message;\n      this._tooltipInstance._markForCheck();\n\n      this._ngZone.onMicrotaskEmpty.asObservable().pipe(take(1)).subscribe(() => {\n        if (this._tooltipInstance) {\n          this._overlayRef!.updatePosition();\n        }\n      });\n    }\n  }\n\n  /** Updates the tooltip class */\n  private _setTooltipClass(tooltipClass: string|string[]|Set<string>|{[key: string]: any}) {\n    if (this._tooltipInstance) {\n      this._tooltipInstance.tooltipClass = tooltipClass;\n      this._tooltipInstance._markForCheck();\n    }\n  }\n\n  /** Inverts an overlay position. */\n  private _invertPosition(x: HorizontalConnectionPos, y: VerticalConnectionPos) {\n    if (this.position === 'above' || this.position === 'below') {\n      if (y === 'top') {\n        y = 'bottom';\n      } else if (y === 'bottom') {\n        y = 'top';\n      }\n    } else {\n      if (x === 'end') {\n        x = 'start';\n      } else if (x === 'start') {\n        x = 'end';\n      }\n    }\n\n    return {x, y};\n  }\n}\n\nexport type TooltipVisibility = 'initial' | 'visible' | 'hidden';\n\n/**\n * Internal component that wraps the tooltip's content.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-tooltip-component',\n  templateUrl: 'tooltip.html',\n  styleUrls: ['tooltip.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('state', [\n      state('initial, void, hidden', style({transform: 'scale(0)'})),\n      state('visible', style({transform: 'scale(1)'})),\n      transition('* => visible', animate('150ms cubic-bezier(0.0, 0.0, 0.2, 1)')),\n      transition('* => hidden', animate('150ms cubic-bezier(0.4, 0.0, 1, 1)')),\n    ])\n  ],\n  host: {\n    // Forces the element to have a layout in IE and Edge. This fixes issues where the element\n    // won't be rendered if the animations are disabled or there is no web animations polyfill.\n    '[style.zoom]': '_visibility === \"visible\" ? 1 : null',\n    '(body:click)': 'this._handleBodyInteraction()',\n    'aria-hidden': 'true',\n  }\n})\nexport class TooltipComponent {\n  /** Message to display in the tooltip */\n  message: string;\n\n  /** Classes to be added to the tooltip. Supports the same syntax as `ngClass`. */\n  tooltipClass: string|string[]|Set<string>|{[key: string]: any};\n\n  /** The timeout ID of any current timer set to show the tooltip */\n  _showTimeoutId: number;\n\n  /** The timeout ID of any current timer set to hide the tooltip */\n  _hideTimeoutId: number;\n\n  /** Property watched by the animation framework to show or hide the tooltip */\n  _visibility: TooltipVisibility = 'initial';\n\n  /** Whether interactions on the page should close the tooltip */\n  private _closeOnInteraction: boolean = false;\n\n  /** The transform origin used in the animation for showing and hiding the tooltip */\n  _transformOrigin: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\n\n  /** Current position of the tooltip. */\n  private _position: TooltipPosition;\n\n  /** Subject for notifying that the tooltip has been hidden from the view */\n  private _onHide: Subject<any> = new Subject();\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef) {}\n\n  /**\n   * Shows the tooltip with an animation originating from the provided origin\n   * @param position Position of the tooltip.\n   * @param delay Amount of milliseconds to the delay showing the tooltip.\n   */\n  show(position: TooltipPosition, delay: number): void {\n    // Cancel the delayed hide if it is scheduled\n    if (this._hideTimeoutId) {\n      clearTimeout(this._hideTimeoutId);\n    }\n\n    // Body interactions should cancel the tooltip if there is a delay in showing.\n    this._closeOnInteraction = true;\n    this._position = position;\n    this._showTimeoutId = setTimeout(() => {\n      this._visibility = 'visible';\n\n      // Mark for check so if any parent component has set the\n      // ChangeDetectionStrategy to OnPush it will be checked anyways\n      this._markForCheck();\n    }, delay);\n  }\n\n  /**\n   * Begins the animation to hide the tooltip after the provided delay in ms.\n   * @param delay Amount of milliseconds to delay showing the tooltip.\n   */\n  hide(delay: number): void {\n    // Cancel the delayed show if it is scheduled\n    if (this._showTimeoutId) {\n      clearTimeout(this._showTimeoutId);\n    }\n\n    this._hideTimeoutId = setTimeout(() => {\n      this._visibility = 'hidden';\n\n      // Mark for check so if any parent component has set the\n      // ChangeDetectionStrategy to OnPush it will be checked anyways\n      this._markForCheck();\n    }, delay);\n  }\n\n  /** Returns an observable that notifies when the tooltip has been hidden from view. */\n  afterHidden(): Observable<void> {\n    return this._onHide.asObservable();\n  }\n\n  /** Whether the tooltip is being displayed. */\n  isVisible(): boolean {\n    return this._visibility === 'visible';\n  }\n\n  /** Sets the tooltip transform origin according to the position of the tooltip overlay. */\n  _setTransformOrigin(overlayPosition: ConnectionPositionPair) {\n    const axis = (this._position === 'above' || this._position === 'below') ? 'Y' : 'X';\n    const position = axis == 'X' ? overlayPosition.overlayX : overlayPosition.overlayY;\n\n    if (position === 'top' || position === 'bottom') {\n      this._transformOrigin = position;\n    } else if (position === 'start') {\n      this._transformOrigin = 'left';\n    } else if (position === 'end') {\n      this._transformOrigin = 'right';\n    } else {\n      throw getMatTooltipInvalidPositionError(this._position);\n    }\n  }\n\n  _animationStart() {\n    this._closeOnInteraction = false;\n  }\n\n  _animationDone(event: AnimationEvent): void {\n    const toState = event.toState as TooltipVisibility;\n\n    if (toState === 'hidden' && !this.isVisible()) {\n      this._onHide.next();\n    }\n\n    if (toState === 'visible' || toState === 'hidden') {\n      // Note: as of Angular 4.3, the animations module seems to fire the `start` callback before\n      // the end if animations are disabled. Make this call async to ensure that it still fires\n      // at the appropriate time.\n      Promise.resolve().then(() => this._closeOnInteraction = true);\n    }\n  }\n\n  /**\n   * Interactions on the HTML body should close the tooltip immediately as defined in the\n   * material design spec.\n   * https://material.google.com/components/tooltips.html#tooltips-interaction\n   */\n  _handleBodyInteraction(): void {\n    if (this._closeOnInteraction) {\n      this.hide(0);\n    }\n  }\n\n  /**\n   * Marks that the tooltip needs to be checked in the next change detection run.\n   * Mainly used for rendering the initial text before positioning a tooltip, which\n   * can be problematic in components with OnPush change detection.\n   */\n  _markForCheck(): void {\n    this._changeDetectorRef.markForCheck();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, SkipSelf, Optional } from '@angular/core';\nimport {Subject} from 'rxjs/Subject';\n\n/**\n * To modify the labels and text displayed, create a new instance of MatPaginatorIntl and\n * include it in a custom provider\n */\n@Injectable()\nexport class MatPaginatorIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  changes: Subject<void> = new Subject<void>();\n\n  /** A label for the page size selector. */\n  itemsPerPageLabel = 'Items per page:';\n\n  /** A label for the button that increments the current page. */\n  nextPageLabel = 'Next page';\n\n  /** A label for the button that decrements the current page. */\n  previousPageLabel = 'Previous page';\n\n  /** A label for the range of items within the current page and the length of the whole list. */\n  getRangeLabel = (page: number, pageSize: number, length: number) => {\n    if (length == 0 || pageSize == 0) { return `0 of ${length}`; }\n\n    length = Math.max(length, 0);\n\n    const startIndex = page * pageSize;\n\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    const endIndex = startIndex < length ?\n        Math.min(startIndex + pageSize, length) :\n        startIndex + pageSize;\n\n    return `${startIndex + 1} - ${endIndex} of ${length}`;\n  }\n}\n\n/** @docs-private */\nexport function MAT_PAGINATOR_INTL_PROVIDER_FACTORY(parentIntl: MatPaginatorIntl) {\n  return parentIntl || new MatPaginatorIntl();\n}\n\n/** @docs-private */\nexport const MAT_PAGINATOR_INTL_PROVIDER = {\n  // If there is already an MatPaginatorIntl available, use that. Otherwise, provide a new one.\n  provide: MatPaginatorIntl,\n  deps: [[new Optional(), new SkipSelf(), MatPaginatorIntl]],\n  useFactory: MAT_PAGINATOR_INTL_PROVIDER_FACTORY\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatPaginatorIntl} from './paginator-intl';\n\n/** The default page size if there is no page size and there are no provided page size options. */\nconst DEFAULT_PAGE_SIZE = 50;\n\n/**\n * Change event object that is emitted when the user selects a\n * different page size or navigates to another page.\n */\nexport class PageEvent {\n  /** The current page index. */\n  pageIndex: number;\n\n  /** The current page size */\n  pageSize: number;\n\n  /** The current total number of items being paged */\n  length: number;\n}\n\n/**\n * Component to provide navigation between paged information. Displays the size of the current\n * page, user-selectable options to change that size, what items are being shown, and\n * navigational button to go to the previous or next page.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-paginator',\n  exportAs: 'matPaginator',\n  templateUrl: 'paginator.html',\n  styleUrls: ['paginator.css'],\n  host: {\n    'class': 'mat-paginator',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatPaginator implements OnInit, OnDestroy {\n  private _initialized: boolean;\n  private _intlChanges: Subscription;\n\n  /** The zero-based page index of the displayed list of items. Defaulted to 0. */\n  @Input()\n  get pageIndex(): number { return this._pageIndex; }\n  set pageIndex(pageIndex: number) {\n    this._pageIndex = pageIndex;\n    this._changeDetectorRef.markForCheck();\n  }\n  _pageIndex: number = 0;\n\n  /** The length of the total number of items that are being paginated. Defaulted to 0. */\n  @Input()\n  get length(): number { return this._length; }\n  set length(length: number) {\n    this._length = length;\n    this._changeDetectorRef.markForCheck();\n  }\n  _length: number = 0;\n\n  /** Number of items to display on a page. By default set to 50. */\n  @Input()\n  get pageSize(): number { return this._pageSize; }\n  set pageSize(pageSize: number) {\n    this._pageSize = pageSize;\n    this._updateDisplayedPageSizeOptions();\n  }\n  private _pageSize: number;\n\n  /** The set of provided page size options to display to the user. */\n  @Input()\n  get pageSizeOptions(): number[] { return this._pageSizeOptions; }\n  set pageSizeOptions(pageSizeOptions: number[]) {\n    this._pageSizeOptions = pageSizeOptions;\n    this._updateDisplayedPageSizeOptions();\n  }\n  private _pageSizeOptions: number[] = [];\n\n  /** Event emitted when the paginator changes the page size or page index. */\n  @Output() page = new EventEmitter<PageEvent>();\n\n  /** Displayed set of page size options. Will be sorted and include current page size. */\n  _displayedPageSizeOptions: number[];\n\n  constructor(public _intl: MatPaginatorIntl,\n              private _changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => this._changeDetectorRef.markForCheck());\n  }\n\n  ngOnInit() {\n    this._initialized = true;\n    this._updateDisplayedPageSizeOptions();\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n\n  /** Advances to the next page if it exists. */\n  nextPage() {\n    if (!this.hasNextPage()) { return; }\n    this.pageIndex++;\n    this._emitPageEvent();\n  }\n\n  /** Move back to the previous page if it exists. */\n  previousPage() {\n    if (!this.hasPreviousPage()) { return; }\n    this.pageIndex--;\n    this._emitPageEvent();\n  }\n\n  /** Whether there is a previous page. */\n  hasPreviousPage() {\n    return this.pageIndex >= 1 && this.pageSize != 0;\n  }\n\n  /** Whether there is a next page. */\n  hasNextPage() {\n    const numberOfPages = Math.ceil(this.length / this.pageSize) - 1;\n    return this.pageIndex < numberOfPages && this.pageSize != 0;\n  }\n\n  /**\n   * Changes the page size so that the first item displayed on the page will still be\n   * displayed using the new page size.\n   *\n   * For example, if the page size is 10 and on the second page (items indexed 10-19) then\n   * switching so that the page size is 5 will set the third page as the current page so\n   * that the 10th item will still be displayed.\n   */\n  _changePageSize(pageSize: number) {\n    // Current page needs to be updated to reflect the new page size. Navigate to the page\n    // containing the previous page's first item.\n    const startIndex = this.pageIndex * this.pageSize;\n    this.pageIndex = Math.floor(startIndex / pageSize) || 0;\n\n    this.pageSize = pageSize;\n    this._emitPageEvent();\n  }\n\n  /**\n   * Updates the list of page size options to display to the user. Includes making sure that\n   * the page size is an option and that the list is sorted.\n   */\n  private _updateDisplayedPageSizeOptions() {\n    if (!this._initialized) { return; }\n\n    // If no page size is provided, use the first page size option or the default page size.\n    if (!this.pageSize) {\n      this._pageSize = this.pageSizeOptions.length != 0 ?\n          this.pageSizeOptions[0] :\n          DEFAULT_PAGE_SIZE;\n    }\n\n    this._displayedPageSizeOptions = this.pageSizeOptions.slice();\n    if (this._displayedPageSizeOptions.indexOf(this.pageSize) == -1) {\n      this._displayedPageSizeOptions.push(this.pageSize);\n    }\n\n    // Sort the numbers using a number-specific sort function.\n    this._displayedPageSizeOptions.sort((a, b) => a - b);\n\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** Emits an event notifying that a change of the paginator's properties has been triggered. */\n  private _emitPageEvent() {\n    this.page.next({\n      pageIndex: this.pageIndex,\n      pageSize: this.pageSize,\n      length: this.length\n    });\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Component, ChangeDetectionStrategy, Input, ViewEncapsulation} from '@angular/core';\n\n// TODO(josephperrott): Benchpress tests.\n// TODO(josephperrott): Add ARIA attributes for progressbar \"for\".\n\n\n/**\n * <mat-progress-bar> component.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-progress-bar',\n  exportAs: 'matProgressBar',\n  host: {\n    'role': 'progressbar',\n    'aria-valuemin': '0',\n    'aria-valuemax': '100',\n    '[attr.aria-valuenow]': 'value',\n    '[attr.mode]': 'mode',\n    '[class.mat-primary]': 'color == \"primary\"',\n    '[class.mat-accent]': 'color == \"accent\"',\n    '[class.mat-warn]': 'color == \"warn\"',\n    'class': 'mat-progress-bar',\n  },\n  templateUrl: 'progress-bar.html',\n  styleUrls: ['progress-bar.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatProgressBar {\n  /** Color of the progress bar. */\n  @Input() color: 'primary' | 'accent' | 'warn' = 'primary';\n\n  private _value: number = 0;\n\n  /** Value of the progressbar. Defaults to zero. Mirrored to aria-valuenow. */\n  @Input()\n  get value() { return this._value; }\n  set value(v: number) { this._value = clamp(v || 0); }\n\n  private _bufferValue: number = 0;\n\n  /** Buffer value of the progress bar. Defaults to zero. */\n  @Input()\n  get bufferValue() { return this._bufferValue; }\n  set bufferValue(v: number) { this._bufferValue = clamp(v || 0); }\n\n  /**\n   * Mode of the progress bar.\n   *\n   * Input must be one of these values: determinate, indeterminate, buffer, query, defaults to\n   * 'determinate'.\n   * Mirrored to mode attribute.\n   */\n  @Input() mode: 'determinate' | 'indeterminate' | 'buffer' | 'query' = 'determinate';\n\n  /** Gets the current transform value for the progress bar's primary indicator. */\n  _primaryTransform() {\n    let scale = this.value / 100;\n    return {transform: `scaleX(${scale})`};\n  }\n\n  /**\n   * Gets the current transform value for the progress bar's buffer indicator.  Only used if the\n   * progress mode is set to buffer, otherwise returns an undefined, causing no transformation.\n   */\n  _bufferTransform() {\n    if (this.mode == 'buffer') {\n      let scale = this.bufferValue / 100;\n      return {transform: `scaleX(${scale})`};\n    }\n  }\n}\n\n/** Clamps a value to be between two numbers, by default 0 and 100. */\nfunction clamp(v: number, min = 0, max = 100) {\n  return Math.max(min, Math.min(max, v));\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @docs-private */\nexport function createMissingDateImplError(provider: string) {\n  return Error(\n      `MatDatepicker: No provider found for ${provider}. You must import one of the following ` +\n      `modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a ` +\n      `custom implementation.`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs/Subject';\n\n\n/** Datepicker data that requires internationalization. */\n@Injectable()\nexport class MatDatepickerIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  changes: Subject<void> = new Subject<void>();\n\n  /** A label for the calendar popup (used by screen readers). */\n  calendarLabel = 'Calendar';\n\n  /** A label for the button used to open the calendar popup (used by screen readers). */\n  openCalendarLabel = 'Open calendar';\n\n  /** A label for the previous month button (used by screen readers). */\n  prevMonthLabel = 'Previous month';\n\n  /** A label for the next month button (used by screen readers). */\n  nextMonthLabel = 'Next month';\n\n  /** A label for the previous year button (used by screen readers). */\n  prevYearLabel = 'Previous year';\n\n  /** A label for the next year button (used by screen readers). */\n  nextYearLabel = 'Next year';\n\n  /** A label for the 'switch to month view' button (used by screen readers). */\n  switchToMonthViewLabel = 'Change to month view';\n\n  /** A label for the 'switch to year view' button (used by screen readers). */\n  switchToYearViewLabel = 'Change to year view';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\n\n\n/**\n * An internal class that represents the data corresponding to a single calendar cell.\n * @docs-private\n */\nexport class MatCalendarCell {\n  constructor(public value: number,\n              public displayValue: string,\n              public ariaLabel: string,\n              public enabled: boolean) {}\n}\n\n\n/**\n * An internal component used to display calendar data in a table.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: '[mat-calendar-body]',\n  templateUrl: 'calendar-body.html',\n  styleUrls: ['calendar-body.css'],\n  host: {\n    'class': 'mat-calendar-body',\n  },\n  exportAs: 'matCalendarBody',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatCalendarBody {\n  /** The label for the table. (e.g. \"Jan 2017\"). */\n  @Input() label: string;\n\n  /** The cells to display in the table. */\n  @Input() rows: MatCalendarCell[][];\n\n  /** The value in the table that corresponds to today. */\n  @Input() todayValue: number;\n\n  /** The value in the table that is currently selected. */\n  @Input() selectedValue: number;\n\n  /** The minimum number of free cells needed to fit the label in the first row. */\n  @Input() labelMinRequiredCells: number;\n\n  /** The number of columns in the table. */\n  @Input() numCols = 7;\n\n  /** Whether to allow selection of disabled cells. */\n  @Input() allowDisabledSelection = false;\n\n  /** The cell number of the active cell in the table. */\n  @Input() activeCell = 0;\n\n  /**\n   * The aspect ratio (width / height) to use for the cells in the table. This aspect ratio will be\n   * maintained even as the table resizes.\n   */\n  @Input() cellAspectRatio = 1;\n\n  /** Emits when a new value is selected. */\n  @Output() selectedValueChange = new EventEmitter<number>();\n\n  _cellClicked(cell: MatCalendarCell): void {\n    if (!this.allowDisabledSelection && !cell.enabled) {\n      return;\n    }\n    this.selectedValueChange.emit(cell.value);\n  }\n\n  /** The number of blank cells to put at the beginning for the first row. */\n  get _firstRowOffset(): number {\n    return this.rows && this.rows.length && this.rows[0].length ?\n        this.numCols - this.rows[0].length : 0;\n  }\n\n  _isActiveCell(rowIndex: number, colIndex: number): boolean {\n    let cellNumber = rowIndex * this.numCols + colIndex;\n\n    // Account for the fact that the first row may not have as many cells.\n    if (rowIndex) {\n      cellNumber -= this._firstRowOffset;\n    }\n\n    return cellNumber == this.activeCell;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  Optional,\n  Output,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {DateAdapter, MAT_DATE_FORMATS, MatDateFormats} from '@angular/material/core';\nimport {MatCalendarCell} from './calendar-body';\nimport {createMissingDateImplError} from './datepicker-errors';\n\n\nconst DAYS_PER_WEEK = 7;\n\n\n/**\n * An internal component used to display a single month in the datepicker.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-month-view',\n  templateUrl: 'month-view.html',\n  exportAs: 'matMonthView',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatMonthView<D> implements AfterContentInit {\n  /**\n   * The date to display in this month view (everything other than the month and year is ignored).\n   */\n  @Input()\n  get activeDate(): D { return this._activeDate; }\n  set activeDate(value: D) {\n    let oldActiveDate = this._activeDate;\n    this._activeDate =\n        this._getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n    if (!this._hasSameMonthAndYear(oldActiveDate, this._activeDate)) {\n      this._init();\n    }\n  }\n  private _activeDate: D;\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): D | null { return this._selected; }\n  set selected(value: D | null) {\n    this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    this._selectedDate = this._getDateInCurrentMonth(this._selected);\n  }\n  private _selected: D | null;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: D) => boolean;\n\n  /** Emits when a new date is selected. */\n  @Output() selectedChange = new EventEmitter<D | null>();\n\n  /** Emits when any date is selected. */\n  @Output() _userSelection = new EventEmitter<void>();\n\n  /** The label for this month (e.g. \"January 2017\"). */\n  _monthLabel: string;\n\n  /** Grid of calendar cells representing the dates of the month. */\n  _weeks: MatCalendarCell[][];\n\n  /** The number of blank cells in the first row before the 1st of the month. */\n  _firstWeekOffset: number;\n\n  /**\n   * The date of the month that the currently selected Date falls on.\n   * Null if the currently selected Date is in another month.\n   */\n  _selectedDate: number | null;\n\n  /** The date of the month that today falls on. Null if today is in another month. */\n  _todayDate: number | null;\n\n  /** The names of the weekdays. */\n  _weekdays: {long: string, narrow: string}[];\n\n  constructor(@Optional() public _dateAdapter: DateAdapter<D>,\n              @Optional() @Inject(MAT_DATE_FORMATS) private _dateFormats: MatDateFormats,\n              private _changeDetectorRef: ChangeDetectorRef) {\n    if (!this._dateAdapter) {\n      throw createMissingDateImplError('DateAdapter');\n    }\n    if (!this._dateFormats) {\n      throw createMissingDateImplError('MAT_DATE_FORMATS');\n    }\n\n    const firstDayOfWeek = this._dateAdapter.getFirstDayOfWeek();\n    const narrowWeekdays = this._dateAdapter.getDayOfWeekNames('narrow');\n    const longWeekdays = this._dateAdapter.getDayOfWeekNames('long');\n\n    // Rotate the labels for days of the week based on the configured first day of the week.\n    let weekdays = longWeekdays.map((long, i) => {\n      return {long, narrow: narrowWeekdays[i]};\n    });\n    this._weekdays = weekdays.slice(firstDayOfWeek).concat(weekdays.slice(0, firstDayOfWeek));\n\n    this._activeDate = this._dateAdapter.today();\n  }\n\n  ngAfterContentInit(): void {\n    this._init();\n  }\n\n  /** Handles when a new date is selected. */\n  _dateSelected(date: number) {\n    if (this._selectedDate != date) {\n      const selectedYear = this._dateAdapter.getYear(this.activeDate);\n      const selectedMonth = this._dateAdapter.getMonth(this.activeDate);\n      const selectedDate = this._dateAdapter.createDate(selectedYear, selectedMonth, date);\n\n      this.selectedChange.emit(selectedDate);\n    }\n\n    this._userSelection.emit();\n  }\n\n  /** Initializes this month view. */\n  _init() {\n    this._selectedDate = this._getDateInCurrentMonth(this.selected);\n    this._todayDate = this._getDateInCurrentMonth(this._dateAdapter.today());\n    this._monthLabel =\n        this._dateAdapter.getMonthNames('short')[this._dateAdapter.getMonth(this.activeDate)]\n            .toLocaleUpperCase();\n\n    let firstOfMonth = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),\n        this._dateAdapter.getMonth(this.activeDate), 1);\n    this._firstWeekOffset =\n        (DAYS_PER_WEEK + this._dateAdapter.getDayOfWeek(firstOfMonth) -\n         this._dateAdapter.getFirstDayOfWeek()) % DAYS_PER_WEEK;\n\n    this._createWeekCells();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** Creates MatCalendarCells for the dates in this month. */\n  private _createWeekCells() {\n    let daysInMonth = this._dateAdapter.getNumDaysInMonth(this.activeDate);\n    let dateNames = this._dateAdapter.getDateNames();\n    this._weeks = [[]];\n    for (let i = 0, cell = this._firstWeekOffset; i < daysInMonth; i++, cell++) {\n      if (cell == DAYS_PER_WEEK) {\n        this._weeks.push([]);\n        cell = 0;\n      }\n      let date = this._dateAdapter.createDate(\n          this._dateAdapter.getYear(this.activeDate),\n          this._dateAdapter.getMonth(this.activeDate), i + 1);\n      let enabled = !this.dateFilter ||\n          this.dateFilter(date);\n      let ariaLabel = this._dateAdapter.format(date, this._dateFormats.display.dateA11yLabel);\n      this._weeks[this._weeks.length - 1]\n          .push(new MatCalendarCell(i + 1, dateNames[i], ariaLabel, enabled));\n    }\n  }\n\n  /**\n   * Gets the date in this month that the given Date falls on.\n   * Returns null if the given Date is in another month.\n   */\n  private _getDateInCurrentMonth(date: D | null): number | null {\n    return date && this._hasSameMonthAndYear(date, this.activeDate) ?\n        this._dateAdapter.getDate(date) : null;\n  }\n\n  /** Checks whether the 2 dates are non-null and fall within the same month of the same year. */\n  private _hasSameMonthAndYear(d1: D | null, d2: D | null): boolean {\n    return !!(d1 && d2 && this._dateAdapter.getMonth(d1) == this._dateAdapter.getMonth(d2) &&\n              this._dateAdapter.getYear(d1) == this._dateAdapter.getYear(d2));\n  }\n\n  /**\n   * @param obj The object to check.\n   * @returns The given object if it is both a date instance and valid, otherwise null.\n   */\n  private _getValidDateOrNull(obj: any): D | null {\n    return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  Optional,\n  Output,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {DateAdapter, MAT_DATE_FORMATS, MatDateFormats} from '@angular/material/core';\nimport {MatCalendarCell} from './calendar-body';\nimport {createMissingDateImplError} from './datepicker-errors';\n\n\n/**\n * An internal component used to display a single year in the datepicker.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-year-view',\n  templateUrl: 'year-view.html',\n  exportAs: 'matYearView',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatYearView<D> implements AfterContentInit {\n  /** The date to display in this year view (everything other than the year is ignored). */\n  @Input()\n  get activeDate(): D { return this._activeDate; }\n  set activeDate(value: D) {\n    let oldActiveDate = this._activeDate;\n    this._activeDate =\n        this._getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n    if (this._dateAdapter.getYear(oldActiveDate) != this._dateAdapter.getYear(this._activeDate)) {\n      this._init();\n    }\n  }\n  private _activeDate: D;\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): D | null { return this._selected; }\n  set selected(value: D | null) {\n    this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    this._selectedMonth = this._getMonthInCurrentYear(this._selected);\n  }\n  private _selected: D | null;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: D) => boolean;\n\n  /** Emits when a new month is selected. */\n  @Output() selectedChange = new EventEmitter<D>();\n\n  /** Grid of calendar cells representing the months of the year. */\n  _months: MatCalendarCell[][];\n\n  /** The label for this year (e.g. \"2017\"). */\n  _yearLabel: string;\n\n  /** The month in this year that today falls on. Null if today is in a different year. */\n  _todayMonth: number | null;\n\n  /**\n   * The month in this year that the selected Date falls on.\n   * Null if the selected Date is in a different year.\n   */\n  _selectedMonth: number | null;\n\n  constructor(@Optional() public _dateAdapter: DateAdapter<D>,\n              @Optional() @Inject(MAT_DATE_FORMATS) private _dateFormats: MatDateFormats,\n              private _changeDetectorRef: ChangeDetectorRef) {\n    if (!this._dateAdapter) {\n      throw createMissingDateImplError('DateAdapter');\n    }\n    if (!this._dateFormats) {\n      throw createMissingDateImplError('MAT_DATE_FORMATS');\n    }\n\n    this._activeDate = this._dateAdapter.today();\n  }\n\n  ngAfterContentInit() {\n    this._init();\n  }\n\n  /** Handles when a new month is selected. */\n  _monthSelected(month: number) {\n    let daysInMonth = this._dateAdapter.getNumDaysInMonth(\n        this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1));\n    this.selectedChange.emit(this._dateAdapter.createDate(\n        this._dateAdapter.getYear(this.activeDate), month,\n        Math.min(this._dateAdapter.getDate(this.activeDate), daysInMonth)));\n  }\n\n  /** Initializes this month view. */\n  _init() {\n    this._selectedMonth = this._getMonthInCurrentYear(this.selected);\n    this._todayMonth = this._getMonthInCurrentYear(this._dateAdapter.today());\n    this._yearLabel = this._dateAdapter.getYearName(this.activeDate);\n\n    let monthNames = this._dateAdapter.getMonthNames('short');\n    // First row of months only contains 5 elements so we can fit the year label on the same row.\n    this._months = [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]].map(row => row.map(\n        month => this._createCellForMonth(month, monthNames[month])));\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Gets the month in this year that the given Date falls on.\n   * Returns null if the given Date is in another year.\n   */\n  private _getMonthInCurrentYear(date: D | null) {\n    return date && this._dateAdapter.getYear(date) == this._dateAdapter.getYear(this.activeDate) ?\n        this._dateAdapter.getMonth(date) : null;\n  }\n\n  /** Creates an MatCalendarCell for the given month. */\n  private _createCellForMonth(month: number, monthName: string) {\n    let ariaLabel = this._dateAdapter.format(\n        this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1),\n        this._dateFormats.display.monthYearA11yLabel);\n    return new MatCalendarCell(\n        month, monthName.toLocaleUpperCase(), ariaLabel, this._isMonthEnabled(month));\n  }\n\n  /** Whether the given month is enabled. */\n  private _isMonthEnabled(month: number) {\n    if (!this.dateFilter) {\n      return true;\n    }\n\n    let firstOfMonth = this._dateAdapter.createDate(\n        this._dateAdapter.getYear(this.activeDate), month, 1);\n\n    // If any date in the month is enabled count the month as enabled.\n    for (let date = firstOfMonth; this._dateAdapter.getMonth(date) == month;\n         date = this._dateAdapter.addCalendarDays(date, 1)) {\n      if (this.dateFilter(date)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * @param obj The object to check.\n   * @returns The given object if it is both a date instance and valid, otherwise null.\n   */\n  private _getValidDateOrNull(obj: any): D | null {\n    return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  DOWN_ARROW,\n  END,\n  ENTER,\n  HOME,\n  LEFT_ARROW,\n  PAGE_DOWN,\n  PAGE_UP,\n  RIGHT_ARROW,\n  UP_ARROW,\n} from '@angular/cdk/keycodes';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewEncapsulation,\n  ViewChild,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport {DateAdapter, MAT_DATE_FORMATS, MatDateFormats} from '@angular/material/core';\nimport {take} from 'rxjs/operators/take';\nimport {Subscription} from 'rxjs/Subscription';\nimport {createMissingDateImplError} from './datepicker-errors';\nimport {MatDatepickerIntl} from './datepicker-intl';\nimport {MatMonthView} from './month-view';\nimport {MatYearView} from './year-view';\n\n\n/**\n * A calendar that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-calendar',\n  templateUrl: 'calendar.html',\n  styleUrls: ['calendar.css'],\n  host: {\n    'class': 'mat-calendar',\n  },\n  exportAs: 'matCalendar',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatCalendar<D> implements AfterContentInit, OnDestroy, OnChanges {\n  private _intlChanges: Subscription;\n\n  /** A date representing the period (month or year) to start the calendar in. */\n  @Input()\n  get startAt(): D | null { return this._startAt; }\n  set startAt(value: D | null) {\n    this._startAt = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n  }\n  private _startAt: D | null;\n\n  /** Whether the calendar should be started in month or year view. */\n  @Input() startView: 'month' | 'year' = 'month';\n\n  /** The currently selected date. */\n  @Input()\n  get selected(): D | null { return this._selected; }\n  set selected(value: D | null) {\n    this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n  }\n  private _selected: D | null;\n\n  /** The minimum selectable date. */\n  @Input()\n  get minDate(): D | null { return this._minDate; }\n  set minDate(value: D | null) {\n    this._minDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n  }\n  private _minDate: D | null;\n\n  /** The maximum selectable date. */\n  @Input()\n  get maxDate(): D | null { return this._maxDate; }\n  set maxDate(value: D | null) {\n    this._maxDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n  }\n  private _maxDate: D | null;\n\n  /** A function used to filter which dates are selectable. */\n  @Input() dateFilter: (date: D) => boolean;\n\n  /** Emits when the currently selected date changes. */\n  @Output() selectedChange = new EventEmitter<D>();\n\n  /** Emits when any date is selected. */\n  @Output() _userSelection = new EventEmitter<void>();\n\n  /** Reference to the current month view component. */\n  @ViewChild(MatMonthView) monthView: MatMonthView<D>;\n\n  /** Reference to the current year view component. */\n  @ViewChild(MatYearView) yearView: MatYearView<D>;\n\n  /** Date filter for the month and year views. */\n  _dateFilterForViews = (date: D) => {\n    return !!date &&\n        (!this.dateFilter || this.dateFilter(date)) &&\n        (!this.minDate || this._dateAdapter.compareDate(date, this.minDate) >= 0) &&\n        (!this.maxDate || this._dateAdapter.compareDate(date, this.maxDate) <= 0);\n  }\n\n  /**\n   * The current active date. This determines which time period is shown and which date is\n   * highlighted when using keyboard navigation.\n   */\n  get _activeDate(): D { return this._clampedActiveDate; }\n  set _activeDate(value: D) {\n    this._clampedActiveDate = this._dateAdapter.clampDate(value, this.minDate, this.maxDate);\n  }\n  private _clampedActiveDate: D;\n\n  /** Whether the calendar is in month view. */\n  _monthView: boolean;\n\n  /** The label for the current calendar view. */\n  get _periodButtonText(): string {\n    return this._monthView ?\n        this._dateAdapter.format(this._activeDate, this._dateFormats.display.monthYearLabel)\n            .toLocaleUpperCase() :\n        this._dateAdapter.getYearName(this._activeDate);\n  }\n\n  get _periodButtonLabel(): string {\n    return this._monthView ? this._intl.switchToYearViewLabel : this._intl.switchToMonthViewLabel;\n  }\n\n  /** The label for the the previous button. */\n  get _prevButtonLabel(): string {\n    return this._monthView ? this._intl.prevMonthLabel : this._intl.prevYearLabel;\n  }\n\n  /** The label for the the next button. */\n  get _nextButtonLabel(): string {\n    return this._monthView ? this._intl.nextMonthLabel : this._intl.nextYearLabel;\n  }\n\n  constructor(private _elementRef: ElementRef,\n              private _intl: MatDatepickerIntl,\n              private _ngZone: NgZone,\n              @Optional() private _dateAdapter: DateAdapter<D>,\n              @Optional() @Inject(MAT_DATE_FORMATS) private _dateFormats: MatDateFormats,\n              changeDetectorRef: ChangeDetectorRef) {\n\n    if (!this._dateAdapter) {\n      throw createMissingDateImplError('DateAdapter');\n    }\n\n    if (!this._dateFormats) {\n      throw createMissingDateImplError('MAT_DATE_FORMATS');\n    }\n\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngAfterContentInit() {\n    this._activeDate = this.startAt || this._dateAdapter.today();\n    this._focusActiveCell();\n    this._monthView = this.startView != 'year';\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    const change = changes.minDate || changes.maxDate || changes.dateFilter;\n\n    if (change && !change.firstChange) {\n      const view = this.monthView || this.yearView;\n\n      if (view) {\n        view._init();\n      }\n    }\n  }\n\n  /** Handles date selection in the month view. */\n  _dateSelected(date: D): void {\n    if (!this._dateAdapter.sameDate(date, this.selected)) {\n      this.selectedChange.emit(date);\n    }\n  }\n\n  _userSelected(): void {\n    this._userSelection.emit();\n  }\n\n  /** Handles month selection in the year view. */\n  _monthSelected(month: D): void {\n    this._activeDate = month;\n    this._monthView = true;\n  }\n\n  /** Handles user clicks on the period label. */\n  _currentPeriodClicked(): void {\n    this._monthView = !this._monthView;\n  }\n\n  /** Handles user clicks on the previous button. */\n  _previousClicked(): void {\n    this._activeDate = this._monthView ?\n        this._dateAdapter.addCalendarMonths(this._activeDate, -1) :\n        this._dateAdapter.addCalendarYears(this._activeDate, -1);\n  }\n\n  /** Handles user clicks on the next button. */\n  _nextClicked(): void {\n    this._activeDate = this._monthView ?\n        this._dateAdapter.addCalendarMonths(this._activeDate, 1) :\n        this._dateAdapter.addCalendarYears(this._activeDate, 1);\n  }\n\n  /** Whether the previous period button is enabled. */\n  _previousEnabled(): boolean {\n    if (!this.minDate) {\n      return true;\n    }\n    return !this.minDate || !this._isSameView(this._activeDate, this.minDate);\n  }\n\n  /** Whether the next period button is enabled. */\n  _nextEnabled(): boolean {\n    return !this.maxDate || !this._isSameView(this._activeDate, this.maxDate);\n  }\n\n  /** Handles keydown events on the calendar body. */\n  _handleCalendarBodyKeydown(event: KeyboardEvent): void {\n    // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n    // disabled ones from being selected. This may not be ideal, we should look into whether\n    // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n    if (this._monthView) {\n      this._handleCalendarBodyKeydownInMonthView(event);\n    } else {\n      this._handleCalendarBodyKeydownInYearView(event);\n    }\n  }\n\n  /** Focuses the active cell after the microtask queue is empty. */\n  _focusActiveCell() {\n    this._ngZone.runOutsideAngular(() => {\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._elementRef.nativeElement.querySelector('.mat-calendar-body-active').focus();\n      });\n    });\n  }\n\n  /** Whether the two dates represent the same view in the current view mode (month or year). */\n  private _isSameView(date1: D, date2: D): boolean {\n    return this._monthView ?\n        this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2) &&\n        this._dateAdapter.getMonth(date1) == this._dateAdapter.getMonth(date2) :\n        this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2);\n  }\n\n  /** Handles keydown events on the calendar body when calendar is in month view. */\n  private _handleCalendarBodyKeydownInMonthView(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate, -1);\n        break;\n      case RIGHT_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 1);\n        break;\n      case UP_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate, -7);\n        break;\n      case DOWN_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 7);\n        break;\n      case HOME:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate,\n            1 - this._dateAdapter.getDate(this._activeDate));\n        break;\n      case END:\n        this._activeDate = this._dateAdapter.addCalendarDays(this._activeDate,\n            (this._dateAdapter.getNumDaysInMonth(this._activeDate) -\n             this._dateAdapter.getDate(this._activeDate)));\n        break;\n      case PAGE_UP:\n        this._activeDate = event.altKey ?\n            this._dateAdapter.addCalendarYears(this._activeDate, -1) :\n            this._dateAdapter.addCalendarMonths(this._activeDate, -1);\n        break;\n      case PAGE_DOWN:\n        this._activeDate = event.altKey ?\n            this._dateAdapter.addCalendarYears(this._activeDate, 1) :\n            this._dateAdapter.addCalendarMonths(this._activeDate, 1);\n        break;\n      case ENTER:\n        if (this._dateFilterForViews(this._activeDate)) {\n          this._dateSelected(this._activeDate);\n          this._userSelected();\n          // Prevent unexpected default actions such as form submission.\n          event.preventDefault();\n        }\n        return;\n      default:\n        // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n        return;\n    }\n\n    this._focusActiveCell();\n    // Prevent unexpected default actions such as form submission.\n    event.preventDefault();\n  }\n\n  /** Handles keydown events on the calendar body when calendar is in year view. */\n  private _handleCalendarBodyKeydownInYearView(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, -1);\n        break;\n      case RIGHT_ARROW:\n        this._activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, 1);\n        break;\n      case UP_ARROW:\n        this._activeDate = this._prevMonthInSameCol(this._activeDate);\n        break;\n      case DOWN_ARROW:\n        this._activeDate = this._nextMonthInSameCol(this._activeDate);\n        break;\n      case HOME:\n        this._activeDate = this._dateAdapter.addCalendarMonths(this._activeDate,\n            -this._dateAdapter.getMonth(this._activeDate));\n        break;\n      case END:\n        this._activeDate = this._dateAdapter.addCalendarMonths(this._activeDate,\n            11 - this._dateAdapter.getMonth(this._activeDate));\n        break;\n      case PAGE_UP:\n        this._activeDate =\n            this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -10 : -1);\n        break;\n      case PAGE_DOWN:\n        this._activeDate =\n            this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? 10 : 1);\n        break;\n      case ENTER:\n        this._monthSelected(this._activeDate);\n        break;\n      default:\n        // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n        return;\n    }\n\n    this._focusActiveCell();\n    // Prevent unexpected default actions such as form submission.\n    event.preventDefault();\n  }\n\n  /**\n   * Determine the date for the month that comes before the given month in the same column in the\n   * calendar table.\n   */\n  private _prevMonthInSameCol(date: D): D {\n    // Decrement by 4 since there are 4 months per row.\n    return this._dateAdapter.addCalendarMonths(date, -4);\n  }\n\n  /**\n   * Determine the date for the month that comes after the given month in the same column in the\n   * calendar table.\n   */\n  private _nextMonthInSameCol(date: D): D {\n    // Increment by 4 since there are 4 months per row.\n    return this._dateAdapter.addCalendarMonths(date, 4);\n  }\n\n  /**\n   * @param obj The object to check.\n   * @returns The given object if it is both a date instance and valid, otherwise null.\n   */\n  private _getValidDateOrNull(obj: any): D | null {\n    return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {\n  Overlay,\n  OverlayConfig,\n  OverlayRef,\n  PositionStrategy,\n  RepositionScrollStrategy,\n  ScrollStrategy,\n} from '@angular/cdk/overlay';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {take} from 'rxjs/operators/take';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {DateAdapter} from '@angular/material/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {DOCUMENT} from '@angular/common';\nimport {Subject} from 'rxjs/Subject';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatCalendar} from './calendar';\nimport {createMissingDateImplError} from './datepicker-errors';\nimport {MatDatepickerInput} from './datepicker-input';\n\n\n/** Used to generate a unique ID for each datepicker instance. */\nlet datepickerUid = 0;\n\n/** Injection token that determines the scroll handling while the calendar is open. */\nexport const MAT_DATEPICKER_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-datepicker-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_DATEPICKER_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MAT_DATEPICKER_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_DATEPICKER_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_DATEPICKER_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n\n\n/**\n * Component used as the content for the datepicker dialog and popup. We use this instead of using\n * MatCalendar directly as the content so we can control the initial focus. This also gives us a\n * place to put additional features of the popup that are not part of the calendar itself in the\n * future. (e.g. confirmation buttons).\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-datepicker-content',\n  templateUrl: 'datepicker-content.html',\n  styleUrls: ['datepicker-content.css'],\n  host: {\n    'class': 'mat-datepicker-content',\n    '[class.mat-datepicker-content-touch]': 'datepicker.touchUi',\n    '(keydown)': '_handleKeydown($event)',\n  },\n  exportAs: 'matDatepickerContent',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatDatepickerContent<D> implements AfterContentInit {\n  datepicker: MatDatepicker<D>;\n\n  @ViewChild(MatCalendar) _calendar: MatCalendar<D>;\n\n  ngAfterContentInit() {\n    this._calendar._focusActiveCell();\n  }\n\n  /**\n   * Handles keydown event on datepicker content.\n   * @param event The event.\n   */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ESCAPE) {\n      this.datepicker.close();\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n}\n\n\n// TODO(mmalerba): We use a component instead of a directive here so the user can use implicit\n// template reference variables (e.g. #d vs #d=\"matDatepicker\"). We can change this to a directive\n// if angular adds support for `exportAs: '$implicit'` on directives.\n/** Component responsible for managing the datepicker popup/dialog. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-datepicker',\n  template: '',\n  exportAs: 'matDatepicker',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n})\nexport class MatDatepicker<D> implements OnDestroy {\n  /** The date to open the calendar to initially. */\n  @Input()\n  get startAt(): D | null {\n    // If an explicit startAt is set we start there, otherwise we start at whatever the currently\n    // selected value is.\n    return this._startAt || (this._datepickerInput ? this._datepickerInput.value : null);\n  }\n  set startAt(date: D | null) {\n    this._startAt = this._getValidDateOrNull(this._dateAdapter.deserialize(date));\n  }\n  private _startAt: D | null;\n\n  /** The view that the calendar should start in. */\n  @Input() startView: 'month' | 'year' = 'month';\n\n  /**\n   * Whether the calendar UI is in touch mode. In touch mode the calendar opens in a dialog rather\n   * than a popup and elements have more padding to allow for bigger touch targets.\n   */\n  @Input()\n  get touchUi(): boolean {\n    return this._touchUi;\n  }\n  set touchUi(value: boolean) {\n    this._touchUi = coerceBooleanProperty(value);\n  }\n  private _touchUi = false;\n\n  /** Whether the datepicker pop-up should be disabled. */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled === undefined && this._datepickerInput ?\n        this._datepickerInput.disabled : !!this._disabled;\n  }\n  set disabled(value: boolean) {\n    const newValue = coerceBooleanProperty(value);\n\n    if (newValue !== this._disabled) {\n      this._disabled = newValue;\n      this._disabledChange.next(newValue);\n    }\n  }\n  private _disabled: boolean;\n\n  /**\n   * Emits new selected date when selected date changes.\n   * @deprecated Switch to the `dateChange` and `dateInput` binding on the input element.\n   */\n  @Output() selectedChanged = new EventEmitter<D>();\n\n  /** Classes to be passed to the date picker panel. Supports the same syntax as `ngClass`. */\n  @Input() panelClass: string | string[];\n\n  /** Emits when the datepicker has been opened. */\n  @Output('opened') openedStream: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Emits when the datepicker has been closed. */\n  @Output('closed') closedStream: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Whether the calendar is open. */\n  @Input()\n  get opened(): boolean { return this._opened; }\n  set opened(shouldOpen: boolean) { shouldOpen ? this.open() : this.close(); }\n  private _opened = false;\n\n  /** The id for the datepicker calendar. */\n  id = `mat-datepicker-${datepickerUid++}`;\n\n  /** The currently selected date. */\n  get _selected(): D | null { return this._validSelected; }\n  set _selected(value: D | null) { this._validSelected = value; }\n  private _validSelected: D | null = null;\n\n  /** The minimum selectable date. */\n  get _minDate(): D | null {\n    return this._datepickerInput && this._datepickerInput.min;\n  }\n\n  /** The maximum selectable date. */\n  get _maxDate(): D | null {\n    return this._datepickerInput && this._datepickerInput.max;\n  }\n\n  get _dateFilter(): (date: D | null) => boolean {\n    return this._datepickerInput && this._datepickerInput._dateFilter;\n  }\n\n  /** A reference to the overlay when the calendar is opened as a popup. */\n  private _popupRef: OverlayRef;\n\n  /** A reference to the dialog when the calendar is opened as a dialog. */\n  private _dialogRef: MatDialogRef<any> | null;\n\n  /** A portal containing the calendar for this datepicker. */\n  private _calendarPortal: ComponentPortal<MatDatepickerContent<D>>;\n\n  /** The element that was focused before the datepicker was opened. */\n  private _focusedElementBeforeOpen: HTMLElement | null = null;\n\n  private _inputSubscription = Subscription.EMPTY;\n\n  /** The input element this datepicker is associated with. */\n  _datepickerInput: MatDatepickerInput<D>;\n\n  /** Emits when the datepicker is disabled. */\n  _disabledChange = new Subject<boolean>();\n\n  constructor(private _dialog: MatDialog,\n              private _overlay: Overlay,\n              private _ngZone: NgZone,\n              private _viewContainerRef: ViewContainerRef,\n              @Inject(MAT_DATEPICKER_SCROLL_STRATEGY) private _scrollStrategy,\n              @Optional() private _dateAdapter: DateAdapter<D>,\n              @Optional() private _dir: Directionality,\n              @Optional() @Inject(DOCUMENT) private _document: any) {\n    if (!this._dateAdapter) {\n      throw createMissingDateImplError('DateAdapter');\n    }\n  }\n\n  ngOnDestroy() {\n    this.close();\n    this._inputSubscription.unsubscribe();\n    this._disabledChange.complete();\n\n    if (this._popupRef) {\n      this._popupRef.dispose();\n    }\n  }\n\n  /** Selects the given date */\n  _select(date: D): void {\n    let oldValue = this._selected;\n    this._selected = date;\n    if (!this._dateAdapter.sameDate(oldValue, this._selected)) {\n      this.selectedChanged.emit(date);\n    }\n  }\n\n  /**\n   * Register an input with this datepicker.\n   * @param input The datepicker input to register with this datepicker.\n   */\n  _registerInput(input: MatDatepickerInput<D>): void {\n    if (this._datepickerInput) {\n      throw Error('A MatDatepicker can only be associated with a single input.');\n    }\n    this._datepickerInput = input;\n    this._inputSubscription =\n        this._datepickerInput._valueChange.subscribe((value: D | null) => this._selected = value);\n  }\n\n  /** Open the calendar. */\n  open(): void {\n    if (this._opened || this.disabled) {\n      return;\n    }\n    if (!this._datepickerInput) {\n      throw Error('Attempted to open an MatDatepicker with no associated input.');\n    }\n    if (this._document) {\n      this._focusedElementBeforeOpen = this._document.activeElement;\n    }\n\n    this.touchUi ? this._openAsDialog() : this._openAsPopup();\n    this._opened = true;\n    this.openedStream.emit();\n  }\n\n  /** Close the calendar. */\n  close(): void {\n    if (!this._opened) {\n      return;\n    }\n    if (this._popupRef && this._popupRef.hasAttached()) {\n      this._popupRef.detach();\n    }\n    if (this._dialogRef) {\n      this._dialogRef.close();\n      this._dialogRef = null;\n    }\n    if (this._calendarPortal && this._calendarPortal.isAttached) {\n      this._calendarPortal.detach();\n    }\n    if (this._focusedElementBeforeOpen &&\n      typeof this._focusedElementBeforeOpen.focus === 'function') {\n\n      this._focusedElementBeforeOpen.focus();\n      this._focusedElementBeforeOpen = null;\n    }\n\n    this._opened = false;\n    this.closedStream.emit();\n  }\n\n  /** Open the calendar as a dialog. */\n  private _openAsDialog(): void {\n    this._dialogRef = this._dialog.open(MatDatepickerContent, {\n      direction: this._dir ? this._dir.value : 'ltr',\n      viewContainerRef: this._viewContainerRef,\n      panelClass: 'mat-datepicker-dialog',\n    });\n    this._dialogRef.afterClosed().subscribe(() => this.close());\n    this._dialogRef.componentInstance.datepicker = this;\n  }\n\n  /** Open the calendar as a popup. */\n  private _openAsPopup(): void {\n    if (!this._calendarPortal) {\n      this._calendarPortal = new ComponentPortal(MatDatepickerContent, this._viewContainerRef);\n    }\n\n    if (!this._popupRef) {\n      this._createPopup();\n    }\n\n    if (!this._popupRef.hasAttached()) {\n      let componentRef: ComponentRef<MatDatepickerContent<D>> =\n          this._popupRef.attach(this._calendarPortal);\n      componentRef.instance.datepicker = this;\n\n      // Update the position once the calendar has rendered.\n      this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n        this._popupRef.updatePosition();\n      });\n    }\n  }\n\n  /** Create the popup. */\n  private _createPopup(): void {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._createPopupPositionStrategy(),\n      hasBackdrop: true,\n      backdropClass: 'mat-overlay-transparent-backdrop',\n      direction: this._dir ? this._dir.value : 'ltr',\n      scrollStrategy: this._scrollStrategy(),\n      panelClass: 'mat-datepicker-popup',\n    });\n\n    this._popupRef = this._overlay.create(overlayConfig);\n    this._popupRef.backdropClick().subscribe(() => this.close());\n  }\n\n  /** Create the popup PositionStrategy. */\n  private _createPopupPositionStrategy(): PositionStrategy {\n    const fallbackOffset = this._datepickerInput._getPopupFallbackOffset();\n\n    return this._overlay.position()\n      .connectedTo(this._datepickerInput.getPopupConnectionElementRef(),\n        {originX: 'start', originY: 'bottom'},\n        {overlayX: 'start', overlayY: 'top'}\n      )\n      .withFallbackPosition(\n        {originX: 'start', originY: 'top'},\n        {overlayX: 'start', overlayY: 'bottom'},\n        undefined,\n        fallbackOffset\n      )\n      .withFallbackPosition(\n        {originX: 'end', originY: 'bottom'},\n        {overlayX: 'end', overlayY: 'top'}\n      )\n      .withFallbackPosition(\n        {originX: 'end', originY: 'top'},\n        {overlayX: 'end', overlayY: 'bottom'},\n        undefined,\n        fallbackOffset\n      );\n  }\n\n  /**\n   * @param obj The object to check.\n   * @returns The given object if it is both a date instance and valid, otherwise null.\n   */\n  private _getValidDateOrNull(obj: any): D | null {\n    return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {DOWN_ARROW} from '@angular/cdk/keycodes';\nimport {\n  AfterContentInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n  ValidatorFn,\n  Validators\n} from '@angular/forms';\nimport {DateAdapter, MAT_DATE_FORMATS, MatDateFormats} from '@angular/material/core';\nimport {MatFormField} from '@angular/material/form-field';\nimport {MAT_INPUT_VALUE_ACCESSOR} from '@angular/material/input';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatDatepicker} from './datepicker';\nimport {createMissingDateImplError} from './datepicker-errors';\n\n\nexport const MAT_DATEPICKER_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatDatepickerInput),\n  multi: true\n};\n\n\nexport const MAT_DATEPICKER_VALIDATORS: any = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => MatDatepickerInput),\n  multi: true\n};\n\n\n/**\n * An event used for datepicker input and change events. We don't always have access to a native\n * input or change event because the event may have been triggered by the user clicking on the\n * calendar popup. For consistency, we always use MatDatepickerInputEvent instead.\n */\nexport class MatDatepickerInputEvent<D> {\n  /** The new value for the target datepicker input. */\n  value: D | null;\n\n  constructor(\n    /** Reference to the datepicker input component that emitted the event. */\n    public target: MatDatepickerInput<D>,\n    /** Reference to the native input element associated with the datepicker input. */\n    public targetElement: HTMLElement) {\n    this.value = this.target.value;\n  }\n}\n\n\n/** Directive used to connect an input to a MatDatepicker. */\n@Directive({\n  selector: 'input[matDatepicker]',\n  providers: [\n    MAT_DATEPICKER_VALUE_ACCESSOR,\n    MAT_DATEPICKER_VALIDATORS,\n    {provide: MAT_INPUT_VALUE_ACCESSOR, useExisting: MatDatepickerInput},\n  ],\n  host: {\n    '[attr.aria-haspopup]': 'true',\n    '[attr.aria-owns]': '(_datepicker?.opened && _datepicker.id) || null',\n    '[attr.min]': 'min ? _dateAdapter.toIso8601(min) : null',\n    '[attr.max]': 'max ? _dateAdapter.toIso8601(max) : null',\n    '[disabled]': 'disabled',\n    '(input)': '_onInput($event.target.value)',\n    '(change)': '_onChange()',\n    '(blur)': '_onTouched()',\n    '(keydown)': '_onKeydown($event)',\n  },\n  exportAs: 'matDatepickerInput',\n})\nexport class MatDatepickerInput<D> implements AfterContentInit, ControlValueAccessor, OnDestroy,\n    Validator {\n  /** The datepicker that this input is associated with. */\n  @Input()\n  set matDatepicker(value: MatDatepicker<D>) {\n    this.registerDatepicker(value);\n  }\n  _datepicker: MatDatepicker<D>;\n\n  private registerDatepicker(value: MatDatepicker<D>) {\n    if (value) {\n      this._datepicker = value;\n      this._datepicker._registerInput(this);\n    }\n  }\n\n  /** Function that can be used to filter out dates within the datepicker. */\n  @Input()\n  set matDatepickerFilter(filter: (date: D | null) => boolean) {\n    this._dateFilter = filter;\n    this._validatorOnChange();\n  }\n  _dateFilter: (date: D | null) => boolean;\n\n  /** The value of the input. */\n  @Input()\n  get value(): D | null {\n    return this._value;\n  }\n  set value(value: D | null) {\n    value = this._dateAdapter.deserialize(value);\n    this._lastValueValid = !value || this._dateAdapter.isValid(value);\n    value = this._getValidDateOrNull(value);\n    let oldDate = this.value;\n    this._value = value;\n    this._elementRef.nativeElement.value =\n        value ? this._dateAdapter.format(value, this._dateFormats.display.dateInput) : '';\n    if (!this._dateAdapter.sameDate(oldDate, value)) {\n      this._valueChange.emit(value);\n    }\n  }\n  private _value: D | null;\n\n  /** The minimum valid date. */\n  @Input()\n  get min(): D | null { return this._min; }\n  set min(value: D | null) {\n    this._min = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    this._validatorOnChange();\n  }\n  private _min: D | null;\n\n  /** The maximum valid date. */\n  @Input()\n  get max(): D | null { return this._max; }\n  set max(value: D | null) {\n    this._max = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    this._validatorOnChange();\n  }\n  private _max: D | null;\n\n  /** Whether the datepicker-input is disabled. */\n  @Input()\n  get disabled() { return !!this._disabled; }\n  set disabled(value: any) {\n    const newValue = coerceBooleanProperty(value);\n\n    if (this._disabled !== newValue) {\n      this._disabled = newValue;\n      this._disabledChange.emit(newValue);\n    }\n  }\n  private _disabled: boolean;\n\n  /** Emits when a `change` event is fired on this `<input>`. */\n  @Output() dateChange = new EventEmitter<MatDatepickerInputEvent<D>>();\n\n  /** Emits when an `input` event is fired on this `<input>`. */\n  @Output() dateInput = new EventEmitter<MatDatepickerInputEvent<D>>();\n\n  /** Emits when the value changes (either due to user input or programmatic change). */\n  _valueChange = new EventEmitter<D|null>();\n\n  /** Emits when the disabled state has changed */\n  _disabledChange = new EventEmitter<boolean>();\n\n  _onTouched = () => {};\n\n  private _cvaOnChange: (value: any) => void = () => {};\n\n  private _validatorOnChange = () => {};\n\n  private _datepickerSubscription = Subscription.EMPTY;\n\n  private _localeSubscription = Subscription.EMPTY;\n\n  /** The form control validator for whether the input parses. */\n  private _parseValidator: ValidatorFn = (): ValidationErrors | null => {\n    return this._lastValueValid ?\n        null : {'matDatepickerParse': {'text': this._elementRef.nativeElement.value}};\n  }\n\n  /** The form control validator for the min date. */\n  private _minValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n    return (!this.min || !controlValue ||\n        this._dateAdapter.compareDate(this.min, controlValue) <= 0) ?\n        null : {'matDatepickerMin': {'min': this.min, 'actual': controlValue}};\n  }\n\n  /** The form control validator for the max date. */\n  private _maxValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n    return (!this.max || !controlValue ||\n        this._dateAdapter.compareDate(this.max, controlValue) >= 0) ?\n        null : {'matDatepickerMax': {'max': this.max, 'actual': controlValue}};\n  }\n\n  /** The form control validator for the date filter. */\n  private _filterValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n    const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n    return !this._dateFilter || !controlValue || this._dateFilter(controlValue) ?\n        null : {'matDatepickerFilter': true};\n  }\n\n  /** The combined form control validator for this input. */\n  private _validator: ValidatorFn | null =\n      Validators.compose(\n          [this._parseValidator, this._minValidator, this._maxValidator, this._filterValidator]);\n\n  /** Whether the last value set on the input was valid. */\n  private _lastValueValid = false;\n\n  constructor(\n      private _elementRef: ElementRef,\n      @Optional() public _dateAdapter: DateAdapter<D>,\n      @Optional() @Inject(MAT_DATE_FORMATS) private _dateFormats: MatDateFormats,\n      @Optional() private _formField: MatFormField) {\n    if (!this._dateAdapter) {\n      throw createMissingDateImplError('DateAdapter');\n    }\n    if (!this._dateFormats) {\n      throw createMissingDateImplError('MAT_DATE_FORMATS');\n    }\n\n    // Update the displayed date when the locale changes.\n    this._localeSubscription = _dateAdapter.localeChanges.subscribe(() => {\n      this.value = this.value;\n    });\n  }\n\n  ngAfterContentInit() {\n    if (this._datepicker) {\n      this._datepickerSubscription =\n          this._datepicker.selectedChanged.subscribe((selected: D) => {\n            this.value = selected;\n            this._cvaOnChange(selected);\n            this._onTouched();\n            this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n            this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n          });\n    }\n  }\n\n  ngOnDestroy() {\n    this._datepickerSubscription.unsubscribe();\n    this._localeSubscription.unsubscribe();\n    this._valueChange.complete();\n    this._disabledChange.complete();\n  }\n\n  registerOnValidatorChange(fn: () => void): void {\n    this._validatorOnChange = fn;\n  }\n\n  validate(c: AbstractControl): ValidationErrors | null {\n    return this._validator ? this._validator(c) : null;\n  }\n\n  /**\n   * Gets the element that the datepicker popup should be connected to.\n   * @return The element to connect the popup to.\n   */\n  getPopupConnectionElementRef(): ElementRef {\n    return this._formField ? this._formField.underlineRef : this._elementRef;\n  }\n\n  /**\n   * Determines the offset to be used when the calendar goes into a fallback position.\n   * Primarily used to prevent the calendar from overlapping the input.\n   */\n  _getPopupFallbackOffset(): number {\n    return this._formField ? -this._formField._inputContainerRef.nativeElement.clientHeight : 0;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  writeValue(value: D): void {\n    this.value = value;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  registerOnChange(fn: (value: any) => void): void {\n    this._cvaOnChange = fn;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  registerOnTouched(fn: () => void): void {\n    this._onTouched = fn;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  setDisabledState(disabled: boolean): void {\n    this.disabled = disabled;\n  }\n\n  _onKeydown(event: KeyboardEvent) {\n    if (event.altKey && event.keyCode === DOWN_ARROW) {\n      this._datepicker.open();\n      event.preventDefault();\n    }\n  }\n\n  _onInput(value: string) {\n    let date = this._dateAdapter.parse(value, this._dateFormats.parse.dateInput);\n    this._lastValueValid = !date || this._dateAdapter.isValid(date);\n    date = this._getValidDateOrNull(date);\n    this._value = date;\n    this._cvaOnChange(date);\n    this._valueChange.emit(date);\n    this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n  }\n\n  _onChange() {\n    this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n  }\n\n  /**\n   * @param obj The object to check.\n   * @returns The given object if it is both a date instance and valid, otherwise null.\n   */\n  private _getValidDateOrNull(obj: any): D | null {\n    return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatDatepicker} from './datepicker';\nimport {MatDatepickerIntl} from './datepicker-intl';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-datepicker-toggle',\n  templateUrl: 'datepicker-toggle.html',\n  host: {\n    'class': 'mat-datepicker-toggle',\n  },\n  exportAs: 'matDatepickerToggle',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatDatepickerToggle<D> implements AfterContentInit, OnChanges, OnDestroy {\n  private _stateChanges = Subscription.EMPTY;\n\n  /** Datepicker instance that the button will toggle. */\n  @Input('for') datepicker: MatDatepicker<D>;\n\n  /** Whether the toggle button is disabled. */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled === undefined ? this.datepicker.disabled : !!this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled: boolean;\n\n  constructor(public _intl: MatDatepickerIntl, private _changeDetectorRef: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.datepicker) {\n      this._watchStateChanges();\n    }\n  }\n\n  ngOnDestroy() {\n    this._stateChanges.unsubscribe();\n  }\n\n  ngAfterContentInit() {\n    this._watchStateChanges();\n  }\n\n  _open(event: Event): void {\n    if (this.datepicker && !this.disabled) {\n      this.datepicker.open();\n      event.stopPropagation();\n    }\n  }\n\n  private _watchStateChanges() {\n    const datepickerDisabled = this.datepicker ? this.datepicker._disabledChange : observableOf();\n    const inputDisabled = this.datepicker && this.datepicker._datepickerInput ?\n        this.datepicker._datepickerInput._disabledChange : observableOf();\n\n    this._stateChanges.unsubscribe();\n    this._stateChanges = merge(this._intl.changes, datepickerDisabled, inputDisabled)\n        .subscribe(() => this._changeDetectorRef.markForCheck());\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, Input} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\n\n/** Used to generate unique ID for each accordion. */\nlet nextId = 0;\n\n/**\n * Directive whose purpose is to manage the expanded state of CdkAccordionItem children.\n */\n@Directive({\n  selector: 'cdk-accordion, [cdkAccordion]',\n  exportAs: 'cdkAccordion',\n})\nexport class CdkAccordion {\n  /** A readonly id value to use for unique selection coordination. */\n  readonly id = `cdk-accordion-${nextId++}`;\n\n  /** Whether the accordion should allow multiple expanded accordion items simulateously. */\n  @Input() get multi(): boolean { return this._multi; }\n  set multi(multi: boolean) { this._multi = coerceBooleanProperty(multi); }\n  private  _multi: boolean = false;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Output,\n  Directive,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {CdkAccordion} from './accordion';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\n\n/** Used to generate unique ID for each accordion item. */\nlet nextId = 0;\n\n/**\n * An basic directive expected to be extended and decorated as a component.  Sets up all\n * events and attributes needed to be managed by a CdkAccordion parent.\n */\n@Directive({\n  selector: 'cdk-accordion-item',\n  exportAs: 'cdkAccordionItem',\n})\nexport class CdkAccordionItem implements OnDestroy {\n  /** Event emitted every time the AccordionItem is closed. */\n  @Output() closed = new EventEmitter<void>();\n  /** Event emitted every time the AccordionItem is opened. */\n  @Output() opened = new EventEmitter<void>();\n  /** Event emitted when the AccordionItem is destroyed. */\n  @Output() destroyed = new EventEmitter<void>();\n  /** The unique AccordionItem id. */\n  readonly id = `cdk-accordion-child-${nextId++}`;\n\n  /** Whether the AccordionItem is expanded. */\n  @Input()\n  get expanded(): any { return this._expanded; }\n  set expanded(expanded: any) {\n    expanded = coerceBooleanProperty(expanded);\n\n    // Only emit events and update the internal value if the value changes.\n    if (this._expanded !== expanded) {\n      this._expanded = expanded;\n      if (expanded) {\n        this.opened.emit();\n        /**\n         * In the unique selection dispatcher, the id parameter is the id of the CdkAccordionItem,\n         * the name value is the id of the accordion.\n         */\n        const accordionId = this.accordion ? this.accordion.id : this.id;\n        this._expansionDispatcher.notify(this.id, accordionId);\n      } else {\n        this.closed.emit();\n      }\n\n      // Ensures that the animation will run when the value is set outside of an `@Input`.\n      // This includes cases like the open, close and toggle methods.\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  private _expanded = false;\n\n  /** Unregister function for _expansionDispatcher. */\n  private _removeUniqueSelectionListener: () => void = () => {};\n\n  constructor(@Optional() public accordion: CdkAccordion,\n              private _changeDetectorRef: ChangeDetectorRef,\n              protected _expansionDispatcher: UniqueSelectionDispatcher) {\n    this._removeUniqueSelectionListener =\n      _expansionDispatcher.listen((id: string, accordionId: string) => {\n        if (this.accordion && !this.accordion.multi &&\n            this.accordion.id === accordionId && this.id !== id) {\n          this.expanded = false;\n        }\n      });\n  }\n\n  /** Emits an event for the accordion item being destroyed. */\n  ngOnDestroy() {\n    this.destroyed.emit();\n    this._removeUniqueSelectionListener();\n  }\n\n  /** Toggles the expanded state of the accordion item. */\n  toggle(): void {\n    this.expanded = !this.expanded;\n  }\n\n  /** Sets the expanded state of the accordion item to false. */\n  close(): void {\n    this.expanded = false;\n  }\n\n  /** Sets the expanded state of the accordion item to true. */\n  open(): void {\n    this.expanded = true;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, Input} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {CdkAccordion} from '@angular/cdk/accordion';\n\n/** MatAccordion's display modes. */\nexport type MatAccordionDisplayMode = 'default' | 'flat';\n\n/**\n * Directive for a Material Design Accordion.\n */\n@Directive({\n  selector: 'mat-accordion',\n  exportAs: 'matAccordion',\n  host: {\n    class: 'mat-accordion'\n  }\n})\nexport class MatAccordion extends CdkAccordion {\n  /** Whether the expansion indicator should be hidden. */\n  @Input() get hideToggle(): boolean { return this._hideToggle; }\n  set hideToggle(show: boolean) { this._hideToggle = coerceBooleanProperty(show); }\n  private  _hideToggle: boolean = false;\n\n  /**\n   * The display mode used for all expansion panels in the accordion. Currently two display\n   * modes exist:\n   *   default - a gutter-like spacing is placed around any expanded panel, placing the expanded\n   *     panel at a different elevation from the reset of the accordion.\n   *  flat - no spacing is placed around expanded panels, showing all panels at the same\n   *     elevation.\n   */\n  @Input() displayMode: MatAccordionDisplayMode = 'default';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  forwardRef,\n  Host,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CdkAccordionItem} from '@angular/cdk/accordion';\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\nimport {Subject} from 'rxjs/Subject';\nimport {MatAccordion} from './accordion';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\n\n/** Time and timing curve for expansion panel animations. */\nexport const EXPANSION_PANEL_ANIMATION_TIMING = '225ms cubic-bezier(0.4,0.0,0.2,1)';\n\n// Boilerplate for applying mixins to MatExpansionPanel.\n/** @docs-private */\n@Component({\n  template: '',\n  moduleId: module.id,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatExpansionPanelBase extends CdkAccordionItem {\n  constructor(accordion: MatAccordion,\n              _changeDetectorRef: ChangeDetectorRef,\n              _uniqueSelectionDispatcher: UniqueSelectionDispatcher) {\n    super(accordion, _changeDetectorRef, _uniqueSelectionDispatcher);\n  }\n}\nexport const _MatExpansionPanelMixinBase = mixinDisabled(MatExpansionPanelBase);\n\n/** MatExpansionPanel's states. */\nexport type MatExpansionPanelState = 'expanded' | 'collapsed';\n\n/**\n * <mat-expansion-panel> component.\n *\n * This component can be used as a single element to show expandable content, or as one of\n * multiple children of an element with the MatAccordion directive attached.\n *\n * Please refer to README.md for examples on how to use it.\n */\n@Component({\n  moduleId: module.id,\n  styleUrls: ['./expansion-panel.css'],\n  selector: 'mat-expansion-panel',\n  exportAs: 'matExpansionPanel',\n  templateUrl: './expansion-panel.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled', 'expanded'],\n  outputs: ['opened', 'closed'],\n  host: {\n    'class': 'mat-expansion-panel',\n    '[class.mat-expanded]': 'expanded',\n    '[class.mat-expansion-panel-spacing]': '_hasSpacing()',\n  },\n  providers: [\n    {provide: _MatExpansionPanelMixinBase, useExisting: forwardRef(() => MatExpansionPanel)}\n  ],\n  animations: [\n    trigger('bodyExpansion', [\n      state('collapsed', style({height: '0px', visibility: 'hidden'})),\n      state('expanded', style({height: '*', visibility: 'visible'})),\n      transition('expanded <=> collapsed', animate(EXPANSION_PANEL_ANIMATION_TIMING)),\n    ]),\n  ],\n})\nexport class MatExpansionPanel extends _MatExpansionPanelMixinBase\n    implements CanDisable, OnChanges, OnDestroy {\n\n  /** Whether the toggle indicator should be hidden. */\n  @Input()\n  get hideToggle(): boolean {\n    return this._hideToggle;\n  }\n  set hideToggle(value: boolean) {\n    this._hideToggle = coerceBooleanProperty(value);\n  }\n  private _hideToggle = false;\n\n  /** Stream that emits for changes in `@Input` properties. */\n  _inputChanges = new Subject<SimpleChanges>();\n\n  /** Optionally defined accordion the expansion panel belongs to. */\n  accordion: MatAccordion;\n\n  constructor(@Optional() @Host() accordion: MatAccordion,\n              _changeDetectorRef: ChangeDetectorRef,\n              _uniqueSelectionDispatcher: UniqueSelectionDispatcher) {\n    super(accordion, _changeDetectorRef, _uniqueSelectionDispatcher);\n    this.accordion = accordion;\n  }\n\n  /** Whether the expansion indicator should be hidden. */\n  _getHideToggle(): boolean {\n    if (this.accordion) {\n      return this.accordion.hideToggle;\n    }\n    return this.hideToggle;\n  }\n\n  /** Determines whether the expansion panel should have spacing between it and its siblings. */\n  _hasSpacing(): boolean {\n    if (this.accordion) {\n      return (this.expanded ? this.accordion.displayMode : this._getExpandedState()) === 'default';\n    }\n    return false;\n  }\n\n  /** Gets the expanded state string. */\n  _getExpandedState(): MatExpansionPanelState {\n    return this.expanded ? 'expanded' : 'collapsed';\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this._inputChanges.next(changes);\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this._inputChanges.complete();\n  }\n}\n\n@Directive({\n  selector: 'mat-action-row',\n  host: {\n    class: 'mat-action-row'\n  }\n})\nexport class MatExpansionPanelActionRow {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {FocusMonitor} from '@angular/cdk/a11y';\nimport {ENTER, SPACE} from '@angular/cdk/keycodes';\nimport {filter} from 'rxjs/operators/filter';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  ElementRef,\n  Host,\n  Input,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {Subscription} from 'rxjs/Subscription';\nimport {EXPANSION_PANEL_ANIMATION_TIMING, MatExpansionPanel} from './expansion-panel';\n\n\n/**\n * <mat-expansion-panel-header> component.\n *\n * This component corresponds to the header element of an <mat-expansion-panel>.\n *\n * Please refer to README.md for examples on how to use it.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-expansion-panel-header',\n  styleUrls: ['./expansion-panel-header.css'],\n  templateUrl: './expansion-panel-header.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    'class': 'mat-expansion-panel-header',\n    'role': 'button',\n    '[attr.tabindex]': 'panel.disabled ? -1 : 0',\n    '[attr.aria-controls]': '_getPanelId()',\n    '[attr.aria-expanded]': '_isExpanded()',\n    '[attr.aria-disabled]': 'panel.disabled',\n    '[class.mat-expanded]': '_isExpanded()',\n    '(click)': '_toggle()',\n    '(keyup)': '_keyup($event)',\n    '[@expansionHeight]': `{\n        value: _getExpandedState(),\n        params: {\n          collapsedHeight: collapsedHeight,\n          expandedHeight: expandedHeight\n        }\n    }`,\n  },\n  animations: [\n    trigger('indicatorRotate', [\n      state('collapsed', style({transform: 'rotate(0deg)'})),\n      state('expanded', style({transform: 'rotate(180deg)'})),\n      transition('expanded <=> collapsed', animate(EXPANSION_PANEL_ANIMATION_TIMING)),\n    ]),\n    trigger('expansionHeight', [\n      state('collapsed', style({\n        height: '{{collapsedHeight}}',\n      }), {\n        params: {collapsedHeight: '48px'},\n      }),\n      state('expanded', style({\n        height: '{{expandedHeight}}'\n      }), {\n        params: {expandedHeight: '64px'}\n      }),\n      transition('expanded <=> collapsed', animate(EXPANSION_PANEL_ANIMATION_TIMING)),\n    ]),\n  ],\n})\nexport class MatExpansionPanelHeader implements OnDestroy {\n  private _parentChangeSubscription = Subscription.EMPTY;\n\n  constructor(\n    @Host() public panel: MatExpansionPanel,\n    private _element: ElementRef,\n    private _focusMonitor: FocusMonitor,\n    private _changeDetectorRef: ChangeDetectorRef) {\n\n    // Since the toggle state depends on an @Input on the panel, we\n    // need to  subscribe and trigger change detection manually.\n    this._parentChangeSubscription = merge(\n      panel.opened,\n      panel.closed,\n      panel._inputChanges.pipe(filter(changes => !!(changes.hideToggle || changes.disabled)))\n    )\n    .subscribe(() => this._changeDetectorRef.markForCheck());\n\n    _focusMonitor.monitor(_element.nativeElement, false);\n  }\n\n  /** Height of the header while the panel is expanded. */\n  @Input() expandedHeight: string;\n\n  /** Height of the header while the panel is collapsed. */\n  @Input() collapsedHeight: string;\n\n  /** Toggles the expanded state of the panel. */\n  _toggle(): void {\n    if (!this.panel.disabled) {\n      this.panel.toggle();\n    }\n  }\n\n  /** Gets whether the panel is expanded. */\n  _isExpanded(): boolean {\n    return this.panel.expanded;\n  }\n\n  /** Gets the expanded state string of the panel. */\n  _getExpandedState(): string {\n    return this.panel._getExpandedState();\n  }\n\n  /** Gets the panel id. */\n  _getPanelId(): string {\n    return this.panel.id;\n  }\n\n  /** Gets whether the expand indicator should be shown. */\n  _showToggle(): boolean {\n    return !this.panel.hideToggle && !this.panel.disabled;\n  }\n\n  /** Handle keyup event calling to toggle() if appropriate. */\n  _keyup(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      // Toggle for space and enter keys.\n      case SPACE:\n      case ENTER:\n        event.preventDefault();\n        this._toggle();\n        break;\n      default:\n        return;\n    }\n  }\n\n  ngOnDestroy() {\n    this._parentChangeSubscription.unsubscribe();\n    this._focusMonitor.stopMonitoring(this._element.nativeElement);\n  }\n}\n\n/**\n * <mat-panel-description> directive.\n *\n * This direction is to be used inside of the MatExpansionPanelHeader component.\n */\n@Directive({\n  selector: 'mat-panel-description',\n  host : {\n    class: 'mat-expansion-panel-header-description'\n  }\n})\nexport class MatExpansionPanelDescription {}\n\n/**\n * <mat-panel-title> directive.\n *\n * This direction is to be used inside of the MatExpansionPanelHeader component.\n */\n@Directive({\n  selector: 'mat-panel-title',\n  host : {\n    class: 'mat-expansion-panel-header-title'\n  }\n})\nexport class MatExpansionPanelTitle {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {catchError} from 'rxjs/operators/catchError';\nimport {tap} from 'rxjs/operators/tap';\nimport {finalize} from 'rxjs/operators/finalize';\nimport {map} from 'rxjs/operators/map';\nimport {share} from 'rxjs/operators/share';\nimport {\n  Injectable,\n  Inject,\n  InjectionToken,\n  Optional,\n  SecurityContext,\n  SkipSelf,\n} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {Observable} from 'rxjs/Observable';\nimport {forkJoin} from 'rxjs/observable/forkJoin';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {_throw as observableThrow} from 'rxjs/observable/throw';\nimport {DOCUMENT} from '@angular/common';\n\n\n/**\n * Returns an exception to be thrown in the case when attempting to\n * load an icon with a name that cannot be found.\n * @docs-private\n */\nexport function getMatIconNameNotFoundError(iconName: string): Error {\n  return Error(`Unable to find icon with the name \"${iconName}\"`);\n}\n\n\n/**\n * Returns an exception to be thrown when the consumer attempts to use\n * `<mat-icon>` without including @angular/http.\n * @docs-private\n */\nexport function getMatIconNoHttpProviderError(): Error {\n  return Error('Could not find HttpClient provider for use with Angular Material icons. ' +\n               'Please include the HttpClientModule from @angular/common/http in your ' +\n               'app imports.');\n}\n\n\n/**\n * Returns an exception to be thrown when a URL couldn't be sanitized.\n * @param url URL that was attempted to be sanitized.\n * @docs-private\n */\nexport function getMatIconFailedToSanitizeError(url: SafeResourceUrl): Error {\n  return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL ` +\n               `via Angular's DomSanitizer. Attempted URL was \"${url}\".`);\n}\n\n/**\n * Configuration for an icon, including the URL and possibly the cached SVG element.\n * @docs-private\n */\nclass SvgIconConfig {\n  svgElement: SVGElement | null = null;\n  constructor(public url: SafeResourceUrl) { }\n}\n\n/**\n * Service to register and display icons used by the <mat-icon> component.\n * - Registers icon URLs by namespace and name.\n * - Registers icon set URLs by namespace.\n * - Registers aliases for CSS classes, for use with icon fonts.\n * - Loads icons from URLs and extracts individual icons from icon sets.\n */\n@Injectable()\nexport class MatIconRegistry {\n  /**\n   * URLs and cached SVG elements for individual icons. Keys are of the format \"[namespace]:[icon]\".\n   */\n  private _svgIconConfigs = new Map<string, SvgIconConfig>();\n\n  /**\n   * SvgIconConfig objects and cached SVG elements for icon sets, keyed by namespace.\n   * Multiple icon sets can be registered under the same namespace.\n   */\n  private _iconSetConfigs = new Map<string, SvgIconConfig[]>();\n\n  /** Cache for icons loaded by direct URLs. */\n  private _cachedIconsByUrl = new Map<string, SVGElement>();\n\n  /** In-progress icon fetches. Used to coalesce multiple requests to the same URL. */\n  private _inProgressUrlFetches = new Map<string, Observable<string>>();\n\n  /** Map from font identifiers to their CSS class names. Used for icon fonts. */\n  private _fontCssClassesByAlias = new Map<string, string>();\n\n  /**\n   * The CSS class to apply when an <mat-icon> component has no icon name, url, or font specified.\n   * The default 'material-icons' value assumes that the material icon font has been loaded as\n   * described at http://google.github.io/material-design-icons/#icon-font-for-the-web\n   */\n  private _defaultFontSetClass = 'material-icons';\n\n  constructor(\n    @Optional() private _httpClient: HttpClient,\n    private _sanitizer: DomSanitizer,\n    @Optional() @Inject(DOCUMENT) private _document?: any) {\n      // TODO(crisbeto): make _document required next major release.\n    }\n\n  /**\n   * Registers an icon by URL in the default namespace.\n   * @param iconName Name under which the icon should be registered.\n   * @param url\n   */\n  addSvgIcon(iconName: string, url: SafeResourceUrl): this {\n    return this.addSvgIconInNamespace('', iconName, url);\n  }\n\n  /**\n   * Registers an icon by URL in the specified namespace.\n   * @param namespace Namespace in which the icon should be registered.\n   * @param iconName Name under which the icon should be registered.\n   * @param url\n   */\n  addSvgIconInNamespace(namespace: string, iconName: string, url: SafeResourceUrl): this {\n    const key = iconKey(namespace, iconName);\n    this._svgIconConfigs.set(key, new SvgIconConfig(url));\n    return this;\n  }\n\n  /**\n   * Registers an icon set by URL in the default namespace.\n   * @param url\n   */\n  addSvgIconSet(url: SafeResourceUrl): this {\n    return this.addSvgIconSetInNamespace('', url);\n  }\n\n  /**\n   * Registers an icon set by URL in the specified namespace.\n   * @param namespace Namespace in which to register the icon set.\n   * @param url\n   */\n  addSvgIconSetInNamespace(namespace: string, url: SafeResourceUrl): this {\n    const config = new SvgIconConfig(url);\n    const configNamespace = this._iconSetConfigs.get(namespace);\n\n    if (configNamespace) {\n      configNamespace.push(config);\n    } else {\n      this._iconSetConfigs.set(namespace, [config]);\n    }\n    return this;\n  }\n\n  /**\n   * Defines an alias for a CSS class name to be used for icon fonts. Creating an matIcon\n   * component with the alias as the fontSet input will cause the class name to be applied\n   * to the <mat-icon> element.\n   *\n   * @param alias Alias for the font.\n   * @param className Class name override to be used instead of the alias.\n   */\n  registerFontClassAlias(alias: string, className: string = alias): this {\n    this._fontCssClassesByAlias.set(alias, className);\n    return this;\n  }\n\n  /**\n   * Returns the CSS class name associated with the alias by a previous call to\n   * registerFontClassAlias. If no CSS class has been associated, returns the alias unmodified.\n   */\n  classNameForFontAlias(alias: string): string {\n    return this._fontCssClassesByAlias.get(alias) || alias;\n  }\n\n  /**\n   * Sets the CSS class name to be used for icon fonts when an <mat-icon> component does not\n   * have a fontSet input value, and is not loading an icon by name or URL.\n   *\n   * @param className\n   */\n  setDefaultFontSetClass(className: string): this {\n    this._defaultFontSetClass = className;\n    return this;\n  }\n\n  /**\n   * Returns the CSS class name to be used for icon fonts when an <mat-icon> component does not\n   * have a fontSet input value, and is not loading an icon by name or URL.\n   */\n  getDefaultFontSetClass(): string {\n    return this._defaultFontSetClass;\n  }\n\n  /**\n   * Returns an Observable that produces the icon (as an `<svg>` DOM element) from the given URL.\n   * The response from the URL may be cached so this will not always cause an HTTP request, but\n   * the produced element will always be a new copy of the originally fetched icon. (That is,\n   * it will not contain any modifications made to elements previously returned).\n   *\n   * @param safeUrl URL from which to fetch the SVG icon.\n   */\n  getSvgIconFromUrl(safeUrl: SafeResourceUrl): Observable<SVGElement> {\n    let url = this._sanitizer.sanitize(SecurityContext.RESOURCE_URL, safeUrl);\n\n    if (!url) {\n      throw getMatIconFailedToSanitizeError(safeUrl);\n    }\n\n    let cachedIcon = this._cachedIconsByUrl.get(url);\n\n    if (cachedIcon) {\n      return observableOf(cloneSvg(cachedIcon));\n    }\n\n    return this._loadSvgIconFromConfig(new SvgIconConfig(safeUrl)).pipe(\n      tap(svg => this._cachedIconsByUrl.set(url!, svg)),\n      map(svg => cloneSvg(svg))\n    );\n  }\n\n  /**\n   * Returns an Observable that produces the icon (as an `<svg>` DOM element) with the given name\n   * and namespace. The icon must have been previously registered with addIcon or addIconSet;\n   * if not, the Observable will throw an error.\n   *\n   * @param name Name of the icon to be retrieved.\n   * @param namespace Namespace in which to look for the icon.\n   */\n  getNamedSvgIcon(name: string, namespace: string = ''): Observable<SVGElement> {\n    // Return (copy of) cached icon if possible.\n    const key = iconKey(namespace, name);\n    const config = this._svgIconConfigs.get(key);\n\n    if (config) {\n      return this._getSvgFromConfig(config);\n    }\n\n    // See if we have any icon sets registered for the namespace.\n    const iconSetConfigs = this._iconSetConfigs.get(namespace);\n\n    if (iconSetConfigs) {\n      return this._getSvgFromIconSetConfigs(name, iconSetConfigs);\n    }\n\n    return observableThrow(getMatIconNameNotFoundError(key));\n  }\n\n  /**\n   * Returns the cached icon for a SvgIconConfig if available, or fetches it from its URL if not.\n   */\n  private _getSvgFromConfig(config: SvgIconConfig): Observable<SVGElement> {\n    if (config.svgElement) {\n      // We already have the SVG element for this icon, return a copy.\n      return observableOf(cloneSvg(config.svgElement));\n    } else {\n      // Fetch the icon from the config's URL, cache it, and return a copy.\n      return this._loadSvgIconFromConfig(config).pipe(\n        tap(svg => config.svgElement = svg),\n        map(svg => cloneSvg(svg))\n      );\n    }\n  }\n\n  /**\n   * Attempts to find an icon with the specified name in any of the SVG icon sets.\n   * First searches the available cached icons for a nested element with a matching name, and\n   * if found copies the element to a new <svg> element. If not found, fetches all icon sets\n   * that have not been cached, and searches again after all fetches are completed.\n   * The returned Observable produces the SVG element if possible, and throws\n   * an error if no icon with the specified name can be found.\n   */\n  private _getSvgFromIconSetConfigs(name: string, iconSetConfigs: SvgIconConfig[]):\n      Observable<SVGElement> {\n    // For all the icon set SVG elements we've fetched, see if any contain an icon with the\n    // requested name.\n    const namedIcon = this._extractIconWithNameFromAnySet(name, iconSetConfigs);\n\n    if (namedIcon) {\n      // We could cache namedIcon in _svgIconConfigs, but since we have to make a copy every\n      // time anyway, there's probably not much advantage compared to just always extracting\n      // it from the icon set.\n      return observableOf(namedIcon);\n    }\n\n    // Not found in any cached icon sets. If there are icon sets with URLs that we haven't\n    // fetched, fetch them now and look for iconName in the results.\n    const iconSetFetchRequests: Observable<SVGElement | null>[] = iconSetConfigs\n      .filter(iconSetConfig => !iconSetConfig.svgElement)\n      .map(iconSetConfig => {\n        return this._loadSvgIconSetFromConfig(iconSetConfig).pipe(\n          catchError((err: any): Observable<SVGElement | null> => {\n            let url = this._sanitizer.sanitize(SecurityContext.RESOURCE_URL, iconSetConfig.url);\n\n            // Swallow errors fetching individual URLs so the combined Observable won't\n            // necessarily fail.\n            console.log(`Loading icon set URL: ${url} failed: ${err}`);\n            return observableOf(null);\n          }),\n          tap(svg => {\n            // Cache the SVG element.\n            if (svg) {\n              iconSetConfig.svgElement = svg;\n            }\n          })\n        );\n      });\n\n    // Fetch all the icon set URLs. When the requests complete, every IconSet should have a\n    // cached SVG element (unless the request failed), and we can check again for the icon.\n    return forkJoin(iconSetFetchRequests).pipe(map(() => {\n      const foundIcon = this._extractIconWithNameFromAnySet(name, iconSetConfigs);\n\n      if (!foundIcon) {\n        throw getMatIconNameNotFoundError(name);\n      }\n\n      return foundIcon;\n    }));\n  }\n\n  /**\n   * Searches the cached SVG elements for the given icon sets for a nested icon element whose \"id\"\n   * tag matches the specified name. If found, copies the nested element to a new SVG element and\n   * returns it. Returns null if no matching element is found.\n   */\n  private _extractIconWithNameFromAnySet(iconName: string, iconSetConfigs: SvgIconConfig[]):\n      SVGElement | null {\n    // Iterate backwards, so icon sets added later have precedence.\n    for (let i = iconSetConfigs.length - 1; i >= 0; i--) {\n      const config = iconSetConfigs[i];\n      if (config.svgElement) {\n        const foundIcon = this._extractSvgIconFromSet(config.svgElement, iconName);\n        if (foundIcon) {\n          return foundIcon;\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Loads the content of the icon URL specified in the SvgIconConfig and creates an SVG element\n   * from it.\n   */\n  private _loadSvgIconFromConfig(config: SvgIconConfig): Observable<SVGElement> {\n    return this._fetchUrl(config.url)\n        .pipe(map(svgText => this._createSvgElementForSingleIcon(svgText)));\n  }\n\n  /**\n   * Loads the content of the icon set URL specified in the SvgIconConfig and creates an SVG element\n   * from it.\n   */\n  private _loadSvgIconSetFromConfig(config: SvgIconConfig): Observable<SVGElement> {\n    // TODO: Document that icons should only be loaded from trusted sources.\n    return this._fetchUrl(config.url).pipe(map(svgText => this._svgElementFromString(svgText)));\n  }\n\n  /**\n   * Creates a DOM element from the given SVG string, and adds default attributes.\n   */\n  private _createSvgElementForSingleIcon(responseText: string): SVGElement {\n    const svg = this._svgElementFromString(responseText);\n    this._setSvgAttributes(svg);\n    return svg;\n  }\n\n  /**\n   * Searches the cached element of the given SvgIconConfig for a nested icon element whose \"id\"\n   * tag matches the specified name. If found, copies the nested element to a new SVG element and\n   * returns it. Returns null if no matching element is found.\n   */\n  private _extractSvgIconFromSet(iconSet: SVGElement, iconName: string): SVGElement | null {\n    const iconSource = iconSet.querySelector('#' + iconName);\n\n    if (!iconSource) {\n      return null;\n    }\n\n    // Clone the element and remove the ID to prevent multiple elements from being added\n    // to the page with the same ID.\n    const iconElement = iconSource.cloneNode(true) as Element;\n    iconElement.id = '';\n\n    // If the icon node is itself an <svg> node, clone and return it directly. If not, set it as\n    // the content of a new <svg> node.\n    if (iconElement.nodeName.toLowerCase() === 'svg') {\n      return this._setSvgAttributes(iconElement as SVGElement);\n    }\n\n    // If the node is a <symbol>, it won't be rendered so we have to convert it into <svg>. Note\n    // that the same could be achieved by referring to it via <use href=\"#id\">, however the <use>\n    // tag is problematic on Firefox, because it needs to include the current page path.\n    if (iconElement.nodeName.toLowerCase() === 'symbol') {\n      return this._setSvgAttributes(this._toSvgElement(iconElement));\n    }\n\n    // createElement('SVG') doesn't work as expected; the DOM ends up with\n    // the correct nodes, but the SVG content doesn't render. Instead we\n    // have to create an empty SVG node using innerHTML and append its content.\n    // Elements created using DOMParser.parseFromString have the same problem.\n    // http://stackoverflow.com/questions/23003278/svg-innerhtml-in-firefox-can-not-display\n    const svg = this._svgElementFromString('<svg></svg>');\n    // Clone the node so we don't remove it from the parent icon set element.\n    svg.appendChild(iconElement);\n\n    return this._setSvgAttributes(svg);\n  }\n\n  /**\n   * Creates a DOM element from the given SVG string.\n   */\n  private _svgElementFromString(str: string): SVGElement {\n    if (this._document || typeof document !== 'undefined') {\n      const div = (this._document || document).createElement('DIV');\n      div.innerHTML = str;\n      const svg = div.querySelector('svg') as SVGElement;\n      if (!svg) {\n        throw Error('<svg> tag not found');\n      }\n      return svg;\n    }\n\n    throw new Error('MatIconRegistry could not resolve document.');\n  }\n\n  /**\n   * Converts an element into an SVG node by cloning all of its children.\n   */\n  private _toSvgElement(element: Element): SVGElement {\n    let svg = this._svgElementFromString('<svg></svg>');\n\n    for (let i = 0; i < element.childNodes.length; i++) {\n      // Note: 1 corresponds to `Node.ELEMENT_NODE` which we can't use in Universal.\n      if (element.childNodes[i].nodeType === 1) {\n        svg.appendChild(element.childNodes[i].cloneNode(true));\n      }\n    }\n\n    return svg;\n  }\n\n  /**\n   * Sets the default attributes for an SVG element to be used as an icon.\n   */\n  private _setSvgAttributes(svg: SVGElement): SVGElement {\n    if (!svg.getAttribute('xmlns')) {\n      svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    }\n    svg.setAttribute('fit', '');\n    svg.setAttribute('height', '100%');\n    svg.setAttribute('width', '100%');\n    svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n    svg.setAttribute('focusable', 'false'); // Disable IE11 default behavior to make SVGs focusable.\n    return svg;\n  }\n\n  /**\n   * Returns an Observable which produces the string contents of the given URL. Results may be\n   * cached, so future calls with the same URL may not cause another HTTP request.\n   */\n  private _fetchUrl(safeUrl: SafeResourceUrl): Observable<string> {\n    if (!this._httpClient) {\n      throw getMatIconNoHttpProviderError();\n    }\n\n    const url = this._sanitizer.sanitize(SecurityContext.RESOURCE_URL, safeUrl);\n\n    if (!url) {\n      throw getMatIconFailedToSanitizeError(safeUrl);\n    }\n\n    // Store in-progress fetches to avoid sending a duplicate request for a URL when there is\n    // already a request in progress for that URL. It's necessary to call share() on the\n    // Observable returned by http.get() so that multiple subscribers don't cause multiple XHRs.\n    const inProgressFetch = this._inProgressUrlFetches.get(url);\n\n    if (inProgressFetch) {\n      return inProgressFetch;\n    }\n\n    // TODO(jelbourn): for some reason, the `finally` operator \"loses\" the generic type on the\n    // Observable. Figure out why and fix it.\n    const req = this._httpClient.get(url, {responseType: 'text'}).pipe(\n      finalize(() => this._inProgressUrlFetches.delete(url)),\n      share()\n    );\n\n    this._inProgressUrlFetches.set(url, req);\n    return req;\n  }\n}\n\n/** @docs-private */\nexport function ICON_REGISTRY_PROVIDER_FACTORY(\n  parentRegistry: MatIconRegistry,\n  httpClient: HttpClient,\n  sanitizer: DomSanitizer,\n  document?: any) {\n  return parentRegistry || new MatIconRegistry(httpClient, sanitizer, document);\n}\n\n/** @docs-private */\nexport const ICON_REGISTRY_PROVIDER = {\n  // If there is already an MatIconRegistry available, use that. Otherwise, provide a new one.\n  provide: MatIconRegistry,\n  deps: [\n    [new Optional(), new SkipSelf(), MatIconRegistry],\n    [new Optional(), HttpClient],\n    DomSanitizer,\n    [new Optional(), DOCUMENT as InjectionToken<any>]\n  ],\n  useFactory: ICON_REGISTRY_PROVIDER_FACTORY\n};\n\n/** Clones an SVGElement while preserving type information. */\nfunction cloneSvg(svg: SVGElement): SVGElement {\n  return svg.cloneNode(true) as SVGElement;\n}\n\n/** Returns the cache key to use for an icon namespace and name. */\nfunction iconKey(namespace: string, name: string) {\n  return namespace + ':' + name;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {take} from 'rxjs/operators/take';\nimport {\n  Attribute,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CanColor, mixinColor} from '@angular/material/core';\nimport {MatIconRegistry} from './icon-registry';\n\n\n// Boilerplate for applying mixins to MatIcon.\n/** @docs-private */\nexport class MatIconBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatIconMixinBase = mixinColor(MatIconBase);\n\n\n/**\n * Component to display an icon. It can be used in the following ways:\n *\n * - Specify the svgIcon input to load an SVG icon from a URL previously registered with the\n *   addSvgIcon, addSvgIconInNamespace, addSvgIconSet, or addSvgIconSetInNamespace methods of\n *   MatIconRegistry. If the svgIcon value contains a colon it is assumed to be in the format\n *   \"[namespace]:[name]\", if not the value will be the name of an icon in the default namespace.\n *   Examples:\n *     <mat-icon svgIcon=\"left-arrow\"></mat-icon>\n *     <mat-icon svgIcon=\"animals:cat\"></mat-icon>\n *\n * - Use a font ligature as an icon by putting the ligature text in the content of the <mat-icon>\n *   component. By default the Material icons font is used as described at\n *   http://google.github.io/material-design-icons/#icon-font-for-the-web. You can specify an\n *   alternate font by setting the fontSet input to either the CSS class to apply to use the\n *   desired font, or to an alias previously registered with MatIconRegistry.registerFontClassAlias.\n *   Examples:\n *     <mat-icon>home</mat-icon>\n *     <mat-icon fontSet=\"myfont\">sun</mat-icon>\n *\n * - Specify a font glyph to be included via CSS rules by setting the fontSet input to specify the\n *   font, and the fontIcon input to specify the icon. Typically the fontIcon will specify a\n *   CSS class which causes the glyph to be displayed via a :before selector, as in\n *   https://fortawesome.github.io/Font-Awesome/examples/\n *   Example:\n *     <mat-icon fontSet=\"fa\" fontIcon=\"alarm\"></mat-icon>\n */\n@Component({\n  moduleId: module.id,\n  template: '<ng-content></ng-content>',\n  selector: 'mat-icon',\n  exportAs: 'matIcon',\n  styleUrls: ['icon.css'],\n  inputs: ['color'],\n  host: {\n    'role': 'img',\n    'class': 'mat-icon',\n  },\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatIcon extends _MatIconMixinBase implements OnChanges, OnInit, CanColor {\n\n  /** Name of the icon in the SVG icon set. */\n  @Input() svgIcon: string;\n\n  /** Font set that the icon is a part of. */\n  @Input()\n  get fontSet(): string { return this._fontSet; }\n  set fontSet(value: string) {\n    this._fontSet = this._cleanupFontValue(value);\n  }\n  private _fontSet: string;\n\n  /** Name of an icon within a font set. */\n  @Input()\n  get fontIcon(): string { return this._fontIcon; }\n  set fontIcon(value: string) {\n    this._fontIcon = this._cleanupFontValue(value);\n  }\n  private _fontIcon: string;\n\n  private _previousFontSetClass: string;\n  private _previousFontIconClass: string;\n\n  constructor(\n      elementRef: ElementRef,\n      private _iconRegistry: MatIconRegistry,\n      @Attribute('aria-hidden') ariaHidden: string) {\n    super(elementRef);\n\n    // If the user has not explicitly set aria-hidden, mark the icon as hidden, as this is\n    // the right thing to do for the majority of icon use-cases.\n    if (!ariaHidden) {\n      elementRef.nativeElement.setAttribute('aria-hidden', 'true');\n    }\n  }\n\n  /**\n   * Splits an svgIcon binding value into its icon set and icon name components.\n   * Returns a 2-element array of [(icon set), (icon name)].\n   * The separator for the two fields is ':'. If there is no separator, an empty\n   * string is returned for the icon set and the entire value is returned for\n   * the icon name. If the argument is falsy, returns an array of two empty strings.\n   * Throws an error if the name contains two or more ':' separators.\n   * Examples:\n   *   'social:cake' -> ['social', 'cake']\n   *   'penguin' -> ['', 'penguin']\n   *   null -> ['', '']\n   *   'a:b:c' -> (throws Error)\n   */\n  private _splitIconName(iconName: string): [string, string] {\n    if (!iconName) {\n      return ['', ''];\n    }\n    const parts = iconName.split(':');\n    switch (parts.length) {\n      case 1: return ['', parts[0]]; // Use default namespace.\n      case 2: return <[string, string]>parts;\n      default: throw Error(`Invalid icon name: \"${iconName}\"`);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Only update the inline SVG icon if the inputs changed, to avoid unnecessary DOM operations.\n    if (changes.svgIcon) {\n      if (this.svgIcon) {\n        const [namespace, iconName] = this._splitIconName(this.svgIcon);\n\n        this._iconRegistry.getNamedSvgIcon(iconName, namespace).pipe(take(1)).subscribe(\n          svg => this._setSvgElement(svg),\n          (err: Error) => console.log(`Error retrieving icon: ${err.message}`)\n        );\n      } else {\n        this._clearSvgElement();\n      }\n    }\n\n    if (this._usingFontIcon()) {\n      this._updateFontIconClasses();\n    }\n  }\n\n  ngOnInit() {\n    // Update font classes because ngOnChanges won't be called if none of the inputs are present,\n    // e.g. <mat-icon>arrow</mat-icon> In this case we need to add a CSS class for the default font.\n    if (this._usingFontIcon()) {\n      this._updateFontIconClasses();\n    }\n  }\n\n  private _usingFontIcon(): boolean {\n    return !this.svgIcon;\n  }\n\n  private _setSvgElement(svg: SVGElement) {\n    this._clearSvgElement();\n    this._elementRef.nativeElement.appendChild(svg);\n  }\n\n  private _clearSvgElement() {\n    const layoutElement: HTMLElement = this._elementRef.nativeElement;\n    const childCount = layoutElement.childNodes.length;\n\n    // Remove existing child nodes and add the new SVG element. Note that we can't\n    // use innerHTML, because IE will throw if the element has a data binding.\n    for (let i = 0; i < childCount; i++) {\n      layoutElement.removeChild(layoutElement.childNodes[i]);\n    }\n  }\n\n  private _updateFontIconClasses() {\n    if (!this._usingFontIcon()) {\n      return;\n    }\n\n    const elem: HTMLElement = this._elementRef.nativeElement;\n    const fontSetClass = this.fontSet ?\n        this._iconRegistry.classNameForFontAlias(this.fontSet) :\n        this._iconRegistry.getDefaultFontSetClass();\n\n    if (fontSetClass != this._previousFontSetClass) {\n      if (this._previousFontSetClass) {\n        elem.classList.remove(this._previousFontSetClass);\n      }\n      if (fontSetClass) {\n        elem.classList.add(fontSetClass);\n      }\n      this._previousFontSetClass = fontSetClass;\n    }\n\n    if (this.fontIcon != this._previousFontIconClass) {\n      if (this._previousFontIconClass) {\n        elem.classList.remove(this._previousFontIconClass);\n      }\n      if (this.fontIcon) {\n        elem.classList.add(this.fontIcon);\n      }\n      this._previousFontIconClass = this.fontIcon;\n    }\n  }\n\n  /**\n   * Cleans up a value to be used as a fontIcon or fontSet.\n   * Since the value ends up being assigned as a CSS class, we\n   * have to trim the value and omit space-separated values.\n   */\n  private _cleanupFontValue(value: string) {\n    return typeof value === 'string' ? value.trim().split(' ')[0] : value;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatCommonModule} from '@angular/material/core';\nimport {MatIcon} from './icon';\nimport {ICON_REGISTRY_PROVIDER} from './icon-registry';\n\n\n@NgModule({\n  imports: [MatCommonModule],\n  exports: [MatIcon, MatCommonModule],\n  declarations: [MatIcon],\n  providers: [ICON_REGISTRY_PROVIDER],\n})\nexport class MatIconModule {}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable, SubscribableOrPromise } from '../Observable';\nimport { Subscription, TeardownLogic } from '../Subscription';\n\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/audit.png\" width=\"100%\">\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.audit(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nexport function audit<T>(durationSelector: (value: T) => SubscribableOrPromise<any>): MonoTypeOperatorFunction<T> {\n  return function auditOperatorFunction(source: Observable<T>) {\n    return source.lift(new AuditOperator(durationSelector));\n  };\n}\n\nclass AuditOperator<T> implements Operator<T, T> {\n  constructor(private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new AuditSubscriber<T, T>(subscriber, this.durationSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass AuditSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  private value: T;\n  private hasValue: boolean = false;\n  private throttled: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private durationSelector: (value: T) => SubscribableOrPromise<any>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.value = value;\n    this.hasValue = true;\n    if (!this.throttled) {\n      const duration = tryCatch(this.durationSelector)(value);\n      if (duration === errorObject) {\n        this.destination.error(errorObject.e);\n      } else {\n        const innerSubscription = subscribeToResult(this, duration);\n        if (innerSubscription.closed) {\n          this.clearThrottle();\n        } else {\n          this.add(this.throttled = innerSubscription);\n        }\n      }\n    }\n  }\n\n  clearThrottle() {\n    const { value, hasValue, throttled } = this;\n    if (throttled) {\n      this.remove(throttled);\n      this.throttled = null;\n      throttled.unsubscribe();\n    }\n    if (hasValue) {\n      this.value = null;\n      this.hasValue = false;\n      this.destination.next(value);\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R, outerIndex: number, innerIndex: number): void {\n    this.clearThrottle();\n  }\n\n  notifyComplete(): void {\n    this.clearThrottle();\n  }\n}\n","import { isArray } from '../util/isArray';\n\nexport function isNumeric(val: any): val is number {\n  // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n  // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n  // subtraction forces infinities to NaN\n  // adding 1 corrects loss of precision from parseFloat (#15100)\n  return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n};\n","import { isNumeric } from '../util/isNumeric';\nimport { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isDate } from '../util/isDate';\nimport { TeardownLogic } from '../Subscription';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class TimerObservable extends Observable<number> {\n\n  /**\n   * Creates an Observable that starts emitting after an `initialDelay` and\n   * emits ever increasing numbers after each `period` of time thereafter.\n   *\n   * <span class=\"informal\">Its like {@link interval}, but you can specify when\n   * should the emissions start.</span>\n   *\n   * <img src=\"./img/timer.png\" width=\"100%\">\n   *\n   * `timer` returns an Observable that emits an infinite sequence of ascending\n   * integers, with a constant interval of time, `period` of your choosing\n   * between those emissions. The first emission happens after the specified\n   * `initialDelay`. The initial delay may be a {@link Date}. By default, this\n   * operator uses the `async` IScheduler to provide a notion of time, but you\n   * may pass any IScheduler to it. If `period` is not specified, the output\n   * Observable emits only one value, `0`. Otherwise, it emits an infinite\n   * sequence.\n   *\n   * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>\n   * var numbers = Rx.Observable.timer(3000, 1000);\n   * numbers.subscribe(x => console.log(x));\n   *\n   * @example <caption>Emits one number after five seconds</caption>\n   * var numbers = Rx.Observable.timer(5000);\n   * numbers.subscribe(x => console.log(x));\n   *\n   * @see {@link interval}\n   * @see {@link delay}\n   *\n   * @param {number|Date} initialDelay The initial delay time to wait before\n   * emitting the first value of `0`.\n   * @param {number} [period] The period of time between emissions of the\n   * subsequent numbers.\n   * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n   * the emission of values, and providing a notion of \"time\".\n   * @return {Observable} An Observable that emits a `0` after the\n   * `initialDelay` and ever increasing numbers after each `period` of time\n   * thereafter.\n   * @static true\n   * @name timer\n   * @owner Observable\n   */\n  static create(initialDelay: number | Date = 0,\n                period?: number | IScheduler,\n                scheduler?: IScheduler): Observable<number> {\n    return new TimerObservable(initialDelay, period, scheduler);\n  }\n\n  static dispatch(state: any) {\n\n    const { index, period, subscriber } = state;\n    const action = (<any> this);\n\n    subscriber.next(index);\n\n    if (subscriber.closed) {\n      return;\n    } else if (period === -1) {\n      return subscriber.complete();\n    }\n\n    state.index = index + 1;\n    action.schedule(state, period);\n  }\n\n  private period: number = -1;\n  private dueTime: number = 0;\n  private scheduler: IScheduler;\n\n  constructor(dueTime: number | Date = 0,\n              period?: number | IScheduler,\n              scheduler?: IScheduler) {\n    super();\n\n    if (isNumeric(period)) {\n      this.period = Number(period) < 1 && 1 || Number(period);\n    } else if (isScheduler(period)) {\n      scheduler = <IScheduler> period;\n    }\n\n    if (!isScheduler(scheduler)) {\n      scheduler = async;\n    }\n\n    this.scheduler = scheduler;\n    this.dueTime = isDate(dueTime) ?\n      (+dueTime - this.scheduler.now()) :\n      (<number> dueTime);\n  }\n\n  protected _subscribe(subscriber: Subscriber<number>): TeardownLogic {\n    const index = 0;\n    const { period, dueTime, scheduler } = this;\n\n    return scheduler.schedule(TimerObservable.dispatch, dueTime, {\n      index, period, subscriber\n    });\n  }\n}\n","import {  TimerObservable  } from './TimerObservable';\n\nexport const timer = TimerObservable.create;","import { async } from '../scheduler/async';\nimport { IScheduler } from '../Scheduler';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * <img src=\"./img/auditTime.png\" width=\"100%\">\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.auditTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nexport function auditTime<T>(duration: number, scheduler: IScheduler = async): MonoTypeOperatorFunction<T> {\n  return audit(() => timer(duration, scheduler));\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic } from '../Subscription';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits something. Then, it completes.</span>\n *\n * <img src=\"./img/takeUntil.png\" width=\"100%\">\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value or a complete notification, the output Observable stops\n * mirroring the source Observable and completes.\n *\n * @example <caption>Tick every second until the first click happens</caption>\n * var interval = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = interval.takeUntil(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nexport function takeUntil<T>(notifier: Observable<any>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new TakeUntilOperator(notifier));\n}\n\nclass TakeUntilOperator<T> implements Operator<T, T> {\n  constructor(private notifier: Observable<any>) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeUntilSubscriber(subscriber, this.notifier));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeUntilSubscriber<T, R> extends OuterSubscriber<T, R> {\n\n  constructor(destination: Subscriber<any>,\n              private notifier: Observable<any>) {\n    super(destination);\n    this.add(subscribeToResult(this, notifier));\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.complete();\n  }\n\n  notifyComplete(): void {\n    // noop\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  AfterViewInit,\n  DoCheck,\n  OnDestroy,\n  NgZone,\n} from '@angular/core';\nimport {Platform} from '@angular/cdk/platform';\nimport {fromEvent} from 'rxjs/observable/fromEvent';\nimport {auditTime} from 'rxjs/operators/auditTime';\nimport {takeUntil} from 'rxjs/operators/takeUntil';\nimport {Subject} from 'rxjs/Subject';\n\n\n/**\n * Directive to automatically resize a textarea to fit its content.\n */\n@Directive({\n  selector: `textarea[mat-autosize], textarea[matTextareaAutosize]`,\n  exportAs: 'matTextareaAutosize',\n  host: {\n    'class': 'mat-autosize',\n    // Textarea elements that have the directive applied should have a single row by default.\n    // Browsers normally show two rows by default and therefore this limits the minRows binding.\n    'rows': '1',\n  },\n})\nexport class MatTextareaAutosize implements AfterViewInit, DoCheck, OnDestroy {\n  /** Keep track of the previous textarea value to avoid resizing when the value hasn't changed. */\n  private _previousValue: string;\n  private _destroyed = new Subject<void>();\n\n  private _minRows: number;\n  private _maxRows: number;\n\n  /** Minimum amount of rows in the textarea. */\n  @Input('matAutosizeMinRows')\n  get minRows() { return this._minRows; }\n  set minRows(value: number) {\n    this._minRows = value;\n    this._setMinHeight();\n  }\n\n  /** Maximum amount of rows in the textarea. */\n  @Input('matAutosizeMaxRows')\n  get maxRows() { return this._maxRows; }\n  set maxRows(value: number) {\n    this._maxRows = value;\n    this._setMaxHeight();\n  }\n\n  /** Cached height of a textarea with a single row. */\n  private _cachedLineHeight: number;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _platform: Platform,\n    private _ngZone?: NgZone) {}\n\n  // TODO(crisbeto): make the `_ngZone` a required param in the next major version.\n\n  /** Sets the minimum height of the textarea as determined by minRows. */\n  _setMinHeight(): void {\n    const minHeight = this.minRows && this._cachedLineHeight ?\n        `${this.minRows * this._cachedLineHeight}px` : null;\n\n    if (minHeight)  {\n      this._setTextareaStyle('minHeight', minHeight);\n    }\n  }\n\n  /** Sets the maximum height of the textarea as determined by maxRows. */\n  _setMaxHeight(): void {\n    const maxHeight = this.maxRows && this._cachedLineHeight ?\n        `${this.maxRows * this._cachedLineHeight}px` : null;\n\n    if (maxHeight) {\n      this._setTextareaStyle('maxHeight', maxHeight);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this._platform.isBrowser) {\n      this.resizeToFitContent();\n\n      if (this._ngZone) {\n        this._ngZone.runOutsideAngular(() => {\n          fromEvent(window, 'resize')\n            .pipe(auditTime(16), takeUntil(this._destroyed))\n            .subscribe(() => this.resizeToFitContent(true));\n        });\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** Sets a style property on the textarea element. */\n  private _setTextareaStyle(property: string, value: string): void {\n    const textarea = this._elementRef.nativeElement as HTMLTextAreaElement;\n    textarea.style[property] = value;\n  }\n\n  /**\n   * Cache the height of a single-row textarea if it has not already been cached.\n   *\n   * We need to know how large a single \"row\" of a textarea is in order to apply minRows and\n   * maxRows. For the initial version, we will assume that the height of a single line in the\n   * textarea does not ever change.\n   */\n  private _cacheTextareaLineHeight(): void {\n    if (this._cachedLineHeight) {\n      return;\n    }\n\n    let textarea = this._elementRef.nativeElement as HTMLTextAreaElement;\n\n    // Use a clone element because we have to override some styles.\n    let textareaClone = textarea.cloneNode(false) as HTMLTextAreaElement;\n    textareaClone.rows = 1;\n\n    // Use `position: absolute` so that this doesn't cause a browser layout and use\n    // `visibility: hidden` so that nothing is rendered. Clear any other styles that\n    // would affect the height.\n    textareaClone.style.position = 'absolute';\n    textareaClone.style.visibility = 'hidden';\n    textareaClone.style.border = 'none';\n    textareaClone.style.padding = '0';\n    textareaClone.style.height = '';\n    textareaClone.style.minHeight = '';\n    textareaClone.style.maxHeight = '';\n\n    // In Firefox it happens that textarea elements are always bigger than the specified amount\n    // of rows. This is because Firefox tries to add extra space for the horizontal scrollbar.\n    // As a workaround that removes the extra space for the scrollbar, we can just set overflow\n    // to hidden. This ensures that there is no invalid calculation of the line height.\n    // See Firefox bug report: https://bugzilla.mozilla.org/show_bug.cgi?id=33654\n    textareaClone.style.overflow = 'hidden';\n\n    textarea.parentNode!.appendChild(textareaClone);\n    this._cachedLineHeight = textareaClone.clientHeight;\n    textarea.parentNode!.removeChild(textareaClone);\n\n    // Min and max heights have to be re-calculated if the cached line height changes\n    this._setMinHeight();\n    this._setMaxHeight();\n  }\n\n  ngDoCheck() {\n    if (this._platform.isBrowser) {\n      this.resizeToFitContent();\n    }\n  }\n\n  /**\n   * Resize the textarea to fit its content.\n   * @param force Whether to force a height recalculation. By default the height will be\n   *    recalculated only if the value changed since the last call.\n   */\n  resizeToFitContent(force: boolean = false) {\n    this._cacheTextareaLineHeight();\n\n    // If we haven't determined the line-height yet, we know we're still hidden and there's no point\n    // in checking the height of the textarea.\n    if (!this._cachedLineHeight) {\n      return;\n    }\n\n    const textarea = this._elementRef.nativeElement as HTMLTextAreaElement;\n    const value = textarea.value;\n\n    // Only resize of the value changed since these calculations can be expensive.\n    if (value === this._previousValue && !force) {\n      return;\n    }\n\n    const placeholderText = textarea.placeholder;\n\n    // Reset the textarea height to auto in order to shrink back to its default size.\n    // Also temporarily force overflow:hidden, so scroll bars do not interfere with calculations.\n    // Long placeholders that are wider than the textarea width may lead to a bigger scrollHeight\n    // value. To ensure that the scrollHeight is not bigger than the content, the placeholders\n    // need to be removed temporarily.\n    textarea.style.height = 'auto';\n    textarea.style.overflow = 'hidden';\n    textarea.placeholder = '';\n\n    // Use the scrollHeight to know how large the textarea *would* be if fit its entire value.\n    textarea.style.height = `${textarea.scrollHeight}px`;\n    textarea.style.overflow = '';\n    textarea.placeholder = placeholderText;\n\n    this._previousValue = value;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @docs-private */\nexport function getMatInputUnsupportedTypeError(type: string): Error {\n  return Error(`Input type \"${type}\" isn't supported by matInput.`);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n\n/**\n * This token is used to inject the object whose value should be set into `MatInput`. If none is\n * provided, the native `HTMLInputElement` is used. Directives like `MatDatepickerInput` can provide\n * themselves for this token, in order to make `MatInput` delegate the getting and setting of the\n * value to them.\n */\nexport const MAT_INPUT_VALUE_ACCESSOR =\n    new InjectionToken<{value: any}>('MAT_INPUT_VALUE_ACCESSOR');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {getSupportedInputTypes, Platform} from '@angular/cdk/platform';\nimport {\n  Directive,\n  DoCheck,\n  ElementRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Self,\n} from '@angular/core';\nimport {FormGroupDirective, NgControl, NgForm} from '@angular/forms';\nimport {ErrorStateMatcher, mixinErrorState, CanUpdateErrorState} from '@angular/material/core';\nimport {MatFormFieldControl} from '@angular/material/form-field';\nimport {Subject} from 'rxjs/Subject';\nimport {getMatInputUnsupportedTypeError} from './input-errors';\nimport {MAT_INPUT_VALUE_ACCESSOR} from './input-value-accessor';\n\n\n// Invalid input type. Using one of these will throw an MatInputUnsupportedTypeError.\nconst MAT_INPUT_INVALID_TYPES = [\n  'button',\n  'checkbox',\n  'file',\n  'hidden',\n  'image',\n  'radio',\n  'range',\n  'reset',\n  'submit'\n];\n\nlet nextUniqueId = 0;\n\n// Boilerplate for applying mixins to MatInput.\n/** @docs-private */\nexport class MatInputBase {\n  constructor(public _defaultErrorStateMatcher: ErrorStateMatcher,\n              public _parentForm: NgForm,\n              public _parentFormGroup: FormGroupDirective,\n              public ngControl: NgControl) {}\n}\nexport const _MatInputMixinBase = mixinErrorState(MatInputBase);\n\n/** Directive that allows a native input to work inside a `MatFormField`. */\n@Directive({\n  selector: `input[matInput], textarea[matInput]`,\n  exportAs: 'matInput',\n  host: {\n    'class': 'mat-input-element mat-form-field-autofill-control',\n    '[class.mat-input-server]': '_isServer',\n    // Native input properties that are overwritten by Angular inputs need to be synced with\n    // the native input element. Otherwise property bindings for those don't work.\n    '[attr.id]': 'id',\n    '[placeholder]': 'placeholder',\n    '[disabled]': 'disabled',\n    '[required]': 'required',\n    '[readonly]': 'readonly',\n    '[attr.aria-describedby]': '_ariaDescribedby || null',\n    '[attr.aria-invalid]': 'errorState',\n    '[attr.aria-required]': 'required.toString()',\n    '(blur)': '_focusChanged(false)',\n    '(focus)': '_focusChanged(true)',\n    '(input)': '_onInput()',\n  },\n  providers: [{provide: MatFormFieldControl, useExisting: MatInput}],\n})\nexport class MatInput extends _MatInputMixinBase implements MatFormFieldControl<any>, OnChanges,\n    OnDestroy, DoCheck, CanUpdateErrorState {\n  /** Variables used as cache for getters and setters. */\n  protected _type = 'text';\n  protected _disabled = false;\n  protected _required = false;\n  protected _id: string;\n  protected _uid = `mat-input-${nextUniqueId++}`;\n  protected _previousNativeValue: any;\n  private _readonly = false;\n  private _inputValueAccessor: {value: any};\n\n  /** Whether the input is focused. */\n  focused = false;\n\n  /** The aria-describedby attribute on the input for improved a11y. */\n  _ariaDescribedby: string;\n\n  /** Whether the component is being rendered on the server. */\n  _isServer = false;\n\n  /**\n   * Stream that emits whenever the state of the input changes such that the wrapping `MatFormField`\n   * needs to run change detection.\n   */\n  stateChanges = new Subject<void>();\n\n  /** A name for this control that can be used by `mat-form-field`. */\n  controlType = 'mat-input';\n\n  /** Whether the element is disabled. */\n  @Input()\n  get disabled() { return this.ngControl ? this.ngControl.disabled : this._disabled; }\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n\n    // Browsers may not fire the blur event if the input is disabled too quickly.\n    // Reset from here to ensure that the element doesn't become stuck.\n    if (this.focused) {\n      this.focused = false;\n      this.stateChanges.next();\n    }\n  }\n\n  /** Unique id of the element. */\n  @Input()\n  get id() { return this._id; }\n  set id(value: string) { this._id = value || this._uid; }\n\n  /** Placeholder attribute of the element. */\n  @Input() placeholder: string = '';\n\n  /** Whether the element is required. */\n  @Input()\n  get required() { return this._required; }\n  set required(value: any) { this._required = coerceBooleanProperty(value); }\n\n  /** Input type of the element. */\n  @Input()\n  get type() { return this._type; }\n  set type(value: string) {\n    this._type = value || 'text';\n    this._validateType();\n\n    // When using Angular inputs, developers are no longer able to set the properties on the native\n    // input element. To ensure that bindings for `type` work, we need to sync the setter\n    // with the native property. Textarea elements don't support the type property or attribute.\n    if (!this._isTextarea() && getSupportedInputTypes().has(this._type)) {\n      this._elementRef.nativeElement.type = this._type;\n    }\n  }\n\n  /** An object used to control when error messages are shown. */\n  @Input() errorStateMatcher: ErrorStateMatcher;\n\n  /** The input element's value. */\n  @Input()\n  get value(): any { return this._inputValueAccessor.value; }\n  set value(value: any) {\n    if (value !== this.value) {\n      this._inputValueAccessor.value = value;\n      this.stateChanges.next();\n    }\n  }\n\n  /** Whether the element is readonly. */\n  @Input()\n  get readonly() { return this._readonly; }\n  set readonly(value: any) { this._readonly = coerceBooleanProperty(value); }\n\n  protected _neverEmptyInputTypes = [\n    'date',\n    'datetime',\n    'datetime-local',\n    'month',\n    'time',\n    'week'\n  ].filter(t => getSupportedInputTypes().has(t));\n\n  constructor(protected _elementRef: ElementRef,\n              protected _platform: Platform,\n              @Optional() @Self() public ngControl: NgControl,\n              @Optional() _parentForm: NgForm,\n              @Optional() _parentFormGroup: FormGroupDirective,\n              _defaultErrorStateMatcher: ErrorStateMatcher,\n              @Optional() @Self() @Inject(MAT_INPUT_VALUE_ACCESSOR) inputValueAccessor: any) {\n    super(_defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl);\n    // If no input value accessor was explicitly specified, use the element as the input value\n    // accessor.\n    this._inputValueAccessor = inputValueAccessor || this._elementRef.nativeElement;\n\n    this._previousNativeValue = this.value;\n\n    // Force setter to be called in case id was not specified.\n    this.id = this.id;\n\n    // On some versions of iOS the caret gets stuck in the wrong place when holding down the delete\n    // key. In order to get around this we need to \"jiggle\" the caret loose. Since this bug only\n    // exists on iOS, we only bother to install the listener on iOS.\n    if (_platform.IOS) {\n      _elementRef.nativeElement.addEventListener('keyup', (event: Event) => {\n        let el = event.target as HTMLInputElement;\n        if (!el.value && !el.selectionStart && !el.selectionEnd) {\n          // Note: Just setting `0, 0` doesn't fix the issue. Setting `1, 1` fixes it for the first\n          // time that you type text and then hold delete. Toggling to `1, 1` and then back to\n          // `0, 0` seems to completely fix it.\n          el.setSelectionRange(1, 1);\n          el.setSelectionRange(0, 0);\n        }\n      });\n    }\n\n    this._isServer = !this._platform.isBrowser;\n  }\n\n  ngOnChanges() {\n    this.stateChanges.next();\n  }\n\n  ngOnDestroy() {\n    this.stateChanges.complete();\n  }\n\n  ngDoCheck() {\n    if (this.ngControl) {\n      // We need to re-evaluate this on every change detection cycle, because there are some\n      // error triggers that we can't subscribe to (e.g. parent form submissions). This means\n      // that whatever logic is in here has to be super lean or we risk destroying the performance.\n      this.updateErrorState();\n    } else {\n      // When the input isn't used together with `@angular/forms`, we need to check manually for\n      // changes to the native `value` property in order to update the floating label.\n      this._dirtyCheckNativeValue();\n    }\n  }\n\n  focus() { this._elementRef.nativeElement.focus(); }\n\n  /** Callback for the cases where the focused state of the input changes. */\n  _focusChanged(isFocused: boolean) {\n    if (isFocused !== this.focused && !this.readonly) {\n      this.focused = isFocused;\n      this.stateChanges.next();\n    }\n  }\n\n  _onInput() {\n    // This is a noop function and is used to let Angular know whenever the value changes.\n    // Angular will run a new change detection each time the `input` event has been dispatched.\n    // It's necessary that Angular recognizes the value change, because when floatingLabel\n    // is set to false and Angular forms aren't used, the placeholder won't recognize the\n    // value changes and will not disappear.\n    // Listening to the input event wouldn't be necessary when the input is using the\n    // FormsModule or ReactiveFormsModule, because Angular forms also listens to input events.\n  }\n\n  /** Does some manual dirty checking on the native input `value` property. */\n  protected _dirtyCheckNativeValue() {\n    const newValue = this.value;\n\n    if (this._previousNativeValue !== newValue) {\n      this._previousNativeValue = newValue;\n      this.stateChanges.next();\n    }\n  }\n\n  /** Make sure the input is a supported type. */\n  protected _validateType() {\n    if (MAT_INPUT_INVALID_TYPES.indexOf(this._type) > -1) {\n      throw getMatInputUnsupportedTypeError(this._type);\n    }\n  }\n\n  /** Checks whether the input type is one of the types that are never empty. */\n  protected _isNeverEmpty() {\n    return this._neverEmptyInputTypes.indexOf(this._type) > -1;\n  }\n\n  /** Checks whether the input is invalid based on the native validation. */\n  protected _isBadInput() {\n    // The `validity` property won't be present on platform-server.\n    let validity = (this._elementRef.nativeElement as HTMLInputElement).validity;\n    return validity && validity.badInput;\n  }\n\n  /** Determines if the component host is a textarea. If not recognizable it returns false. */\n  protected _isTextarea() {\n    let nativeElement = this._elementRef.nativeElement;\n\n    // In Universal, we don't have access to `nodeName`, but the same can be achieved with `name`.\n    // Note that this shouldn't be necessary once Angular switches to an API that resembles the\n    // DOM closer.\n    let nodeName = this._platform.isBrowser ? nativeElement.nodeName : nativeElement.name;\n    return nodeName ? nodeName.toLowerCase() === 'textarea' : false;\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  get empty(): boolean {\n    return !this._isNeverEmpty() && !this._elementRef.nativeElement.value && !this._isBadInput();\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  get shouldLabelFloat(): boolean { return this.focused || !this.empty; }\n\n  // Implemented as part of MatFormFieldControl.\n  setDescribedByIds(ids: string[]) { this._ariaDescribedby = ids.join(' '); }\n\n  // Implemented as part of MatFormFieldControl.\n  onContainerClick() { this.focus(); }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatTextareaAutosize} from './autosize';\nimport {MatInput} from './input';\nimport {ErrorStateMatcher} from '@angular/material/core';\n\n\n@NgModule({\n  declarations: [\n    MatInput,\n    MatTextareaAutosize,\n  ],\n  imports: [\n    CommonModule,\n    MatFormFieldModule,\n    PlatformModule,\n  ],\n  exports: [\n    // We re-export the `MatFormFieldModule` since `MatInput` will almost always\n    // be used together with `MatFormField`.\n    MatFormFieldModule,\n    MatInput,\n    MatTextareaAutosize,\n  ],\n  providers: [ErrorStateMatcher],\n})\nexport class MatInputModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor, FocusOrigin} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {\n  AfterViewInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {\n  CanColor,\n  CanDisable,\n  CanDisableRipple,\n  HasTabIndex,\n  MatRipple,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple,\n  mixinTabIndex,\n  RippleConfig,\n  RippleRef,\n} from '@angular/material/core';\nimport {MAT_CHECKBOX_CLICK_ACTION, MatCheckboxClickAction} from './checkbox-config';\n\n\n// Increasing integer for generating unique ids for checkbox components.\nlet nextUniqueId = 0;\n\n/**\n * Provider Expression that allows mat-checkbox to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)].\n * @docs-private\n */\nexport const MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatCheckbox),\n  multi: true\n};\n\n/**\n * Represents the different states that require custom transitions between them.\n * @docs-private\n */\nexport enum TransitionCheckState {\n  /** The initial state of the component before any user interaction. */\n  Init,\n  /** The state representing the component when it's becoming checked. */\n  Checked,\n  /** The state representing the component when it's becoming unchecked. */\n  Unchecked,\n  /** The state representing the component when it's becoming indeterminate. */\n  Indeterminate\n}\n\n/** Change event object emitted by MatCheckbox. */\nexport class MatCheckboxChange {\n  /** The source MatCheckbox of the event. */\n  source: MatCheckbox;\n  /** The new `checked` value of the checkbox. */\n  checked: boolean;\n}\n\n// Boilerplate for applying mixins to MatCheckbox.\n/** @docs-private */\nexport class MatCheckboxBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatCheckboxMixinBase =\n  mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(MatCheckboxBase)), 'accent'));\n\n\n/**\n * A material design checkbox component. Supports all of the functionality of an HTML5 checkbox,\n * and exposes a similar API. A MatCheckbox can be either checked, unchecked, indeterminate, or\n * disabled. Note that all additional accessibility attributes are taken care of by the component,\n * so there is no need to provide them yourself. However, if you want to omit a label and still\n * have the checkbox be accessible, you may supply an [aria-label] input.\n * See: https://www.google.com/design/spec/components/selection-controls.html\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-checkbox',\n  templateUrl: 'checkbox.html',\n  styleUrls: ['checkbox.css'],\n  exportAs: 'matCheckbox',\n  host: {\n    'class': 'mat-checkbox',\n    '[id]': 'id',\n    '[class.mat-checkbox-indeterminate]': 'indeterminate',\n    '[class.mat-checkbox-checked]': 'checked',\n    '[class.mat-checkbox-disabled]': 'disabled',\n    '[class.mat-checkbox-label-before]': 'labelPosition == \"before\"',\n  },\n  providers: [MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR],\n  inputs: ['disabled', 'disableRipple', 'color', 'tabIndex'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MatCheckbox extends _MatCheckboxMixinBase implements ControlValueAccessor,\n    AfterViewInit, OnDestroy, CanColor, CanDisable, HasTabIndex, CanDisableRipple {\n\n  /**\n   * Attached to the aria-label attribute of the host element. In most cases, arial-labelledby will\n   * take precedence so this may be omitted.\n   */\n  @Input('aria-label') ariaLabel: string = '';\n\n  /**\n   * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n   */\n  @Input('aria-labelledby') ariaLabelledby: string | null = null;\n\n  private _uniqueId: string = `mat-checkbox-${++nextUniqueId}`;\n\n  /** A unique id for the checkbox input. If none is supplied, it will be auto-generated. */\n  @Input() id: string = this._uniqueId;\n\n  /** Returns the unique id for the visual hidden input. */\n  get inputId(): string { return `${this.id || this._uniqueId}-input`; }\n\n  private _required: boolean;\n\n  /** Whether the checkbox is required. */\n  @Input()\n  get required(): boolean { return this._required; }\n  set required(value) { this._required = coerceBooleanProperty(value); }\n\n  /**\n   * Whether or not the checkbox should appear before or after the label.\n   * @deprecated\n   */\n  @Input()\n  get align(): 'start' | 'end' {\n    // align refers to the checkbox relative to the label, while labelPosition refers to the\n    // label relative to the checkbox. As such, they are inverted.\n    return this.labelPosition == 'after' ? 'start' : 'end';\n  }\n\n  set align(v) {\n    this.labelPosition = (v == 'start') ? 'after' : 'before';\n  }\n\n  /** Whether the label should appear after or before the checkbox. Defaults to 'after' */\n  @Input() labelPosition: 'before' | 'after' = 'after';\n\n  /** Name value will be applied to the input element if present */\n  @Input() name: string | null = null;\n\n  /** Event emitted when the checkbox's `checked` value changes. */\n  @Output() change: EventEmitter<MatCheckboxChange> = new EventEmitter<MatCheckboxChange>();\n\n  /** Event emitted when the checkbox's `indeterminate` value changes. */\n  @Output() indeterminateChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  /** The value attribute of the native input element */\n  @Input() value: string;\n\n  /** The native `<input type=\"checkbox\"> element */\n  @ViewChild('input') _inputElement: ElementRef;\n\n  /** Called when the checkbox is blurred. Needed to properly implement ControlValueAccessor. */\n  @ViewChild(MatRipple) _ripple: MatRipple;\n\n  /** Ripple configuration for the mouse ripples and focus indicators. */\n  _rippleConfig: RippleConfig = {centered: true, radius: 25, speedFactor: 1.5};\n\n  /**\n   * Called when the checkbox is blurred. Needed to properly implement ControlValueAccessor.\n   * @docs-private\n   */\n  onTouched: () => any = () => {};\n\n  private _currentAnimationClass: string = '';\n\n  private _currentCheckState: TransitionCheckState = TransitionCheckState.Init;\n\n  private _checked: boolean = false;\n\n  private _indeterminate: boolean = false;\n\n  private _controlValueAccessorChangeFn: (value: any) => void = () => {};\n\n  /** Reference to the focused state ripple. */\n  private _focusRipple: RippleRef | null;\n\n  constructor(elementRef: ElementRef,\n              private _changeDetectorRef: ChangeDetectorRef,\n              private _focusMonitor: FocusMonitor,\n              @Attribute('tabindex') tabIndex: string,\n              @Optional() @Inject(MAT_CHECKBOX_CLICK_ACTION)\n                  private _clickAction: MatCheckboxClickAction) {\n    super(elementRef);\n\n    this.tabIndex = parseInt(tabIndex) || 0;\n  }\n\n  ngAfterViewInit() {\n    this._focusMonitor\n      .monitor(this._inputElement.nativeElement, false)\n      .subscribe(focusOrigin => this._onInputFocusChange(focusOrigin));\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._inputElement.nativeElement);\n  }\n\n  /**\n   * Whether the checkbox is checked.\n   */\n  @Input() get checked() {\n    return this._checked;\n  }\n\n  set checked(checked: boolean) {\n    if (checked != this.checked) {\n      this._checked = checked;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /**\n   * Whether the checkbox is indeterminate. This is also known as \"mixed\" mode and can be used to\n   * represent a checkbox with three states, e.g. a checkbox that represents a nested list of\n   * checkable items. Note that whenever checkbox is manually clicked, indeterminate is immediately\n   * set to false.\n   */\n  @Input() get indeterminate() {\n    return this._indeterminate;\n  }\n\n  set indeterminate(indeterminate: boolean) {\n    let changed =  indeterminate != this._indeterminate;\n    this._indeterminate = indeterminate;\n\n    if (changed) {\n      if (this._indeterminate) {\n        this._transitionCheckState(TransitionCheckState.Indeterminate);\n      } else {\n        this._transitionCheckState(\n          this.checked ? TransitionCheckState.Checked : TransitionCheckState.Unchecked);\n      }\n      this.indeterminateChange.emit(this._indeterminate);\n    }\n  }\n\n  _isRippleDisabled() {\n    return this.disableRipple || this.disabled;\n  }\n\n  /** Method being called whenever the label text changes. */\n  _onLabelTextChange() {\n    // This method is getting called whenever the label of the checkbox changes.\n    // Since the checkbox uses the OnPush strategy we need to notify it about the change\n    // that has been recognized by the cdkObserveContent directive.\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /**\n   * Sets the model value. Implemented as part of ControlValueAccessor.\n   * @param value Value to be set to the model.\n   */\n  writeValue(value: any) {\n    this.checked = !!value;\n  }\n\n  /**\n   * Registers a callback to be triggered when the value has changed.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Function to be called on change.\n   */\n  registerOnChange(fn: (value: any) => void) {\n    this._controlValueAccessorChangeFn = fn;\n  }\n\n  /**\n   * Registers a callback to be triggered when the control has been touched.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn Callback to be triggered when the checkbox is touched.\n   */\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  /**\n   * Sets the checkbox's disabled state. Implemented as a part of ControlValueAccessor.\n   * @param isDisabled Whether the checkbox should be disabled.\n   */\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n    this._changeDetectorRef.markForCheck();\n  }\n\n  _getAriaChecked(): 'true' | 'false' | 'mixed' {\n    return this.checked ? 'true' : (this.indeterminate ? 'mixed' : 'false');\n  }\n\n  private _transitionCheckState(newState: TransitionCheckState) {\n    let oldState = this._currentCheckState;\n    let element: HTMLElement = this._elementRef.nativeElement;\n\n    if (oldState === newState) {\n      return;\n    }\n    if (this._currentAnimationClass.length > 0) {\n      element.classList.remove(this._currentAnimationClass);\n    }\n\n    this._currentAnimationClass = this._getAnimationClassForCheckStateTransition(\n        oldState, newState);\n    this._currentCheckState = newState;\n\n    if (this._currentAnimationClass.length > 0) {\n      element.classList.add(this._currentAnimationClass);\n    }\n  }\n\n  private _emitChangeEvent() {\n    let event = new MatCheckboxChange();\n    event.source = this;\n    event.checked = this.checked;\n\n    this._controlValueAccessorChangeFn(this.checked);\n    this.change.emit(event);\n  }\n\n  /** Function is called whenever the focus changes for the input element. */\n  private _onInputFocusChange(focusOrigin: FocusOrigin) {\n    if (!this._focusRipple && focusOrigin === 'keyboard') {\n      this._focusRipple = this._ripple.launch(0, 0, {persistent: true, ...this._rippleConfig});\n    } else if (!focusOrigin) {\n      this._removeFocusRipple();\n      this.onTouched();\n    }\n  }\n\n  /** Toggles the `checked` state of the checkbox. */\n  toggle(): void {\n    this.checked = !this.checked;\n  }\n\n  /**\n   * Event handler for checkbox input element.\n   * Toggles checked state if element is not disabled.\n   * Do not toggle on (change) event since IE doesn't fire change event when\n   *   indeterminate checkbox is clicked.\n   * @param event\n   */\n  _onInputClick(event: Event) {\n    // We have to stop propagation for click events on the visual hidden input element.\n    // By default, when a user clicks on a label element, a generated click event will be\n    // dispatched on the associated input element. Since we are using a label element as our\n    // root container, the click event on the `checkbox` will be executed twice.\n    // The real click event will bubble up, and the generated click event also tries to bubble up.\n    // This will lead to multiple click events.\n    // Preventing bubbling for the second event will solve that issue.\n    event.stopPropagation();\n\n    // If resetIndeterminate is false, and the current state is indeterminate, do nothing on click\n    if (!this.disabled && this._clickAction !== 'noop') {\n      // When user manually click on the checkbox, `indeterminate` is set to false.\n      if (this.indeterminate && this._clickAction !== 'check') {\n\n        Promise.resolve().then(() => {\n          this._indeterminate = false;\n          this.indeterminateChange.emit(this._indeterminate);\n        });\n      }\n\n      this.toggle();\n      this._transitionCheckState(\n          this._checked ? TransitionCheckState.Checked : TransitionCheckState.Unchecked);\n\n      // Emit our custom change event if the native input emitted one.\n      // It is important to only emit it, if the native input triggered one, because\n      // we don't want to trigger a change event, when the `checked` variable changes for example.\n      this._emitChangeEvent();\n    } else if (!this.disabled && this._clickAction === 'noop') {\n      // Reset native input when clicked with noop. The native checkbox becomes checked after\n      // click, reset it to be align with `checked` value of `mat-checkbox`.\n      this._inputElement.nativeElement.checked = this.checked;\n      this._inputElement.nativeElement.indeterminate = this.indeterminate;\n    }\n  }\n\n  /** Focuses the checkbox. */\n  focus(): void {\n    this._focusMonitor.focusVia(this._inputElement.nativeElement, 'keyboard');\n  }\n\n  _onInteractionEvent(event: Event) {\n    // We always have to stop propagation on the change event.\n    // Otherwise the change event, from the input element, will bubble up and\n    // emit its event object to the `change` output.\n    event.stopPropagation();\n  }\n\n  private _getAnimationClassForCheckStateTransition(\n      oldState: TransitionCheckState, newState: TransitionCheckState): string {\n    let animSuffix: string = '';\n\n    switch (oldState) {\n      case TransitionCheckState.Init:\n        // Handle edge case where user interacts with checkbox that does not have [(ngModel)] or\n        // [checked] bound to it.\n        if (newState === TransitionCheckState.Checked) {\n          animSuffix = 'unchecked-checked';\n        } else if (newState == TransitionCheckState.Indeterminate) {\n          animSuffix = 'unchecked-indeterminate';\n        } else {\n          return '';\n        }\n        break;\n      case TransitionCheckState.Unchecked:\n        animSuffix = newState === TransitionCheckState.Checked ?\n            'unchecked-checked' : 'unchecked-indeterminate';\n        break;\n      case TransitionCheckState.Checked:\n        animSuffix = newState === TransitionCheckState.Unchecked ?\n            'checked-unchecked' : 'checked-indeterminate';\n        break;\n      case TransitionCheckState.Indeterminate:\n        animSuffix = newState === TransitionCheckState.Checked ?\n            'indeterminate-checked' : 'indeterminate-unchecked';\n        break;\n    }\n\n    return `mat-checkbox-anim-${animSuffix}`;\n  }\n\n  /** Fades out the focus state ripple. */\n  private _removeFocusRipple(): void {\n    if (this._focusRipple) {\n      this._focusRipple.fadeOut();\n      this._focusRipple = null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  forwardRef,\n  Provider,\n} from '@angular/core';\nimport {\n  CheckboxRequiredValidator,\n  NG_VALIDATORS,\n} from '@angular/forms';\n\nexport const MAT_CHECKBOX_REQUIRED_VALIDATOR: Provider = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => MatCheckboxRequiredValidator),\n  multi: true\n};\n\n/**\n * Validator for Material checkbox's required attribute in template-driven checkbox.\n * Current CheckboxRequiredValidator only work with `input type=checkbox` and does not\n * work with `mat-checkbox`.\n */\n@Directive({\n  selector: `mat-checkbox[required][formControlName],\n             mat-checkbox[required][formControl], mat-checkbox[required][ngModel]`,\n  providers: [MAT_CHECKBOX_REQUIRED_VALIDATOR],\n  host: {'[attr.required]': 'required ? \"\" : null'}\n})\nexport class MatCheckboxRequiredValidator extends CheckboxRequiredValidator {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusableOption} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {BACKSPACE, DELETE, SPACE} from '@angular/cdk/keycodes';\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n} from '@angular/core';\nimport {CanColor, CanDisable, mixinColor, mixinDisabled} from '@angular/material/core';\nimport {Subject} from 'rxjs/Subject';\n\n\n/** Represents an event fired on an individual `mat-chip`. */\nexport interface MatChipEvent {\n  /** The chip the event was fired on. */\n  chip: MatChip;\n}\n\n/** Event object emitted by MatChip when selected or deselected. */\nexport class MatChipSelectionChange {\n  constructor(\n    /** Reference to the chip that emitted the event. */\n    public source: MatChip,\n    /** Whether the chip that emitted the event is selected. */\n    public selected: boolean,\n    /** Whether the selection change was a result of a user interaction. */\n    public isUserInput = false) { }\n}\n\n\n// Boilerplate for applying mixins to MatChip.\n/** @docs-private */\nexport class MatChipBase {\n  constructor(public _elementRef: ElementRef) {}\n}\n\nexport const _MatChipMixinBase = mixinColor(mixinDisabled(MatChipBase), 'primary');\n\n\n/**\n * Dummy directive to add CSS class to basic chips.\n * @docs-private\n */\n@Directive({\n  selector: `mat-basic-chip, [mat-basic-chip]`,\n  host: {'class': 'mat-basic-chip'},\n})\nexport class MatBasicChip {\n}\n\n/**\n * Material design styled Chip component. Used inside the MatChipList component.\n */\n@Directive({\n  selector: `mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]`,\n  inputs: ['color', 'disabled'],\n  exportAs: 'matChip',\n  host: {\n    'class': 'mat-chip',\n    '[attr.tabindex]': 'disabled ? null : -1',\n    'role': 'option',\n    '[class.mat-chip-selected]': 'selected',\n    '[attr.disabled]': 'disabled || null',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-selected]': 'ariaSelected',\n    '(click)': '_handleClick($event)',\n    '(keydown)': '_handleKeydown($event)',\n    '(focus)': '_hasFocus = true',\n    '(blur)': '_blur()',\n  },\n\n})\nexport class MatChip extends _MatChipMixinBase implements FocusableOption, OnDestroy, CanColor,\n    CanDisable {\n\n  protected _value: any;\n\n  protected _selected: boolean = false;\n\n  protected _selectable: boolean = true;\n\n  protected _removable: boolean = true;\n\n  /** Whether the chip has focus. */\n  _hasFocus: boolean = false;\n\n  /** Whether the chip is selected. */\n  @Input()\n  get selected(): boolean {\n    return this._selected;\n  }\n  set selected(value: boolean) {\n    this._selected = coerceBooleanProperty(value);\n    this.selectionChange.emit({\n      source: this,\n      isUserInput: false,\n      selected: value\n    });\n  }\n  /** The value of the chip. Defaults to the content inside <mat-chip> tags. */\n  @Input()\n  get value(): any {\n    return this._value != undefined\n      ? this._value\n      : this._elementRef.nativeElement.textContent;\n  }\n  set value(newValue: any) {\n    this._value = newValue;\n  }\n\n  /**\n   * Whether or not the chips are selectable. When a chip is not selectable,\n   * changes to it's selected state are always ignored.\n   */\n  @Input() get selectable(): boolean {\n    return this._selectable;\n  }\n\n\n  set selectable(value: boolean) {\n    this._selectable = coerceBooleanProperty(value);\n  }\n\n  /**\n   * Determines whether or not the chip displays the remove styling and emits (remove) events.\n   */\n  @Input() get removable(): boolean {\n    return this._removable;\n  }\n\n\n  set removable(value: boolean) {\n    this._removable = coerceBooleanProperty(value);\n  }\n\n  /** Emits when the chip is focused. */\n  _onFocus = new Subject<MatChipEvent>();\n\n  /** Emits when the chip is blured. */\n  _onBlur = new Subject<MatChipEvent>();\n\n  /** Emitted when the chip is selected or deselected. */\n  @Output() selectionChange = new EventEmitter<MatChipSelectionChange>();\n\n  /** Emitted when the chip is destroyed. */\n  @Output() destroyed = new EventEmitter<MatChipEvent>();\n\n  /**\n   * Emitted when the chip is destroyed.\n   * @deprecated Use 'destroyed' instead.\n   */\n  @Output() destroy = this.destroyed;\n\n  /** Emitted when a chip is to be removed. */\n  @Output() removed = new EventEmitter<MatChipEvent>();\n\n  /**\n   * Emitted when a chip is to be removed.\n   * @deprecated Use `removed` instead.\n   */\n  @Output('remove') onRemove = this.removed;\n\n  get ariaSelected(): string | null {\n    return this.selectable ? this.selected.toString() : null;\n  }\n\n  constructor(public _elementRef: ElementRef) {\n    super(_elementRef);\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed.emit({chip: this});\n  }\n\n  /** Selects the chip. */\n  select(): void {\n    this._selected = true;\n    this.selectionChange.emit({\n      source: this,\n      isUserInput: false,\n      selected: true\n    });\n  }\n\n  /** Deselects the chip. */\n  deselect(): void {\n    this._selected = false;\n    this.selectionChange.emit({\n      source: this,\n      isUserInput: false,\n      selected: false\n    });\n  }\n\n  /** Select this chip and emit selected event */\n  selectViaInteraction(): void {\n    this._selected = true;\n    // Emit select event when selected changes.\n    this.selectionChange.emit({\n      source: this,\n      isUserInput: true,\n      selected: true\n    });\n  }\n\n  /** Toggles the current selected state of this chip. */\n  toggleSelected(isUserInput: boolean = false): boolean {\n    this._selected = !this.selected;\n\n    this.selectionChange.emit({\n      source: this,\n      isUserInput,\n      selected: this._selected\n    });\n\n    return this.selected;\n  }\n\n  /** Allows for programmatic focusing of the chip. */\n  focus(): void {\n    this._elementRef.nativeElement.focus();\n    this._onFocus.next({chip: this});\n  }\n\n  /**\n   * Allows for programmatic removal of the chip. Called by the MatChipList when the DELETE or\n   * BACKSPACE keys are pressed.\n   *\n   * Informs any listeners of the removal request. Does not remove the chip from the DOM.\n   */\n  remove(): void {\n    if (this.removable) {\n      this.removed.emit({chip: this});\n    }\n  }\n\n  /** Ensures events fire properly upon click. */\n  _handleClick(event: Event) {\n    // Check disabled\n    if (this.disabled) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.focus();\n  }\n\n  /** Handle custom key presses. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (this.disabled) {\n      return;\n    }\n\n    switch (event.keyCode) {\n      case DELETE:\n      case BACKSPACE:\n        // If we are removable, remove the focused chip\n        this.remove();\n        // Always prevent so page navigation does not occur\n        event.preventDefault();\n        break;\n      case SPACE:\n        // If we are selectable, toggle the focused chip\n        if (this.selectable) {\n          this.toggleSelected(true);\n        }\n\n        // Always prevent space from scrolling the page since the list has focus\n        event.preventDefault();\n        break;\n    }\n  }\n\n  _blur(): void {\n    this._hasFocus = false;\n    this._onBlur.next({chip: this});\n  }\n}\n\n\n/**\n * Applies proper (click) support and adds styling for use with the Material Design \"cancel\" icon\n * available at https://material.io/icons/#ic_cancel.\n *\n * Example:\n *\n *     <mat-chip>\n *       <mat-icon matChipRemove>cancel</mat-icon>\n *     </mat-chip>\n *\n * You *may* use a custom icon, but you may need to override the `mat-chip-remove` positioning\n * styles to properly center the icon within the chip.\n */\n@Directive({\n  selector: '[matChipRemove]',\n  host: {\n    'class': 'mat-chip-remove',\n    '(click)': '_handleClick()',\n  }\n})\nexport class MatChipRemove {\n  constructor(protected _parentChip: MatChip) {\n  }\n\n  /** Calls the parent chip's public `remove()` method if applicable. */\n  _handleClick(): void {\n    if (this._parentChip.removable) {\n      this._parentChip.remove();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusKeyManager} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {BACKSPACE, LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  Self,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormGroupDirective,\n  NgControl,\n  NgForm\n} from '@angular/forms';\nimport {ErrorStateMatcher, mixinErrorState, CanUpdateErrorState} from '@angular/material/core';\nimport {MatFormFieldControl} from '@angular/material/form-field';\nimport {Observable} from 'rxjs/Observable';\nimport {merge} from 'rxjs/observable/merge';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatChip, MatChipEvent, MatChipSelectionChange} from './chip';\nimport {MatChipInput} from './chip-input';\n\n// Boilerplate for applying mixins to MatChipList.\n/** @docs-private */\nexport class MatChipListBase {\n  constructor(public _defaultErrorStateMatcher: ErrorStateMatcher,\n              public _parentForm: NgForm,\n              public _parentFormGroup: FormGroupDirective,\n              public ngControl: NgControl) {}\n}\nexport const _MatChipListMixinBase = mixinErrorState(MatChipListBase);\n\n\n// Increasing integer for generating unique ids for chip-list components.\nlet nextUniqueId = 0;\n\n/** Change event object that is emitted when the chip list value has changed. */\nexport class MatChipListChange {\n  constructor(\n    /** Chip list that emitted the event. */\n    public source: MatChipList,\n    /** Value of the chip list when the event was emitted. */\n    public value: any) { }\n}\n\n\n/**\n * A material design chips component (named ChipList for it's similarity to the List component).\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-chip-list',\n  template: `<div class=\"mat-chip-list-wrapper\"><ng-content></ng-content></div>`,\n  exportAs: 'matChipList',\n  host: {\n    '[attr.tabindex]': '_tabIndex',\n    '[attr.aria-describedby]': '_ariaDescribedby || null',\n    '[attr.aria-required]': 'required.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-invalid]': 'errorState',\n    '[attr.aria-multiselectable]': 'multiple',\n    '[attr.role]': 'role',\n    '[class.mat-chip-list-disabled]': 'disabled',\n    '[class.mat-chip-list-invalid]': 'errorState',\n    '[class.mat-chip-list-required]': 'required',\n    '[attr.aria-orientation]': 'ariaOrientation',\n    'class': 'mat-chip-list',\n    '(focus)': 'focus()',\n    '(blur)': '_blur()',\n    '(keydown)': '_keydown($event)'\n  },\n  providers: [{provide: MatFormFieldControl, useExisting: MatChipList}],\n  styleUrls: ['chips.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MatChipList extends _MatChipListMixinBase implements MatFormFieldControl<any>,\n    ControlValueAccessor, AfterContentInit, DoCheck, OnInit, OnDestroy, CanUpdateErrorState {\n  readonly controlType = 'mat-chip-list';\n\n  /** When a chip is destroyed, we track the index so we can focus the appropriate next chip. */\n  protected _lastDestroyedIndex: number|null = null;\n\n  /** Track which chips we're listening to for focus/destruction. */\n  protected _chipSet: WeakMap<MatChip, boolean> = new WeakMap();\n\n  /** Subscription to tabbing out from the chip list. */\n  private _tabOutSubscription = Subscription.EMPTY;\n\n  /** Subscription to changes in the chip list. */\n  private _changeSubscription: Subscription;\n\n  /** Subscription to focus changes in the chips. */\n  private _chipFocusSubscription: Subscription|null;\n\n  /** Subscription to blur changes in the chips. */\n  private _chipBlurSubscription: Subscription|null;\n\n  /** Subscription to selection changes in chips. */\n  private _chipSelectionSubscription: Subscription|null;\n\n  /** Subscription to remove changes in chips. */\n  private _chipRemoveSubscription: Subscription|null;\n\n  /** Whether or not the chip is selectable. */\n  protected _selectable: boolean = true;\n\n  /** Whether the component is in multiple selection mode. */\n  private _multiple: boolean = false;\n\n  /** The chip input to add more chips */\n  protected _chipInput: MatChipInput;\n\n  /** Id of the chip list */\n  protected _id: string;\n\n  /** Uid of the chip list */\n  protected _uid: string = `mat-chip-list-${nextUniqueId++}`;\n\n  /** Whether this is required */\n  protected _required: boolean = false;\n\n  /** Whether this is disabled */\n  protected _disabled: boolean = false;\n\n  protected _value: any;\n\n  /** Placeholder for the chip list. Alternatively, placeholder can be set on MatChipInput */\n  protected _placeholder: string;\n\n  /** The aria-describedby attribute on the chip list for improved a11y. */\n  _ariaDescribedby: string;\n\n  /** Tab index for the chip list. */\n  _tabIndex = 0;\n\n  /**\n   * User defined tab index.\n   * When it is not null, use user defined tab index. Otherwise use _tabIndex\n   */\n  _userTabIndex: number | null = null;\n\n  /** The FocusKeyManager which handles focus. */\n  _keyManager: FocusKeyManager<MatChip>;\n\n  /** Function when touched */\n  _onTouched = () => {};\n\n  /** Function when changed */\n  _onChange: (value: any) => void = () => {};\n\n  _selectionModel: SelectionModel<MatChip>;\n\n  /** Comparison function to specify which option is displayed. Defaults to object equality. */\n  private _compareWith = (o1: any, o2: any) => o1 === o2;\n\n  /** The array of selected chips inside chip list. */\n  get selected(): MatChip[] | MatChip {\n    return this.multiple ? this._selectionModel.selected : this._selectionModel.selected[0];\n  }\n\n  get role(): string|null {\n    return this.empty ? null : 'listbox';\n  }\n\n  /** An object used to control when error messages are shown. */\n  @Input() errorStateMatcher: ErrorStateMatcher;\n\n  /** Whether the user should be allowed to select multiple chips. */\n  @Input()\n  get multiple(): boolean { return this._multiple; }\n  set multiple(value: boolean) {\n    this._multiple = coerceBooleanProperty(value);\n  }\n\n  /**\n   * A function to compare the option values with the selected values. The first argument\n   * is a value from an option. The second is a value from the selection. A boolean\n   * should be returned.\n   */\n  @Input()\n  get compareWith() { return this._compareWith; }\n  set compareWith(fn: (o1: any, o2: any) => boolean) {\n    this._compareWith = fn;\n    if (this._selectionModel) {\n      // A different comparator means the selection could change.\n      this._initializeSelection();\n    }\n  }\n\n  /** Required for FormFieldControl */\n  @Input()\n  get value() { return this._value; }\n  set value(newValue: any) {\n    this.writeValue(newValue);\n    this._value = newValue;\n  }\n\n  /** Required for FormFieldControl. The ID of the chip list */\n  @Input()\n  set id(value: string) {\n    this._id = value;\n    this.stateChanges.next();\n  }\n  get id() { return this._id || this._uid; }\n\n  /** Required for FormFieldControl. Whether the chip list is required. */\n  @Input()\n  set required(value: any) {\n    this._required = coerceBooleanProperty(value);\n    this.stateChanges.next();\n  }\n  get required() {\n    return this._required;\n  }\n\n  /** For FormFieldControl. Use chip input's placholder if there's a chip input */\n  @Input()\n  set placeholder(value: string) {\n    this._placeholder = value;\n    this.stateChanges.next();\n  }\n  get placeholder() {\n    return this._chipInput ? this._chipInput.placeholder : this._placeholder;\n  }\n\n  /** Whether any chips or the matChipInput inside of this chip-list has focus. */\n  get focused(): boolean {\n    return this.chips.some(chip => chip._hasFocus) ||\n      (this._chipInput && this._chipInput.focused);\n  }\n\n  /** Whether this chip-list contains no chips and no matChipInput. */\n  get empty(): boolean {\n    return (!this._chipInput || this._chipInput.empty) && this.chips.length === 0;\n  }\n\n  get shouldLabelFloat(): boolean {\n    return !this.empty || this.focused;\n  }\n\n  /** Whether this chip-list is disabled. */\n  @Input()\n  get disabled() { return this.ngControl ? this.ngControl.disabled : this._disabled; }\n  set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n\n  /** Orientation of the chip list. */\n  @Input('aria-orientation') ariaOrientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  /**\n   * Whether or not this chip is selectable. When a chip is not selectable,\n   * its selected state is always ignored.\n   */\n  @Input()\n  get selectable(): boolean { return this._selectable; }\n  set selectable(value: boolean) { this._selectable = coerceBooleanProperty(value); }\n\n  @Input()\n  set tabIndex(value: number) {\n    this._userTabIndex = value;\n    this._tabIndex = value;\n  }\n\n  /** Combined stream of all of the child chips' selection change events. */\n  get chipSelectionChanges(): Observable<MatChipSelectionChange> {\n    return merge(...this.chips.map(chip => chip.selectionChange));\n  }\n\n  /** Combined stream of all of the child chips' focus change events. */\n  get chipFocusChanges(): Observable<MatChipEvent> {\n    return merge(...this.chips.map(chip => chip._onFocus));\n  }\n\n  /** Combined stream of all of the child chips' blur change events. */\n  get chipBlurChanges(): Observable<MatChipEvent> {\n    return merge(...this.chips.map(chip => chip._onBlur));\n  }\n\n  /** Combined stream of all of the child chips' remove change events. */\n  get chipRemoveChanges(): Observable<MatChipEvent> {\n    return merge(...this.chips.map(chip => chip.destroy));\n  }\n\n  /** Event emitted when the selected chip list value has been changed by the user. */\n  @Output() change: EventEmitter<MatChipListChange> = new EventEmitter<MatChipListChange>();\n\n  /**\n   * Event that emits whenever the raw value of the chip-list changes. This is here primarily\n   * to facilitate the two-way binding for the `value` input.\n   * @docs-private\n   */\n  @Output() valueChange = new EventEmitter<any>();\n\n  /** The chip components contained within this chip list. */\n  @ContentChildren(MatChip) chips: QueryList<MatChip>;\n\n  constructor(protected _elementRef: ElementRef,\n              private _changeDetectorRef: ChangeDetectorRef,\n              @Optional() private _dir: Directionality,\n              @Optional() _parentForm: NgForm,\n              @Optional() _parentFormGroup: FormGroupDirective,\n              _defaultErrorStateMatcher: ErrorStateMatcher,\n              @Optional() @Self() public ngControl: NgControl) {\n    super(_defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl);\n    if (this.ngControl) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  ngAfterContentInit(): void {\n\n    this._keyManager = new FocusKeyManager<MatChip>(this.chips).withWrap();\n\n    // Prevents the chip list from capturing focus and redirecting\n    // it back to the first chip when the user tabs out.\n    this._tabOutSubscription = this._keyManager.tabOut.subscribe(() => {\n      this._tabIndex = -1;\n      setTimeout(() => this._tabIndex = this._userTabIndex || 0);\n    });\n\n    // When the list changes, re-subscribe\n    this._changeSubscription = this.chips.changes.pipe(startWith(null)).subscribe(() => {\n      this._resetChips();\n\n      // Reset chips selected/deselected status\n      this._initializeSelection();\n\n      // Check to see if we need to update our tab index\n      this._updateTabIndex();\n\n      // Check to see if we have a destroyed chip and need to refocus\n      this._updateFocusForDestroyedChips();\n    });\n  }\n\n  ngOnInit() {\n    this._selectionModel = new SelectionModel<MatChip>(this.multiple, undefined, false);\n    this.stateChanges.next();\n  }\n\n  ngDoCheck() {\n    if (this.ngControl) {\n      // We need to re-evaluate this on every change detection cycle, because there are some\n      // error triggers that we can't subscribe to (e.g. parent form submissions). This means\n      // that whatever logic is in here has to be super lean or we risk destroying the performance.\n      this.updateErrorState();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._tabOutSubscription.unsubscribe();\n\n    if (this._changeSubscription) {\n      this._changeSubscription.unsubscribe();\n    }\n    this._dropSubscriptions();\n    this.stateChanges.complete();\n  }\n\n\n  /** Associates an HTML input element with this chip list. */\n  registerInput(inputElement: MatChipInput) {\n    this._chipInput = inputElement;\n  }\n\n  // Implemented as part of MatFormFieldControl.\n  setDescribedByIds(ids: string[]) { this._ariaDescribedby = ids.join(' '); }\n\n  // Implemented as part of ControlValueAccessor\n  writeValue(value: any): void {\n    if (this.chips) {\n      this._setSelectionByValue(value, false);\n    }\n  }\n\n  // Implemented as part of ControlValueAccessor\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChange = fn;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  registerOnTouched(fn: () => void): void {\n    this._onTouched = fn;\n  }\n\n  // Implemented as part of ControlValueAccessor\n  setDisabledState(disabled: boolean): void {\n    this.disabled = disabled;\n    this._elementRef.nativeElement.disabled = disabled;\n    this.stateChanges.next();\n  }\n\n  onContainerClick() {\n    this.focus();\n  }\n\n  /**\n   * Focuses the the first non-disabled chip in this chip list, or the associated input when there\n   * are no eligible chips.\n   */\n  focus() {\n    // TODO: ARIA says this should focus the first `selected` chip if any are selected.\n    // Focus on first element if there's no chipInput inside chip-list\n    if (this._chipInput && this._chipInput.focused) {\n      // do nothing\n    } else if (this.chips.length > 0) {\n      this._keyManager.setFirstItemActive();\n      this.stateChanges.next();\n    } else {\n      this._focusInput();\n      this.stateChanges.next();\n    }\n  }\n\n  /** Attempt to focus an input if we have one. */\n  _focusInput() {\n    if (this._chipInput) {\n      this._chipInput.focus();\n    }\n  }\n\n  /**\n   * Pass events to the keyboard manager. Available here for tests.\n   */\n  _keydown(event: KeyboardEvent) {\n    let code = event.keyCode;\n    let target = event.target as HTMLElement;\n    let isInputEmpty = this._isInputEmpty(target);\n    let isRtl = this._dir && this._dir.value == 'rtl';\n\n    let isPrevKey = (code === (isRtl ? RIGHT_ARROW : LEFT_ARROW));\n    let isNextKey = (code === (isRtl ? LEFT_ARROW : RIGHT_ARROW));\n    let isBackKey = code === BACKSPACE;\n    // If they are on an empty input and hit backspace, focus the last chip\n    if (isInputEmpty && isBackKey) {\n      this._keyManager.setLastItemActive();\n      event.preventDefault();\n      return;\n    }\n\n    // If they are on a chip, check for space/left/right, otherwise pass to our key manager (like\n    // up/down keys)\n    if (target && target.classList.contains('mat-chip')) {\n      if (isPrevKey) {\n        this._keyManager.setPreviousItemActive();\n        event.preventDefault();\n      } else if (isNextKey) {\n        this._keyManager.setNextItemActive();\n        event.preventDefault();\n      } else {\n        this._keyManager.onKeydown(event);\n      }\n    }\n    this.stateChanges.next();\n  }\n\n\n  /**\n   * Check the tab index as you should not be allowed to focus an empty list.\n   */\n  protected _updateTabIndex(): void {\n    // If we have 0 chips, we should not allow keyboard focus\n    this._tabIndex = this._userTabIndex || (this.chips.length === 0 ? -1 : 0);\n  }\n\n  /**\n   * Update key manager's active item when chip is deleted.\n   * If the deleted chip is the last chip in chip list, focus the new last chip.\n   * Otherwise focus the next chip in the list.\n   * Save `_lastDestroyedIndex` so we can set the correct focus.\n   */\n  protected _updateKeyManager(chip: MatChip) {\n    let chipIndex: number = this.chips.toArray().indexOf(chip);\n    if (this._isValidIndex(chipIndex)) {\n      if (chip._hasFocus) {\n        // Check whether the chip is not the last item\n        if (chipIndex < this.chips.length - 1) {\n          this._keyManager.setActiveItem(chipIndex);\n        } else if (chipIndex - 1 >= 0) {\n          this._keyManager.setActiveItem(chipIndex - 1);\n        }\n      }\n      if (this._keyManager.activeItemIndex === chipIndex) {\n        this._lastDestroyedIndex = chipIndex;\n      }\n    }\n  }\n\n  /**\n   * Checks to see if a focus chip was recently destroyed so that we can refocus the next closest\n   * one.\n   */\n  protected _updateFocusForDestroyedChips() {\n    let chipsArray = this.chips;\n\n    if (this._lastDestroyedIndex != null && chipsArray.length > 0) {\n      // Check whether the destroyed chip was the last item\n      const newFocusIndex = Math.min(this._lastDestroyedIndex, chipsArray.length - 1);\n      this._keyManager.setActiveItem(newFocusIndex);\n      let focusChip = this._keyManager.activeItem;\n      // Focus the chip\n      if (focusChip) {\n        focusChip.focus();\n      }\n    }\n\n    // Reset our destroyed index\n    this._lastDestroyedIndex = null;\n  }\n\n  /**\n   * Utility to ensure all indexes are valid.\n   *\n   * @param index The index to be checked.\n   * @returns True if the index is valid for our list of chips.\n   */\n  private _isValidIndex(index: number): boolean {\n    return index >= 0 && index < this.chips.length;\n  }\n\n  private _isInputEmpty(element: HTMLElement): boolean {\n    if (element && element.nodeName.toLowerCase() === 'input') {\n      let input = element as HTMLInputElement;\n      return !input.value;\n    }\n\n    return false;\n  }\n\n  _setSelectionByValue(value: any, isUserInput: boolean = true) {\n    this._clearSelection();\n    this.chips.forEach(chip => chip.deselect());\n\n    if (Array.isArray(value)) {\n      value.forEach(currentValue => this._selectValue(currentValue, isUserInput));\n      this._sortValues();\n    } else {\n      const correspondingChip = this._selectValue(value, isUserInput);\n\n      // Shift focus to the active item. Note that we shouldn't do this in multiple\n      // mode, because we don't know what chip the user interacted with last.\n      if (correspondingChip) {\n        const correspondingChipIndex = this.chips.toArray().indexOf(correspondingChip);\n\n        if (isUserInput) {\n          this._keyManager.setActiveItem(correspondingChipIndex);\n        } else {\n          this._keyManager.updateActiveItemIndex(correspondingChipIndex);\n        }\n\n      }\n    }\n  }\n\n  /**\n   * Finds and selects the chip based on its value.\n   * @returns Chip that has the corresponding value.\n   */\n  private _selectValue(value: any, isUserInput: boolean = true): MatChip | undefined {\n\n    const correspondingChip = this.chips.find(chip => {\n      return chip.value != null && this._compareWith(chip.value,  value);\n    });\n\n    if (correspondingChip) {\n      isUserInput ? correspondingChip.selectViaInteraction() : correspondingChip.select();\n      this._selectionModel.select(correspondingChip);\n    }\n\n    return correspondingChip;\n  }\n\n  private _initializeSelection(): void {\n    // Defer setting the value in order to avoid the \"Expression\n    // has changed after it was checked\" errors from Angular.\n    Promise.resolve().then(() => {\n      if (this.ngControl || this._value) {\n        this._setSelectionByValue(this.ngControl ? this.ngControl.value : this._value, false);\n        this.stateChanges.next();\n      }\n    });\n  }\n\n  /**\n   * Deselects every chip in the list.\n   * @param skip Chip that should not be deselected.\n   */\n  private _clearSelection(skip?: MatChip): void {\n    this._selectionModel.clear();\n    this.chips.forEach(chip => {\n      if (chip !== skip) {\n        chip.deselect();\n      }\n    });\n    this.stateChanges.next();\n  }\n\n  /**\n   * Sorts the model values, ensuring that they keep the same\n   * order that they have in the panel.\n   */\n  private _sortValues(): void {\n    if (this._multiple) {\n      this._selectionModel.clear();\n\n      this.chips.forEach(chip => {\n        if (chip.selected) {\n          this._selectionModel.select(chip);\n        }\n      });\n      this.stateChanges.next();\n    }\n  }\n\n  /** Emits change event to set the model value. */\n  private _propagateChanges(fallbackValue?: any): void {\n    let valueToEmit: any = null;\n\n    if (Array.isArray(this.selected)) {\n      valueToEmit = this.selected.map(chip => chip.value);\n    } else {\n      valueToEmit = this.selected ? this.selected.value : fallbackValue;\n    }\n    this._value = valueToEmit;\n    this.change.emit(new MatChipListChange(this, valueToEmit));\n    this.valueChange.emit(valueToEmit);\n    this._onChange(valueToEmit);\n    this._changeDetectorRef.markForCheck();\n  }\n\n  /** When blurred, mark the field as touched when focus moved outside the chip list. */\n  _blur() {\n    if (!this.disabled) {\n      if (this._chipInput) {\n        // If there's a chip input, we should check whether the focus moved to chip input.\n        // If the focus is not moved to chip input, mark the field as touched. If the focus moved\n        // to chip input, do nothing.\n        // Timeout is needed to wait for the focus() event trigger on chip input.\n        setTimeout(() => {\n          if (!this.focused) {\n            this._markAsTouched();\n          }\n        });\n      } else {\n        // If there's no chip input, then mark the field as touched.\n        this._markAsTouched();\n      }\n    }\n  }\n\n  /** Mark the field as touched */\n  _markAsTouched() {\n    this._onTouched();\n    this._changeDetectorRef.markForCheck();\n    this.stateChanges.next();\n  }\n\n  private _resetChips() {\n    this._dropSubscriptions();\n    this._listenToChipsFocus();\n    this._listenToChipsSelection();\n    this._listenToChipsRemoved();\n  }\n\n\n  private _dropSubscriptions() {\n    if (this._chipFocusSubscription) {\n      this._chipFocusSubscription.unsubscribe();\n      this._chipFocusSubscription = null;\n    }\n\n    if (this._chipBlurSubscription) {\n      this._chipBlurSubscription.unsubscribe();\n      this._chipBlurSubscription = null;\n    }\n\n    if (this._chipSelectionSubscription) {\n      this._chipSelectionSubscription.unsubscribe();\n      this._chipSelectionSubscription = null;\n    }\n  }\n\n  /** Listens to user-generated selection events on each chip. */\n  private _listenToChipsSelection(): void {\n    this._chipSelectionSubscription = this.chipSelectionChanges.subscribe(event => {\n      event.source.selected\n        ? this._selectionModel.select(event.source)\n        : this._selectionModel.deselect(event.source);\n\n      // For single selection chip list, make sure the deselected value is unselected.\n      if (!this.multiple) {\n        this.chips.forEach(chip => {\n          if (!this._selectionModel.isSelected(chip) && chip.selected) {\n            chip.deselect();\n          }\n        });\n      }\n\n      if (event.isUserInput) {\n        this._propagateChanges();\n      }\n    });\n  }\n\n  /** Listens to user-generated selection events on each chip. */\n  private _listenToChipsFocus(): void {\n    this._chipFocusSubscription = this.chipFocusChanges.subscribe(event => {\n      let chipIndex: number = this.chips.toArray().indexOf(event.chip);\n\n      if (this._isValidIndex(chipIndex)) {\n        this._keyManager.updateActiveItemIndex(chipIndex);\n      }\n      this.stateChanges.next();\n    });\n\n    this._chipBlurSubscription = this.chipBlurChanges.subscribe(_ => {\n      this._blur();\n      this.stateChanges.next();\n    });\n  }\n\n  private _listenToChipsRemoved(): void {\n    this._chipRemoveSubscription = this.chipRemoveChanges.subscribe((event) => {\n      this._updateKeyManager(event.chip);\n    });\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ENTER} from '@angular/cdk/keycodes';\nimport {Directive, ElementRef, EventEmitter, Input, Output} from '@angular/core';\nimport {MatChipList} from './chip-list';\n\n\n/** Represents an input event on a `matChipInput`. */\nexport interface MatChipInputEvent {\n  /** The native `<input>` element that the event is being fired for. */\n  input: HTMLInputElement;\n\n  /** The value of the input. */\n  value: string;\n}\n\n/**\n * Directive that adds chip-specific behaviors to an input element inside <mat-form-field>.\n * May be placed inside or outside of an <mat-chip-list>.\n */\n@Directive({\n  selector: 'input[matChipInputFor]',\n  exportAs: 'matChipInput, matChipInputFor',\n  host: {\n    'class': 'mat-chip-input mat-input-element',\n    '(keydown)': '_keydown($event)',\n    '(blur)': '_blur()',\n    '(focus)': '_focus()',\n    '(input)': '_onInput()',\n  }\n})\nexport class MatChipInput {\n  focused: boolean = false;\n  _chipList: MatChipList;\n\n  /** Register input for chip list */\n  @Input('matChipInputFor')\n  set chipList(value: MatChipList) {\n    if (value) {\n      this._chipList = value;\n      this._chipList.registerInput(this);\n    }\n  }\n\n  /**\n   * Whether or not the chipEnd event will be emitted when the input is blurred.\n   */\n  @Input('matChipInputAddOnBlur')\n  get addOnBlur() { return this._addOnBlur; }\n  set addOnBlur(value: boolean) { this._addOnBlur = coerceBooleanProperty(value); }\n  _addOnBlur: boolean = false;\n\n  /**\n   * The list of key codes that will trigger a chipEnd event.\n   *\n   * Defaults to `[ENTER]`.\n   */\n  // TODO(tinayuangao): Support Set here\n  @Input('matChipInputSeparatorKeyCodes') separatorKeyCodes: number[] = [ENTER];\n\n  /** Emitted when a chip is to be added. */\n  @Output('matChipInputTokenEnd')\n  chipEnd = new EventEmitter<MatChipInputEvent>();\n\n  /** The input's placeholder text. */\n  @Input() placeholder: string = '';\n\n  /** Whether the input is empty. */\n  get empty(): boolean {\n    let value: string | null = this._inputElement.value;\n    return (value == null || value === '');\n  }\n\n  /** The native input element to which this directive is attached. */\n  protected _inputElement: HTMLInputElement;\n\n  constructor(protected _elementRef: ElementRef) {\n    this._inputElement = this._elementRef.nativeElement as HTMLInputElement;\n  }\n\n  /** Utility method to make host definition/tests more clear. */\n  _keydown(event?: KeyboardEvent) {\n    this._emitChipEnd(event);\n  }\n\n  /** Checks to see if the blur should emit the (chipEnd) event. */\n  _blur() {\n    if (this.addOnBlur) {\n      this._emitChipEnd();\n    }\n    this.focused = false;\n    // Blur the chip list if it is not focused\n    if (!this._chipList.focused) {\n      this._chipList._blur();\n    }\n    this._chipList.stateChanges.next();\n  }\n\n  _focus() {\n    this.focused = true;\n    this._chipList.stateChanges.next();\n  }\n\n  /** Checks to see if the (chipEnd) event needs to be emitted. */\n  _emitChipEnd(event?: KeyboardEvent) {\n    if (!this._inputElement.value && !!event) {\n      this._chipList._keydown(event);\n    }\n    if (!event || this.separatorKeyCodes.indexOf(event.keyCode) > -1) {\n      this.chipEnd.emit({ input: this._inputElement, value: this._inputElement.value });\n\n      if (event) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  _onInput() {\n    // Let chip list know whenever the value changes.\n    this._chipList.stateChanges.next();\n  }\n\n  focus() { this._inputElement.focus(); }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {ErrorStateMatcher} from '@angular/material/core';\nimport {MatChipList} from './chip-list';\nimport {MatBasicChip, MatChip, MatChipRemove} from './chip';\nimport {MatChipInput} from './chip-input';\n\n\n@NgModule({\n  imports: [],\n  exports: [MatChipList, MatChip, MatChipInput, MatChipRemove, MatChipRemove, MatBasicChip],\n  declarations: [MatChipList, MatChip, MatChipInput, MatChipRemove,  MatChipRemove, MatBasicChip],\n  providers: [ErrorStateMatcher]\n})\nexport class MatChipsModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ViewContainerRef} from '@angular/core';\nimport {Direction} from '@angular/cdk/bidi';\n\n/** Valid ARIA roles for a dialog element. */\nexport type DialogRole = 'dialog' | 'alertdialog';\n\n/** Possible overrides for a dialog's position. */\nexport interface DialogPosition {\n  /** Override for the dialog's top position. */\n  top?: string;\n\n  /** Override for the dialog's bottom position. */\n  bottom?: string;\n\n  /** Override for the dialog's left position. */\n  left?: string;\n\n  /** Override for the dialog's right position. */\n  right?: string;\n}\n\n/**\n * Configuration for opening a modal dialog with the MatDialog service.\n */\nexport class MatDialogConfig<D = any> {\n\n  /**\n   * Where the attached component should live in Angular's *logical* component tree.\n   * This affects what is available for injection and the change detection order for the\n   * component instantiated inside of the dialog. This does not affect where the dialog\n   * content will be rendered.\n   */\n  viewContainerRef?: ViewContainerRef;\n\n  /** ID for the dialog. If omitted, a unique one will be generated. */\n  id?: string;\n\n  /** The ARIA role of the dialog element. */\n  role?: DialogRole = 'dialog';\n\n  /** Custom class for the overlay pane. */\n  panelClass?: string | string[] = '';\n\n  /** Whether the dialog has a backdrop. */\n  hasBackdrop?: boolean = true;\n\n  /** Custom class for the backdrop, */\n  backdropClass?: string = '';\n\n  /** Whether the user can use escape or clicking outside to close a modal. */\n  disableClose?: boolean = false;\n\n  /** Width of the dialog. */\n  width?: string = '';\n\n  /** Height of the dialog. */\n  height?: string = '';\n\n  /** Min-width of the dialog. If a number is provided, pixel units are assumed. */\n  minWidth?: number | string;\n\n  /** Min-height of the dialog. If a number is provided, pixel units are assumed. */\n  minHeight?: number | string;\n\n  /** Max-width of the dialog. If a number is provided, pixel units are assumed. Defaults to 80vw */\n  maxWidth?: number | string = '80vw';\n\n  /** Max-height of the dialog. If a number is provided, pixel units are assumed. */\n  maxHeight?: number | string;\n\n  /** Position overrides. */\n  position?: DialogPosition;\n\n  /** Data being injected into the child component. */\n  data?: D | null = null;\n\n  /** Layout direction for the dialog's content. */\n  direction?: Direction = 'ltr';\n\n  /** ID of the element that describes the dialog.  */\n  ariaDescribedBy?: string | null = null;\n\n  /** Aria label to assign to the dialog element */\n  ariaLabel?: string | null = null;\n\n  /** Whether the dialog should focus the first focusable element on open. */\n  autoFocus?: boolean = true;\n\n  // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ComponentRef,\n  ElementRef,\n  EmbeddedViewRef,\n  EventEmitter,\n  Inject,\n  Optional,\n  ChangeDetectorRef,\n  ViewChild,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport {animate, AnimationEvent, state, style, transition, trigger} from '@angular/animations';\nimport {DOCUMENT} from '@angular/common';\nimport {\n  BasePortalOutlet,\n  ComponentPortal,\n  CdkPortalOutlet,\n  TemplatePortal\n} from '@angular/cdk/portal';\nimport {FocusTrap, FocusTrapFactory} from '@angular/cdk/a11y';\nimport {MatDialogConfig} from './dialog-config';\n\n\n/**\n * Throws an exception for the case when a ComponentPortal is\n * attached to a DomPortalOutlet without an origin.\n * @docs-private\n */\nexport function throwMatDialogContentAlreadyAttachedError() {\n  throw Error('Attempting to attach dialog content after content is already attached');\n}\n\n/**\n * Internal component that wraps user-provided dialog content.\n * Animation is based on https://material.io/guidelines/motion/choreography.html.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-dialog-container',\n  templateUrl: 'dialog-container.html',\n  styleUrls: ['dialog.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  // Using OnPush for dialogs caused some G3 sync issues. Disabled until we can track them down.\n  // tslint:disable-next-line:validate-decorators\n  changeDetection: ChangeDetectionStrategy.Default,\n  animations: [\n    trigger('slideDialog', [\n      // Note: The `enter` animation doesn't transition to something like `translate3d(0, 0, 0)\n      // scale(1)`, because for some reason specifying the transform explicitly, causes IE both\n      // to blur the dialog content and decimate the animation performance. Leaving it as `none`\n      // solves both issues.\n      state('enter', style({ transform: 'none', opacity: 1 })),\n      state('void', style({ transform: 'translate3d(0, 25%, 0) scale(0.9)', opacity: 0 })),\n      state('exit', style({ transform: 'translate3d(0, 25%, 0)', opacity: 0 })),\n      transition('* => *', animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)')),\n    ])\n  ],\n  host: {\n    'class': 'mat-dialog-container',\n    'tabindex': '-1',\n    '[attr.role]': '_config?.role',\n    '[attr.aria-labelledby]': '_config?.ariaLabel ? null : _ariaLabelledBy',\n    '[attr.aria-label]': '_config?.ariaLabel',\n    '[attr.aria-describedby]': '_config?.ariaDescribedBy || null',\n    '[@slideDialog]': '_state',\n    '(@slideDialog.start)': '_onAnimationStart($event)',\n    '(@slideDialog.done)': '_onAnimationDone($event)',\n  },\n})\nexport class MatDialogContainer extends BasePortalOutlet {\n  /** The portal outlet inside of this container into which the dialog content will be loaded. */\n  @ViewChild(CdkPortalOutlet) _portalOutlet: CdkPortalOutlet;\n\n  /** The class that traps and manages focus within the dialog. */\n  private _focusTrap: FocusTrap;\n\n  /** Element that was focused before the dialog was opened. Save this to restore upon close. */\n  private _elementFocusedBeforeDialogWasOpened: HTMLElement | null = null;\n\n  /** The dialog configuration. */\n  _config: MatDialogConfig;\n\n  /** State of the dialog animation. */\n  _state: 'void' | 'enter' | 'exit' = 'enter';\n\n  /** Emits when an animation state changes. */\n  _animationStateChanged = new EventEmitter<AnimationEvent>();\n\n  /** ID of the element that should be considered as the dialog's label. */\n  _ariaLabelledBy: string | null = null;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _focusTrapFactory: FocusTrapFactory,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Optional() @Inject(DOCUMENT) private _document: any) {\n\n    super();\n  }\n\n  /**\n   * Attach a ComponentPortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    if (this._portalOutlet.hasAttached()) {\n      throwMatDialogContentAlreadyAttachedError();\n    }\n\n    this._savePreviouslyFocusedElement();\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  /**\n   * Attach a TemplatePortal as content to this dialog container.\n   * @param portal Portal to be attached as the dialog content.\n   */\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    if (this._portalOutlet.hasAttached()) {\n      throwMatDialogContentAlreadyAttachedError();\n    }\n\n    this._savePreviouslyFocusedElement();\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n\n  /** Moves the focus inside the focus trap. */\n  private _trapFocus() {\n    if (!this._focusTrap) {\n      this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n    }\n\n    // If were to attempt to focus immediately, then the content of the dialog would not yet be\n    // ready in instances where change detection has to run first. To deal with this, we simply\n    // wait for the microtask queue to be empty.\n    if (this._config.autoFocus) {\n      this._focusTrap.focusInitialElementWhenReady();\n    }\n  }\n\n  /** Restores focus to the element that was focused before the dialog opened. */\n  private _restoreFocus() {\n    const toFocus = this._elementFocusedBeforeDialogWasOpened;\n\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\n    if (toFocus && typeof toFocus.focus === 'function') {\n      toFocus.focus();\n    }\n\n    if (this._focusTrap) {\n      this._focusTrap.destroy();\n    }\n  }\n\n  /** Saves a reference to the element that was focused before the dialog was opened. */\n  private _savePreviouslyFocusedElement() {\n    if (this._document) {\n      this._elementFocusedBeforeDialogWasOpened = this._document.activeElement as HTMLElement;\n\n      // Move focus onto the dialog immediately in order to prevent the user from accidentally\n      // opening multiple dialogs at the same time. Needs to be async, because the element\n      // may not be focusable immediately.\n      Promise.resolve().then(() => this._elementRef.nativeElement.focus());\n    }\n  }\n\n  /** Callback, invoked whenever an animation on the host completes. */\n  _onAnimationDone(event: AnimationEvent) {\n    if (event.toState === 'enter') {\n      this._trapFocus();\n    } else if (event.toState === 'exit') {\n      this._restoreFocus();\n    }\n\n    this._animationStateChanged.emit(event);\n  }\n\n  /** Callback, invoked when an animation on the host starts. */\n  _onAnimationStart(event: AnimationEvent) {\n    this._animationStateChanged.emit(event);\n  }\n\n  /** Starts the dialog exit animation. */\n  _startExitAnimation(): void {\n    this._state = 'exit';\n\n    // Mark the container for check so it can react if the\n    // view container is using OnPush change detection.\n    this._changeDetectorRef.markForCheck();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {OverlayRef, GlobalPositionStrategy} from '@angular/cdk/overlay';\nimport {filter} from 'rxjs/operators/filter';\nimport {take} from 'rxjs/operators/take';\nimport {DialogPosition} from './dialog-config';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {MatDialogContainer} from './dialog-container';\n\n\n// TODO(jelbourn): resizing\n\n// Counter for unique dialog ids.\nlet uniqueId = 0;\n\n/**\n * Reference to a dialog opened via the MatDialog service.\n */\nexport class MatDialogRef<T, R = any> {\n  /** The instance of component opened into the dialog. */\n  componentInstance: T;\n\n  /** Whether the user is allowed to close the dialog. */\n  disableClose = this._containerInstance._config.disableClose;\n\n  /** Subject for notifying the user that the dialog has finished opening. */\n  private _afterOpen = new Subject<void>();\n\n  /** Subject for notifying the user that the dialog has finished closing. */\n  private _afterClosed = new Subject<R | undefined>();\n\n  /** Subject for notifying the user that the dialog has started closing. */\n  private _beforeClose = new Subject<R | undefined>();\n\n  /** Result to be passed to afterClosed. */\n  private _result: R | undefined;\n\n  constructor(\n    private _overlayRef: OverlayRef,\n    private _containerInstance: MatDialogContainer,\n    readonly id: string = `mat-dialog-${uniqueId++}`) {\n\n    // Emit when opening animation completes\n    _containerInstance._animationStateChanged.pipe(\n      filter(event => event.phaseName === 'done' && event.toState === 'enter'),\n      take(1)\n    )\n    .subscribe(() => {\n      this._afterOpen.next();\n      this._afterOpen.complete();\n    });\n\n    // Dispose overlay when closing animation is complete\n    _containerInstance._animationStateChanged.pipe(\n      filter(event => event.phaseName === 'done' && event.toState === 'exit'),\n      take(1)\n    )\n    .subscribe(() => {\n      this._overlayRef.dispose();\n      this._afterClosed.next(this._result);\n      this._afterClosed.complete();\n      this.componentInstance = null!;\n    });\n  }\n\n  /**\n   * Close the dialog.\n   * @param dialogResult Optional result to return to the dialog opener.\n   */\n  close(dialogResult?: R): void {\n    this._result = dialogResult;\n\n    // Transition the backdrop in parallel to the dialog.\n    this._containerInstance._animationStateChanged.pipe(\n      filter(event => event.phaseName === 'start'),\n      take(1)\n    )\n    .subscribe(() => {\n      this._beforeClose.next(dialogResult);\n      this._beforeClose.complete();\n      this._overlayRef.detachBackdrop();\n    });\n\n    this._containerInstance._startExitAnimation();\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished opening.\n   */\n  afterOpen(): Observable<void> {\n    return this._afterOpen.asObservable();\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog is finished closing.\n   */\n  afterClosed(): Observable<R | undefined> {\n    return this._afterClosed.asObservable();\n  }\n\n  /**\n   * Gets an observable that is notified when the dialog has started closing.\n   */\n  beforeClose(): Observable<R | undefined> {\n    return this._beforeClose.asObservable();\n  }\n\n  /**\n   * Gets an observable that emits when the overlay's backdrop has been clicked.\n   */\n  backdropClick(): Observable<void> {\n    return this._overlayRef.backdropClick();\n  }\n\n  /**\n   * Gets an observable that emits when keydown events are targeted on the overlay.\n   */\n  keydownEvents(): Observable<KeyboardEvent> {\n    return this._overlayRef.keydownEvents();\n  }\n\n  /**\n   * Updates the dialog's position.\n   * @param position New dialog position.\n   */\n  updatePosition(position?: DialogPosition): this {\n    let strategy = this._getPositionStrategy();\n\n    if (position && (position.left || position.right)) {\n      position.left ? strategy.left(position.left) : strategy.right(position.right);\n    } else {\n      strategy.centerHorizontally();\n    }\n\n    if (position && (position.top || position.bottom)) {\n      position.top ? strategy.top(position.top) : strategy.bottom(position.bottom);\n    } else {\n      strategy.centerVertically();\n    }\n\n    this._overlayRef.updatePosition();\n\n    return this;\n  }\n\n  /**\n   * Updates the dialog's width and height.\n   * @param width New width of the dialog.\n   * @param height New height of the dialog.\n   */\n  updateSize(width: string = 'auto', height: string = 'auto'): this {\n    this._getPositionStrategy().width(width).height(height);\n    this._overlayRef.updatePosition();\n    return this;\n  }\n\n  /** Fetches the position strategy object from the overlay ref. */\n  private _getPositionStrategy(): GlobalPositionStrategy {\n    return this._overlayRef.getConfig().positionStrategy as GlobalPositionStrategy;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directionality} from '@angular/cdk/bidi';\nimport {ESCAPE} from '@angular/cdk/keycodes';\nimport {\n  BlockScrollStrategy,\n  Overlay,\n  OverlayConfig,\n  OverlayRef,\n  ScrollStrategy,\n  OverlayContainer,\n} from '@angular/cdk/overlay';\nimport {ComponentPortal, ComponentType, PortalInjector, TemplatePortal} from '@angular/cdk/portal';\nimport {Location} from '@angular/common';\nimport {\n  ComponentRef,\n  Inject,\n  Injectable,\n  InjectionToken,\n  Injector,\n  Optional,\n  SkipSelf,\n  TemplateRef,\n} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {defer} from 'rxjs/observable/defer';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {filter} from 'rxjs/operators/filter';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {Subject} from 'rxjs/Subject';\nimport {MatDialogConfig} from './dialog-config';\nimport {MatDialogContainer} from './dialog-container';\nimport {MatDialogRef} from './dialog-ref';\n\n\nexport const MAT_DIALOG_DATA = new InjectionToken<any>('MatDialogData');\n\n\n/** Injection token that determines the scroll handling while the dialog is open. */\nexport const MAT_DIALOG_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-dialog-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => BlockScrollStrategy {\n  return () => overlay.scrollStrategies.block();\n}\n\n/** @docs-private */\nexport const MAT_DIALOG_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_DIALOG_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n\n\n/**\n * Service to open Material Design modal dialogs.\n */\n@Injectable()\nexport class MatDialog {\n  private _openDialogsAtThisLevel: MatDialogRef<any>[] = [];\n  private _afterAllClosedAtThisLevel = new Subject<void>();\n  private _afterOpenAtThisLevel = new Subject<MatDialogRef<any>>();\n  private _ariaHiddenElements = new Map<Element, string|null>();\n\n  /** Keeps track of the currently-open dialogs. */\n  get openDialogs(): MatDialogRef<any>[] {\n    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;\n  }\n\n  /** Stream that emits when a dialog has been opened. */\n  get afterOpen(): Subject<MatDialogRef<any>> {\n    return this._parentDialog ? this._parentDialog.afterOpen : this._afterOpenAtThisLevel;\n  }\n\n  get _afterAllClosed() {\n    const parent = this._parentDialog;\n    return parent ? parent._afterAllClosed : this._afterAllClosedAtThisLevel;\n  }\n\n  /**\n   * Stream that emits when all open dialog have finished closing.\n   * Will emit on subscribe if there are no open dialogs to begin with.\n   */\n  afterAllClosed: Observable<void> = defer<void>(() => this.openDialogs.length ?\n      this._afterAllClosed :\n      this._afterAllClosed.pipe(startWith(undefined)));\n\n  constructor(\n      private _overlay: Overlay,\n      private _injector: Injector,\n      @Optional() location: Location,\n      @Inject(MAT_DIALOG_SCROLL_STRATEGY) private _scrollStrategy,\n      @Optional() @SkipSelf() private _parentDialog: MatDialog,\n      private _overlayContainer: OverlayContainer) {\n\n    // Close all of the dialogs when the user goes forwards/backwards in history or when the\n    // location hash changes. Note that this usually doesn't include clicking on links (unless\n    // the user is using the `HashLocationStrategy`).\n    if (!_parentDialog && location) {\n      location.subscribe(() => this.closeAll());\n    }\n  }\n\n  /**\n   * Opens a modal dialog containing the given component.\n   * @param componentOrTemplateRef Type of the component to load into the dialog,\n   *     or a TemplateRef to instantiate as the dialog content.\n   * @param config Extra configuration options.\n   * @returns Reference to the newly-opened dialog.\n   */\n  open<T, D = any>(componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\n          config?: MatDialogConfig<D>): MatDialogRef<T> {\n\n    config = _applyConfigDefaults(config);\n\n    if (config.id && this.getDialogById(config.id)) {\n      throw Error(`Dialog with id \"${config.id}\" exists already. The dialog id must be unique.`);\n    }\n\n    const overlayRef = this._createOverlay(config);\n    const dialogContainer = this._attachDialogContainer(overlayRef, config);\n    const dialogRef =\n        this._attachDialogContent<T>(componentOrTemplateRef, dialogContainer, overlayRef, config);\n\n    // If this is the first dialog that we're opening, hide all the non-overlay content.\n    if (!this.openDialogs.length) {\n      this._hideNonDialogContentFromAssistiveTechnology();\n    }\n\n    this.openDialogs.push(dialogRef);\n    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));\n    this.afterOpen.next(dialogRef);\n\n    return dialogRef;\n  }\n\n  /**\n   * Closes all of the currently-open dialogs.\n   */\n  closeAll(): void {\n    let i = this.openDialogs.length;\n\n    while (i--) {\n      // The `_openDialogs` property isn't updated after close until the rxjs subscription\n      // runs on the next microtask, in addition to modifying the array as we're going\n      // through it. We loop through all of them and call close without assuming that\n      // they'll be removed from the list instantaneously.\n      this.openDialogs[i].close();\n    }\n  }\n\n  /**\n   * Finds an open dialog by its id.\n   * @param id ID to use when looking up the dialog.\n   */\n  getDialogById(id: string): MatDialogRef<any> | undefined {\n    return this.openDialogs.find(dialog => dialog.id === id);\n  }\n\n  /**\n   * Creates the overlay into which the dialog will be loaded.\n   * @param config The dialog configuration.\n   * @returns A promise resolving to the OverlayRef for the created overlay.\n   */\n  private _createOverlay(config: MatDialogConfig): OverlayRef {\n    const overlayConfig = this._getOverlayConfig(config);\n    return this._overlay.create(overlayConfig);\n  }\n\n  /**\n   * Creates an overlay config from a dialog config.\n   * @param dialogConfig The dialog configuration.\n   * @returns The overlay configuration.\n   */\n  private _getOverlayConfig(dialogConfig: MatDialogConfig): OverlayConfig {\n    const state = new OverlayConfig({\n      positionStrategy: this._overlay.position().global(),\n      scrollStrategy: this._scrollStrategy(),\n      panelClass: dialogConfig.panelClass,\n      hasBackdrop: dialogConfig.hasBackdrop,\n      direction: dialogConfig.direction,\n      minWidth: dialogConfig.minWidth,\n      minHeight: dialogConfig.minHeight,\n      maxWidth: dialogConfig.maxWidth,\n      maxHeight: dialogConfig.maxHeight\n    });\n\n    if (dialogConfig.backdropClass) {\n      state.backdropClass = dialogConfig.backdropClass;\n    }\n\n    return state;\n  }\n\n  /**\n   * Attaches an MatDialogContainer to a dialog's already-created overlay.\n   * @param overlay Reference to the dialog's underlying overlay.\n   * @param config The dialog configuration.\n   * @returns A promise resolving to a ComponentRef for the attached container.\n   */\n  private _attachDialogContainer(overlay: OverlayRef, config: MatDialogConfig): MatDialogContainer {\n    let containerPortal = new ComponentPortal(MatDialogContainer, config.viewContainerRef);\n    let containerRef: ComponentRef<MatDialogContainer> = overlay.attach(containerPortal);\n    containerRef.instance._config = config;\n\n    return containerRef.instance;\n  }\n\n  /**\n   * Attaches the user-provided component to the already-created MatDialogContainer.\n   * @param componentOrTemplateRef The type of component being loaded into the dialog,\n   *     or a TemplateRef to instantiate as the content.\n   * @param dialogContainer Reference to the wrapping MatDialogContainer.\n   * @param overlayRef Reference to the overlay in which the dialog resides.\n   * @param config The dialog configuration.\n   * @returns A promise resolving to the MatDialogRef that should be returned to the user.\n   */\n  private _attachDialogContent<T>(\n      componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\n      dialogContainer: MatDialogContainer,\n      overlayRef: OverlayRef,\n      config: MatDialogConfig): MatDialogRef<T> {\n\n    // Create a reference to the dialog we're creating in order to give the user a handle\n    // to modify and close it.\n    const dialogRef = new MatDialogRef<T>(overlayRef, dialogContainer, config.id);\n\n    // When the dialog backdrop is clicked, we want to close it.\n    if (config.hasBackdrop) {\n      overlayRef.backdropClick().subscribe(() => {\n        if (!dialogRef.disableClose) {\n          dialogRef.close();\n        }\n      });\n    }\n\n    // Close when escape keydown event occurs\n    overlayRef.keydownEvents().pipe(\n      filter(event => event.keyCode === ESCAPE && !dialogRef.disableClose)\n    ).subscribe(() => dialogRef.close());\n\n    if (componentOrTemplateRef instanceof TemplateRef) {\n      dialogContainer.attachTemplatePortal(\n        new TemplatePortal<T>(componentOrTemplateRef, null!,\n          <any>{ $implicit: config.data, dialogRef }));\n    } else {\n      const injector = this._createInjector<T>(config, dialogRef, dialogContainer);\n      const contentRef = dialogContainer.attachComponentPortal<T>(\n          new ComponentPortal(componentOrTemplateRef, undefined, injector));\n      dialogRef.componentInstance = contentRef.instance;\n    }\n\n    dialogRef\n      .updateSize(config.width, config.height)\n      .updatePosition(config.position);\n\n    return dialogRef;\n  }\n\n  /**\n   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside\n   * of a dialog to close itself and, optionally, to return a value.\n   * @param config Config object that is used to construct the dialog.\n   * @param dialogRef Reference to the dialog.\n   * @param container Dialog container element that wraps all of the contents.\n   * @returns The custom injector that can be used inside the dialog.\n   */\n  private _createInjector<T>(\n      config: MatDialogConfig,\n      dialogRef: MatDialogRef<T>,\n      dialogContainer: MatDialogContainer): PortalInjector {\n\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injectionTokens = new WeakMap();\n\n    injectionTokens.set(MatDialogRef, dialogRef);\n    // The MatDialogContainer is injected in the portal as the MatDialogContainer and the dialog's\n    // content are created out of the same ViewContainerRef and as such, are siblings for injector\n    // purposes.  To allow the hierarchy that is expected, the MatDialogContainer is explicitly\n    // added to the injection tokens.\n    injectionTokens.set(MatDialogContainer, dialogContainer);\n    injectionTokens.set(MAT_DIALOG_DATA, config.data);\n    injectionTokens.set(Directionality, {\n      value: config.direction,\n      change: observableOf()\n    });\n\n    return new PortalInjector(userInjector || this._injector, injectionTokens);\n  }\n\n  /**\n   * Removes a dialog from the array of open dialogs.\n   * @param dialogRef Dialog to be removed.\n   */\n  private _removeOpenDialog(dialogRef: MatDialogRef<any>) {\n    const index = this.openDialogs.indexOf(dialogRef);\n\n    if (index > -1) {\n      this.openDialogs.splice(index, 1);\n\n      // If all the dialogs were closed, remove/restore the `aria-hidden`\n      // to a the siblings and emit to the `afterAllClosed` stream.\n      if (!this.openDialogs.length) {\n        this._ariaHiddenElements.forEach((previousValue, element) => {\n          if (previousValue) {\n            element.setAttribute('aria-hidden', previousValue);\n          } else {\n            element.removeAttribute('aria-hidden');\n          }\n        });\n\n        this._ariaHiddenElements.clear();\n        this._afterAllClosed.next();\n      }\n    }\n  }\n\n  /**\n   * Hides all of the content that isn't an overlay from assistive technology.\n   */\n  private _hideNonDialogContentFromAssistiveTechnology() {\n    const overlayContainer = this._overlayContainer.getContainerElement();\n\n    // Ensure that the overlay container is attached to the DOM.\n    if (overlayContainer.parentElement) {\n      const siblings = overlayContainer.parentElement.children;\n\n      for (let i = siblings.length - 1; i > -1; i--) {\n        let sibling = siblings[i];\n\n        if (sibling !== overlayContainer &&\n          sibling.nodeName !== 'SCRIPT' &&\n          sibling.nodeName !== 'STYLE' &&\n          !sibling.hasAttribute('aria-live')) {\n\n          this._ariaHiddenElements.set(sibling, sibling.getAttribute('aria-hidden'));\n          sibling.setAttribute('aria-hidden', 'true');\n        }\n      }\n    }\n\n  }\n\n}\n\n/**\n * Applies default options to the dialog config.\n * @param config Config to be modified.\n * @returns The new configuration object.\n */\nfunction _applyConfigDefaults(config?: MatDialogConfig): MatDialogConfig {\n  return {...new MatDialogConfig(), ...config};\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable, ObservableInput } from '../Observable';\n\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../interfaces';\n\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * <img src=\"./img/catch.png\" width=\"100%\">\n *\n * @example <caption>Continues with a different Observable when there's an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n == 4) {\n * \t     throw 'four!';\n *     }\n *\t   return n;\n *   })\n *   .catch(err => Observable.of('I', 'II', 'III', 'IV', 'V'))\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n *\n * @example <caption>Retries the caught source Observable again in case of error, similar to retry() operator</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n === 4) {\n * \t     throw 'four!';\n *     }\n * \t   return n;\n *   })\n *   .catch((err, caught) => caught)\n *   .take(30)\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n *\n * @example <caption>Throws a new error when the source Observable throws an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n *     if (n == 4) {\n *       throw 'four!';\n *     }\n *     return n;\n *   })\n *   .catch(err => {\n *     throw 'error in source. Details: ' + err;\n *   })\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n *\n * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @name catchError\n */\nexport function catchError<T, R>(selector: (err: any, caught: Observable<T>) => ObservableInput<R>): OperatorFunction<T, T | R> {\n  return function catchErrorOperatorFunction(source: Observable<T>): Observable<T | R> {\n    const operator = new CatchOperator(selector);\n    const caught = source.lift(operator);\n    return (operator.caught = caught as Observable<T>);\n  };\n}\n\nclass CatchOperator<T, R> implements Operator<T, T | R> {\n  caught: Observable<T>;\n\n  constructor(private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass CatchSubscriber<T, R> extends OuterSubscriber<T, T | R> {\n  constructor(destination: Subscriber<any>,\n              private selector: (err: any, caught: Observable<T>) => ObservableInput<T | R>,\n              private caught: Observable<T>) {\n    super(destination);\n  }\n\n  // NOTE: overriding `error` instead of `_error` because we don't want\n  // to have this flag this subscriber as `isStopped`. We can mimic the\n  // behavior of the RetrySubscriber (from the `retry` operator), where\n  // we unsubscribe from our source chain, reset our Subscriber flags,\n  // then subscribe to the selector result.\n  error(err: any) {\n    if (!this.isStopped) {\n      let result: any;\n      try {\n        result = this.selector(err, this.caught);\n      } catch (err2) {\n        super.error(err2);\n        return;\n      }\n      this._unsubscribeAndRecycle();\n      this.add(subscribeToResult(this, result));\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription, TeardownLogic } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nexport function finalize<T>(callback: () => void): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => source.lift(new FinallyOperator(callback));\n}\n\nclass FinallyOperator<T> implements Operator<T, T> {\n  constructor(private callback: () => void) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FinallySubscriber<T> extends Subscriber<T> {\n  constructor(destination: Subscriber<T>, callback: () => void) {\n    super(destination);\n    this.add(new Subscription(callback));\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../interfaces';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport class ObjectUnsubscribedError extends Error {\n  constructor() {\n    const err: any = super('object unsubscribed');\n    (<any> this).name = err.name = 'ObjectUnsubscribedError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { Subject } from './Subject';\nimport { Observer } from './Observer';\nimport { Subscription } from './Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SubjectSubscription<T> extends Subscription {\n  closed: boolean = false;\n\n  constructor(public subject: Subject<T>, public subscriber: Observer<T>) {\n    super();\n  }\n\n  unsubscribe() {\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    const subject = this.subject;\n    const observers = subject.observers;\n\n    this.subject = null;\n\n    if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n      return;\n    }\n\n    const subscriberIndex = observers.indexOf(this.subscriber);\n\n    if (subscriberIndex !== -1) {\n      observers.splice(subscriberIndex, 1);\n    }\n  }\n}\n","import { Operator } from './Operator';\nimport { Observer } from './Observer';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { ISubscription, Subscription, TeardownLogic } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from './symbol/rxSubscriber';\n\n/**\n * @class SubjectSubscriber<T>\n */\nexport class SubjectSubscriber<T> extends Subscriber<T> {\n  constructor(protected destination: Subject<T>) {\n    super(destination);\n  }\n}\n\n/**\n * @class Subject<T>\n */\nexport class Subject<T> extends Observable<T> implements ISubscription {\n\n  [rxSubscriberSymbol]() {\n    return new SubjectSubscriber(this);\n  }\n\n  observers: Observer<T>[] = [];\n\n  closed = false;\n\n  isStopped = false;\n\n  hasError = false;\n\n  thrownError: any = null;\n\n  constructor() {\n    super();\n  }\n\n  static create: Function = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  }\n\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = <any>operator;\n    return <any>subject;\n  }\n\n  next(value?: T) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    if (!this.isStopped) {\n      const { observers } = this;\n      const len = observers.length;\n      const copy = observers.slice();\n      for (let i = 0; i < len; i++) {\n        copy[i].next(value);\n      }\n    }\n  }\n\n  error(err: any) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.hasError = true;\n    this.thrownError = err;\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].error(err);\n    }\n    this.observers.length = 0;\n  }\n\n  complete() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].complete();\n    }\n    this.observers.length = 0;\n  }\n\n  unsubscribe() {\n    this.isStopped = true;\n    this.closed = true;\n    this.observers = null;\n  }\n\n  protected _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return super._trySubscribe(subscriber);\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.isStopped) {\n      subscriber.complete();\n      return Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      return new SubjectSubscription(this, subscriber);\n    }\n  }\n\n  asObservable(): Observable<T> {\n    const observable = new Observable<T>();\n    (<any>observable).source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(protected destination?: Observer<T>, source?: Observable<T>) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    const { destination } = this;\n    if (destination && destination.next) {\n      destination.next(value);\n    }\n  }\n\n  error(err: any) {\n    const { destination } = this;\n    if (destination && destination.error) {\n      this.destination.error(err);\n    }\n  }\n\n  complete() {\n    const { destination } = this;\n    if (destination && destination.complete) {\n      this.destination.complete();\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    const { source } = this;\n    if (source) {\n      return this.source.subscribe(subscriber);\n    } else {\n      return Subscription.EMPTY;\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription, TeardownLogic } from '../Subscription';\nimport { MonoTypeOperatorFunction } from '../interfaces';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { Observable } from '../Observable';\n\nexport function refCount<T>(): MonoTypeOperatorFunction<T> {\n  return function refCountOperatorFunction(source: ConnectableObservable<T>): Observable<T> {\n    return source.lift(new RefCountOperator(source));\n  };\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // Observable.range(0, 10)\n    //   .publish()\n    //   .refCount()\n    //   .take(5)\n    //   .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subject, SubjectSubscriber } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription, TeardownLogic } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\n\n/**\n * @class ConnectableObservable<T>\n */\nexport class ConnectableObservable<T> extends Observable<T> {\n\n  protected _subject: Subject<T>;\n  protected _refCount: number = 0;\n  protected _connection: Subscription;\n  _isComplete = false;\n\n  constructor(protected source: Observable<T>,\n              protected subjectFactory: () => Subject<T>) {\n    super();\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>) {\n    return this.getSubject().subscribe(subscriber);\n  }\n\n  protected getSubject(): Subject<T> {\n    const subject = this._subject;\n    if (!subject || subject.isStopped) {\n      this._subject = this.subjectFactory();\n    }\n    return this._subject;\n  }\n\n  connect(): Subscription {\n    let connection = this._connection;\n    if (!connection) {\n      this._isComplete = false;\n      connection = this._connection = new Subscription();\n      connection.add(this.source\n        .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n      if (connection.closed) {\n        this._connection = null;\n        connection = Subscription.EMPTY;\n      } else {\n        this._connection = connection;\n      }\n    }\n    return connection;\n  }\n\n  refCount(): Observable<T> {\n    return higherOrderRefCount()(this) as Observable<T>;\n  }\n}\n\nconst connectableProto = <any>ConnectableObservable.prototype;\n\nexport const connectableObservableDescriptor: PropertyDescriptorMap = {\n  operator: { value: null },\n  _refCount: { value: 0, writable: true },\n  _subject: { value: null, writable: true },\n  _connection: { value: null, writable: true },\n  _subscribe: { value: connectableProto._subscribe },\n  _isComplete: { value: connectableProto._isComplete, writable: true },\n  getSubject: { value: connectableProto.getSubject },\n  connect: { value: connectableProto.connect },\n  refCount: { value: connectableProto.refCount }\n};\n\nclass ConnectableSubscriber<T> extends SubjectSubscriber<T> {\n  constructor(destination: Subject<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n  protected _error(err: any): void {\n    this._unsubscribe();\n    super._error(err);\n  }\n  protected _complete(): void {\n    this.connectable._isComplete = true;\n    this._unsubscribe();\n    super._complete();\n  }\n  protected _unsubscribe() {\n    const connectable = <any>this.connectable;\n    if (connectable) {\n      this.connectable = null;\n      const connection = connectable._connection;\n      connectable._refCount = 0;\n      connectable._subject = null;\n      connectable._connection = null;\n      if (connection) {\n        connection.unsubscribe();\n      }\n    }\n  }\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // Observable.range(0, 10)\n    //   .publish()\n    //   .refCount()\n    //   .take(5)\n    //   .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subject } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { ConnectableObservable, connectableObservableDescriptor } from '../observable/ConnectableObservable';\nimport { FactoryOrValue, MonoTypeOperatorFunction, OperatorFunction, UnaryFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function multicast<T>(subjectOrSubjectFactory: FactoryOrValue<Subject<T>>): UnaryFunction<Observable<T>, ConnectableObservable<T>>;\nexport function multicast<T>(SubjectFactory: (this: Observable<T>) => Subject<T>, selector?: MonoTypeOperatorFunction<T>): MonoTypeOperatorFunction<T>;\nexport function multicast<T, R>(SubjectFactory: (this: Observable<T>) => Subject<T>, selector?: OperatorFunction<T, R>): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the results of invoking a specified selector on items\n * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n *\n * <img src=\"./img/multicast.png\" width=\"100%\">\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n * which the source sequence's elements will be multicast to the selector function\n * or Subject to push source elements into.\n * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the given source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable} An Observable that emits the results of invoking the selector\n * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n * the underlying stream.\n * @method multicast\n * @owner Observable\n */\nexport function multicast<T, R>(subjectOrSubjectFactory: Subject<T> | (() => Subject<T>),\n                                selector?: (source: Observable<T>) => Observable<R>): OperatorFunction<T, R> {\n  return function multicastOperatorFunction(source: Observable<T>): Observable<R> {\n    let subjectFactory: () => Subject<T>;\n    if (typeof subjectOrSubjectFactory === 'function') {\n      subjectFactory = <() => Subject<T>>subjectOrSubjectFactory;\n    } else {\n      subjectFactory = function subjectFactory() {\n        return <Subject<T>>subjectOrSubjectFactory;\n      };\n    }\n\n    if (typeof selector === 'function') {\n      return source.lift(new MulticastOperator(subjectFactory, selector));\n    }\n\n    const connectable: any = Object.create(source, connectableObservableDescriptor);\n    connectable.source = source;\n    connectable.subjectFactory = subjectFactory;\n\n    return <ConnectableObservable<R>> connectable;\n  };\n}\n\nexport class MulticastOperator<T, R> implements Operator<T, R> {\n  constructor(private subjectFactory: () => Subject<T>,\n              private selector: (source: Observable<T>) => Observable<R>) {\n  }\n  call(subscriber: Subscriber<R>, source: any): any {\n    const { selector } = this;\n    const subject = this.subjectFactory();\n    const subscription = selector(subject).subscribe(subscriber);\n    subscription.add(source.subscribe(subject));\n    return subscription;\n  }\n}\n","import { Observable } from '../Observable';\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\n\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\nfunction shareSubjectFactory() {\n  return new Subject();\n}\n\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for .multicast(() => new Subject()).refCount().\n *\n * <img src=\"./img/share.png\" width=\"100%\">\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nexport function share<T>(): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => refCount()(multicast(shareSubjectFactory)(source)) as Observable<T>;\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @docs-private */\nexport function getMatFormFieldPlaceholderConflictError(): Error {\n  return Error('Placeholder attribute and child element were both specified.');\n}\n\n/** @docs-private */\nexport function getMatFormFieldDuplicatedHintError(align: string): Error {\n  return Error(`A hint was already declared for 'align=\"${align}\"'.`);\n}\n\n/** @docs-private */\nexport function getMatFormFieldMissingControlError(): Error {\n  return Error('mat-form-field must contain a MatFormFieldControl.');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, Input} from '@angular/core';\n\n\nlet nextUniqueId = 0;\n\n\n/** Hint text to be shown underneath the form field control. */\n@Directive({\n  selector: 'mat-hint',\n  host: {\n    'class': 'mat-hint',\n    '[class.mat-right]': 'align == \"end\"',\n    '[attr.id]': 'id',\n    // Remove align attribute to prevent it from interfering with layout.\n    '[attr.align]': 'null',\n  }\n})\nexport class MatHint {\n  /** Whether to align the hint label at the start or end of the line. */\n  @Input() align: 'start' | 'end' = 'start';\n\n  /** Unique ID for the hint. Used for the aria-describedby on the form field control. */\n  @Input() id: string = `mat-hint-${nextUniqueId++}`;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\n\n/** The placeholder text for an `MatFormField`. */\n@Directive({\n  selector: 'mat-placeholder'\n})\nexport class MatPlaceholder {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\n\n/** The floating label for a `mat-form-field`. */\n@Directive({\n  selector: 'mat-label'\n})\nexport class MatLabel {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\n\n/** Prefix to be placed the the front of the form field. */\n@Directive({\n  selector: '[matPrefix]',\n})\nexport class MatPrefix {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\n\n/** Suffix to be placed at the end of the form field. */\n@Directive({\n  selector: '[matSuffix]',\n})\nexport class MatSuffix {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {take} from 'rxjs/operators/take';\nimport {startWith} from 'rxjs/operators/startWith';\nimport {\n  AfterContentChecked,\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  Inject,\n  Input,\n  Optional,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {FloatLabelType, MAT_LABEL_GLOBAL_OPTIONS, LabelOptions} from '@angular/material/core';\nimport {fromEvent} from 'rxjs/observable/fromEvent';\nimport {MatError} from './error';\nimport {MatFormFieldControl} from './form-field-control';\nimport {\n  getMatFormFieldDuplicatedHintError,\n  getMatFormFieldMissingControlError,\n  getMatFormFieldPlaceholderConflictError,\n} from './form-field-errors';\nimport {MatHint} from './hint';\nimport {MatPlaceholder} from './placeholder';\nimport {MatLabel} from './label';\nimport {MatPrefix} from './prefix';\nimport {MatSuffix} from './suffix';\n\n\nlet nextUniqueId = 0;\n\n\n/** Container for form controls that applies Material Design styling and behavior. */\n@Component({\n  moduleId: module.id,\n  // TODO(mmalerba): the input-container selectors and classes are deprecated and will be removed.\n  selector: 'mat-input-container, mat-form-field',\n  exportAs: 'matFormField',\n  templateUrl: 'form-field.html',\n  // MatInput is a directive and can't have styles, so we need to include its styles here.\n  // The MatInput styles are fairly minimal so it shouldn't be a big deal for people who\n  // aren't using MatInput.\n  styleUrls: ['form-field.css', '../input/input.css'],\n  animations: [\n    // TODO(mmalerba): Use angular animations for label animation as well.\n    trigger('transitionMessages', [\n      state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),\n      transition('void => enter', [\n        style({ opacity: 0, transform: 'translateY(-100%)' }),\n        animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n      ]),\n    ]),\n  ],\n  host: {\n    'class': 'mat-input-container mat-form-field',\n    '[class.mat-input-invalid]': '_control.errorState',\n    '[class.mat-form-field-invalid]': '_control.errorState',\n    '[class.mat-form-field-can-float]': '_canLabelFloat',\n    '[class.mat-form-field-should-float]': '_shouldLabelFloat()',\n    '[class.mat-form-field-hide-placeholder]': '_hideControlPlaceholder()',\n    '[class.mat-form-field-disabled]': '_control.disabled',\n    '[class.mat-focused]': '_control.focused',\n    '[class.mat-primary]': 'color == \"primary\"',\n    '[class.mat-accent]': 'color == \"accent\"',\n    '[class.mat-warn]': 'color == \"warn\"',\n    '[class.ng-untouched]': '_shouldForward(\"untouched\")',\n    '[class.ng-touched]': '_shouldForward(\"touched\")',\n    '[class.ng-pristine]': '_shouldForward(\"pristine\")',\n    '[class.ng-dirty]': '_shouldForward(\"dirty\")',\n    '[class.ng-valid]': '_shouldForward(\"valid\")',\n    '[class.ng-invalid]': '_shouldForward(\"invalid\")',\n    '[class.ng-pending]': '_shouldForward(\"pending\")',\n  },\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class MatFormField implements AfterViewInit, AfterContentInit, AfterContentChecked {\n  private _labelOptions: LabelOptions;\n\n  /** Color of the form field underline, based on the theme. */\n  @Input() color: 'primary' | 'accent' | 'warn' = 'primary';\n\n  /** @deprecated Use `color` instead. */\n  @Input()\n  get dividerColor(): 'primary' | 'accent' | 'warn' { return this.color; }\n  set dividerColor(value) { this.color = value; }\n\n  /** Whether the required marker should be hidden. */\n  @Input()\n  get hideRequiredMarker() { return this._hideRequiredMarker; }\n  set hideRequiredMarker(value: any) {\n    this._hideRequiredMarker = coerceBooleanProperty(value);\n  }\n  private _hideRequiredMarker: boolean;\n\n  /** Override for the logic that disables the label animation in certain cases. */\n  private _showAlwaysAnimate = false;\n\n  /** Whether the floating label should always float or not. */\n  get _shouldAlwaysFloat() {\n    return this._floatLabel === 'always' && !this._showAlwaysAnimate;\n  }\n\n  /** Whether the label can float or not. */\n  get _canLabelFloat() { return this._floatLabel !== 'never'; }\n\n  /** State of the mat-hint and mat-error animations. */\n  _subscriptAnimationState: string = '';\n\n  /** Text for the form field hint. */\n  @Input()\n  get hintLabel() { return this._hintLabel; }\n  set hintLabel(value: string) {\n    this._hintLabel = value;\n    this._processHints();\n  }\n  private _hintLabel = '';\n\n  // Unique id for the hint label.\n  _hintLabelId: string = `mat-hint-${nextUniqueId++}`;\n\n  /**\n   * Whether the placeholder should always float, never float or float as the user types.\n   * @deprecated Use floatLabel instead.\n   */\n  @Input()\n  get floatPlaceholder() { return this._floatLabel; }\n  set floatPlaceholder(value: FloatLabelType) { this.floatLabel = value; }\n\n  /** Whether the label should always float, never float or float as the user types. */\n  @Input()\n  get floatLabel() { return this._floatLabel; }\n  set floatLabel(value: FloatLabelType) {\n    if (value !== this._floatLabel) {\n      this._floatLabel = value || this._labelOptions.float || 'auto';\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n  private _floatLabel: FloatLabelType;\n\n  /** Reference to the form field's underline element. */\n  @ViewChild('underline') underlineRef: ElementRef;\n  @ViewChild('connectionContainer') _connectionContainerRef: ElementRef;\n  @ViewChild('inputContainer') _inputContainerRef: ElementRef;\n  @ViewChild('label') private _label: ElementRef;\n  @ContentChild(MatFormFieldControl) _control: MatFormFieldControl<any>;\n  @ContentChild(MatPlaceholder) _placeholderChild: MatPlaceholder;\n  @ContentChild(MatLabel) _labelChild: MatLabel;\n  @ContentChildren(MatError) _errorChildren: QueryList<MatError>;\n  @ContentChildren(MatHint) _hintChildren: QueryList<MatHint>;\n  @ContentChildren(MatPrefix) _prefixChildren: QueryList<MatPrefix>;\n  @ContentChildren(MatSuffix) _suffixChildren: QueryList<MatSuffix>;\n\n  constructor(\n      public _elementRef: ElementRef,\n      private _changeDetectorRef: ChangeDetectorRef,\n      @Optional() @Inject(MAT_LABEL_GLOBAL_OPTIONS) labelOptions: LabelOptions) {\n    this._labelOptions = labelOptions ? labelOptions : {};\n    this.floatLabel = this._labelOptions.float || 'auto';\n  }\n\n  ngAfterContentInit() {\n    this._validateControlChild();\n    if (this._control.controlType) {\n      this._elementRef.nativeElement.classList\n          .add(`mat-form-field-type-${this._control.controlType}`);\n    }\n\n    // Subscribe to changes in the child control state in order to update the form field UI.\n    this._control.stateChanges.pipe(startWith(null!)).subscribe(() => {\n      this._validatePlaceholders();\n      this._syncDescribedByIds();\n      this._changeDetectorRef.markForCheck();\n    });\n\n    let ngControl = this._control.ngControl;\n    if (ngControl && ngControl.valueChanges) {\n      ngControl.valueChanges.subscribe(() => {\n        this._changeDetectorRef.markForCheck();\n      });\n    }\n\n    // Re-validate when the number of hints changes.\n    this._hintChildren.changes.pipe(startWith(null)).subscribe(() => {\n      this._processHints();\n      this._changeDetectorRef.markForCheck();\n    });\n\n    // Update the aria-described by when the number of errors changes.\n    this._errorChildren.changes.pipe(startWith(null)).subscribe(() => {\n      this._syncDescribedByIds();\n      this._changeDetectorRef.markForCheck();\n    });\n  }\n\n  ngAfterContentChecked() {\n    this._validateControlChild();\n  }\n\n  ngAfterViewInit() {\n    // Avoid animations on load.\n    this._subscriptAnimationState = 'enter';\n    this._changeDetectorRef.detectChanges();\n  }\n\n  /** Determines whether a class from the NgControl should be forwarded to the host element. */\n  _shouldForward(prop: string): boolean {\n    let ngControl = this._control ? this._control.ngControl : null;\n    return ngControl && (ngControl as any)[prop];\n  }\n\n  _hasPlaceholder() {\n    return !!(this._control.placeholder || this._placeholderChild);\n  }\n\n  _hasLabel() {\n    return !!this._labelChild;\n  }\n\n  _shouldLabelFloat() {\n    return this._canLabelFloat && (this._control.shouldLabelFloat ||\n        this._control.shouldPlaceholderFloat || this._shouldAlwaysFloat);\n  }\n\n  _hideControlPlaceholder() {\n    return !this._hasLabel() || !this._shouldLabelFloat();\n  }\n\n  _hasFloatingLabel() {\n    return this._hasLabel() || this._hasPlaceholder();\n  }\n\n  /** Determines whether to display hints or errors. */\n  _getDisplayedMessages(): 'error' | 'hint' {\n    return (this._errorChildren && this._errorChildren.length > 0 &&\n        this._control.errorState) ? 'error' : 'hint';\n  }\n\n  /** Animates the placeholder up and locks it in position. */\n  _animateAndLockLabel(): void {\n    if (this._hasFloatingLabel() && this._canLabelFloat) {\n      this._showAlwaysAnimate = true;\n      this._floatLabel = 'always';\n\n      fromEvent(this._label.nativeElement, 'transitionend').pipe(take(1)).subscribe(() => {\n        this._showAlwaysAnimate = false;\n      });\n\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /**\n   * Ensure that there is only one placeholder (either `placeholder` attribute on the child control\n   * or child element with the `mat-placeholder` directive).\n   */\n  private _validatePlaceholders() {\n    if (this._control.placeholder && this._placeholderChild) {\n      throw getMatFormFieldPlaceholderConflictError();\n    }\n  }\n\n  /** Does any extra processing that is required when handling the hints. */\n  private _processHints() {\n    this._validateHints();\n    this._syncDescribedByIds();\n  }\n\n  /**\n   * Ensure that there is a maximum of one of each `<mat-hint>` alignment specified, with the\n   * attribute being considered as `align=\"start\"`.\n   */\n  private _validateHints() {\n    if (this._hintChildren) {\n      let startHint: MatHint;\n      let endHint: MatHint;\n      this._hintChildren.forEach((hint: MatHint) => {\n        if (hint.align == 'start') {\n          if (startHint || this.hintLabel) {\n            throw getMatFormFieldDuplicatedHintError('start');\n          }\n          startHint = hint;\n        } else if (hint.align == 'end') {\n          if (endHint) {\n            throw getMatFormFieldDuplicatedHintError('end');\n          }\n          endHint = hint;\n        }\n      });\n    }\n  }\n\n  /**\n   * Sets the list of element IDs that describe the child control. This allows the control to update\n   * its `aria-describedby` attribute accordingly.\n   */\n  private _syncDescribedByIds() {\n    if (this._control) {\n      let ids: string[] = [];\n\n      if (this._getDisplayedMessages() === 'hint') {\n        let startHint = this._hintChildren ?\n            this._hintChildren.find(hint => hint.align === 'start') : null;\n        let endHint = this._hintChildren ?\n            this._hintChildren.find(hint => hint.align === 'end') : null;\n\n        if (startHint) {\n          ids.push(startHint.id);\n        } else if (this._hintLabel) {\n          ids.push(this._hintLabelId);\n        }\n\n        if (endHint) {\n          ids.push(endHint.id);\n        }\n      } else if (this._errorChildren) {\n        ids = this._errorChildren.map(error => error.id);\n      }\n\n      this._control.setDescribedByIds(ids);\n    }\n  }\n\n  /** Throws an error if the form field's control is missing. */\n  protected _validateControlChild() {\n    if (!this._control) {\n      throw getMatFormFieldMissingControlError();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {MatError} from './error';\nimport {MatFormField} from './form-field';\nimport {MatHint} from './hint';\nimport {MatPlaceholder} from './placeholder';\nimport {MatPrefix} from './prefix';\nimport {MatSuffix} from './suffix';\nimport {MatLabel} from './label';\n\n\n@NgModule({\n  declarations: [\n    MatError,\n    MatHint,\n    MatFormField,\n    MatPlaceholder,\n    MatPrefix,\n    MatSuffix,\n    MatLabel,\n  ],\n  imports: [\n    CommonModule,\n    PlatformModule,\n  ],\n  exports: [\n    MatError,\n    MatHint,\n    MatFormField,\n    MatPlaceholder,\n    MatPrefix,\n    MatSuffix,\n    MatLabel,\n  ],\n})\nexport class MatFormFieldModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  Input,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  EventEmitter,\n  Output,\n} from '@angular/core';\nimport {MatOption, MatOptgroup} from '@angular/material/core';\nimport {ActiveDescendantKeyManager} from '@angular/cdk/a11y';\n\n\n/**\n * Autocomplete IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueAutocompleteIdCounter = 0;\n\n/** Event object that is emitted when an autocomplete option is selected */\nexport class MatAutocompleteSelectedEvent {\n  constructor(\n    /** Reference to the autocomplete panel that emitted the event. */\n    public source: MatAutocomplete,\n    /** Option that was selected. */\n    public option: MatOption) { }\n}\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-autocomplete',\n  templateUrl: 'autocomplete.html',\n  styleUrls: ['autocomplete.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'matAutocomplete',\n  host: {\n    'class': 'mat-autocomplete'\n  }\n})\nexport class MatAutocomplete implements AfterContentInit {\n\n  /** Manages active item in option list based on key events. */\n  _keyManager: ActiveDescendantKeyManager<MatOption>;\n\n  /** Whether the autocomplete panel should be visible, depending on option length. */\n  showPanel = false;\n\n  /** Whether the autocomplete panel is open. */\n  get isOpen(): boolean {\n    return this._isOpen && this.showPanel;\n  }\n  _isOpen: boolean = false;\n\n  /** @docs-private */\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n  /** Element for the panel containing the autocomplete options. */\n  @ViewChild('panel') panel: ElementRef;\n\n  /** @docs-private */\n  @ContentChildren(MatOption, { descendants: true }) options: QueryList<MatOption>;\n\n  /** @docs-private */\n  @ContentChildren(MatOptgroup) optionGroups: QueryList<MatOptgroup>;\n\n  /** Function that maps an option's control value to its display value in the trigger. */\n  @Input() displayWith: ((value: any) => string) | null = null;\n\n  /** Event that is emitted whenever an option from the list is selected. */\n  @Output() optionSelected: EventEmitter<MatAutocompleteSelectedEvent> =\n      new EventEmitter<MatAutocompleteSelectedEvent>();\n\n  /**\n   * Takes classes set on the host mat-autocomplete element and applies them to the panel\n   * inside the overlay container to allow for easy styling.\n   */\n  @Input('class')\n  set classList(classList: string) {\n    if (classList && classList.length) {\n      classList.split(' ').forEach(className => this._classList[className.trim()] = true);\n      this._elementRef.nativeElement.className = '';\n    }\n  }\n  _classList: {[key: string]: boolean} = {};\n\n  /** Unique ID to be used by autocomplete trigger's \"aria-owns\" property. */\n  id: string = `mat-autocomplete-${_uniqueAutocompleteIdCounter++}`;\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef, private _elementRef: ElementRef) { }\n\n  ngAfterContentInit() {\n    this._keyManager = new ActiveDescendantKeyManager<MatOption>(this.options).withWrap();\n    // Set the initial visibiity state.\n    this._setVisibility();\n  }\n\n  /**\n   * Sets the panel scrollTop. This allows us to manually scroll to display options\n   * above or below the fold, as they are not actually being focused when active.\n   */\n  _setScrollTop(scrollTop: number): void {\n    if (this.panel) {\n      this.panel.nativeElement.scrollTop = scrollTop;\n    }\n  }\n\n  /** Returns the panel's scrollTop. */\n  _getScrollTop(): number {\n    return this.panel ? this.panel.nativeElement.scrollTop : 0;\n  }\n\n  /** Panel should hide itself when the option list is empty. */\n  _setVisibility() {\n    this.showPanel = !!this.options.length;\n    this._classList['mat-autocomplete-visible'] = this.showPanel;\n    this._classList['mat-autocomplete-hidden'] = !this.showPanel;\n    this._changeDetectorRef.markForCheck();\n}\n\n  /** Emits the `select` event. */\n  _emitSelectEvent(option: MatOption): void {\n    const event = new MatAutocompleteSelectedEvent(this, option);\n    this.optionSelected.emit(event);\n  }\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Directionality} from '@angular/cdk/bidi';\nimport {DOWN_ARROW, ENTER, ESCAPE, UP_ARROW, TAB} from '@angular/cdk/keycodes';\nimport {\n  ConnectedPositionStrategy,\n  Overlay,\n  OverlayRef,\n  OverlayConfig,\n  PositionStrategy,\n  ScrollStrategy,\n} from '@angular/cdk/overlay';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {filter} from 'rxjs/operators/filter';\nimport {take} from 'rxjs/operators/take';\nimport {switchMap} from 'rxjs/operators/switchMap';\nimport {tap} from 'rxjs/operators/tap';\nimport {delay} from 'rxjs/operators/delay';\nimport {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Host,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  ViewContainerRef,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {MatOption, MatOptionSelectionChange} from '@angular/material/core';\nimport {MatFormField} from '@angular/material/form-field';\nimport {DOCUMENT} from '@angular/common';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {fromEvent} from 'rxjs/observable/fromEvent';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MatAutocomplete} from './autocomplete';\n\n\n/**\n * The following style constants are necessary to save here in order\n * to properly calculate the scrollTop of the panel. Because we are not\n * actually focusing the active item, scroll must be handled manually.\n */\n\n/** The height of each autocomplete option. */\nexport const AUTOCOMPLETE_OPTION_HEIGHT = 48;\n\n/** The total height of the autocomplete panel. */\nexport const AUTOCOMPLETE_PANEL_HEIGHT = 256;\n\n/** Injection token that determines the scroll handling while the autocomplete panel is open. */\nexport const MAT_AUTOCOMPLETE_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mat-autocomplete-scroll-strategy');\n\n/** @docs-private */\nexport function MAT_AUTOCOMPLETE_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => ScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MAT_AUTOCOMPLETE_SCROLL_STRATEGY_PROVIDER = {\n  provide: MAT_AUTOCOMPLETE_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MAT_AUTOCOMPLETE_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n\n/**\n * Provider that allows the autocomplete to register as a ControlValueAccessor.\n * @docs-private\n */\nexport const MAT_AUTOCOMPLETE_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatAutocompleteTrigger),\n  multi: true\n};\n\n/**\n * Creates an error to be thrown when attempting to use an autocomplete trigger without a panel.\n */\nexport function getMatAutocompleteMissingPanelError(): Error {\n  return Error('Attempting to open an undefined instance of `mat-autocomplete`. ' +\n               'Make sure that the id passed to the `matAutocomplete` is correct and that ' +\n               'you\\'re attempting to open it after the ngAfterContentInit hook.');\n}\n\n@Directive({\n  selector: `input[matAutocomplete], textarea[matAutocomplete]`,\n  host: {\n    'role': 'combobox',\n    'autocomplete': 'off',\n    'aria-autocomplete': 'list',\n    '[attr.aria-activedescendant]': 'activeOption?.id',\n    '[attr.aria-expanded]': 'panelOpen.toString()',\n    '[attr.aria-owns]': 'autocomplete?.id',\n    // Note: we use `focusin`, as opposed to `focus`, in order to open the panel\n    // a little earlier. This avoids issues where IE delays the focusing of the input.\n    '(focusin)': '_handleFocus()',\n    '(blur)': '_onTouched()',\n    '(input)': '_handleInput($event)',\n    '(keydown)': '_handleKeydown($event)',\n  },\n  providers: [MAT_AUTOCOMPLETE_VALUE_ACCESSOR]\n})\nexport class MatAutocompleteTrigger implements ControlValueAccessor, OnDestroy {\n  private _overlayRef: OverlayRef | null;\n  private _portal: TemplatePortal<any>;\n  private _panelOpen: boolean = false;\n\n  /** Strategy that is used to position the panel. */\n  private _positionStrategy: ConnectedPositionStrategy;\n\n  /** Whether or not the label state is being overridden. */\n  private _manuallyFloatingLabel = false;\n\n  /** The subscription for closing actions (some are bound to document). */\n  private _closingActionsSubscription: Subscription;\n\n  /** Stream of escape keyboard events. */\n  private _escapeEventStream = new Subject<void>();\n\n  /** View -> model callback called when value changes */\n  _onChange: (value: any) => void = () => {};\n\n  /** View -> model callback called when autocomplete has been touched */\n  _onTouched = () => {};\n\n  /* The autocomplete panel to be attached to this trigger. */\n  @Input('matAutocomplete') autocomplete: MatAutocomplete;\n\n  constructor(private _element: ElementRef, private _overlay: Overlay,\n              private _viewContainerRef: ViewContainerRef,\n              private _zone: NgZone,\n              private _changeDetectorRef: ChangeDetectorRef,\n              @Inject(MAT_AUTOCOMPLETE_SCROLL_STRATEGY) private _scrollStrategy,\n              @Optional() private _dir: Directionality,\n              @Optional() @Host() private _formField: MatFormField,\n              @Optional() @Inject(DOCUMENT) private _document: any) {}\n\n  ngOnDestroy() {\n    this._destroyPanel();\n    this._escapeEventStream.complete();\n  }\n\n  /* Whether or not the autocomplete panel is open. */\n  get panelOpen(): boolean {\n    return this._panelOpen && this.autocomplete.showPanel;\n  }\n\n  /** Opens the autocomplete suggestion panel. */\n  openPanel(): void {\n    this._attachOverlay();\n    this._floatLabel();\n  }\n\n  /** Closes the autocomplete suggestion panel. */\n  closePanel(): void {\n    this._resetLabel();\n\n    if (this._panelOpen) {\n      this.autocomplete._isOpen = this._panelOpen = false;\n\n      if (this._overlayRef && this._overlayRef.hasAttached()) {\n        this._overlayRef.detach();\n        this._closingActionsSubscription.unsubscribe();\n      }\n\n      // We need to trigger change detection manually, because\n      // `fromEvent` doesn't seem to do it at the proper time.\n      // This ensures that the label is reset when the\n      // user clicks outside.\n      this._changeDetectorRef.detectChanges();\n    }\n  }\n\n  /**\n   * A stream of actions that should close the autocomplete panel, including\n   * when an option is selected, on blur, and when TAB is pressed.\n   */\n  get panelClosingActions(): Observable<MatOptionSelectionChange> {\n    return merge(\n      this.optionSelections,\n      this.autocomplete._keyManager.tabOut.pipe(filter(() => this._panelOpen)),\n      this._escapeEventStream,\n      this._outsideClickStream,\n      this._overlayRef ?\n          this._overlayRef.detachments().pipe(filter(() => this._panelOpen)) :\n          observableOf()\n    );\n  }\n\n  /** Stream of autocomplete option selections. */\n  get optionSelections(): Observable<MatOptionSelectionChange> {\n    return merge(...this.autocomplete.options.map(option => option.onSelectionChange));\n  }\n\n  /** The currently active option, coerced to MatOption type. */\n  get activeOption(): MatOption | null {\n    if (this.autocomplete && this.autocomplete._keyManager) {\n      return this.autocomplete._keyManager.activeItem;\n    }\n\n    return null;\n  }\n\n  /** Stream of clicks outside of the autocomplete panel. */\n  private get _outsideClickStream(): Observable<any> {\n    if (!this._document) {\n      return observableOf(null);\n    }\n\n    return merge(\n      fromEvent(this._document, 'click'),\n      fromEvent(this._document, 'touchend')\n    )\n    .pipe(filter((event: MouseEvent | TouchEvent) => {\n      const clickTarget = event.target as HTMLElement;\n      const formField = this._formField ?\n          this._formField._elementRef.nativeElement : null;\n\n      return this._panelOpen &&\n              clickTarget !== this._element.nativeElement &&\n              (!formField || !formField.contains(clickTarget)) &&\n              (!!this._overlayRef && !this._overlayRef.overlayElement.contains(clickTarget));\n    }));\n  }\n\n  /**\n   * Sets the autocomplete's value. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param value New value to be written to the model.\n   */\n  writeValue(value: any): void {\n    Promise.resolve(null).then(() => this._setTriggerValue(value));\n  }\n\n  /**\n   * Saves a callback function to be invoked when the autocomplete's value\n   * changes from user input. Part of the ControlValueAccessor interface\n   * required to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the value changes.\n   */\n  registerOnChange(fn: (value: any) => {}): void {\n    this._onChange = fn;\n  }\n\n  /**\n   * Saves a callback function to be invoked when the autocomplete is blurred\n   * by the user. Part of the ControlValueAccessor interface required\n   * to integrate with Angular's core forms API.\n   *\n   * @param fn Callback to be triggered when the component has been touched.\n   */\n  registerOnTouched(fn: () => {}) {\n    this._onTouched = fn;\n  }\n\n  /**\n   * Disables the input. Implemented as a part of `ControlValueAccessor`.\n   * @param isDisabled Whether the component should be disabled.\n   */\n  setDisabledState(isDisabled: boolean) {\n    this._element.nativeElement.disabled = isDisabled;\n  }\n\n  _handleKeydown(event: KeyboardEvent): void {\n    const keyCode = event.keyCode;\n\n    if (keyCode === ESCAPE && this.panelOpen) {\n      this._resetActiveItem();\n      this._escapeEventStream.next();\n      event.stopPropagation();\n    } else if (this.activeOption && keyCode === ENTER && this.panelOpen) {\n      this.activeOption._selectViaInteraction();\n      this._resetActiveItem();\n      event.preventDefault();\n    } else {\n      const prevActiveItem = this.autocomplete._keyManager.activeItem;\n      const isArrowKey = keyCode === UP_ARROW || keyCode === DOWN_ARROW;\n\n      if (this.panelOpen || keyCode === TAB) {\n        this.autocomplete._keyManager.onKeydown(event);\n      } else if (isArrowKey) {\n        this.openPanel();\n      }\n\n      if (isArrowKey || this.autocomplete._keyManager.activeItem !== prevActiveItem) {\n        this._scrollToOption();\n      }\n    }\n  }\n\n  _handleInput(event: KeyboardEvent): void {\n    // We need to ensure that the input is focused, because IE will fire the `input`\n    // event on focus/blur/load if the input has a placeholder. See:\n    // https://connect.microsoft.com/IE/feedback/details/885747/\n    if (document.activeElement === event.target) {\n      this._onChange((event.target as HTMLInputElement).value);\n      this.openPanel();\n    }\n  }\n\n  _handleFocus(): void {\n    if (!this._element.nativeElement.readOnly) {\n      this._attachOverlay();\n      this._floatLabel(true);\n    }\n  }\n\n  /**\n   * In \"auto\" mode, the label will animate down as soon as focus is lost.\n   * This causes the value to jump when selecting an option with the mouse.\n   * This method manually floats the label until the panel can be closed.\n   * @param shouldAnimate Whether the label should be animated when it is floated.\n   */\n  private _floatLabel(shouldAnimate = false): void {\n    if (this._formField && this._formField.floatLabel === 'auto') {\n      if (shouldAnimate) {\n        this._formField._animateAndLockLabel();\n      } else {\n        this._formField.floatLabel = 'always';\n      }\n\n      this._manuallyFloatingLabel = true;\n    }\n  }\n\n  /** If the label has been manually elevated, return it to its normal state. */\n  private _resetLabel(): void  {\n    if (this._manuallyFloatingLabel) {\n      this._formField.floatLabel = 'auto';\n      this._manuallyFloatingLabel = false;\n    }\n  }\n\n  /**\n   * Given that we are not actually focusing active options, we must manually adjust scroll\n   * to reveal options below the fold. First, we find the offset of the option from the top\n   * of the panel. If that offset is below the fold, the new scrollTop will be the offset -\n   * the panel height + the option height, so the active option will be just visible at the\n   * bottom of the panel. If that offset is above the top of the visible panel, the new scrollTop\n   * will become the offset. If that offset is visible within the panel already, the scrollTop is\n   * not adjusted.\n   */\n  private _scrollToOption(): void {\n    const activeOptionIndex = this.autocomplete._keyManager.activeItemIndex || 0;\n    const labelCount = MatOption.countGroupLabelsBeforeOption(activeOptionIndex,\n        this.autocomplete.options, this.autocomplete.optionGroups);\n    const optionOffset = (activeOptionIndex + labelCount) * AUTOCOMPLETE_OPTION_HEIGHT;\n    const panelTop = this.autocomplete._getScrollTop();\n\n    if (optionOffset < panelTop) {\n      // Scroll up to reveal selected option scrolled above the panel top\n      this.autocomplete._setScrollTop(optionOffset);\n    } else if (optionOffset + AUTOCOMPLETE_OPTION_HEIGHT > panelTop + AUTOCOMPLETE_PANEL_HEIGHT) {\n      // Scroll down to reveal selected option scrolled below the panel bottom\n      const newScrollTop = optionOffset - AUTOCOMPLETE_PANEL_HEIGHT + AUTOCOMPLETE_OPTION_HEIGHT;\n      this.autocomplete._setScrollTop(Math.max(0, newScrollTop));\n    }\n  }\n\n  /**\n   * This method listens to a stream of panel closing actions and resets the\n   * stream every time the option list changes.\n   */\n  private _subscribeToClosingActions(): Subscription {\n    const firstStable = this._zone.onStable.asObservable().pipe(take(1));\n    const optionChanges = this.autocomplete.options.changes.pipe(\n      tap(() => this._positionStrategy.recalculateLastPosition()),\n      // Defer emitting to the stream until the next tick, because changing\n      // bindings in here will cause \"changed after checked\" errors.\n      delay(0)\n    );\n\n    // When the zone is stable initially, and when the option list changes...\n    return merge(firstStable, optionChanges)\n      .pipe(\n        // create a new stream of panelClosingActions, replacing any previous streams\n        // that were created, and flatten it so our stream only emits closing events...\n        switchMap(() => {\n          this._resetActiveItem();\n          this.autocomplete._setVisibility();\n          return this.panelClosingActions;\n        }),\n        // when the first closing event occurs...\n        take(1)\n      )\n      // set the value, close the panel, and complete.\n      .subscribe(event => this._setValueAndClose(event));\n  }\n\n  /** Destroys the autocomplete suggestion panel. */\n  private _destroyPanel(): void {\n    if (this._overlayRef) {\n      this.closePanel();\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n  }\n\n  private _setTriggerValue(value: any): void {\n    const toDisplay = this.autocomplete && this.autocomplete.displayWith ?\n      this.autocomplete.displayWith(value) :\n      value;\n\n    // Simply falling back to an empty string if the display value is falsy does not work properly.\n    // The display value can also be the number zero and shouldn't fall back to an empty string.\n    const inputValue = toDisplay != null ? toDisplay : '';\n\n    // If it's used within a `MatFormField`, we should set it through the property so it can go\n    // through change detection.\n    if (this._formField) {\n      this._formField._control.value = inputValue;\n    } else {\n      this._element.nativeElement.value = inputValue;\n    }\n  }\n\n   /**\n   * This method closes the panel, and if a value is specified, also sets the associated\n   * control to that value. It will also mark the control as dirty if this interaction\n   * stemmed from the user.\n   */\n  private _setValueAndClose(event: MatOptionSelectionChange | null): void {\n    if (event && event.source) {\n      this._clearPreviousSelectedOption(event.source);\n      this._setTriggerValue(event.source.value);\n      this._onChange(event.source.value);\n      this._element.nativeElement.focus();\n      this.autocomplete._emitSelectEvent(event.source);\n    }\n\n    this.closePanel();\n  }\n\n  /**\n   * Clear any previous selected option and emit a selection change event for this option\n   */\n  private _clearPreviousSelectedOption(skip: MatOption) {\n    this.autocomplete.options.forEach(option => {\n      if (option != skip && option.selected) {\n        option.deselect();\n      }\n    });\n  }\n\n  private _attachOverlay(): void {\n    if (!this.autocomplete) {\n      throw getMatAutocompleteMissingPanelError();\n    }\n\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.autocomplete.template, this._viewContainerRef);\n      this._overlayRef = this._overlay.create(this._getOverlayConfig());\n    } else {\n      /** Update the panel width, in case the host width has changed */\n      this._overlayRef.updateSize({width: this._getHostWidth()});\n    }\n\n    if (this._overlayRef && !this._overlayRef.hasAttached()) {\n      this._overlayRef.attach(this._portal);\n      this._closingActionsSubscription = this._subscribeToClosingActions();\n    }\n\n    this.autocomplete._setVisibility();\n    this.autocomplete._isOpen = this._panelOpen = true;\n  }\n\n  private _getOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      positionStrategy: this._getOverlayPosition(),\n      scrollStrategy: this._scrollStrategy(),\n      width: this._getHostWidth(),\n      direction: this._dir ? this._dir.value : 'ltr'\n    });\n  }\n\n  private _getOverlayPosition(): PositionStrategy {\n    this._positionStrategy =  this._overlay.position().connectedTo(\n        this._getConnectedElement(),\n        {originX: 'start', originY: 'bottom'}, {overlayX: 'start', overlayY: 'top'})\n        .withFallbackPosition(\n            {originX: 'start', originY: 'top'}, {overlayX: 'start', overlayY: 'bottom'}\n        );\n    return this._positionStrategy;\n  }\n\n  private _getConnectedElement(): ElementRef {\n    return this._formField ? this._formField._connectionContainerRef : this._element;\n  }\n\n  /** Returns the width of the input element, so the panel width can match it. */\n  private _getHostWidth(): number {\n    return this._getConnectedElement().nativeElement.getBoundingClientRect().width;\n  }\n\n  /** Reset active item to -1 so arrow events will activate the correct options.*/\n  private _resetActiveItem(): void {\n    this.autocomplete._keyManager.setActiveItem(-1);\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor} from '@angular/cdk/a11y';\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  ElementRef,\n  forwardRef,\n  Inject,\n  OnDestroy,\n  Optional,\n  Self,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  CanColor,\n  CanDisable,\n  CanDisableRipple,\n  mixinColor,\n  mixinDisabled,\n  mixinDisableRipple\n} from '@angular/material/core';\n\n\n// TODO(kara): Convert attribute selectors to classes when attr maps become available\n\n/** Default color palette for round buttons (mat-fab and mat-mini-fab) */\nconst DEFAULT_ROUND_BUTTON_COLOR = 'accent';\n\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'button[mat-button], a[mat-button]',\n  host: {'class': 'mat-button'}\n})\nexport class MatButtonCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'button[mat-raised-button], a[mat-raised-button]',\n  host: {'class': 'mat-raised-button'}\n})\nexport class MatRaisedButtonCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'button[mat-icon-button], a[mat-icon-button]',\n  host: {'class': 'mat-icon-button'}\n})\nexport class MatIconButtonCssMatStyler {}\n\n/**\n * Directive whose purpose is to add the mat- CSS styling to this selector.\n * @docs-private\n */\n@Directive({\n  selector: 'button[mat-fab], a[mat-fab]',\n  host: {'class': 'mat-fab'}\n})\nexport class MatFab {\n  constructor(@Self() @Optional() @Inject(forwardRef(() => MatButton)) button: MatButton,\n              @Self() @Optional() @Inject(forwardRef(() => MatAnchor)) anchor: MatAnchor) {\n    // Set the default color palette for the mat-fab components.\n    (button || anchor).color = DEFAULT_ROUND_BUTTON_COLOR;\n  }\n}\n\n/**\n * Directive that targets mini-fab buttons and anchors. It's used to apply the `mat-` class\n * to all mini-fab buttons and also is responsible for setting the default color palette.\n * @docs-private\n */\n@Directive({\n  selector: 'button[mat-mini-fab], a[mat-mini-fab]',\n  host: {'class': 'mat-mini-fab'}\n})\nexport class MatMiniFab {\n  constructor(@Self() @Optional() @Inject(forwardRef(() => MatButton)) button: MatButton,\n              @Self() @Optional() @Inject(forwardRef(() => MatAnchor)) anchor: MatAnchor) {\n    // Set the default color palette for the mat-mini-fab components.\n    (button || anchor).color = DEFAULT_ROUND_BUTTON_COLOR;\n  }\n}\n\n\n// Boilerplate for applying mixins to MatButton.\n/** @docs-private */\nexport class MatButtonBase {\n  constructor(public _elementRef: ElementRef) {}\n}\nexport const _MatButtonMixinBase = mixinColor(mixinDisabled(mixinDisableRipple(MatButtonBase)));\n\n\n/**\n * Material design button.\n */\n@Component({\n  moduleId: module.id,\n  selector: `button[mat-button], button[mat-raised-button], button[mat-icon-button],\n             button[mat-fab], button[mat-mini-fab]`,\n  exportAs: 'matButton',\n  host: {\n    '[disabled]': 'disabled || null',\n  },\n  templateUrl: 'button.html',\n  styleUrls: ['button.css'],\n  inputs: ['disabled', 'disableRipple', 'color'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatButton extends _MatButtonMixinBase\n    implements OnDestroy, CanDisable, CanColor, CanDisableRipple {\n\n  /** Whether the button is round. */\n  _isRoundButton: boolean = this._hasHostAttributes('mat-fab', 'mat-mini-fab');\n\n  /** Whether the button is icon button. */\n  _isIconButton: boolean = this._hasHostAttributes('mat-icon-button');\n\n  constructor(elementRef: ElementRef,\n              private _platform: Platform,\n              private _focusMonitor: FocusMonitor) {\n    super(elementRef);\n    this._focusMonitor.monitor(this._elementRef.nativeElement, true);\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n  }\n\n  /** Focuses the button. */\n  focus(): void {\n    this._getHostElement().focus();\n  }\n\n  _getHostElement() {\n    return this._elementRef.nativeElement;\n  }\n\n  _isRippleDisabled() {\n    return this.disableRipple || this.disabled;\n  }\n\n  /** Gets whether the button has one of the given attributes. */\n  _hasHostAttributes(...attributes: string[]) {\n    // If not on the browser, say that there are none of the attributes present.\n    // Since these only affect how the ripple displays (and ripples only happen on the client),\n    // detecting these attributes isn't necessary when not on the browser.\n    if (!this._platform.isBrowser) {\n      return false;\n    }\n\n    return attributes.some(attribute => this._getHostElement().hasAttribute(attribute));\n  }\n}\n\n/**\n * Raised Material design button.\n */\n@Component({\n  moduleId: module.id,\n  selector: `a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab], a[mat-mini-fab]`,\n  exportAs: 'matButton, matAnchor',\n  host: {\n    '[attr.tabindex]': 'disabled ? -1 : 0',\n    '[attr.disabled]': 'disabled || null',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '(click)': '_haltDisabledEvents($event)',\n  },\n  inputs: ['disabled', 'disableRipple', 'color'],\n  templateUrl: 'button.html',\n  styleUrls: ['button.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatAnchor extends MatButton {\n  constructor(\n      platform: Platform,\n      focusMonitor: FocusMonitor,\n      elementRef: ElementRef) {\n    super(elementRef, platform, focusMonitor);\n  }\n\n  _haltDisabledEvents(event: Event) {\n    // A disabled button shouldn't apply any actions\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatCommonModule, MatRippleModule} from '@angular/material/core';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {\n  MatAnchor,\n  MatButton,\n  MatMiniFab,\n  MatButtonCssMatStyler,\n  MatFab,\n  MatIconButtonCssMatStyler,\n  MatRaisedButtonCssMatStyler\n} from './button';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatRippleModule,\n    MatCommonModule,\n    A11yModule,\n  ],\n  exports: [\n    MatButton,\n    MatAnchor,\n    MatMiniFab,\n    MatFab,\n    MatCommonModule,\n    MatButtonCssMatStyler,\n    MatRaisedButtonCssMatStyler,\n    MatIconButtonCssMatStyler,\n  ],\n  declarations: [\n    MatButton,\n    MatAnchor,\n    MatMiniFab,\n    MatFab,\n    MatButtonCssMatStyler,\n    MatRaisedButtonCssMatStyler,\n    MatIconButtonCssMatStyler,\n  ],\n})\nexport class MatButtonModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {FocusMonitor} from '@angular/cdk/a11y';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {CanDisable, mixinDisabled} from '@angular/material/core';\n\n/** Acceptable types for a button toggle. */\nexport type ToggleType = 'checkbox' | 'radio';\n\n// Boilerplate for applying mixins to MatButtonToggleGroup and MatButtonToggleGroupMultiple\n/** @docs-private */\nexport class MatButtonToggleGroupBase {}\nexport const _MatButtonToggleGroupMixinBase = mixinDisabled(MatButtonToggleGroupBase);\n\n/**\n * Provider Expression that allows mat-button-toggle-group to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)].\n * @docs-private\n */\nexport const MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MatButtonToggleGroup),\n  multi: true\n};\n\nlet _uniqueIdCounter = 0;\n\n/** Change event object emitted by MatButtonToggle. */\nexport class MatButtonToggleChange {\n  /** The MatButtonToggle that emits the event. */\n  source: MatButtonToggle | null;\n  /** The value assigned to the MatButtonToggle. */\n  value: any;\n}\n\n/** Exclusive selection button toggle group that behaves like a radio-button group. */\n@Directive({\n  selector: 'mat-button-toggle-group:not([multiple])',\n  providers: [MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR],\n  inputs: ['disabled'],\n  host: {\n    'role': 'radiogroup',\n    'class': 'mat-button-toggle-group',\n    '[class.mat-button-toggle-vertical]': 'vertical'\n  },\n  exportAs: 'matButtonToggleGroup',\n})\nexport class MatButtonToggleGroup extends _MatButtonToggleGroupMixinBase\n    implements ControlValueAccessor, CanDisable {\n\n  /** The value for the button toggle group. Should match currently selected button toggle. */\n  private _value: any = null;\n\n  /** The HTML name attribute applied to toggles in this group. */\n  private _name: string = `mat-button-toggle-group-${_uniqueIdCounter++}`;\n\n  /** Whether the button toggle group should be vertical. */\n  private _vertical: boolean = false;\n\n  /** The currently selected button toggle, should match the value. */\n  private _selected: MatButtonToggle | null = null;\n\n  /**\n   * The method to be called in order to update ngModel.\n   * Now `ngModel` binding is not supported in multiple selection mode.\n   */\n  _controlValueAccessorChangeFn: (value: any) => void = () => {};\n\n  /** onTouch function registered via registerOnTouch (ControlValueAccessor). */\n  _onTouched: () => any = () => {};\n\n  /** Child button toggle buttons. */\n  @ContentChildren(forwardRef(() => MatButtonToggle)) _buttonToggles: QueryList<MatButtonToggle>;\n\n  /** `name` attribute for the underlying `input` element. */\n  @Input()\n  get name(): string {\n    return this._name;\n  }\n\n  set name(value: string) {\n    this._name = value;\n    this._updateButtonToggleNames();\n  }\n\n  /** Whether the toggle group is vertical. */\n  @Input()\n  get vertical(): boolean {\n    return this._vertical;\n  }\n\n  set vertical(value) {\n    this._vertical = coerceBooleanProperty(value);\n  }\n\n  /** Value of the toggle group. */\n  @Input()\n  get value(): any {\n    return this._value;\n  }\n  set value(newValue: any) {\n    if (this._value != newValue) {\n      this._value = newValue;\n      this.valueChange.emit(newValue);\n      this._updateSelectedButtonToggleFromValue();\n    }\n  }\n\n  /**\n   * Event that emits whenever the value of the group changes.\n   * Used to facilitate two-way data binding.\n   * @docs-private\n   */\n  @Output() valueChange = new EventEmitter<any>();\n\n  /** Whether the toggle group is selected. */\n  @Input()\n  get selected() {\n    return this._selected;\n  }\n\n  set selected(selected: MatButtonToggle | null) {\n    this._selected = selected;\n    this.value = selected ? selected.value : null;\n\n    if (selected && !selected.checked) {\n      selected.checked = true;\n    }\n  }\n\n  /** Event emitted when the group's value changes. */\n  @Output() change: EventEmitter<MatButtonToggleChange> = new EventEmitter<MatButtonToggleChange>();\n\n  constructor(private _changeDetector: ChangeDetectorRef) {\n    super();\n  }\n\n  private _updateButtonToggleNames(): void {\n    if (this._buttonToggles) {\n      this._buttonToggles.forEach((toggle) => {\n        toggle.name = this._name;\n      });\n    }\n  }\n\n  // TODO: Refactor into shared code with radio.\n  private _updateSelectedButtonToggleFromValue(): void {\n    let isAlreadySelected = this._selected != null && this._selected.value == this._value;\n\n    if (this._buttonToggles != null && !isAlreadySelected) {\n      let matchingButtonToggle = this._buttonToggles.filter(\n          buttonToggle => buttonToggle.value == this._value)[0];\n\n      if (matchingButtonToggle) {\n        this.selected = matchingButtonToggle;\n      } else if (this.value == null) {\n        this.selected = null;\n        this._buttonToggles.forEach(buttonToggle => {\n          buttonToggle.checked = false;\n        });\n      }\n    }\n  }\n\n  /** Dispatch change event with current selection and group value. */\n  _emitChangeEvent(): void {\n    let event = new MatButtonToggleChange();\n    event.source = this._selected;\n    event.value = this._value;\n    this._controlValueAccessorChangeFn(event.value);\n    this.change.emit(event);\n  }\n\n  /**\n   * Sets the model value. Implemented as part of ControlValueAccessor.\n   * @param value Value to be set to the model.\n   */\n  writeValue(value: any) {\n    this.value = value;\n    this._changeDetector.markForCheck();\n  }\n\n  /**\n   * Registers a callback that will be triggered when the value has changed.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn On change callback function.\n   */\n  registerOnChange(fn: (value: any) => void) {\n    this._controlValueAccessorChangeFn = fn;\n  }\n\n  /**\n   * Registers a callback that will be triggered when the control has been touched.\n   * Implemented as part of ControlValueAccessor.\n   * @param fn On touch callback function.\n   */\n  registerOnTouched(fn: any) {\n    this._onTouched = fn;\n  }\n\n  /**\n   * Toggles the disabled state of the component. Implemented as part of ControlValueAccessor.\n   * @param isDisabled Whether the component should be disabled.\n   */\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this._markButtonTogglesForCheck();\n  }\n\n  private _markButtonTogglesForCheck() {\n    if (this._buttonToggles) {\n      this._buttonToggles.forEach((toggle) => toggle._markForCheck());\n    }\n  }\n}\n\n/** Multiple selection button-toggle group. `ngModel` is not supported in this mode. */\n@Directive({\n  selector: 'mat-button-toggle-group[multiple]',\n  exportAs: 'matButtonToggleGroup',\n  inputs: ['disabled'],\n  host: {\n    'class': 'mat-button-toggle-group',\n    '[class.mat-button-toggle-vertical]': 'vertical',\n    'role': 'group'\n  }\n})\nexport class MatButtonToggleGroupMultiple extends _MatButtonToggleGroupMixinBase\n    implements CanDisable {\n\n  /** Whether the button toggle group should be vertical. */\n  private _vertical: boolean = false;\n\n  /** Whether the toggle group is vertical. */\n  @Input()\n  get vertical(): boolean {\n    return this._vertical;\n  }\n\n  set vertical(value) {\n    this._vertical = coerceBooleanProperty(value);\n  }\n}\n\n/** Single button inside of a toggle group. */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-button-toggle',\n  templateUrl: 'button-toggle.html',\n  styleUrls: ['button-toggle.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  exportAs: 'matButtonToggle',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.mat-button-toggle-standalone]': '!buttonToggleGroup && !buttonToggleGroupMultiple',\n    '[class.mat-button-toggle-checked]': 'checked',\n    '[class.mat-button-toggle-disabled]': 'disabled',\n    'class': 'mat-button-toggle',\n    '[attr.id]': 'id',\n  }\n})\nexport class MatButtonToggle implements OnInit, OnDestroy {\n  /**\n   * Attached to the aria-label attribute of the host element. In most cases, arial-labelledby will\n   * take precedence so this may be omitted.\n   */\n  @Input('aria-label') ariaLabel: string = '';\n\n  /**\n   * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n   */\n  @Input('aria-labelledby') ariaLabelledby: string | null = null;\n\n  /** Whether or not this button toggle is checked. */\n  private _checked: boolean = false;\n\n  /** Type of the button toggle. Either 'radio' or 'checkbox'. */\n  _type: ToggleType;\n\n  /** Whether or not this button toggle is disabled. */\n  private _disabled: boolean = false;\n\n  /** Value assigned to this button toggle. */\n  private _value: any = null;\n\n  /** Whether or not the button toggle is a single selection. */\n  private _isSingleSelector: boolean = false;\n\n  /** Unregister function for _buttonToggleDispatcher **/\n  private _removeUniqueSelectionListener: () => void = () => {};\n\n  @ViewChild('input') _inputElement: ElementRef;\n\n  /** The parent button toggle group (exclusive selection). Optional. */\n  buttonToggleGroup: MatButtonToggleGroup;\n\n  /** The parent button toggle group (multiple selection). Optional. */\n  buttonToggleGroupMultiple: MatButtonToggleGroupMultiple;\n\n  /** Unique ID for the underlying `input` element. */\n  get inputId(): string {\n    return `${this.id}-input`;\n  }\n\n  /** The unique ID for this button toggle. */\n  @Input() id: string;\n\n  /** HTML's 'name' attribute used to group radios for unique selection. */\n  @Input() name: string;\n\n  /** Whether the button is checked. */\n  @Input()\n  get checked(): boolean { return this._checked; }\n  set checked(newCheckedState: boolean) {\n    if (this._isSingleSelector && newCheckedState) {\n      // Notify all button toggles with the same name (in the same group) to un-check.\n      this._buttonToggleDispatcher.notify(this.id, this.name);\n      this._changeDetectorRef.markForCheck();\n    }\n\n    this._checked = newCheckedState;\n\n    if (newCheckedState && this._isSingleSelector && this.buttonToggleGroup.value != this.value) {\n      this.buttonToggleGroup.selected = this;\n    }\n  }\n\n  /** MatButtonToggleGroup reads this to assign its own value. */\n  @Input()\n  get value(): any {\n    return this._value;\n  }\n\n  set value(value: any) {\n    if (this._value != value) {\n      if (this.buttonToggleGroup != null && this.checked) {\n        this.buttonToggleGroup.value = value;\n      }\n      this._value = value;\n    }\n  }\n\n  /** Whether the button is disabled. */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled || (this.buttonToggleGroup != null && this.buttonToggleGroup.disabled) ||\n        (this.buttonToggleGroupMultiple != null && this.buttonToggleGroupMultiple.disabled);\n  }\n\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n\n  /** Event emitted when the group value changes. */\n  @Output() change: EventEmitter<MatButtonToggleChange> = new EventEmitter<MatButtonToggleChange>();\n\n  constructor(@Optional() toggleGroup: MatButtonToggleGroup,\n              @Optional() toggleGroupMultiple: MatButtonToggleGroupMultiple,\n              private _changeDetectorRef: ChangeDetectorRef,\n              private _buttonToggleDispatcher: UniqueSelectionDispatcher,\n              private _elementRef: ElementRef,\n              private _focusMonitor: FocusMonitor) {\n\n    this.buttonToggleGroup = toggleGroup;\n    this.buttonToggleGroupMultiple = toggleGroupMultiple;\n\n    if (this.buttonToggleGroup) {\n      this._removeUniqueSelectionListener =\n        _buttonToggleDispatcher.listen((id: string, name: string) => {\n          if (id != this.id && name == this.name) {\n            this.checked = false;\n            this._changeDetectorRef.markForCheck();\n          }\n        });\n\n      this._type = 'radio';\n      this.name = this.buttonToggleGroup.name;\n      this._isSingleSelector = true;\n    } else {\n      // Even if there is no group at all, treat the button toggle as a checkbox so it can be\n      // toggled on or off.\n      this._type = 'checkbox';\n      this._isSingleSelector = false;\n    }\n  }\n\n  ngOnInit() {\n    if (this.id == null) {\n      this.id = `mat-button-toggle-${_uniqueIdCounter++}`;\n    }\n\n    if (this.buttonToggleGroup && this._value == this.buttonToggleGroup.value) {\n      this._checked = true;\n    }\n    this._focusMonitor.monitor(this._elementRef.nativeElement, true);\n  }\n\n  /** Focuses the button. */\n  focus() {\n    this._inputElement.nativeElement.focus();\n  }\n\n  /** Toggle the state of the current button toggle. */\n  private _toggle(): void {\n    this.checked = !this.checked;\n  }\n\n  /** Checks the button toggle due to an interaction with the underlying native input. */\n  _onInputChange(event: Event) {\n    event.stopPropagation();\n\n    if (this._isSingleSelector) {\n      // Propagate the change one-way via the group, which will in turn mark this\n      // button toggle as checked.\n      let groupValueChanged = this.buttonToggleGroup.selected != this;\n      this.checked = true;\n      this.buttonToggleGroup.selected = this;\n      this.buttonToggleGroup._onTouched();\n      if (groupValueChanged) {\n        this.buttonToggleGroup._emitChangeEvent();\n      }\n    } else {\n      this._toggle();\n    }\n\n    // Emit a change event when the native input does.\n    this._emitChangeEvent();\n  }\n\n  _onInputClick(event: Event) {\n    // We have to stop propagation for click events on the visual hidden input element.\n    // By default, when a user clicks on a label element, a generated click event will be\n    // dispatched on the associated input element. Since we are using a label element as our\n    // root container, the click event on the `slide-toggle` will be executed twice.\n    // The real click event will bubble up, and the generated click event also tries to bubble up.\n    // This will lead to multiple click events.\n    // Preventing bubbling for the second event will solve that issue.\n    event.stopPropagation();\n  }\n\n  /** Dispatch change event with current value. */\n  private _emitChangeEvent(): void {\n    let event = new MatButtonToggleChange();\n    event.source = this;\n    event.value = this._value;\n    this.change.emit(event);\n  }\n\n  // Unregister buttonToggleDispatcherListener on destroy\n  ngOnDestroy(): void {\n    this._removeUniqueSelectionListener();\n  }\n\n  /**\n   * Marks the button toggle as needing checking for change detection.\n   * This method is exposed because the parent button toggle group will directly\n   * update bound properties of the radio button.\n   */\n  _markForCheck() {\n    // When group value changes, the button will not be notified. Use `markForCheck` to explicit\n    // update button toggle's status\n    this._changeDetectorRef.markForCheck();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  Directive,\n  Input,\n} from '@angular/core';\n\n\n/**\n * Content of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-card-content',\n  host: {'class': 'mat-card-content'}\n})\nexport class MatCardContent {}\n\n/**\n * Title of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\n@Directive({\n  selector: `mat-card-title, [mat-card-title], [matCardTitle]`,\n  host: {\n    'class': 'mat-card-title'\n  }\n})\nexport class MatCardTitle {}\n\n/**\n * Sub-title of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\n@Directive({\n  selector: `mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]`,\n  host: {\n    'class': 'mat-card-subtitle'\n  }\n})\nexport class MatCardSubtitle {}\n\n/**\n * Action section of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-card-actions',\n  exportAs: 'matCardActions',\n  host: {\n    'class': 'mat-card-actions',\n    '[class.mat-card-actions-align-end]': 'align === \"end\"',\n  }\n})\nexport class MatCardActions {\n  /** Position of the actions inside the card. */\n  @Input() align: 'start' | 'end' = 'start';\n}\n\n/**\n * Footer of a card, needed as it's used as a selector in the API.\n * @docs-private\n */\n@Directive({\n  selector: 'mat-card-footer',\n  host: {'class': 'mat-card-footer'}\n})\nexport class MatCardFooter {}\n\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-image], [matCardImage]',\n  host: {'class': 'mat-card-image'}\n})\nexport class MatCardImage {}\n\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-sm-image], [matCardImageSmall]',\n  host: {'class': 'mat-card-sm-image'}\n})\nexport class MatCardSmImage {}\n\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-md-image], [matCardImageMedium]',\n  host: {'class': 'mat-card-md-image'}\n})\nexport class MatCardMdImage {}\n\n/**\n * Image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-lg-image], [matCardImageLarge]',\n  host: {'class': 'mat-card-lg-image'}\n})\nexport class MatCardLgImage {}\n\n/**\n * Large image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-xl-image], [matCardImageXLarge]',\n  host: {'class': 'mat-card-xl-image'}\n})\nexport class MatCardXlImage {}\n\n/**\n * Avatar image used in a card, needed to add the mat- CSS styling.\n * @docs-private\n */\n@Directive({\n  selector: '[mat-card-avatar], [matCardAvatar]',\n  host: {'class': 'mat-card-avatar'}\n})\nexport class MatCardAvatar {}\n\n\n/**\n * A basic content container component that adds the styles of a Material design card.\n *\n * While this component can be used alone, it also provides a number\n * of preset styles for common card sections, including:\n * - mat-card-title\n * - mat-card-subtitle\n * - mat-card-content\n * - mat-card-actions\n * - mat-card-footer\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-card',\n  exportAs: 'matCard',\n  templateUrl: 'card.html',\n  styleUrls: ['card.css'],\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {'class': 'mat-card'}\n})\nexport class MatCard {}\n\n\n/**\n * Component intended to be used within the `<mat-card>` component. It adds styles for a\n * preset header section (i.e. a title, subtitle, and avatar layout).\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-card-header',\n  templateUrl: 'card-header.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {'class': 'mat-card-header'}\n})\nexport class MatCardHeader {}\n\n\n/**\n * Component intended to be used within the <mat-card> component. It adds styles for a preset\n * layout that groups an image with a title section.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-card-title-group',\n  templateUrl: 'card-title-group.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {'class': 'mat-card-title-group'}\n})\nexport class MatCardTitleGroup {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatCommonModule} from '@angular/material/core';\nimport {\n  MatCard,\n  MatCardHeader,\n  MatCardTitleGroup,\n  MatCardContent,\n  MatCardTitle,\n  MatCardSubtitle,\n  MatCardActions,\n  MatCardFooter,\n  MatCardSmImage,\n  MatCardMdImage,\n  MatCardLgImage,\n  MatCardImage,\n  MatCardXlImage,\n  MatCardAvatar,\n} from './card';\n\n\n@NgModule({\n  imports: [MatCommonModule],\n  exports: [\n    MatCard,\n    MatCardHeader,\n    MatCardTitleGroup,\n    MatCardContent,\n    MatCardTitle,\n    MatCardSubtitle,\n    MatCardActions,\n    MatCardFooter,\n    MatCardSmImage,\n    MatCardMdImage,\n    MatCardLgImage,\n    MatCardImage,\n    MatCardXlImage,\n    MatCardAvatar,\n    MatCommonModule,\n  ],\n  declarations: [\n    MatCard, MatCardHeader, MatCardTitleGroup, MatCardContent, MatCardTitle, MatCardSubtitle,\n    MatCardActions, MatCardFooter, MatCardSmImage, MatCardMdImage, MatCardLgImage, MatCardImage,\n    MatCardXlImage, MatCardAvatar,\n  ],\n})\nexport class MatCardModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {InjectionToken} from '@angular/core';\n\n\n/**\n * Checkbox click action when user click on input element.\n * noop: Do not toggle checked or indeterminate.\n * check: Only toggle checked status, ignore indeterminate.\n * check-indeterminate: Toggle checked status, set indeterminate to false. Default behavior.\n * undefined: Same as `check-indeterminate`.\n */\nexport type MatCheckboxClickAction = 'noop' | 'check' | 'check-indeterminate' | undefined;\n\n/**\n * Injection token that can be used to specify the checkbox click behavior.\n */\nexport const MAT_CHECKBOX_CLICK_ACTION =\n    new InjectionToken<MatCheckboxClickAction>('mat-checkbox-click-action');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Constructor} from './constructor';\n\n/** @docs-private */\nexport interface CanDisable {\n  disabled: boolean;\n}\n\n/** Mixin to augment a directive with a `disabled` property. */\nexport function mixinDisabled<T extends Constructor<{}>>(base: T): Constructor<CanDisable> & T {\n  return class extends base {\n    private _disabled: boolean = false;\n\n    get disabled() { return this._disabled; }\n    set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Constructor} from './constructor';\nimport {ElementRef} from '@angular/core';\n\n/** @docs-private */\nexport interface CanColor {\n  color: ThemePalette;\n}\n\n/** @docs-private */\nexport interface HasElementRef {\n  _elementRef: ElementRef;\n}\n\n/** Possible color palette values.  */\nexport type ThemePalette = 'primary' | 'accent' | 'warn' | undefined;\n\n/** Mixin to augment a directive with a `color` property. */\nexport function mixinColor<T extends Constructor<HasElementRef>>(base: T,\n    defaultColor?: ThemePalette): Constructor<CanColor> & T {\n  return class extends base {\n    private _color: ThemePalette;\n\n    get color(): ThemePalette { return this._color; }\n    set color(value: ThemePalette) {\n      const colorPalette = value || defaultColor;\n\n      if (colorPalette !== this._color) {\n        if (this._color) {\n          this._elementRef.nativeElement.classList.remove(`mat-${this._color}`);\n        }\n        if (colorPalette) {\n          this._elementRef.nativeElement.classList.add(`mat-${colorPalette}`);\n        }\n\n        this._color = colorPalette;\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n\n      // Set the default color that can be specified from the mixin.\n      this.color = defaultColor;\n    }\n  };\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Constructor} from './constructor';\n\n/** @docs-private */\nexport interface CanDisableRipple {\n  disableRipple: boolean;\n}\n\n/** Mixin to augment a directive with a `disableRipple` property. */\nexport function mixinDisableRipple<T extends Constructor<{}>>(base: T)\n    : Constructor<CanDisableRipple> & T {\n  return class extends base {\n    private _disableRipple: boolean = false;\n\n    /** Whether the ripple effect is disabled or not. */\n    get disableRipple() { return this._disableRipple; }\n    set disableRipple(value: any) { this._disableRipple = coerceBooleanProperty(value); }\n\n    constructor(...args: any[]) { super(...args); }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Constructor} from './constructor';\nimport {CanDisable} from './disabled';\n\n/** @docs-private */\nexport interface HasTabIndex {\n  tabIndex: number;\n}\n\n/** Mixin to augment a directive with a `tabIndex` property. */\nexport function mixinTabIndex<T extends Constructor<CanDisable>>(base: T, defaultTabIndex = 0)\n    : Constructor<HasTabIndex> & T {\n  return class extends base {\n    private _tabIndex: number = defaultTabIndex;\n\n    get tabIndex(): number { return this.disabled ? -1 : this._tabIndex; }\n    set tabIndex(value: number) {\n      // If the specified tabIndex value is null or undefined, fall back to the default value.\n      this._tabIndex = value != null ? value : defaultTabIndex;\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Constructor} from './constructor';\nimport {ErrorStateMatcher} from '../error/error-options';\nimport {FormControl, FormGroupDirective, NgControl, NgForm} from '@angular/forms';\nimport {Subject} from 'rxjs/Subject';\n\n/** @docs-private */\nexport interface CanUpdateErrorState {\n  updateErrorState();\n  stateChanges: Subject<void>;\n  errorState: boolean;\n  errorStateMatcher: ErrorStateMatcher;\n}\n\n/** @docs-private */\nexport interface HasErrorState {\n  _parentFormGroup: FormGroupDirective;\n  _parentForm: NgForm;\n  _defaultErrorStateMatcher: ErrorStateMatcher;\n  ngControl: NgControl;\n}\n\n/**\n * Mixin to augment a directive with updateErrorState method.\n * For component with `errorState` and need to update `errorState`.\n */\nexport function mixinErrorState<T extends Constructor<HasErrorState>>(base: T)\n: Constructor<CanUpdateErrorState> & T {\n  return class extends base {\n    /** Whether the component is in an error state. */\n    errorState: boolean = false;\n\n    /**\n     * Stream that emits whenever the state of the input changes such that the wrapping\n     * `MatFormField needs to run change detection.\n     */\n    stateChanges = new Subject<void>();\n\n    errorStateMatcher: ErrorStateMatcher;\n\n    updateErrorState() {\n      const oldState = this.errorState;\n      const parent = this._parentFormGroup || this._parentForm;\n      const matcher = this.errorStateMatcher || this._defaultErrorStateMatcher;\n      const control = this.ngControl ? this.ngControl.control as FormControl : null;\n      const newState = matcher.isErrorState(control, parent);\n\n      if (newState !== oldState) {\n        this.errorState = newState;\n        this.stateChanges.next();\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken, LOCALE_ID} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\n\n\n/** InjectionToken for datepicker that can be used to override default locale code. */\nexport const MAT_DATE_LOCALE = new InjectionToken<string>('MAT_DATE_LOCALE');\n\n/** Provider for MAT_DATE_LOCALE injection token. */\nexport const MAT_DATE_LOCALE_PROVIDER = {provide: MAT_DATE_LOCALE, useExisting: LOCALE_ID};\n\n/** Adapts type `D` to be usable as a date by cdk-based components that work with dates. */\nexport abstract class DateAdapter<D> {\n  /** The locale to use for all dates. */\n  protected locale: any;\n\n  /** A stream that emits when the locale changes. */\n  get localeChanges(): Observable<void> { return this._localeChanges; }\n  protected _localeChanges= new Subject<void>();\n\n  /**\n   * Gets the year component of the given date.\n   * @param date The date to extract the year from.\n   * @returns The year component.\n   */\n  abstract getYear(date: D): number;\n\n  /**\n   * Gets the month component of the given date.\n   * @param date The date to extract the month from.\n   * @returns The month component (0-indexed, 0 = January).\n   */\n  abstract getMonth(date: D): number;\n\n  /**\n   * Gets the date of the month component of the given date.\n   * @param date The date to extract the date of the month from.\n   * @returns The month component (1-indexed, 1 = first of month).\n   */\n  abstract getDate(date: D): number;\n\n  /**\n   * Gets the day of the week component of the given date.\n   * @param date The date to extract the day of the week from.\n   * @returns The month component (0-indexed, 0 = Sunday).\n   */\n  abstract getDayOfWeek(date: D): number;\n\n  /**\n   * Gets a list of names for the months.\n   * @param style The naming style (e.g. long = 'January', short = 'Jan', narrow = 'J').\n   * @returns An ordered list of all month names, starting with January.\n   */\n  abstract getMonthNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets a list of names for the dates of the month.\n   * @returns An ordered list of all date of the month names, starting with '1'.\n   */\n  abstract getDateNames(): string[];\n\n  /**\n   * Gets a list of names for the days of the week.\n   * @param style The naming style (e.g. long = 'Sunday', short = 'Sun', narrow = 'S').\n   * @returns An ordered list of all weekday names, starting with Sunday.\n   */\n  abstract getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[];\n\n  /**\n   * Gets the name for the year of the given date.\n   * @param date The date to get the year name for.\n   * @returns The name of the given year (e.g. '2017').\n   */\n  abstract getYearName(date: D): string;\n\n  /**\n   * Gets the first day of the week.\n   * @returns The first day of the week (0-indexed, 0 = Sunday).\n   */\n  abstract getFirstDayOfWeek(): number;\n\n  /**\n   * Gets the number of days in the month of the given date.\n   * @param date The date whose month should be checked.\n   * @returns The number of days in the month of the given date.\n   */\n  abstract getNumDaysInMonth(date: D): number;\n\n  /**\n   * Clones the given date.\n   * @param date The date to clone\n   * @returns A new date equal to the given date.\n   */\n  abstract clone(date: D): D;\n\n  /**\n   * Creates a date with the given year, month, and date. Does not allow over/under-flow of the\n   * month and date.\n   * @param year The full year of the date. (e.g. 89 means the year 89, not the year 1989).\n   * @param month The month of the date (0-indexed, 0 = January). Must be an integer 0 - 11.\n   * @param date The date of month of the date. Must be an integer 1 - length of the given month.\n   * @returns The new date, or null if invalid.\n   */\n  abstract createDate(year: number, month: number, date: number): D;\n\n  /**\n   * Gets today's date.\n   * @returns Today's date.\n   */\n  abstract today(): D;\n\n  /**\n   * Parses a date from a user-provided value.\n   * @param value The value to parse.\n   * @param parseFormat The expected format of the value being parsed\n   *     (type is implementation-dependent).\n   * @returns The parsed date.\n   */\n  abstract parse(value: any, parseFormat: any): D | null;\n\n  /**\n   * Formats a date as a string according to the given format.\n   * @param date The value to format.\n   * @param displayFormat The format to use to display the date as a string.\n   * @returns The formatted date string.\n   */\n  abstract format(date: D, displayFormat: any): string;\n\n  /**\n   * Adds the given number of years to the date. Years are counted as if flipping 12 pages on the\n   * calendar for each year and then finding the closest date in the new month. For example when\n   * adding 1 year to Feb 29, 2016, the resulting date will be Feb 28, 2017.\n   * @param date The date to add years to.\n   * @param years The number of years to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of years added.\n   */\n  abstract addCalendarYears(date: D, years: number): D;\n\n  /**\n   * Adds the given number of months to the date. Months are counted as if flipping a page on the\n   * calendar for each month and then finding the closest date in the new month. For example when\n   * adding 1 month to Jan 31, 2017, the resulting date will be Feb 28, 2017.\n   * @param date The date to add months to.\n   * @param months The number of months to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of months added.\n   */\n  abstract addCalendarMonths(date: D, months: number): D;\n\n  /**\n   * Adds the given number of days to the date. Days are counted as if moving one cell on the\n   * calendar for each day.\n   * @param date The date to add days to.\n   * @param days The number of days to add (may be negative).\n   * @returns A new date equal to the given one with the specified number of days added.\n   */\n  abstract addCalendarDays(date: D, days: number): D;\n\n  /**\n   * Gets the RFC 3339 compatible string (https://tools.ietf.org/html/rfc3339) for the given date.\n   * This method is used to generate date strings that are compatible with native HTML attributes\n   * such as the `min` or `max` attribute of an `<input>`.\n   * @param date The date to get the ISO date string for.\n   * @returns The ISO date string date string.\n   */\n  abstract toIso8601(date: D): string;\n\n  /**\n   * Checks whether the given object is considered a date instance by this DateAdapter.\n   * @param obj The object to check\n   * @returns Whether the object is a date instance.\n   */\n  abstract isDateInstance(obj: any): boolean;\n\n  /**\n   * Checks whether the given date is valid.\n   * @param date The date to check.\n   * @returns Whether the date is valid.\n   */\n  abstract isValid(date: D): boolean;\n\n  /**\n   * Gets date instance that is not valid.\n   * @returns An invalid date.\n   */\n  abstract invalid(): D;\n\n  /**\n   * Attempts to deserialize a value to a valid date object. This is different from parsing in that\n   * deserialize should only accept non-ambiguous, locale-independent formats (e.g. a ISO 8601\n   * string). The default implementation does not allow any deserialization, it simply checks that\n   * the given value is already a valid date object or null. The `<mat-datepicker>` will call this\n   * method on all of it's `@Input()` properties that accept dates. It is therefore possible to\n   * support passing values from your backend directly to these properties by overriding this method\n   * to also deserialize the format used by your backend.\n   * @param value The value to be deserialized into a date object.\n   * @returns The deserialized date object, either a valid date, null if the value can be\n   *     deserialized into a null date (e.g. the empty string), or an invalid date.\n   */\n  deserialize(value: any): D | null {\n    if (value == null || this.isDateInstance(value) && this.isValid(value)) {\n      return value;\n    }\n    return this.invalid();\n  }\n\n  /**\n   * Sets the locale used for all dates.\n   * @param locale The new locale.\n   */\n  setLocale(locale: any) {\n    this.locale = locale;\n    this._localeChanges.next();\n  }\n\n  /**\n   * Compares two dates.\n   * @param first The first date to compare.\n   * @param second The second date to compare.\n   * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n   *     a number greater than 0 if the first date is later.\n   */\n  compareDate(first: D, second: D): number {\n    return this.getYear(first) - this.getYear(second) ||\n        this.getMonth(first) - this.getMonth(second) ||\n        this.getDate(first) - this.getDate(second);\n  }\n\n  /**\n   * Checks if two dates are equal.\n   * @param first The first date to check.\n   * @param second The second date to check.\n   * @returns Whether the two dates are equal.\n   *     Null dates are considered equal to other null dates.\n   */\n  sameDate(first: D | null, second: D | null): boolean {\n    if (first && second) {\n      let firstValid = this.isValid(first);\n      let secondValid = this.isValid(second);\n      if (firstValid && secondValid) {\n        return !this.compareDate(first, second);\n      }\n      return firstValid == secondValid;\n    }\n    return first == second;\n  }\n\n  /**\n   * Clamp the given date between min and max dates.\n   * @param date The date to clamp.\n   * @param min The minimum value to allow. If null or omitted no min is enforced.\n   * @param max The maximum value to allow. If null or omitted no max is enforced.\n   * @returns `min` if `date` is less than `min`, `max` if date is greater than `max`,\n   *     otherwise `date`.\n   */\n  clampDate(date: D, min?: D | null, max?: D | null): D {\n    if (min && this.compareDate(date, min) < 0) {\n      return min;\n    }\n    if (max && this.compareDate(date, max) > 0) {\n      return max;\n    }\n    return date;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n\nexport type MatDateFormats = {\n  parse: {\n    dateInput: any\n  },\n  display: {\n    dateInput: any,\n    monthYearLabel: any,\n    dateA11yLabel: any,\n    monthYearA11yLabel: any,\n  }\n};\n\n\nexport const MAT_DATE_FORMATS = new InjectionToken<MatDateFormats>('mat-date-formats');\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, Optional} from '@angular/core';\nimport {DateAdapter, MAT_DATE_LOCALE} from './date-adapter';\n\n// TODO(mmalerba): Remove when we no longer support safari 9.\n/** Whether the browser supports the Intl API. */\nconst SUPPORTS_INTL_API = typeof Intl != 'undefined';\n\n\n/** The default month names to use if Intl API is not available. */\nconst DEFAULT_MONTH_NAMES = {\n  'long': [\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\n    'October', 'November', 'December'\n  ],\n  'short': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  'narrow': ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D']\n};\n\n\n/** The default date names to use if Intl API is not available. */\nconst DEFAULT_DATE_NAMES = range(31, i => String(i + 1));\n\n\n/** The default day of the week names to use if Intl API is not available. */\nconst DEFAULT_DAY_OF_WEEK_NAMES = {\n  'long': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  'short': ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  'narrow': ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n};\n\n\n/**\n * Matches strings that have the form of a valid RFC 3339 string\n * (https://tools.ietf.org/html/rfc3339). Note that the string may not actually be a valid date\n * because the regex will match strings an with out of bounds month, date, etc.\n */\nconst ISO_8601_REGEX =\n    /^\\d{4}-\\d{2}-\\d{2}(?:T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|(?:(?:\\+|-)\\d{2}:\\d{2}))?)?$/;\n\n\n/** Creates an array and fills it with values. */\nfunction range<T>(length: number, valueFunction: (index: number) => T): T[] {\n  const valuesArray = Array(length);\n  for (let i = 0; i < length; i++) {\n    valuesArray[i] = valueFunction(i);\n  }\n  return valuesArray;\n}\n\n/** Adapts the native JS Date for use with cdk-based components that work with dates. */\n@Injectable()\nexport class NativeDateAdapter extends DateAdapter<Date> {\n  /**\n   * Whether to use `timeZone: 'utc'` with `Intl.DateTimeFormat` when formatting dates.\n   * Without this `Intl.DateTimeFormat` sometimes chooses the wrong timeZone, which can throw off\n   * the result. (e.g. in the en-US locale `new Date(1800, 7, 14).toLocaleDateString()`\n   * will produce `'8/13/1800'`.\n   */\n  useUtcForDisplay: boolean;\n\n  constructor(@Optional() @Inject(MAT_DATE_LOCALE) matDateLocale: string) {\n    super();\n    super.setLocale(matDateLocale);\n\n    // IE does its own time zone correction, so we disable this on IE.\n    // TODO(mmalerba): replace with !platform.TRIDENT, logic currently duplicated to avoid breaking\n    // change from injecting the Platform.\n    this.useUtcForDisplay = !(typeof document === 'object' && !!document &&\n        /(msie|trident)/i.test(navigator.userAgent));\n  }\n\n  getYear(date: Date): number {\n    return date.getFullYear();\n  }\n\n  getMonth(date: Date): number {\n    return date.getMonth();\n  }\n\n  getDate(date: Date): number {\n    return date.getDate();\n  }\n\n  getDayOfWeek(date: Date): number {\n    return date.getDay();\n  }\n\n  getMonthNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {month: style});\n      return range(12, i => this._stripDirectionalityCharacters(dtf.format(new Date(2017, i, 1))));\n    }\n    return DEFAULT_MONTH_NAMES[style];\n  }\n\n  getDateNames(): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {day: 'numeric'});\n      return range(31, i => this._stripDirectionalityCharacters(\n          dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DATE_NAMES;\n  }\n\n  getDayOfWeekNames(style: 'long' | 'short' | 'narrow'): string[] {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {weekday: style});\n      return range(7, i => this._stripDirectionalityCharacters(\n          dtf.format(new Date(2017, 0, i + 1))));\n    }\n    return DEFAULT_DAY_OF_WEEK_NAMES[style];\n  }\n\n  getYearName(date: Date): string {\n    if (SUPPORTS_INTL_API) {\n      let dtf = new Intl.DateTimeFormat(this.locale, {year: 'numeric'});\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return String(this.getYear(date));\n  }\n\n  getFirstDayOfWeek(): number {\n    // We can't tell using native JS Date what the first day of the week is, we default to Sunday.\n    return 0;\n  }\n\n  getNumDaysInMonth(date: Date): number {\n    return this.getDate(this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + 1, 0));\n  }\n\n  clone(date: Date): Date {\n    return this.createDate(this.getYear(date), this.getMonth(date), this.getDate(date));\n  }\n\n  createDate(year: number, month: number, date: number): Date {\n    // Check for invalid month and date (except upper bound on date which we have to check after\n    // creating the Date).\n    if (month < 0 || month > 11) {\n      throw Error(`Invalid month index \"${month}\". Month index has to be between 0 and 11.`);\n    }\n\n    if (date < 1) {\n      throw Error(`Invalid date \"${date}\". Date has to be greater than 0.`);\n    }\n\n    let result = this._createDateWithOverflow(year, month, date);\n\n    // Check that the date wasn't above the upper bound for the month, causing the month to overflow\n    if (result.getMonth() != month) {\n      throw Error(`Invalid date \"${date}\" for month with index \"${month}\".`);\n    }\n\n    return result;\n  }\n\n  today(): Date {\n    return new Date();\n  }\n\n  parse(value: any): Date | null {\n    // We have no way using the native JS Date to set the parse format or locale, so we ignore these\n    // parameters.\n    if (typeof value == 'number') {\n      return new Date(value);\n    }\n    return value ? new Date(Date.parse(value)) : null;\n  }\n\n  format(date: Date, displayFormat: Object): string {\n    if (!this.isValid(date)) {\n      throw Error('NativeDateAdapter: Cannot format invalid date.');\n    }\n    if (SUPPORTS_INTL_API) {\n      if (this.useUtcForDisplay) {\n        date = new Date(Date.UTC(\n            date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(),\n            date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n        displayFormat = {...displayFormat, timeZone: 'utc'};\n      }\n      let dtf = new Intl.DateTimeFormat(this.locale, displayFormat);\n      return this._stripDirectionalityCharacters(dtf.format(date));\n    }\n    return this._stripDirectionalityCharacters(date.toDateString());\n  }\n\n  addCalendarYears(date: Date, years: number): Date {\n    return this.addCalendarMonths(date, years * 12);\n  }\n\n  addCalendarMonths(date: Date, months: number): Date {\n    let newDate = this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date) + months, this.getDate(date));\n\n    // It's possible to wind up in the wrong month if the original month has more days than the new\n    // month. In this case we want to go to the last day of the desired month.\n    // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n    // guarantee this.\n    if (this.getMonth(newDate) != ((this.getMonth(date) + months) % 12 + 12) % 12) {\n      newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0);\n    }\n\n    return newDate;\n  }\n\n  addCalendarDays(date: Date, days: number): Date {\n    return this._createDateWithOverflow(\n        this.getYear(date), this.getMonth(date), this.getDate(date) + days);\n  }\n\n  toIso8601(date: Date): string {\n    return [\n      date.getUTCFullYear(),\n      this._2digit(date.getUTCMonth() + 1),\n      this._2digit(date.getUTCDate())\n    ].join('-');\n  }\n\n  /**\n   * Returns the given value if given a valid Date or null. Deserializes valid ISO 8601 strings\n   * (https://www.ietf.org/rfc/rfc3339.txt) into valid Dates and empty string into null. Returns an\n   * invalid date for all other values.\n   */\n  deserialize(value: any): Date | null {\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      // The `Date` constructor accepts formats other than ISO 8601, so we need to make sure the\n      // string is the right format first.\n      if (ISO_8601_REGEX.test(value)) {\n        let date = new Date(value);\n        if (this.isValid(date)) {\n          return date;\n        }\n      }\n    }\n    return super.deserialize(value);\n  }\n\n  isDateInstance(obj: any) {\n    return obj instanceof Date;\n  }\n\n  isValid(date: Date) {\n    return !isNaN(date.getTime());\n  }\n\n  invalid(): Date {\n    return new Date(NaN);\n  }\n\n  /** Creates a date but allows the month and date to overflow. */\n  private _createDateWithOverflow(year: number, month: number, date: number) {\n    let result = new Date(year, month, date);\n\n    // We need to correct for the fact that JS native Date treats years in range [0, 99] as\n    // abbreviations for 19xx.\n    if (year >= 0 && year < 100) {\n      result.setFullYear(this.getYear(result) - 1900);\n    }\n    return result;\n  }\n\n  /**\n   * Pads a number to make it two digits.\n   * @param n The number to pad.\n   * @returns The padded number.\n   */\n  private _2digit(n: number) {\n    return ('00' + n).slice(-2);\n  }\n\n  /**\n   * Strip out unicode LTR and RTL characters. Edge and IE insert these into formatted dates while\n   * other browsers do not. We remove them to make output consistent and because they interfere with\n   * date parsing.\n   * @param str The string to strip direction characters from.\n   * @returns The stripped string.\n   */\n  private _stripDirectionalityCharacters(str: string) {\n    return str.replace(/[\\u200e\\u200f]/g, '');\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {FormGroupDirective, NgForm, FormControl} from '@angular/forms';\n\n/** Error state matcher that matches when a control is invalid and dirty. */\n@Injectable()\nexport class ShowOnDirtyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || (form && form.submitted)));\n  }\n}\n\n/** Provider that defines how form controls behave with regards to displaying error messages. */\n@Injectable()\nexport class ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.touched || (form && form.submitted)));\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, InjectionToken, Inject, Optional} from '@angular/core';\nimport {HammerGestureConfig} from '@angular/platform-browser';\nimport {MatCommonModule} from '../common-behaviors/common-module';\nimport {\n  HammerStatic,\n  HammerInstance,\n  Recognizer,\n  RecognizerStatic,\n  HammerOptions,\n} from './gesture-annotations';\n\n/**\n * Injection token that can be used to provide options to the Hammerjs instance.\n * More info at http://hammerjs.github.io/api/.\n */\nexport const MAT_HAMMER_OPTIONS = new InjectionToken<HammerOptions>('MAT_HAMMER_OPTIONS');\n\n/* Adjusts configuration of our gesture library, Hammer. */\n@Injectable()\nexport class GestureConfig extends HammerGestureConfig {\n  private _hammer: HammerStatic = typeof window !== 'undefined' ? (window as any).Hammer : null;\n\n  /* List of new event names to add to the gesture support list */\n  events: string[] = this._hammer ? [\n    'longpress',\n    'slide',\n    'slidestart',\n    'slideend',\n    'slideright',\n    'slideleft'\n  ] : [];\n\n  constructor(\n    @Optional() @Inject(MAT_HAMMER_OPTIONS) private _hammerOptions?: HammerOptions,\n    @Optional() commonModule?: MatCommonModule) {\n    super();\n    if (commonModule) {\n      commonModule._checkHammerIsAvailable();\n    }\n  }\n\n  /**\n   * Builds Hammer instance manually to add custom recognizers that match the Material Design spec.\n   *\n   * Our gesture names come from the Material Design gestures spec:\n   * https://www.google.com/design/spec/patterns/gestures.html#gestures-touch-mechanics\n   *\n   * More information on default recognizers can be found in Hammer docs:\n   * http://hammerjs.github.io/recognizer-pan/\n   * http://hammerjs.github.io/recognizer-press/\n   *\n   * @param element Element to which to assign the new HammerJS gestures.\n   * @returns Newly-created HammerJS instance.\n   */\n  buildHammer(element: HTMLElement): HammerInstance {\n    const mc = new this._hammer(element, this._hammerOptions || undefined);\n\n    // Default Hammer Recognizers.\n    const pan = new this._hammer.Pan();\n    const swipe = new this._hammer.Swipe();\n    const press = new this._hammer.Press();\n\n    // Notice that a HammerJS recognizer can only depend on one other recognizer once.\n    // Otherwise the previous `recognizeWith` will be dropped.\n    // TODO: Confirm threshold numbers with Material Design UX Team\n    const slide = this._createRecognizer(pan, {event: 'slide', threshold: 0}, swipe);\n    const longpress = this._createRecognizer(press, {event: 'longpress', time: 500});\n\n    // Overwrite the default `pan` event to use the swipe event.\n    pan.recognizeWith(swipe);\n\n    // Add customized gestures to Hammer manager\n    mc.add([swipe, press, pan, slide, longpress]);\n\n    return mc as HammerInstance;\n  }\n\n  /** Creates a new recognizer, without affecting the default recognizers of HammerJS */\n  private _createRecognizer(base: Recognizer, options: any, ...inheritances: Recognizer[]) {\n    let recognizer = new (base.constructor as RecognizerStatic)(options);\n\n    inheritances.push(base);\n    inheritances.forEach(item => recognizer.recognizeWith(item));\n\n    return recognizer;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  NgModule,\n  Directive,\n  ElementRef,\n  QueryList,\n} from '@angular/core';\nimport {MatCommonModule} from '../common-behaviors/common-module';\n\n\n/**\n * Shared directive to count lines inside a text area, such as a list item.\n * Line elements can be extracted with a @ContentChildren(MatLine) query, then\n * counted by checking the query list's length.\n */\n@Directive({\n  selector: '[mat-line], [matLine]',\n  host: {'class': 'mat-line'}\n})\nexport class MatLine {}\n\n/**\n * Helper that takes a query list of lines and sets the correct class on the host.\n * @docs-private\n */\nexport class MatLineSetter {\n  constructor(private _lines: QueryList<MatLine>, private _element: ElementRef) {\n    this._setLineClass(this._lines.length);\n\n    this._lines.changes.subscribe(() => {\n      this._setLineClass(this._lines.length);\n    });\n  }\n\n  private _setLineClass(count: number): void {\n    this._resetClasses();\n    if (count === 2 || count === 3) {\n      this._setClass(`mat-${count}-line`, true);\n    } else if (count > 3) {\n      this._setClass(`mat-multi-line`, true);\n    }\n  }\n\n  private _resetClasses(): void {\n    this._setClass('mat-2-line', false);\n    this._setClass('mat-3-line', false);\n    this._setClass('mat-multi-line', false);\n  }\n\n  private _setClass(className: string, isAdd: boolean): void {\n    if (isAdd) {\n      this._element.nativeElement.classList.add(className);\n    } else {\n      this._element.nativeElement.classList.remove(className);\n    }\n  }\n\n}\n\n@NgModule({\n  imports: [MatCommonModule],\n  exports: [MatLine, MatCommonModule],\n  declarations: [MatLine],\n})\nexport class MatLineModule { }\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {RippleConfig, RippleRenderer} from './ripple-renderer';\n\n/** Possible states for a ripple element. */\nexport enum RippleState {\n  FADING_IN, VISIBLE, FADING_OUT, HIDDEN\n}\n\n/**\n * Reference to a previously launched ripple element.\n */\nexport class RippleRef {\n\n  /** Current state of the ripple reference. */\n  state: RippleState = RippleState.HIDDEN;\n\n  constructor(\n    private _renderer: RippleRenderer,\n    public element: HTMLElement,\n    public config: RippleConfig) {\n  }\n\n  /** Fades out the ripple element. */\n  fadeOut() {\n    this._renderer.fadeOutRipple(this);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {ElementRef, NgZone} from '@angular/core';\nimport {Platform, supportsPassiveEventListeners} from '@angular/cdk/platform';\nimport {RippleRef, RippleState} from './ripple-ref';\n\n/** Fade-in duration for the ripples. Can be modified with the speedFactor option. */\nexport const RIPPLE_FADE_IN_DURATION = 450;\n\n/** Fade-out duration for the ripples in milliseconds. This can't be modified by the speedFactor. */\nexport const RIPPLE_FADE_OUT_DURATION = 400;\n\n/**\n * Timeout for ignoring mouse events. Mouse events will be temporary ignored after touch\n * events to avoid synthetic mouse events.\n */\nconst IGNORE_MOUSE_EVENTS_TIMEOUT = 800;\n\nexport type RippleConfig = {\n  color?: string;\n  centered?: boolean;\n  radius?: number;\n  speedFactor?: number;\n  persistent?: boolean;\n};\n\n/**\n * Interface that describes the target for launching ripples.\n * It defines the ripple configuration and disabled state for interaction ripples.\n * @docs-private\n */\nexport interface RippleTarget {\n  /** Configuration for ripples that are launched on pointer down. */\n  rippleConfig: RippleConfig;\n\n  /** Whether ripples on pointer down should be disabled. */\n  rippleDisabled: boolean;\n}\n\n/**\n * Helper service that performs DOM manipulations. Not intended to be used outside this module.\n * The constructor takes a reference to the ripple directive's host element and a map of DOM\n * event handlers to be installed on the element that triggers ripple animations.\n * This will eventually become a custom renderer once Angular support exists.\n * @docs-private\n */\nexport class RippleRenderer {\n\n  /** Element where the ripples are being added to. */\n  private _containerElement: HTMLElement;\n\n  /** Element which triggers the ripple elements on mouse events. */\n  private _triggerElement: HTMLElement | null;\n\n  /** Whether the pointer is currently down or not. */\n  private _isPointerDown = false;\n\n  /** Events to be registered on the trigger element. */\n  private _triggerEvents = new Map<string, any>();\n\n  /** Set of currently active ripple references. */\n  private _activeRipples = new Set<RippleRef>();\n\n  /** Time in milliseconds when the last touchstart event happened. */\n  private _lastTouchStartEvent: number;\n\n  /** Options that apply to all the event listeners that are bound by the renderer. */\n  private _eventOptions = supportsPassiveEventListeners() ? ({passive: true} as any) : false;\n\n  /** Ripple config for all ripples created by events. */\n  rippleConfig: RippleConfig = {};\n\n  constructor(private _target: RippleTarget,\n              private _ngZone: NgZone,\n              elementRef: ElementRef,\n              platform: Platform) {\n\n    // Only do anything if we're on the browser.\n    if (platform.isBrowser) {\n      this._containerElement = elementRef.nativeElement;\n\n      // Specify events which need to be registered on the trigger.\n      this._triggerEvents.set('mousedown', this.onMousedown);\n      this._triggerEvents.set('mouseup', this.onPointerUp);\n      this._triggerEvents.set('mouseleave', this.onPointerUp);\n\n      this._triggerEvents.set('touchstart', this.onTouchStart);\n      this._triggerEvents.set('touchend', this.onPointerUp);\n    }\n  }\n\n  /**\n   * Fades in a ripple at the given coordinates.\n   * @param x Coordinate within the element, along the X axis at which to start the ripple.\n   * @param y Coordinate within the element, along the Y axis at which to start the ripple.\n   * @param config Extra ripple options.\n   */\n  fadeInRipple(x: number, y: number, config: RippleConfig = {}): RippleRef {\n    const containerRect = this._containerElement.getBoundingClientRect();\n\n    if (config.centered) {\n      x = containerRect.left + containerRect.width / 2;\n      y = containerRect.top + containerRect.height / 2;\n    }\n\n    const radius = config.radius || distanceToFurthestCorner(x, y, containerRect);\n    const duration = RIPPLE_FADE_IN_DURATION / (config.speedFactor || 1);\n    const offsetX = x - containerRect.left;\n    const offsetY = y - containerRect.top;\n\n    const ripple = document.createElement('div');\n    ripple.classList.add('mat-ripple-element');\n\n    ripple.style.left = `${offsetX - radius}px`;\n    ripple.style.top = `${offsetY - radius}px`;\n    ripple.style.height = `${radius * 2}px`;\n    ripple.style.width = `${radius * 2}px`;\n\n    // If the color is not set, the default CSS color will be used.\n    ripple.style.backgroundColor = config.color || null;\n    ripple.style.transitionDuration = `${duration}ms`;\n\n    this._containerElement.appendChild(ripple);\n\n    // By default the browser does not recalculate the styles of dynamically created\n    // ripple elements. This is critical because then the `scale` would not animate properly.\n    enforceStyleRecalculation(ripple);\n\n    ripple.style.transform = 'scale(1)';\n\n    // Exposed reference to the ripple that will be returned.\n    const rippleRef = new RippleRef(this, ripple, config);\n\n    rippleRef.state = RippleState.FADING_IN;\n\n    // Add the ripple reference to the list of all active ripples.\n    this._activeRipples.add(rippleRef);\n\n    // Wait for the ripple element to be completely faded in.\n    // Once it's faded in, the ripple can be hidden immediately if the mouse is released.\n    this.runTimeoutOutsideZone(() => {\n      rippleRef.state = RippleState.VISIBLE;\n\n      if (!config.persistent && !this._isPointerDown) {\n        rippleRef.fadeOut();\n      }\n    }, duration);\n\n    return rippleRef;\n  }\n\n  /** Fades out a ripple reference. */\n  fadeOutRipple(rippleRef: RippleRef) {\n    // For ripples that are not active anymore, don't re-un the fade-out animation.\n    if (!this._activeRipples.delete(rippleRef)) {\n      return;\n    }\n\n    const rippleEl = rippleRef.element;\n\n    rippleEl.style.transitionDuration = `${RIPPLE_FADE_OUT_DURATION}ms`;\n    rippleEl.style.opacity = '0';\n\n    rippleRef.state = RippleState.FADING_OUT;\n\n    // Once the ripple faded out, the ripple can be safely removed from the DOM.\n    this.runTimeoutOutsideZone(() => {\n      rippleRef.state = RippleState.HIDDEN;\n      rippleEl.parentNode!.removeChild(rippleEl);\n    }, RIPPLE_FADE_OUT_DURATION);\n  }\n\n  /** Fades out all currently active ripples. */\n  fadeOutAll() {\n    this._activeRipples.forEach(ripple => ripple.fadeOut());\n  }\n\n  /** Sets up the trigger event listeners */\n  setupTriggerEvents(element: HTMLElement) {\n    if (!element || element === this._triggerElement) {\n      return;\n    }\n\n    // Remove all previously registeredevent listeners from the trigger element.\n    this._removeTriggerEvents();  this._ngZone.runOutsideAngular(() => {\n        this._triggerEvents.forEach((fn, type) =>\n            element.addEventListener(type, fn, this._eventOptions));\n      });\n\n\n    this._triggerElement = element;\n  }\n\n  /** Function being called whenever the trigger is being pressed using mouse. */\n  private onMousedown = (event: MouseEvent) => {\n    const isSyntheticEvent = this._lastTouchStartEvent &&\n        Date.now() < this._lastTouchStartEvent + IGNORE_MOUSE_EVENTS_TIMEOUT;\n\n    if (!this._target.rippleDisabled && !isSyntheticEvent) {\n      this._isPointerDown = true;\n      this.fadeInRipple(event.clientX, event.clientY, this._target.rippleConfig);\n    }\n  }\n\n  /** Function being called whenever the trigger is being pressed using touch. */\n  private onTouchStart = (event: TouchEvent) => {\n    if (!this._target.rippleDisabled) {\n      // Some browsers fire mouse events after a `touchstart` event. Those synthetic mouse\n      // events will launch a second ripple if we don't ignore mouse events for a specific\n      // time after a touchstart event.\n      this._lastTouchStartEvent = Date.now();\n      this._isPointerDown = true;\n\n      this.fadeInRipple(\n          event.touches[0].clientX, event.touches[0].clientY, this._target.rippleConfig);\n    }\n  }\n\n  /** Function being called whenever the trigger is being released. */\n  private onPointerUp = () => {\n    if (!this._isPointerDown) {\n      return;\n    }\n\n    this._isPointerDown = false;\n\n    // Fade-out all ripples that are completely visible and not persistent.\n    this._activeRipples.forEach(ripple => {\n      if (!ripple.config.persistent && ripple.state === RippleState.VISIBLE) {\n        ripple.fadeOut();\n      }\n    });\n  }\n\n  /** Runs a timeout outside of the Angular zone to avoid triggering the change detection. */\n  private runTimeoutOutsideZone(fn: Function, delay = 0) {\n    this._ngZone.runOutsideAngular(() => setTimeout(fn, delay));\n  }\n\n  /** Removes previously registered event listeners from the trigger element. */\n  _removeTriggerEvents() {\n    if (this._triggerElement) {\n      this._triggerEvents.forEach((fn, type) => {\n        this._triggerElement!.removeEventListener(type, fn, this._eventOptions);\n      });\n    }\n  }\n}\n\n/** Enforces a style recalculation of a DOM element by computing its styles. */\nfunction enforceStyleRecalculation(element: HTMLElement) {\n  // Enforce a style recalculation by calling `getComputedStyle` and accessing any property.\n  // Calling `getPropertyValue` is important to let optimizers know that this is not a noop.\n  // See: https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n  window.getComputedStyle(element).getPropertyValue('opacity');\n}\n\n/**\n * Returns the distance from the point (x, y) to the furthest corner of a rectangle.\n */\nfunction distanceToFurthestCorner(x: number, y: number, rect: ClientRect) {\n  const distX = Math.max(Math.abs(x - rect.left), Math.abs(x - rect.right));\n  const distY = Math.max(Math.abs(y - rect.top), Math.abs(y - rect.bottom));\n  return Math.sqrt(distX * distX + distY * distY);\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  Directive,\n  ElementRef,\n  Inject,\n  InjectionToken,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n} from '@angular/core';\nimport {RippleRef} from './ripple-ref';\nimport {RippleConfig, RippleRenderer, RippleTarget} from './ripple-renderer';\n\n/** Configurable options for `matRipple`. */\nexport interface RippleGlobalOptions {\n  /**\n   * Whether ripples should be disabled. Ripples can be still launched manually by using\n   * the `launch()` method. Therefore focus indicators will still show up.\n   */\n  disabled?: boolean;\n\n  /**\n   * If set, the default duration of the fade-in animation is divided by this value. For example,\n   * setting it to 0.5 will cause the ripple fade-in animation to take twice as long.\n   * A changed speedFactor will not affect the fade-out duration of the ripples.\n   */\n  baseSpeedFactor?: number;\n}\n\n/** Injection token that can be used to specify the global ripple options. */\nexport const MAT_RIPPLE_GLOBAL_OPTIONS =\n    new InjectionToken<RippleGlobalOptions>('mat-ripple-global-options');\n\n@Directive({\n  selector: '[mat-ripple], [matRipple]',\n  exportAs: 'matRipple',\n  host: {\n    'class': 'mat-ripple',\n    '[class.mat-ripple-unbounded]': 'unbounded'\n  }\n})\nexport class MatRipple implements OnInit, OnDestroy, RippleTarget {\n\n  /** Custom color for all ripples. */\n  @Input('matRippleColor') color: string;\n\n  /** Whether the ripples should be visible outside the component's bounds. */\n  @Input('matRippleUnbounded') unbounded: boolean;\n\n  /**\n   * Whether the ripple always originates from the center of the host element's bounds, rather\n   * than originating from the location of the click event.\n   */\n  @Input('matRippleCentered') centered: boolean;\n\n  /**\n   * If set, the radius in pixels of foreground ripples when fully expanded. If unset, the radius\n   * will be the distance from the center of the ripple to the furthest corner of the host element's\n   * bounding rectangle.\n   */\n  @Input('matRippleRadius') radius: number = 0;\n\n  /**\n   * If set, the normal duration of ripple animations is divided by this value. For example,\n   * setting it to 0.5 will cause the animations to take twice as long.\n   * A changed speedFactor will not modify the fade-out duration of the ripples.\n   */\n  @Input('matRippleSpeedFactor') speedFactor: number = 1;\n\n  /**\n   * Whether click events will not trigger the ripple. Ripples can be still launched manually\n   * by using the `launch()` method.\n   */\n  @Input('matRippleDisabled')\n  get disabled() { return this._disabled; }\n  set disabled(value: boolean) {\n    this._disabled = value;\n    this._setupTriggerEventsIfEnabled();\n  }\n  private _disabled: boolean = false;\n\n  /**\n   * The element that triggers the ripple when click events are received.\n   * Defaults to the directive's host element.\n   */\n  @Input('matRippleTrigger')\n  get trigger() { return this._trigger || this._elementRef.nativeElement; }\n  set trigger(trigger: HTMLElement) {\n    this._trigger = trigger;\n    this._setupTriggerEventsIfEnabled();\n  }\n  private _trigger: HTMLElement;\n\n  /** Renderer for the ripple DOM manipulations. */\n  private _rippleRenderer: RippleRenderer;\n\n  /** Options that are set globally for all ripples. */\n  private _globalOptions: RippleGlobalOptions;\n\n  /** Whether ripple directive is initialized and the input bindings are set. */\n  private _isInitialized: boolean = false;\n\n  constructor(private _elementRef: ElementRef,\n              ngZone: NgZone,\n              platform: Platform,\n              @Optional() @Inject(MAT_RIPPLE_GLOBAL_OPTIONS) globalOptions: RippleGlobalOptions) {\n\n    this._globalOptions = globalOptions || {};\n    this._rippleRenderer = new RippleRenderer(this, ngZone, _elementRef, platform);\n  }\n\n  ngOnInit() {\n    this._isInitialized = true;\n    this._setupTriggerEventsIfEnabled();\n  }\n\n  ngOnDestroy() {\n    this._rippleRenderer._removeTriggerEvents();\n  }\n\n  /** Launches a manual ripple at the specified position. */\n  launch(x: number, y: number, config: RippleConfig = this): RippleRef {\n    return this._rippleRenderer.fadeInRipple(x, y, config);\n  }\n\n  /** Fades out all currently showing ripple elements. */\n  fadeOutAll() {\n    this._rippleRenderer.fadeOutAll();\n  }\n\n  /** Ripple configuration from the directive's input values. */\n  get rippleConfig(): RippleConfig {\n    return {\n      centered: this.centered,\n      speedFactor: this.speedFactor * (this._globalOptions.baseSpeedFactor || 1),\n      radius: this.radius,\n      color: this.color\n    };\n  }\n\n  /** Whether ripples on pointer-down are  disabled or not. */\n  get rippleDisabled(): boolean {\n    return this.disabled || !!this._globalOptions.disabled;\n  }\n\n  /** Sets up the the trigger event listeners if ripples are enabled. */\n  private _setupTriggerEventsIfEnabled() {\n    if (!this.disabled && this._isInitialized) {\n      this._rippleRenderer.setupTriggerEvents(this.trigger);\n    }\n  }\n}\n\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {PlatformModule} from '@angular/cdk/platform';\nimport {MatCommonModule} from '../common-behaviors/common-module';\nimport {MatRipple} from './ripple';\n\nexport * from './ripple';\nexport * from './ripple-ref';\nexport * from './ripple-renderer';\n\n@NgModule({\n  imports: [MatCommonModule, PlatformModule],\n  exports: [MatRipple, MatCommonModule],\n  declarations: [MatRipple],\n})\nexport class MatRippleModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Component, ViewEncapsulation, Input, ChangeDetectionStrategy} from '@angular/core';\n\nexport type MatPseudoCheckboxState = 'unchecked' | 'checked' | 'indeterminate';\n\n/**\n * Component that shows a simplified checkbox without including any kind of \"real\" checkbox.\n * Meant to be used when the checkbox is purely decorative and a large number of them will be\n * included, such as for the options in a multi-select. Uses no SVGs or complex animations.\n * Note that theming is meant to be handled by the parent element, e.g.\n * `mat-primary .mat-pseudo-checkbox`.\n *\n * Note that this component will be completely invisible to screen-reader users. This is *not*\n * interchangeable with <mat-checkbox> and should *not* be used if the user would directly interact\n * with the checkbox. The pseudo-checkbox should only be used as an implementation detail of\n * more complex components that appropriately handle selected / checked state.\n * @docs-private\n */\n@Component({\n  moduleId: module.id,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'mat-pseudo-checkbox',\n  styleUrls: ['pseudo-checkbox.css'],\n  template: '',\n  host: {\n    'class': 'mat-pseudo-checkbox',\n    '[class.mat-pseudo-checkbox-indeterminate]': 'state === \"indeterminate\"',\n    '[class.mat-pseudo-checkbox-checked]': 'state === \"checked\"',\n    '[class.mat-pseudo-checkbox-disabled]': 'disabled',\n  },\n})\nexport class MatPseudoCheckbox {\n  /** Display state of the checkbox. */\n  @Input() state: MatPseudoCheckboxState = 'unchecked';\n\n  /** Whether the checkbox is disabled. */\n  @Input() disabled: boolean = false;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatPseudoCheckbox} from './pseudo-checkbox/pseudo-checkbox';\n\n\n@NgModule({\n  exports: [MatPseudoCheckbox],\n  declarations: [MatPseudoCheckbox]\n})\nexport class MatPseudoCheckboxModule { }\n\n\nexport * from './pseudo-checkbox/pseudo-checkbox';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Component, ViewEncapsulation, Input, ChangeDetectionStrategy} from '@angular/core';\nimport {mixinDisabled, CanDisable} from '../common-behaviors/disabled';\n\n// Boilerplate for applying mixins to MatOptgroup.\n/** @docs-private */\nexport class MatOptgroupBase { }\nexport const _MatOptgroupMixinBase = mixinDisabled(MatOptgroupBase);\n\n// Counter for unique group ids.\nlet _uniqueOptgroupIdCounter = 0;\n\n/**\n * Component that is used to group instances of `mat-option`.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-optgroup',\n  exportAs: 'matOptgroup',\n  templateUrl: 'optgroup.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  inputs: ['disabled'],\n  host: {\n    'class': 'mat-optgroup',\n    'role': 'group',\n    '[class.mat-optgroup-disabled]': 'disabled',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.aria-labelledby]': '_labelId',\n  }\n})\nexport class MatOptgroup extends _MatOptgroupMixinBase implements CanDisable {\n  /** Label for the option group. */\n  @Input() label: string;\n\n  /** Unique id for the underlying label. */\n  _labelId: string = `mat-optgroup-label-${_uniqueOptgroupIdCounter++}`;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {ENTER, SPACE} from '@angular/cdk/keycodes';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Optional,\n  Output,\n  QueryList,\n  ViewEncapsulation,\n  InjectionToken,\n  Inject,\n} from '@angular/core';\nimport {MatOptgroup} from './optgroup';\n\n/**\n * Option IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueIdCounter = 0;\n\n/** Event object emitted by MatOption when selected or deselected. */\nexport class MatOptionSelectionChange {\n  constructor(\n    /** Reference to the option that emitted the event. */\n    public source: MatOption,\n    /** Whether the change in the option's value was a result of a user action. */\n    public isUserInput = false) { }\n}\n\n/**\n * Describes a parent component that manages a list of options.\n * Contains properties that the options can inherit.\n * @docs-private\n */\nexport interface MatOptionParentComponent {\n  disableRipple?: boolean;\n  multiple?: boolean;\n}\n\n/**\n * Injection token used to provide the parent component to options.\n */\nexport const MAT_OPTION_PARENT_COMPONENT =\n    new InjectionToken<MatOptionParentComponent>('MAT_OPTION_PARENT_COMPONENT');\n\n/**\n * Single option inside of a `<mat-select>` element.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'mat-option',\n  exportAs: 'matOption',\n  host: {\n    'role': 'option',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[class.mat-selected]': 'selected',\n    '[class.mat-option-multiple]': 'multiple',\n    '[class.mat-active]': 'active',\n    '[id]': 'id',\n    '[attr.aria-selected]': 'selected.toString()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[class.mat-option-disabled]': 'disabled',\n    '(click)': '_selectViaInteraction()',\n    '(keydown)': '_handleKeydown($event)',\n    'class': 'mat-option',\n  },\n  templateUrl: 'option.html',\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatOption {\n  private _selected = false;\n  private _active = false;\n  private _disabled = false;\n  private _id = `mat-option-${_uniqueIdCounter++}`;\n\n  /** Whether the wrapping component is in multiple selection mode. */\n  get multiple() { return this._parent && this._parent.multiple; }\n\n  /** The unique ID of the option. */\n  get id(): string { return this._id; }\n\n  /** Whether or not the option is currently selected. */\n  get selected(): boolean { return this._selected; }\n\n  /** The form value of the option. */\n  @Input() value: any;\n\n  /** Whether the option is disabled. */\n  @Input()\n  get disabled() { return (this.group && this.group.disabled) || this._disabled; }\n  set disabled(value: any) { this._disabled = coerceBooleanProperty(value); }\n\n  /** Whether ripples for the option are disabled. */\n  get disableRipple() { return this._parent && this._parent.disableRipple; }\n\n  /** Event emitted when the option is selected or deselected. */\n  @Output() onSelectionChange = new EventEmitter<MatOptionSelectionChange>();\n\n  constructor(\n    private _element: ElementRef,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Optional() @Inject(MAT_OPTION_PARENT_COMPONENT) private _parent: MatOptionParentComponent,\n    @Optional() readonly group: MatOptgroup) {}\n\n  /**\n   * Whether or not the option is currently active and ready to be selected.\n   * An active option displays styles as if it is focused, but the\n   * focus is actually retained somewhere else. This comes in handy\n   * for components like autocomplete where focus must remain on the input.\n   */\n  get active(): boolean {\n    return this._active;\n  }\n\n  /**\n   * The displayed value of the option. It is necessary to show the selected option in the\n   * select's trigger.\n   */\n  get viewValue(): string {\n    // TODO(kara): Add input property alternative for node envs.\n    return (this._getHostElement().textContent || '').trim();\n  }\n\n  /** Selects the option. */\n  select(): void {\n    this._selected = true;\n    this._changeDetectorRef.markForCheck();\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Deselects the option. */\n  deselect(): void {\n    this._selected = false;\n    this._changeDetectorRef.markForCheck();\n    this._emitSelectionChangeEvent();\n  }\n\n  /** Sets focus onto this option. */\n  focus(): void {\n    const element = this._getHostElement();\n\n    if (typeof element.focus === 'function') {\n      element.focus();\n    }\n  }\n\n  /**\n   * This method sets display styles on the option to make it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setActiveStyles(): void {\n    if (!this._active) {\n      this._active = true;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /**\n   * This method removes display styles on the option that made it appear\n   * active. This is used by the ActiveDescendantKeyManager so key\n   * events will display the proper options as active on arrow key events.\n   */\n  setInactiveStyles(): void {\n    if (this._active) {\n      this._active = false;\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  /** Gets the label to be used when determining whether the option should be focused. */\n  getLabel(): string {\n    return this.viewValue;\n  }\n\n  /** Ensures the option is selected when activated from the keyboard. */\n  _handleKeydown(event: KeyboardEvent): void {\n    if (event.keyCode === ENTER || event.keyCode === SPACE) {\n      this._selectViaInteraction();\n\n      // Prevent the page from scrolling down and form submits.\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Selects the option while indicating the selection came from the user. Used to\n   * determine if the select's view -> model callback should be invoked.\n   */\n  _selectViaInteraction(): void {\n    if (!this.disabled) {\n      this._selected = this.multiple ? !this._selected : true;\n      this._changeDetectorRef.markForCheck();\n      this._emitSelectionChangeEvent(true);\n    }\n  }\n\n  /** Returns the correct tabindex for the option depending on disabled state. */\n  _getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n\n  /** Gets the host DOM element. */\n  _getHostElement(): HTMLElement {\n    return this._element.nativeElement;\n  }\n\n  /** Emits the selection change event. */\n  private _emitSelectionChangeEvent(isUserInput = false): void {\n    this.onSelectionChange.emit(new MatOptionSelectionChange(this, isUserInput));\n  }\n\n  /**\n   * Counts the amount of option group labels that precede the specified option.\n   * @param optionIndex Index of the option at which to start counting.\n   * @param options Flat list of all of the options.\n   * @param optionGroups Flat list of all of the option groups.\n   */\n  static countGroupLabelsBeforeOption(optionIndex: number, options: QueryList<MatOption>,\n    optionGroups: QueryList<MatOptgroup>): number {\n\n    if (optionGroups.length) {\n      let optionsArray = options.toArray();\n      let groups = optionGroups.toArray();\n      let groupCounter = 0;\n\n      for (let i = 0; i < optionIndex + 1; i++) {\n        if (optionsArray[i].group && optionsArray[i].group === groups[groupCounter]) {\n          groupCounter++;\n        }\n      }\n\n      return groupCounter;\n    }\n\n    return 0;\n  }\n\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MatRippleModule} from '../ripple/index';\nimport {MatPseudoCheckboxModule} from '../selection/index';\nimport {MatOption} from './option';\nimport {MatOptgroup} from './optgroup';\n\n\n@NgModule({\n  imports: [MatRippleModule, CommonModule, MatPseudoCheckboxModule],\n  exports: [MatOption, MatOptgroup],\n  declarations: [MatOption, MatOptgroup]\n})\nexport class MatOptionModule {}\n\n\nexport * from './option';\nexport * from './optgroup';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken} from '@angular/core';\n\n/** InjectionToken that can be used to specify the global label options. */\nexport const MAT_LABEL_GLOBAL_OPTIONS =\n  new InjectionToken<LabelOptions>('mat-label-global-options');\n\n/** Type for the available floatLabel values. */\nexport type FloatLabelType = 'always' | 'never' | 'auto';\n\n/** Configurable options for floating labels. */\nexport interface LabelOptions {\n  /**\n   * Whether the label should float `always`, `never`, or `auto` (only when necessary).\n   * Default behavior is assumed to be `auto`.\n   */\n  float?: FloatLabelType;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Applies a CSS transform to an element, including browser-prefixed properties.\n * @param element\n * @param transformValue\n */\nexport function applyCssTransform(element: HTMLElement, transformValue: string) {\n  // It's important to trim the result, because the browser will ignore the set operation\n  // if the string contains only whitespace.\n  let value = transformValue.trim();\n\n  element.style.transform = value;\n  element.style.webkitTransform = value;\n}\n","export interface NextObserver<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error?: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface ErrorObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface CompletionObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error?: (err: any) => void;\n  complete: () => void;\n}\n\nexport type PartialObserver<T> = NextObserver<T> | ErrorObserver<T> | CompletionObserver<T>;\n\nexport interface Observer<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error: (err: any) => void;\n  complete: () => void;\n}\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void { throw err; },\n  complete(): void { /*noop*/ }\n};\n","import { root } from '../util/root';\n\nconst Symbol: any = root.Symbol;\n\nexport const rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n  Symbol.for('rxSubscriber') : '@@rxSubscriber';\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { Observer, PartialObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { empty as emptyObserver } from './Observer';\nimport { rxSubscriber as rxSubscriberSymbol } from './symbol/rxSubscriber';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  public syncErrorValue: any = null;\n  public syncErrorThrown: boolean = false;\n  public syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = (<Subscriber<any>> destinationOrNext);\n            (<any> this.destination).add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached {@link Error}. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  protected _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._error) {\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        throw err;\n      } else {\n        _parentSubscriber.syncErrorValue = err;\n        _parentSubscriber.syncErrorThrown = true;\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      throw err;\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      parent.syncErrorValue = err;\n      parent.syncErrorThrown = true;\n      return true;\n    }\n    return false;\n  }\n\n  protected _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { TeardownLogic } from '../Subscription';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}","/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nexport class ArgumentOutOfRangeError extends Error {\n  constructor() {\n    const err: any = super('argument out of range');\n    (<any> this).name = err.name = 'ArgumentOutOfRangeError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { PartialObserver, empty as emptyObserver } from '../Observer';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","import { root } from '../util/root';\n\nexport function getSymbolObservable(context: any) {\n  let $$observable: any;\n  let Symbol = context.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      $$observable = Symbol.observable;\n    } else {\n        $$observable = Symbol('observable');\n        Symbol.observable = $$observable;\n    }\n  } else {\n    $$observable = '@@observable';\n  }\n\n  return $$observable;\n}\n\nexport const observable = getSymbolObservable(root);\n\n/**\n * @deprecated use observable instead\n */\nexport const $$observable = observable;\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(op1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>, op8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(op1: UnaryFunction<T, A>, op2: UnaryFunction<A, B>, op3: UnaryFunction<B, C>, op4: UnaryFunction<C, D>, op5: UnaryFunction<D, E>, op6: UnaryFunction<E, F>, op7: UnaryFunction<F, G>, op8: UnaryFunction<G, H>, op9: UnaryFunction<H, I>): UnaryFunction<T, I>;\n/* tslint:enable:max-line-length */\n\nexport function pipe<T, R>(...fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  return pipeFromArray(fns);\n}\n\n/* @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input);\n  };\n}\n","import { PartialObserver } from './Observer';\nimport { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription, AnonymousSubscription, TeardownLogic } from './Subscription';\nimport { root } from './util/root';\nimport { toSubscriber } from './util/toSubscriber';\nimport { IfObservable } from './observable/IfObservable';\nimport { ErrorObservable } from './observable/ErrorObservable';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { OperatorFunction } from './interfaces';\nimport { pipeFromArray } from './util/pipe';\n\nexport interface Subscribable<T> {\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): AnonymousSubscription;\n}\n\nexport type SubscribableOrPromise<T> = Subscribable<T> | PromiseLike<T>;\nexport type ObservableInput<T> = SubscribableOrPromise<T> | ArrayLike<T>;\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  public _isScalar: boolean = false;\n\n  protected source: Observable<any>;\n  protected operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n   * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n   * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n   * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n   *\n   * @example <caption>Subscribe with an Observer</caption>\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() { // We actually could just remove this method,\n   *   },        // since we do not really care about errors right now.\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   * .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   *\n   *\n   * @example <caption>Subscribe with functions</caption>\n   * let sum = 0;\n   *\n   * Rx.Observable.of(1, 2, 3)\n   * .subscribe(\n   *   function(value) {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   function() {\n   *     console.log('Sum equals: ' + sum);\n   *   }\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   *\n   *\n   * @example <caption>Cancel a subscription</caption>\n   * const subscription = Rx.Observable.interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => console.log('completed!') // Will not be called, even\n   * );                                // when cancelling subscription\n   *\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   *\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      operator.call(sink, this.source);\n    } else {\n      sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n    }\n\n    if (sink.syncErrorThrowable) {\n      sink.syncErrorThrowable = false;\n      if (sink.syncErrorThrown) {\n        throw sink.syncErrorValue;\n      }\n    }\n\n    return sink;\n  }\n\n  protected _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      sink.syncErrorThrown = true;\n      sink.syncErrorValue = err;\n      sink.error(err);\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, PromiseCtor?: typeof Promise): Promise<void> {\n    if (!PromiseCtor) {\n      if (root.Rx && root.Rx.config && root.Rx.config.Promise) {\n        PromiseCtor = root.Rx.config.Promise;\n      } else if (root.Promise) {\n        PromiseCtor = root.Promise;\n      }\n    }\n\n    if (!PromiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return new PromiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a RefernceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        if (subscription) {\n          // if there is a subscription, then we can surmise\n          // the next handling is asynchronous. Any errors thrown\n          // need to be rejected explicitly and unsubscribe must be\n          // called manually\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n            subscription.unsubscribe();\n          }\n        } else {\n          // if there is NO subscription, then we're getting a nexted\n          // value synchronously during subscription. We can just call it.\n          // If it errors, Observable's `subscribe` will ensure the\n          // unsubscription logic is called, then synchronously rethrow the error.\n          // After that, Promise will trap the error and send it\n          // down the rejection path.\n          next(value);\n        }\n      }, reject, resolve);\n    });\n  }\n\n  protected _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    return this.source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words\n  static if: typeof IfObservable.create;\n  static throw: typeof ErrorObservable.create;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * @example\n   *\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * Rx.Observable.interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   */\n  pipe<R>(...operations: OperatorFunction<T, R>[]): Observable<R> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(PromiseCtor?: PromiseConstructorLike) {\n    if (!PromiseCtor) {\n      if (root.Rx && root.Rx.config && root.Rx.config.Promise) {\n        PromiseCtor = root.Rx.config.Promise;\n      } else if (root.Promise) {\n        PromiseCtor = root.Promise;\n      }\n    }\n\n    if (!PromiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return new PromiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n","import { IScheduler } from '../Scheduler';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { TeardownLogic } from '../Subscription';\n\nexport interface DispatchArg<T> {\n  subscriber: Subscriber<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class EmptyObservable<T> extends Observable<T> {\n\n  /**\n   * Creates an Observable that emits no items to the Observer and immediately\n   * emits a complete notification.\n   *\n   * <span class=\"informal\">Just emits 'complete', and nothing else.\n   * </span>\n   *\n   * <img src=\"./img/empty.png\" width=\"100%\">\n   *\n   * This static operator is useful for creating a simple Observable that only\n   * emits the complete notification. It can be used for composing with other\n   * Observables, such as in a {@link mergeMap}.\n   *\n   * @example <caption>Emit the number 7, then complete.</caption>\n   * var result = Rx.Observable.empty().startWith(7);\n   * result.subscribe(x => console.log(x));\n   *\n   * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n   * var interval = Rx.Observable.interval(1000);\n   * var result = interval.mergeMap(x =>\n   *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n   * );\n   * result.subscribe(x => console.log(x));\n   *\n   * // Results in the following to the console:\n   * // x is equal to the count on the interval eg(0,1,2,3,...)\n   * // x will occur every 1000ms\n   * // if x % 2 is equal to 1 print abc\n   * // if x % 2 is not equal to 1 nothing will be output\n   *\n   * @see {@link create}\n   * @see {@link never}\n   * @see {@link of}\n   * @see {@link throw}\n   *\n   * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n   * the emission of the complete notification.\n   * @return {Observable} An \"empty\" Observable: emits only the complete\n   * notification.\n   * @static true\n   * @name empty\n   * @owner Observable\n   */\n  static create<T>(scheduler?: IScheduler): Observable<T> {\n    return new EmptyObservable<T>(scheduler);\n  }\n\n  static dispatch<T>(arg: DispatchArg<T>) {\n    const { subscriber } = arg;\n    subscriber.complete();\n  }\n\n  constructor(private scheduler?: IScheduler) {\n    super();\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber });\n    } else {\n      subscriber.complete();\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { EmptyObservable } from '../observable/EmptyObservable';\nimport { Observable } from '../Observable';\nimport { TeardownLogic } from '../Subscription';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nexport function take<T>(count: number): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    if (count === 0) {\n      return new EmptyObservable<T>();\n    } else {\n      return source.lift(new TakeOperator(count));\n    }\n  };\n}\n\nclass TakeOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeSubscriber<T> extends Subscriber<T> {\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const total = this.total;\n    const count = ++this.count;\n    if (count <= total) {\n      this.destination.next(value);\n      if (count === total) {\n        this.destination.complete();\n        this.unsubscribe();\n      }\n    }\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { InnerSubscriber } from './InnerSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class OuterSubscriber<T, R> extends Subscriber<T> {\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this.destination.error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    this.destination.complete();\n  }\n}\n","export const isArrayLike = (<T>(x: any): x is ArrayLike<T> => x && typeof x.length === 'number');","export function isPromise<T>(value: any | Promise<T>): value is Promise<T> {\n  return value && typeof (<any>value).subscribe !== 'function' && typeof (value as any).then === 'function';\n}\n","import { root } from '../util/root';\n\nexport function symbolIteratorPonyfill(root: any) {\n  const Symbol: any = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (!Symbol.iterator) {\n      Symbol.iterator = Symbol('iterator polyfill');\n    }\n    return Symbol.iterator;\n  } else {\n    // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n    const { Set } = root;\n    if (Set && typeof new Set()['@@iterator'] === 'function') {\n      return '@@iterator';\n    }\n    const { Map } = root;\n    // required for compatability with es6-shim\n    if (Map) {\n      let keys = Object.getOwnPropertyNames(Map.prototype);\n      for (let i = 0; i < keys.length; ++i) {\n        let key = keys[i];\n        // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n        if (key !== 'entries' && key !== 'size' && Map.prototype[key] === Map.prototype['entries']) {\n          return key;\n        }\n      }\n    }\n    return '@@iterator';\n  }\n}\n\nexport const iterator = symbolIteratorPonyfill(root);\n\n/**\n * @deprecated use iterator instead\n */\nexport const $$iterator = iterator;\n","import { Subscriber } from './Subscriber';\nimport { OuterSubscriber } from './OuterSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class InnerSubscriber<T, R> extends Subscriber<R> {\n  private index: number = 0;\n\n  constructor(private parent: OuterSubscriber<T, R>, private outerValue: T, private outerIndex: number) {\n    super();\n  }\n\n  protected _next(value: R): void {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n  }\n\n  protected _error(error: any): void {\n    this.parent.notifyError(error, this);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  }\n}\n","import { root } from './root';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { Subscriber } from '../Subscriber';\nimport { Observable, ObservableInput } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { Subscription } from '../Subscription';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\nexport function subscribeToResult<T, R>(outerSubscriber: OuterSubscriber<T, R>,\n                                        result: any,\n                                        outerValue?: T,\n                                        outerIndex?: number): Subscription;\nexport function subscribeToResult<T>(outerSubscriber: OuterSubscriber<any, any>,\n                                     result: ObservableInput<T>,\n                                     outerValue?: T,\n                                     outerIndex?: number): Subscription {\n  let destination: Subscriber<any> = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n\n  if (destination.closed) {\n    return null;\n  }\n\n  if (result instanceof Observable) {\n    if (result._isScalar) {\n      destination.next((<any>result).value);\n      destination.complete();\n      return null;\n    } else {\n      destination.syncErrorThrowable = true;\n      return result.subscribe(destination);\n    }\n  } else if (isArrayLike(result)) {\n    for (let i = 0, len = result.length; i < len && !destination.closed; i++) {\n      destination.next(result[i]);\n    }\n    if (!destination.closed) {\n      destination.complete();\n    }\n  } else if (isPromise(result)) {\n    result.then(\n      (value) => {\n        if (!destination.closed) {\n          destination.next(<any>value);\n          destination.complete();\n        }\n      },\n      (err: any) => destination.error(err)\n    )\n    .then(null, (err: any) => {\n      // Escaping the Promise trap: globally throw unhandled errors\n      root.setTimeout(() => { throw err; });\n    });\n    return destination;\n  } else if (result && typeof result[Symbol_iterator] === 'function') {\n    const iterator = <any>result[Symbol_iterator]();\n    do {\n      let item = iterator.next();\n      if (item.done) {\n        destination.complete();\n        break;\n      }\n      destination.next(item.value);\n      if (destination.closed) {\n        break;\n      }\n    } while (true);\n  } else if (result && typeof result[Symbol_observable] === 'function') {\n    const obs = result[Symbol_observable]();\n    if (typeof obs.subscribe !== 'function') {\n      destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n    } else {\n      return obs.subscribe(new InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n    }\n  } else {\n    const value = isObject(result) ? 'an invalid object' : `'${result}'`;\n    const msg = `You provided ${value} where a stream was expected.`\n      + ' You can provide an Observable, Promise, Array, or Iterable.';\n    destination.error(new TypeError(msg));\n  }\n  return null;\n}\n","import { Operator } from '../Operator';\nimport { Observable, ObservableInput } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OperatorFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function switchMap<T, R>(project: (value: T, index: number) => ObservableInput<R>): OperatorFunction<T, R>;\nexport function switchMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link switch}.</span>\n *\n * <img src=\"./img/switchMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switch}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nexport function switchMap<T, I, R>(\n  project: (value: T, index: number) => ObservableInput<I>,\n  resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R\n): OperatorFunction<T, I | R> {\n  return function switchMapOperatorFunction(source: Observable<T>): Observable<I | R> {\n    return source.lift(new SwitchMapOperator(project, resultSelector));\n  };\n}\n\nclass SwitchMapOperator<T, I, R> implements Operator<T, I> {\n  constructor(private project: (value: T, index: number) => ObservableInput<I>,\n              private resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) {\n  }\n\n  call(subscriber: Subscriber<I>, source: any): any {\n    return source.subscribe(new SwitchMapSubscriber(subscriber, this.project, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SwitchMapSubscriber<T, I, R> extends OuterSubscriber<T, I> {\n  private index: number = 0;\n  private innerSubscription: Subscription;\n\n  constructor(destination: Subscriber<I>,\n              private project: (value: T, index: number) => ObservableInput<I>,\n              private resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) {\n    super(destination);\n  }\n\n  protected _next(value: T) {\n    let result: ObservableInput<I>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (error) {\n      this.destination.error(error);\n      return;\n    }\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(result: ObservableInput<I>, value: T, index: number) {\n    const innerSubscription = this.innerSubscription;\n    if (innerSubscription) {\n      innerSubscription.unsubscribe();\n    }\n    this.add(this.innerSubscription = subscribeToResult(this, result, value, index));\n  }\n\n  protected _complete(): void {\n    const {innerSubscription} = this;\n    if (!innerSubscription || innerSubscription.closed) {\n      super._complete();\n    }\n  }\n\n  protected _unsubscribe() {\n    this.innerSubscription = null;\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    this.remove(innerSub);\n    this.innerSubscription = null;\n    if (this.isStopped) {\n      super._complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: I,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, I>): void {\n    if (this.resultSelector) {\n      this._tryNotifyNext(outerValue, innerValue, outerIndex, innerIndex);\n    } else {\n      this.destination.next(innerValue);\n    }\n  }\n\n  private _tryNotifyNext(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): void {\n    let result: R;\n    try {\n      result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { PartialObserver } from '../Observer';\nimport { TeardownLogic } from '../Subscription';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function tap<T>(next: (x: T) => void, error?: (e: any) => void, complete?: () => void): MonoTypeOperatorFunction<T>;\nexport function tap<T>(observer: PartialObserver<T>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * <img src=\"./img/do.png\" width=\"100%\">\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `do` is not subscribed, the side effects specified by the\n * Observer will never happen. `do` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * @example <caption>Map every click to the clientX position of that click, while also logging the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks\n *   .do(ev => console.log(ev))\n *   .map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link map}\n * @see {@link subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @name tap\n */\nexport function tap<T>(nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n                       error?: (e: any) => void,\n                       complete?: () => void): MonoTypeOperatorFunction<T> {\n  return function tapOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new DoOperator(nextOrObserver, error, complete));\n  };\n}\n\nclass DoOperator<T> implements Operator<T, T> {\n  constructor(private nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n              private error?: (e: any) => void,\n              private complete?: () => void) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DoSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DoSubscriber<T> extends Subscriber<T> {\n\n  private safeSubscriber: Subscriber<T>;\n\n  constructor(destination: Subscriber<T>,\n              nextOrObserver?: PartialObserver<T> | ((x: T) => void),\n              error?: (e: any) => void,\n              complete?: () => void) {\n    super(destination);\n\n    const safeSubscriber = new Subscriber<T>(nextOrObserver, error, complete);\n    safeSubscriber.syncErrorThrowable = true;\n    this.add(safeSubscriber);\n    this.safeSubscriber = safeSubscriber;\n  }\n\n  protected _next(value: T): void {\n    const { safeSubscriber } = this;\n    safeSubscriber.next(value);\n    if (safeSubscriber.syncErrorThrown) {\n      this.destination.error(safeSubscriber.syncErrorValue);\n    } else {\n      this.destination.next(value);\n    }\n  }\n\n  protected _error(err: any): void {\n    const { safeSubscriber } = this;\n    safeSubscriber.error(err);\n    if (safeSubscriber.syncErrorThrown) {\n      this.destination.error(safeSubscriber.syncErrorValue);\n    } else {\n      this.destination.error(err);\n    }\n  }\n\n  protected _complete(): void {\n    const { safeSubscriber } = this;\n    safeSubscriber.complete();\n    if (safeSubscriber.syncErrorThrown) {\n      this.destination.error(safeSubscriber.syncErrorValue);\n    } else {\n      this.destination.complete();\n    }\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\n\nexport const async = new AsyncScheduler(AsyncAction);\n","export function isDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(+value);\n}\n","import { PartialObserver } from './Observer';\nimport { Observable } from './Observable';\n\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nexport class Notification<T> {\n  hasValue: boolean;\n\n  constructor(public kind: string, public value?: T, public error?: any) {\n    this.hasValue = kind === 'N';\n  }\n\n  /**\n   * Delivers to the given `observer` the value wrapped by this Notification.\n   * @param {Observer} observer\n   * @return\n   */\n  observe(observer: PartialObserver<T>): any {\n    switch (this.kind) {\n      case 'N':\n        return observer.next && observer.next(this.value);\n      case 'E':\n        return observer.error && observer.error(this.error);\n      case 'C':\n        return observer.complete && observer.complete();\n    }\n  }\n\n  /**\n   * Given some {@link Observer} callbacks, deliver the value represented by the\n   * current Notification to the correctly corresponding callback.\n   * @param {function(value: T): void} next An Observer `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  do(next: (value: T) => void, error?: (err: any) => void, complete?: () => void): any {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return next && next(this.value);\n      case 'E':\n        return error && error(this.error);\n      case 'C':\n        return complete && complete();\n    }\n  }\n\n  /**\n   * Takes an Observer or its individual callback functions, and calls `observe`\n   * or `do` methods accordingly.\n   * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n   * the `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  accept(nextOrObserver: PartialObserver<T> | ((value: T) => void), error?: (err: any) => void, complete?: () => void) {\n    if (nextOrObserver && typeof (<PartialObserver<T>>nextOrObserver).next === 'function') {\n      return this.observe(<PartialObserver<T>>nextOrObserver);\n    } else {\n      return this.do(<(value: T) => void>nextOrObserver, error, complete);\n    }\n  }\n\n  /**\n   * Returns a simple Observable that just delivers the notification represented\n   * by this Notification instance.\n   * @return {any}\n   */\n  toObservable(): Observable<T> {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return Observable.of(this.value);\n      case 'E':\n        return Observable.throw(this.error);\n      case 'C':\n        return Observable.empty<T>();\n    }\n    throw new Error('unexpected notification kind value');\n  }\n\n  private static completeNotification: Notification<any> = new Notification('C');\n  private static undefinedValueNotification: Notification<any> = new Notification('N', undefined);\n\n  /**\n   * A shortcut to create a Notification instance of the type `next` from a\n   * given value.\n   * @param {T} value The `next` value.\n   * @return {Notification<T>} The \"next\" Notification representing the\n   * argument.\n   */\n  static createNext<T>(value: T): Notification<T> {\n    if (typeof value !== 'undefined') {\n      return new Notification('N', value);\n    }\n    return Notification.undefinedValueNotification;\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `error` from a\n   * given error.\n   * @param {any} [err] The `error` error.\n   * @return {Notification<T>} The \"error\" Notification representing the\n   * argument.\n   */\n  static createError<T>(err?: any): Notification<T> {\n    return new Notification('E', undefined, err);\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `complete`.\n   * @return {Notification<any>} The valueless \"complete\" Notification.\n   */\n  static createComplete(): Notification<any> {\n    return Notification.completeNotification;\n  }\n}\n","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Operator } from '../Operator';\nimport { IScheduler } from '../Scheduler';\nimport { Subscriber } from '../Subscriber';\nimport { Action } from '../scheduler/Action';\nimport { Notification } from '../Notification';\nimport { Observable } from '../Observable';\nimport { PartialObserver } from '../Observer';\nimport { TeardownLogic } from '../Subscription';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * <img src=\"./img/delay.png\" width=\"100%\">\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * @example <caption>Delay each click by one second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delay(1000); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @example <caption>Delay all clicks until a future date happens</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var date = new Date('March 15, 2050 12:00:00'); // in the future\n * var delayedClicks = clicks.delay(date); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nexport function delay<T>(delay: number|Date,\n                         scheduler: IScheduler = async): MonoTypeOperatorFunction<T> {\n  const absoluteDelay = isDate(delay);\n  const delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(<number>delay);\n  return (source: Observable<T>) => source.lift(new DelayOperator(delayFor, scheduler));\n}\n\nclass DelayOperator<T> implements Operator<T, T> {\n  constructor(private delay: number,\n              private scheduler: IScheduler) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n  }\n}\n\ninterface DelayState<T> {\n  source: DelaySubscriber<T>;\n  destination: PartialObserver<T>;\n  scheduler: IScheduler;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DelaySubscriber<T> extends Subscriber<T> {\n  private queue: Array<DelayMessage<T>> = [];\n  private active: boolean = false;\n  private errored: boolean = false;\n\n  private static dispatch<T>(this: Action<DelayState<T>>, state: DelayState<T>): void {\n    const source = state.source;\n    const queue = source.queue;\n    const scheduler = state.scheduler;\n    const destination = state.destination;\n\n    while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n      queue.shift().notification.observe(destination);\n    }\n\n    if (queue.length > 0) {\n      const delay = Math.max(0, queue[0].time - scheduler.now());\n      this.schedule(state, delay);\n    } else {\n      source.active = false;\n    }\n  }\n\n  constructor(destination: Subscriber<T>,\n              private delay: number,\n              private scheduler: IScheduler) {\n    super(destination);\n  }\n\n  private _schedule(scheduler: IScheduler): void {\n    this.active = true;\n    this.add(scheduler.schedule<DelayState<T>>(DelaySubscriber.dispatch, this.delay, {\n      source: this, destination: this.destination, scheduler: scheduler\n    }));\n  }\n\n  private scheduleNotification(notification: Notification<T>): void {\n    if (this.errored === true) {\n      return;\n    }\n\n    const scheduler = this.scheduler;\n    const message = new DelayMessage(scheduler.now() + this.delay, notification);\n    this.queue.push(message);\n\n    if (this.active === false) {\n      this._schedule(scheduler);\n    }\n  }\n\n  protected _next(value: T) {\n    this.scheduleNotification(Notification.createNext(value));\n  }\n\n  protected _error(err: any) {\n    this.errored = true;\n    this.queue = [];\n    this.destination.error(err);\n  }\n\n  protected _complete() {\n    this.scheduleNotification(Notification.createComplete());\n  }\n}\n\nclass DelayMessage<T> {\n  constructor(public readonly time: number,\n              public readonly notification: Notification<T>) {\n  }\n}\n","import { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class ScalarObservable<T> extends Observable<T> {\n  static create<T>(value: T, scheduler?: IScheduler): ScalarObservable<T> {\n    return new ScalarObservable(value, scheduler);\n  }\n\n  static dispatch(state: any): void {\n    const { done, value, subscriber } = state;\n\n    if (done) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(value);\n    if (subscriber.closed) {\n      return;\n    }\n\n    state.done = true;\n    (<any> this).schedule(state);\n  }\n\n  _isScalar: boolean = true;\n\n  constructor(public value: T, private scheduler?: IScheduler) {\n    super();\n    if (scheduler) {\n      this._isScalar = false;\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    const value = this.value;\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(ScalarObservable.dispatch, 0, {\n        done: false, value, subscriber\n      });\n    } else {\n      subscriber.next(value);\n      if (!subscriber.closed) {\n        subscriber.complete();\n      }\n    }\n  }\n}\n","import { Scheduler } from '../Scheduler';\nexport function isScheduler(value: any): value is Scheduler {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { ScalarObservable } from './ScalarObservable';\nimport { EmptyObservable } from './EmptyObservable';\nimport { Subscriber } from '../Subscriber';\nimport { isScheduler } from '../util/isScheduler';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class ArrayObservable<T> extends Observable<T> {\n\n  static create<T>(array: T[], scheduler?: IScheduler): Observable<T> {\n    return new ArrayObservable(array, scheduler);\n  }\n\n  static of<T>(item1: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, item5: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, item5: T, item6: T, scheduler?: IScheduler): Observable<T>;\n  static of<T>(...array: Array<T | IScheduler>): Observable<T>;\n  /**\n   * Creates an Observable that emits some values you specify as arguments,\n   * immediately one after the other, and then emits a complete notification.\n   *\n   * <span class=\"informal\">Emits the arguments you provide, then completes.\n   * </span>\n   *\n   * <img src=\"./img/of.png\" width=\"100%\">\n   *\n   * This static operator is useful for creating a simple Observable that only\n   * emits the arguments given, and the complete notification thereafter. It can\n   * be used for composing with other Observables, such as with {@link concat}.\n   * By default, it uses a `null` IScheduler, which means the `next`\n   * notifications are sent synchronously, although with a different IScheduler\n   * it is possible to determine when those notifications will be delivered.\n   *\n   * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n   * var numbers = Rx.Observable.of(10, 20, 30);\n   * var letters = Rx.Observable.of('a', 'b', 'c');\n   * var interval = Rx.Observable.interval(1000);\n   * var result = numbers.concat(letters).concat(interval);\n   * result.subscribe(x => console.log(x));\n   *\n   * @see {@link create}\n   * @see {@link empty}\n   * @see {@link never}\n   * @see {@link throw}\n   *\n   * @param {...T} values Arguments that represent `next` values to be emitted.\n   * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n   * the emissions of the `next` notifications.\n   * @return {Observable<T>} An Observable that emits each given input value.\n   * @static true\n   * @name of\n   * @owner Observable\n   */\n  static of<T>(...array: Array<T | IScheduler>): Observable<T> {\n    let scheduler = <IScheduler>array[array.length - 1];\n    if (isScheduler(scheduler)) {\n      array.pop();\n    } else {\n      scheduler = null;\n    }\n\n    const len = array.length;\n    if (len > 1) {\n      return new ArrayObservable<T>(<any>array, scheduler);\n    } else if (len === 1) {\n      return new ScalarObservable<T>(<any>array[0], scheduler);\n    } else {\n      return new EmptyObservable<T>(scheduler);\n    }\n  }\n\n  static dispatch(state: any) {\n\n    const { array, index, count, subscriber } = state;\n\n    if (index >= count) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(array[index]);\n\n    if (subscriber.closed) {\n      return;\n    }\n\n    state.index = index + 1;\n\n    (<any> this).schedule(state);\n  }\n\n  // value used if Array has one value and _isScalar\n  value: any;\n\n  constructor(private array: T[], private scheduler?: IScheduler) {\n    super();\n    if (!scheduler && array.length === 1) {\n      this._isScalar = true;\n      this.value = array[0];\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    let index = 0;\n    const array = this.array;\n    const count = array.length;\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(ArrayObservable.dispatch, 0, {\n        array, index, count, subscriber\n      });\n    } else {\n      for (let i = 0; i < count && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n      }\n      subscriber.complete();\n    }\n  }\n}\n","import {  ArrayObservable  } from './ArrayObservable';\n\nexport const of = ArrayObservable.of;","import { root } from '../util/root';\nimport { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class PromiseObservable<T> extends Observable<T> {\n\n  public value: T;\n\n  /**\n   * Converts a Promise to an Observable.\n   *\n   * <span class=\"informal\">Returns an Observable that just emits the Promise's\n   * resolved value, then completes.</span>\n   *\n   * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n   * Observable. If the Promise resolves with a value, the output Observable\n   * emits that resolved value as a `next`, and then completes. If the Promise\n   * is rejected, then the output Observable emits the corresponding Error.\n   *\n   * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n   * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n   * result.subscribe(x => console.log(x), e => console.error(e));\n   *\n   * @see {@link bindCallback}\n   * @see {@link from}\n   *\n   * @param {PromiseLike<T>} promise The promise to be converted.\n   * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n   * the delivery of the resolved value (or the rejection).\n   * @return {Observable<T>} An Observable which wraps the Promise.\n   * @static true\n   * @name fromPromise\n   * @owner Observable\n   */\n  static create<T>(promise: PromiseLike<T>, scheduler?: IScheduler): Observable<T> {\n    return new PromiseObservable(promise, scheduler);\n  }\n\n  constructor(private promise: PromiseLike<T>, private scheduler?: IScheduler) {\n    super();\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    const promise = this.promise;\n    const scheduler = this.scheduler;\n\n    if (scheduler == null) {\n      if (this._isScalar) {\n        if (!subscriber.closed) {\n          subscriber.next(this.value);\n          subscriber.complete();\n        }\n      } else {\n        promise.then(\n          (value) => {\n            this.value = value;\n            this._isScalar = true;\n            if (!subscriber.closed) {\n              subscriber.next(value);\n              subscriber.complete();\n            }\n          },\n          (err) => {\n            if (!subscriber.closed) {\n              subscriber.error(err);\n            }\n          }\n        )\n        .then(null, err => {\n          // escape the promise trap, throw unhandled errors\n          root.setTimeout(() => { throw err; });\n        });\n      }\n    } else {\n      if (this._isScalar) {\n        if (!subscriber.closed) {\n          return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber });\n        }\n      } else {\n        promise.then(\n          (value) => {\n            this.value = value;\n            this._isScalar = true;\n            if (!subscriber.closed) {\n              subscriber.add(scheduler.schedule(dispatchNext, 0, { value, subscriber }));\n            }\n          },\n          (err) => {\n            if (!subscriber.closed) {\n              subscriber.add(scheduler.schedule(dispatchError, 0, { err, subscriber }));\n            }\n          })\n          .then(null, (err) => {\n            // escape the promise trap, throw unhandled errors\n            root.setTimeout(() => { throw err; });\n          });\n      }\n    }\n  }\n}\n\ninterface DispatchNextArg<T> {\n  subscriber: Subscriber<T>;\n  value: T;\n}\nfunction dispatchNext<T>(arg: DispatchNextArg<T>) {\n  const { value, subscriber } = arg;\n  if (!subscriber.closed) {\n    subscriber.next(value);\n    subscriber.complete();\n  }\n}\n\ninterface DispatchErrorArg<T> {\n  subscriber: Subscriber<T>;\n  err: any;\n}\nfunction dispatchError<T>(arg: DispatchErrorArg<T>) {\n  const { err, subscriber } = arg;\n  if (!subscriber.closed) {\n    subscriber.error(err);\n  }\n}\n","import { root } from '../util/root';\nimport { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { TeardownLogic } from '../Subscription';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class IteratorObservable<T> extends Observable<T> {\n  private iterator: any;\n\n  static create<T>(iterator: any, scheduler?: IScheduler): IteratorObservable<T> {\n    return new IteratorObservable(iterator, scheduler);\n  }\n\n  static dispatch(state: any) {\n\n    const { index, hasError, iterator, subscriber } = state;\n\n    if (hasError) {\n      subscriber.error(state.error);\n      return;\n    }\n\n    let result = iterator.next();\n    if (result.done) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(result.value);\n    state.index = index + 1;\n\n    if (subscriber.closed) {\n      if (typeof iterator.return === 'function') {\n        iterator.return();\n      }\n      return;\n    }\n\n    (<any> this).schedule(state);\n  }\n\n  constructor(iterator: any, private scheduler?: IScheduler) {\n    super();\n\n    if (iterator == null) {\n      throw new Error('iterator cannot be null.');\n    }\n\n    this.iterator = getIterator(iterator);\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n\n    let index = 0;\n    const { iterator, scheduler } = this;\n\n    if (scheduler) {\n      return scheduler.schedule(IteratorObservable.dispatch, 0, {\n        index, iterator, subscriber\n      });\n    } else {\n      do {\n        let result = iterator.next();\n        if (result.done) {\n          subscriber.complete();\n          break;\n        } else {\n          subscriber.next(result.value);\n        }\n        if (subscriber.closed) {\n          if (typeof iterator.return === 'function') {\n            iterator.return();\n          }\n          break;\n        }\n      } while (true);\n    }\n  }\n}\n\nclass StringIterator {\n  constructor(private str: string,\n              private idx: number = 0,\n              private len: number = str.length) {\n  }\n  [Symbol_iterator]() { return (this); }\n  next() {\n    return this.idx < this.len ? {\n        done: false,\n        value: this.str.charAt(this.idx++)\n    } : {\n        done: true,\n        value: undefined\n    };\n  }\n}\n\nclass ArrayIterator {\n  constructor(private arr: Array<any>,\n              private idx: number = 0,\n              private len: number = toLength(arr)) {\n  }\n  [Symbol_iterator]() { return this; }\n  next() {\n    return this.idx < this.len ? {\n        done: false,\n        value: this.arr[this.idx++]\n    } : {\n        done: true,\n        value: undefined\n    };\n  }\n}\n\nfunction getIterator(obj: any) {\n  const i = obj[Symbol_iterator];\n  if (!i && typeof obj === 'string') {\n    return new StringIterator(obj);\n  }\n  if (!i && obj.length !== undefined) {\n    return new ArrayIterator(obj);\n  }\n  if (!i) {\n    throw new TypeError('object is not iterable');\n  }\n  return obj[Symbol_iterator]();\n}\n\nconst maxSafeInteger = Math.pow(2, 53) - 1;\n\nfunction toLength(o: any) {\n  let len = +o.length;\n  if (isNaN(len)) {\n      return 0;\n  }\n  if (len === 0 || !numberIsFinite(len)) {\n      return len;\n  }\n  len = sign(len) * Math.floor(Math.abs(len));\n  if (len <= 0) {\n      return 0;\n  }\n  if (len > maxSafeInteger) {\n      return maxSafeInteger;\n  }\n  return len;\n}\n\nfunction numberIsFinite(value: any) {\n  return typeof value === 'number' && root.isFinite(value);\n}\n\nfunction sign(value: any) {\n  let valueAsNumber = +value;\n  if (valueAsNumber === 0) {\n    return valueAsNumber;\n  }\n  if (isNaN(valueAsNumber)) {\n    return valueAsNumber;\n  }\n  return valueAsNumber < 0 ? -1 : 1;\n}\n","import { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { ScalarObservable } from './ScalarObservable';\nimport { EmptyObservable } from './EmptyObservable';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class ArrayLikeObservable<T> extends Observable<T> {\n\n  static create<T>(arrayLike: ArrayLike<T>, scheduler?: IScheduler): Observable<T> {\n    const length = arrayLike.length;\n    if (length === 0) {\n      return new EmptyObservable<T>();\n    } else if (length === 1) {\n      return new ScalarObservable<T>(<any>arrayLike[0], scheduler);\n    } else {\n      return new ArrayLikeObservable(arrayLike, scheduler);\n    }\n  }\n\n  static dispatch(state: any) {\n    const { arrayLike, index, length, subscriber } = state;\n\n    if (subscriber.closed) {\n      return;\n    }\n\n    if (index >= length) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(arrayLike[index]);\n\n    state.index = index + 1;\n\n    (<any> this).schedule(state);\n  }\n\n  // value used if Array has one value and _isScalar\n  private value: any;\n\n  constructor(private arrayLike: ArrayLike<T>, private scheduler?: IScheduler) {\n    super();\n    if (!scheduler && arrayLike.length === 1) {\n      this._isScalar = true;\n      this.value = arrayLike[0];\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    let index = 0;\n    const { arrayLike, scheduler } = this;\n    const length = arrayLike.length;\n\n    if (scheduler) {\n      return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n        arrayLike, index, length, subscriber\n      });\n    } else {\n      for (let i = 0; i < length && !subscriber.closed; i++) {\n        subscriber.next(arrayLike[i]);\n      }\n      subscriber.complete();\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { IScheduler } from '../Scheduler';\nimport { Operator } from '../Operator';\nimport { PartialObserver } from '../Observer';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nimport { TeardownLogic } from '../Subscription';\nimport { Action } from '../scheduler/Action';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nexport function observeOn<T>(scheduler: IScheduler, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function observeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new ObserveOnOperator(scheduler, delay));\n  };\n}\n\nexport class ObserveOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: IScheduler, private delay: number = 0) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ObserveOnSubscriber<T> extends Subscriber<T> {\n  static dispatch(this: Action<ObserveOnMessage>, arg: ObserveOnMessage) {\n    const { notification, destination } = arg;\n    notification.observe(destination);\n    this.unsubscribe();\n  }\n\n  constructor(destination: Subscriber<T>,\n              private scheduler: IScheduler,\n              private delay: number = 0) {\n    super(destination);\n  }\n\n  private scheduleMessage(notification: Notification<any>): void {\n    this.add(this.scheduler.schedule(\n      ObserveOnSubscriber.dispatch,\n      this.delay,\n      new ObserveOnMessage(notification, this.destination)\n    ));\n  }\n\n  protected _next(value: T): void {\n    this.scheduleMessage(Notification.createNext(value));\n  }\n\n  protected _error(err: any): void {\n    this.scheduleMessage(Notification.createError(err));\n  }\n\n  protected _complete(): void {\n    this.scheduleMessage(Notification.createComplete());\n  }\n}\n\nexport class ObserveOnMessage {\n  constructor(public notification: Notification<any>,\n              public destination: PartialObserver<any>) {\n  }\n}\n","import { isArray } from '../util/isArray';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { PromiseObservable } from './PromiseObservable';\nimport { IteratorObservable } from'./IteratorObservable';\nimport { ArrayObservable } from './ArrayObservable';\nimport { ArrayLikeObservable } from './ArrayLikeObservable';\n\nimport { IScheduler } from '../Scheduler';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { Observable, ObservableInput } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { ObserveOnSubscriber } from '../operators/observeOn';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class FromObservable<T> extends Observable<T> {\n  constructor(private ish: ObservableInput<T>, private scheduler?: IScheduler) {\n    super(null);\n  }\n\n  static create<T>(ish: ObservableInput<T>, scheduler?: IScheduler): Observable<T>;\n  static create<T, R>(ish: ArrayLike<T>, scheduler?: IScheduler): Observable<R>;\n\n  /**\n   * Creates an Observable from an Array, an array-like object, a Promise, an\n   * iterable object, or an Observable-like object.\n   *\n   * <span class=\"informal\">Converts almost anything to an Observable.</span>\n   *\n   * <img src=\"./img/from.png\" width=\"100%\">\n   *\n   * Convert various other objects and data types into Observables. `from`\n   * converts a Promise or an array-like or an\n   * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n   * object into an Observable that emits the items in that promise or array or\n   * iterable. A String, in this context, is treated as an array of characters.\n   * Observable-like objects (contains a function named with the ES2015 Symbol\n   * for Observable) can also be converted through this operator.\n   *\n   * @example <caption>Converts an array to an Observable</caption>\n   * var array = [10, 20, 30];\n   * var result = Rx.Observable.from(array);\n   * result.subscribe(x => console.log(x));\n   *\n   * // Results in the following:\n   * // 10 20 30\n   *\n   * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n   * function* generateDoubles(seed) {\n   *   var i = seed;\n   *   while (true) {\n   *     yield i;\n   *     i = 2 * i; // double it\n   *   }\n   * }\n   *\n   * var iterator = generateDoubles(3);\n   * var result = Rx.Observable.from(iterator).take(10);\n   * result.subscribe(x => console.log(x));\n   *\n   * // Results in the following:\n   * // 3 6 12 24 48 96 192 384 768 1536\n   *\n   * @see {@link create}\n   * @see {@link fromEvent}\n   * @see {@link fromEventPattern}\n   * @see {@link fromPromise}\n   *\n   * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n   * Observable-like, an Array, an iterable or an array-like object to be\n   * converted.\n   * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n   * emissions of values.\n   * @return {Observable<T>} The Observable whose values are originally from the\n   * input object that was converted.\n   * @static true\n   * @name from\n   * @owner Observable\n   */\n  static create<T>(ish: ObservableInput<T>, scheduler?: IScheduler): Observable<T> {\n    if (ish != null) {\n      if (typeof ish[Symbol_observable] === 'function') {\n        if (ish instanceof Observable && !scheduler) {\n          return ish;\n        }\n        return new FromObservable<T>(ish, scheduler);\n      } else if (isArray(ish)) {\n        return new ArrayObservable<T>(ish, scheduler);\n      } else if (isPromise<T>(ish)) {\n        return new PromiseObservable<T>(ish, scheduler);\n      } else if (typeof ish[Symbol_iterator] === 'function' || typeof ish === 'string') {\n        return new IteratorObservable<T>(ish, scheduler);\n      } else if (isArrayLike(ish)) {\n        return new ArrayLikeObservable(ish, scheduler);\n      }\n    }\n\n    throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>) {\n    const ish = this.ish;\n    const scheduler = this.scheduler;\n    if (scheduler == null) {\n      return ish[Symbol_observable]().subscribe(subscriber);\n    } else {\n      return ish[Symbol_observable]().subscribe(new ObserveOnSubscriber(subscriber, scheduler, 0));\n    }\n  }\n}\n","import {  FromObservable  } from './FromObservable';\n\nexport const from = FromObservable.create;","import { Observable, ObservableInput } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OperatorFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function mergeMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, concurrent?: number): OperatorFunction<T, R>;\nexport function mergeMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nexport function mergeMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>,\n                                  resultSelector?: ((outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) | number,\n                                  concurrent: number = Number.POSITIVE_INFINITY): OperatorFunction<T, I|R> {\n  return function mergeMapOperatorFunction(source: Observable<T>) {\n    if (typeof resultSelector === 'number') {\n      concurrent = <number>resultSelector;\n      resultSelector = null;\n    }\n    return source.lift(new MergeMapOperator(project, <any>resultSelector, concurrent));\n  };\n}\n\nexport class MergeMapOperator<T, I, R> implements Operator<T, I> {\n  constructor(private project: (value: T, index: number) => ObservableInput<I>,\n              private resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n  }\n\n  call(observer: Subscriber<I>, source: any): any {\n    return source.subscribe(new MergeMapSubscriber(\n      observer, this.project, this.resultSelector, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeMapSubscriber<T, I, R> extends OuterSubscriber<T, I> {\n  private hasCompleted: boolean = false;\n  private buffer: T[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<I>,\n              private project: (value: T, index: number) => ObservableInput<I>,\n              private resultSelector?: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.active < this.concurrent) {\n      this._tryNext(value);\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  protected _tryNext(value: T) {\n    let result: ObservableInput<I>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.active++;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(ish: ObservableInput<I>, value: T, index: number): void {\n    this.add(subscribeToResult<T, I>(this, ish, value, index));\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: I,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, I>): void {\n    if (this.resultSelector) {\n      this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n    } else {\n      this.destination.next(innerValue);\n    }\n  }\n\n  private _notifyResultSelector(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) {\n    let result: R;\n    try {\n      result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    this.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","export function identity<T>(x: T): T {\n  return x;\n}\n","\nimport { ObservableInput } from '../Observable';\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll<T>(concurrent: number = Number.POSITIVE_INFINITY): MonoTypeOperatorFunction<T> {\n  return mergeMap(identity as (value: T, index: number) => ObservableInput<{}>, null, concurrent);\n}","\nimport { mergeAll } from './mergeAll';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nexport function concatAll<T>(): MonoTypeOperatorFunction<T> {\n  return mergeAll(1);\n}\n","import { Observable, ObservableInput } from '../Observable';\nimport { IScheduler } from '../Scheduler';\nimport { isScheduler } from '../util/isScheduler';\nimport { of } from './of';\nimport { from } from './from';\nimport { concatAll } from '../operators/concatAll';\n\n/* tslint:disable:max-line-length */\nexport function concat<T>(v1: ObservableInput<T>, scheduler?: IScheduler): Observable<T>;\nexport function concat<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: IScheduler): Observable<T | T2>;\nexport function concat<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: IScheduler): Observable<T | T2 | T3>;\nexport function concat<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: IScheduler): Observable<T | T2 | T3 | T4>;\nexport function concat<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: IScheduler): Observable<T | T2 | T3 | T4 | T5>;\nexport function concat<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: IScheduler): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function concat<T>(...observables: (ObservableInput<T> | IScheduler)[]): Observable<T>;\nexport function concat<T, R>(...observables: (ObservableInput<any> | IScheduler)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | IScheduler>): Observable<R> {\n  if (observables.length === 1 || (observables.length === 2 && isScheduler(observables[1]))) {\n    return from(<any>observables[0]);\n  }\n  return concatAll()(of(...observables)) as Observable<R>;\n}\n","import { IScheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { ArrayObservable } from '../observable/ArrayObservable';\nimport { ScalarObservable } from '../observable/ScalarObservable';\nimport { EmptyObservable } from '../observable/EmptyObservable';\nimport { concat as concatStatic } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nimport { MonoTypeOperatorFunction } from '../interfaces';\n\n/* tslint:disable:max-line-length */\nexport function startWith<T>(v1: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(v1: T, v2: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(v1: T, v2: T, v3: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(v1: T, v2: T, v3: T, v4: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(v1: T, v2: T, v3: T, v4: T, v5: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(v1: T, v2: T, v3: T, v4: T, v5: T, v6: T, scheduler?: IScheduler): MonoTypeOperatorFunction<T>;\nexport function startWith<T>(...array: Array<T | IScheduler>): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nexport function startWith<T>(...array: Array<T | IScheduler>): MonoTypeOperatorFunction<T> {\n  return (source: Observable<T>) => {\n    let scheduler = <IScheduler>array[array.length - 1];\n    if (isScheduler(scheduler)) {\n      array.pop();\n    } else {\n      scheduler = null;\n    }\n\n    const len = array.length;\n    if (len === 1) {\n      return concatStatic(new ScalarObservable<T>(<T>array[0], scheduler), source);\n    } else if (len > 1) {\n      return concatStatic(new ArrayObservable<T>(<T[]>array, scheduler), source);\n    } else {\n      return concatStatic(new EmptyObservable<T>(scheduler), source);\n    }\n  };\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, Input} from '@angular/core';\n\n\nlet nextUniqueId = 0;\n\n\n/** Single error message to be shown underneath the form field. */\n@Directive({\n  selector: 'mat-error',\n  host: {\n    'class': 'mat-error',\n    'role': 'alert',\n    '[attr.id]': 'id',\n  }\n})\nexport class MatError {\n  @Input() id: string = `mat-error-${nextUniqueId++}`;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Observable} from 'rxjs/Observable';\nimport {NgControl} from '@angular/forms';\n\n\n/** An interface which allows a control to work inside of a `MatFormField`. */\nexport abstract class MatFormFieldControl<T> {\n  /** The value of the control. */\n  value: T | null;\n\n  /**\n   * Stream that emits whenever the state of the control changes such that the parent `MatFormField`\n   * needs to run change detection.\n   */\n  readonly stateChanges: Observable<void>;\n\n  /** The element ID for this control. */\n  readonly id: string;\n\n  /** The placeholder for this control. */\n  readonly placeholder: string;\n\n  /** Gets the NgControl for this control. */\n  readonly ngControl: NgControl | null;\n\n  /** Whether the control is focused. */\n  readonly focused: boolean;\n\n  /** Whether the control is empty. */\n  readonly empty: boolean;\n\n  /** Whether the `MatFormField` label should try to float. */\n  readonly shouldLabelFloat?: boolean;\n\n  /**\n   * Whether the `MatFormField` placeholder should try to float.\n   * @deprecated Use `shouldLabelFloat` instead.\n   */\n  readonly shouldPlaceholderFloat?: boolean;\n\n  /** Whether the control is required. */\n  readonly required: boolean;\n\n  /** Whether the control is disabled. */\n  readonly disabled: boolean;\n\n  /** Whether the control is in an error state. */\n  readonly errorState: boolean;\n\n  /**\n   * An optional name for the control type that can be used to distinguish `mat-form-field` elements\n   * based on their control type. The form field will add a class,\n   * `mat-form-field-type-{{controlType}}` to its root element.\n   */\n  readonly controlType?: string;\n\n  /** Sets the list of element IDs that currently describe this control. */\n  abstract setDescribedByIds(ids: string[]): void;\n\n  /** Handles a click on the control's container. */\n  abstract onContainerClick(event: MouseEvent): void;\n}\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Do a deep-copy of basic JavaScript Objects or Arrays.\n */\nexport function deepCopy<T>(value: T): T {\n  return deepExtend(undefined, value);\n}\n\n/**\n * Copy properties from source to target (recursively allows extension\n * of Objects and Arrays).  Scalar values in the target are over-written.\n * If target is undefined, an object of the appropriate type will be created\n * (and returned).\n *\n * We recursively copy all child properties of plain Objects in the source- so\n * that namespace- like dictionaries are merged.\n *\n * Note that the target can be a function, in which case the properties in\n * the source Object are copied onto it as static properties of the Function.\n */\nexport function deepExtend(target: any, source: any): any {\n  if (!(source instanceof Object)) {\n    return source;\n  }\n\n  switch (source.constructor) {\n    case Date:\n      // Treat Dates like scalars; if the target date object had any child\n      // properties - they will be lost!\n      let dateValue = (source as any) as Date;\n      return new Date(dateValue.getTime());\n\n    case Object:\n      if (target === undefined) {\n        target = {};\n      }\n      break;\n\n    case Array:\n      // Always copy the array source and overwrite the target.\n      target = [];\n      break;\n\n    default:\n      // Not a plain Object - treat it as a scalar.\n      return source;\n  }\n\n  for (let prop in source) {\n    if (!source.hasOwnProperty(prop)) {\n      continue;\n    }\n    target[prop] = deepExtend(target[prop], source[prop]);\n  }\n\n  return target;\n}\n\n// TODO: Really needed (for JSCompiler type checking)?\nexport function patchProperty(obj: any, prop: string, value: any) {\n  obj[prop] = value;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @fileoverview Standardized Firebase Error.\n *\n * Usage:\n *\n *   // Typescript string literals for type-safe codes\n *   type Err =\n *     'unknown' |\n *     'object-not-found'\n *     ;\n *\n *   // Closure enum for type-safe error codes\n *   // at-enum {string}\n *   var Err = {\n *     UNKNOWN: 'unknown',\n *     OBJECT_NOT_FOUND: 'object-not-found',\n *   }\n *\n *   let errors: Map<Err, string> = {\n *     'generic-error': \"Unknown error\",\n *     'file-not-found': \"Could not find file: {$file}\",\n *   };\n *\n *   // Type-safe function - must pass a valid error code as param.\n *   let error = new ErrorFactory<Err>('service', 'Service', errors);\n *\n *   ...\n *   throw error.create(Err.GENERIC);\n *   ...\n *   throw error.create(Err.FILE_NOT_FOUND, {'file': fileName});\n *   ...\n *   // Service: Could not file file: foo.txt (service/file-not-found).\n *\n *   catch (e) {\n *     assert(e.message === \"Could not find file: foo.txt.\");\n *     if (e.code === 'service/file-not-found') {\n *       console.log(\"Could not read file: \" + e['file']);\n *     }\n *   }\n */\nexport type ErrorList<T> = { [code: string]: string };\n\nconst ERROR_NAME = 'FirebaseError';\n\nexport interface StringLike {\n  toString: () => string;\n}\n\nlet captureStackTrace: (obj: Object, fn?: Function) => void = (Error as any)\n  .captureStackTrace;\n\n// Export for faking in tests\nexport function patchCapture(captureFake?: any): any {\n  let result: any = captureStackTrace;\n  captureStackTrace = captureFake;\n  return result;\n}\n\nexport interface FirebaseError {\n  // Unique code for error - format is service/error-code-string\n  code: string;\n\n  // Developer-friendly error message.\n  message: string;\n\n  // Always 'FirebaseError'\n  name: string;\n\n  // Where available - stack backtrace in a string\n  stack: string;\n}\n\nexport class FirebaseError implements FirebaseError {\n  public stack: string;\n  public name: string;\n\n  constructor(public code: string, public message: string) {\n    let stack: string;\n    // We want the stack value, if implemented by Error\n    if (captureStackTrace) {\n      // Patches this.stack, omitted calls above ErrorFactory#create\n      captureStackTrace(this, ErrorFactory.prototype.create);\n    } else {\n      let err = Error.apply(this, arguments);\n      this.name = ERROR_NAME;\n      // Make non-enumerable getter for the property.\n      Object.defineProperty(this, 'stack', {\n        get: function() {\n          return err.stack;\n        }\n      });\n    }\n  }\n}\n\n// Back-door inheritance\nFirebaseError.prototype = Object.create(Error.prototype) as FirebaseError;\nFirebaseError.prototype.constructor = FirebaseError;\n(FirebaseError.prototype as any).name = ERROR_NAME;\n\nexport class ErrorFactory<T extends string> {\n  // Matches {$name}, by default.\n  public pattern = /\\{\\$([^}]+)}/g;\n\n  constructor(\n    private service: string,\n    private serviceName: string,\n    private errors: ErrorList<T>\n  ) {\n    // empty\n  }\n\n  create(code: T, data?: { [prop: string]: StringLike }): FirebaseError {\n    if (data === undefined) {\n      data = {};\n    }\n\n    let template = this.errors[code as string];\n\n    let fullCode = this.service + '/' + code;\n    let message: string;\n\n    if (template === undefined) {\n      message = 'Error';\n    } else {\n      message = template.replace(this.pattern, (match, key) => {\n        let value = data![key];\n        return value !== undefined ? value.toString() : '<' + key + '?>';\n      });\n    }\n\n    // Service: Error message (service/code).\n    message = this.serviceName + ': ' + message + ' (' + fullCode + ').';\n    let err = new FirebaseError(fullCode, message);\n\n    // Populate the Error object with message parts for programmatic\n    // accesses (e.g., e.file).\n    for (let prop in data) {\n      if (!data.hasOwnProperty(prop) || prop.slice(-1) === '_') {\n        continue;\n      }\n      (err as any)[prop] = data[prop];\n    }\n\n    return err;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Copyright 2011 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Abstract cryptographic hash interface.\n *\n * See Sha1 and Md5 for sample implementations.\n *\n */\n\n/**\n * Create a cryptographic hash instance.\n *\n * @constructor\n * @struct\n */\nexport class Hash {\n  /**\n   * The block size for the hasher.\n   * @type {number}\n   */\n  blockSize: number = -1;\n\n  constructor() {}\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Hash } from './hash';\n\n/**\n * @fileoverview SHA-1 cryptographic hash.\n * Variable names follow the notation in FIPS PUB 180-3:\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\n *\n * Usage:\n *   var sha1 = new sha1();\n *   sha1.update(bytes);\n *   var hash = sha1.digest();\n *\n * Performance:\n *   Chrome 23:   ~400 Mbit/s\n *   Firefox 16:  ~250 Mbit/s\n *\n */\n\n/**\n * SHA-1 cryptographic hash constructor.\n *\n * The properties declared here are discussed in the above algorithm document.\n * @constructor\n * @extends {Hash}\n * @final\n * @struct\n */\nexport class Sha1 extends Hash {\n  /**\n   * Holds the previous values of accumulated variables a-e in the compress_\n   * function.\n   * @type {!Array<number>}\n   * @private\n   */\n  private chain_: Array<number> = [];\n\n  /**\n   * A buffer holding the partially computed hash result.\n   * @type {!Array<number>}\n   * @private\n   */\n  private buf_: Array<number> = [];\n\n  /**\n   * An array of 80 bytes, each a part of the message to be hashed.  Referred to\n   * as the message schedule in the docs.\n   * @type {!Array<number>}\n   * @private\n   */\n  private W_: Array<number> = [];\n\n  /**\n   * Contains data needed to pad messages less than 64 bytes.\n   * @type {!Array<number>}\n   * @private\n   */\n  private pad_: Array<number> = [];\n\n  /**\n   * @private {number}\n   */\n  private inbuf_: number = 0;\n\n  /**\n   * @private {number}\n   */\n  private total_: number = 0;\n\n  constructor() {\n    super();\n\n    this.blockSize = 512 / 8;\n\n    this.pad_[0] = 128;\n    for (var i = 1; i < this.blockSize; ++i) {\n      this.pad_[i] = 0;\n    }\n\n    this.reset();\n  }\n\n  reset() {\n    this.chain_[0] = 0x67452301;\n    this.chain_[1] = 0xefcdab89;\n    this.chain_[2] = 0x98badcfe;\n    this.chain_[3] = 0x10325476;\n    this.chain_[4] = 0xc3d2e1f0;\n\n    this.inbuf_ = 0;\n    this.total_ = 0;\n  }\n\n  /**\n   * Internal compress helper function.\n   * @param {!Array<number>|!Uint8Array|string} buf Block to compress.\n   * @param {number=} opt_offset Offset of the block in the buffer.\n   * @private\n   */\n  compress_(buf, opt_offset?) {\n    if (!opt_offset) {\n      opt_offset = 0;\n    }\n\n    var W = this.W_;\n\n    // get 16 big endian words\n    if (typeof buf === 'string') {\n      for (var i = 0; i < 16; i++) {\n        // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\n        // have a bug that turns the post-increment ++ operator into pre-increment\n        // during JIT compilation.  We have code that depends heavily on SHA-1 for\n        // correctness and which is affected by this bug, so I've removed all uses\n        // of post-increment ++ in which the result value is used.  We can revert\n        // this change once the Safari bug\n        // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\n        // most clients have been updated.\n        W[i] =\n          (buf.charCodeAt(opt_offset) << 24) |\n          (buf.charCodeAt(opt_offset + 1) << 16) |\n          (buf.charCodeAt(opt_offset + 2) << 8) |\n          buf.charCodeAt(opt_offset + 3);\n        opt_offset += 4;\n      }\n    } else {\n      for (var i = 0; i < 16; i++) {\n        W[i] =\n          (buf[opt_offset] << 24) |\n          (buf[opt_offset + 1] << 16) |\n          (buf[opt_offset + 2] << 8) |\n          buf[opt_offset + 3];\n        opt_offset += 4;\n      }\n    }\n\n    // expand to 80 words\n    for (var i = 16; i < 80; i++) {\n      var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n      W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\n    }\n\n    var a = this.chain_[0];\n    var b = this.chain_[1];\n    var c = this.chain_[2];\n    var d = this.chain_[3];\n    var e = this.chain_[4];\n    var f, k;\n\n    // TODO(user): Try to unroll this loop to speed up the computation.\n    for (var i = 0; i < 80; i++) {\n      if (i < 40) {\n        if (i < 20) {\n          f = d ^ (b & (c ^ d));\n          k = 0x5a827999;\n        } else {\n          f = b ^ c ^ d;\n          k = 0x6ed9eba1;\n        }\n      } else {\n        if (i < 60) {\n          f = (b & c) | (d & (b | c));\n          k = 0x8f1bbcdc;\n        } else {\n          f = b ^ c ^ d;\n          k = 0xca62c1d6;\n        }\n      }\n\n      var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\n      e = d;\n      d = c;\n      c = ((b << 30) | (b >>> 2)) & 0xffffffff;\n      b = a;\n      a = t;\n    }\n\n    this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\n    this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\n    this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\n    this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\n    this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\n  }\n\n  update(bytes, opt_length?) {\n    // TODO(johnlenz): tighten the function signature and remove this check\n    if (bytes == null) {\n      return;\n    }\n\n    if (opt_length === undefined) {\n      opt_length = bytes.length;\n    }\n\n    var lengthMinusBlock = opt_length - this.blockSize;\n    var n = 0;\n    // Using local instead of member variables gives ~5% speedup on Firefox 16.\n    var buf = this.buf_;\n    var inbuf = this.inbuf_;\n\n    // The outer while loop should execute at most twice.\n    while (n < opt_length) {\n      // When we have no data in the block to top up, we can directly process the\n      // input buffer (assuming it contains sufficient data). This gives ~25%\n      // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\n      // the data is provided in large chunks (or in multiples of 64 bytes).\n      if (inbuf == 0) {\n        while (n <= lengthMinusBlock) {\n          this.compress_(bytes, n);\n          n += this.blockSize;\n        }\n      }\n\n      if (typeof bytes === 'string') {\n        while (n < opt_length) {\n          buf[inbuf] = bytes.charCodeAt(n);\n          ++inbuf;\n          ++n;\n          if (inbuf == this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      } else {\n        while (n < opt_length) {\n          buf[inbuf] = bytes[n];\n          ++inbuf;\n          ++n;\n          if (inbuf == this.blockSize) {\n            this.compress_(buf);\n            inbuf = 0;\n            // Jump to the outer loop so we use the full-block optimization.\n            break;\n          }\n        }\n      }\n    }\n\n    this.inbuf_ = inbuf;\n    this.total_ += opt_length;\n  }\n\n  /** @override */\n  digest() {\n    var digest = [];\n    var totalBits = this.total_ * 8;\n\n    // Add pad 0x80 0x00*.\n    if (this.inbuf_ < 56) {\n      this.update(this.pad_, 56 - this.inbuf_);\n    } else {\n      this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\n    }\n\n    // Add # bits.\n    for (var i = this.blockSize - 1; i >= 56; i--) {\n      this.buf_[i] = totalBits & 255;\n      totalBits /= 256; // Don't use bit-shifting here!\n    }\n\n    this.compress_(this.buf_);\n\n    var n = 0;\n    for (var i = 0; i < 5; i++) {\n      for (var j = 24; j >= 0; j -= 8) {\n        digest[n] = (this.chain_[i] >> j) & 255;\n        ++n;\n      }\n    }\n    return digest;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\nexport interface Observer<V, E> {\n  // Called once for each value in a stream of values.\n  next(value: V | null): any;\n\n  // A stream terminates by a single call to EITHER error() or complete().\n  error(error: E): any;\n\n  // No events will be sent to next() once complete() is called.\n  complete(): any;\n}\n\n// Allow for any of the Observer methods to be undefined.\nexport interface PartialObserver<T> {\n  next?: NextFn<T>;\n  error?: ErrorFn;\n  complete?: CompleteFn;\n}\n\n// TODO: Support also Unsubscribe.unsubscribe?\nexport type Unsubscribe = () => void;\n\n/**\n * The Subscribe interface has two forms - passing the inline function\n * callbacks, or a object interface with callback properties.\n */\nexport interface Subscribe<T> {\n  (next?: NextFn<T>, error?: ErrorFn, complete?: CompleteFn): Unsubscribe;\n  (observer: PartialObserver<T>): Unsubscribe;\n}\n\nexport interface Observable<T> {\n  // Subscribe method\n  subscribe: Subscribe<T>;\n}\n\nexport type Executor<T> = (observer: Observer<T, Error>) => void;\n\n/**\n * Helper to make a Subscribe function (just like Promise helps make a\n * Thenable).\n *\n * @param executor Function which can make calls to a single Observer\n *     as a proxy.\n * @param onNoObservers Callback when count of Observers goes to zero.\n */\nexport function createSubscribe<T>(\n  executor: Executor<T>,\n  onNoObservers?: Executor<T>\n): Subscribe<T> {\n  let proxy = new ObserverProxy<T>(executor, onNoObservers);\n  return proxy.subscribe.bind(proxy);\n}\n\n/**\n * Implement fan-out for any number of Observers attached via a subscribe\n * function.\n */\nclass ObserverProxy<T> implements Observer<T, Error> {\n  private observers: Array<Observer<T, Error>> | undefined = [];\n  private unsubscribes: Unsubscribe[] = [];\n  private onNoObservers: Executor<T> | undefined;\n  private observerCount = 0;\n  // Micro-task scheduling by calling task.then().\n  private task = Promise.resolve();\n  private finalized = false;\n  private finalError: Error;\n\n  /**\n   * @param executor Function which can make calls to a single Observer\n   *     as a proxy.\n   * @param onNoObservers Callback when count of Observers goes to zero.\n   */\n  constructor(executor: Executor<T>, onNoObservers?: Executor<T>) {\n    this.onNoObservers = onNoObservers;\n    // Call the executor asynchronously so subscribers that are called\n    // synchronously after the creation of the subscribe function\n    // can still receive the very first value generated in the executor.\n    this.task\n      .then(() => {\n        executor(this);\n      })\n      .catch(e => {\n        this.error(e);\n      });\n  }\n\n  next(value: T) {\n    this.forEachObserver((observer: Observer<T, Error>) => {\n      observer.next(value);\n    });\n  }\n\n  error(error: Error) {\n    this.forEachObserver((observer: Observer<T, Error>) => {\n      observer.error(error);\n    });\n    this.close(error);\n  }\n\n  complete() {\n    this.forEachObserver((observer: Observer<T, Error>) => {\n      observer.complete();\n    });\n    this.close();\n  }\n\n  /**\n   * Subscribe function that can be used to add an Observer to the fan-out list.\n   *\n   * - We require that no event is sent to a subscriber sychronously to their\n   *   call to subscribe().\n   */\n  subscribe(\n    nextOrObserver: PartialObserver<T> | Function,\n    error?: ErrorFn,\n    complete?: CompleteFn\n  ): Unsubscribe {\n    let observer: Observer<T, Error>;\n\n    if (\n      nextOrObserver === undefined &&\n      error === undefined &&\n      complete === undefined\n    ) {\n      throw new Error('Missing Observer.');\n    }\n\n    // Assemble an Observer object when passed as callback functions.\n    if (implementsAnyMethods(nextOrObserver, ['next', 'error', 'complete'])) {\n      observer = nextOrObserver as Observer<T, Error>;\n    } else {\n      observer = {\n        next: (nextOrObserver as any) as NextFn<T>,\n        error: error,\n        complete: complete\n      } as Observer<T, Error>;\n    }\n\n    if (observer.next === undefined) {\n      observer.next = noop as NextFn<T>;\n    }\n    if (observer.error === undefined) {\n      observer.error = noop as ErrorFn;\n    }\n    if (observer.complete === undefined) {\n      observer.complete = noop as CompleteFn;\n    }\n\n    let unsub = this.unsubscribeOne.bind(this, this.observers!.length);\n\n    // Attempt to subscribe to a terminated Observable - we\n    // just respond to the Observer with the final error or complete\n    // event.\n    if (this.finalized) {\n      this.task.then(() => {\n        try {\n          if (this.finalError) {\n            observer.error(this.finalError);\n          } else {\n            observer.complete();\n          }\n        } catch (e) {\n          // nothing\n        }\n        return;\n      });\n    }\n\n    this.observers!.push(observer as Observer<T, Error>);\n\n    return unsub;\n  }\n\n  // Unsubscribe is synchronous - we guarantee that no events are sent to\n  // any unsubscribed Observer.\n  private unsubscribeOne(i: number) {\n    if (this.observers === undefined || this.observers[i] === undefined) {\n      return;\n    }\n\n    delete this.observers[i];\n\n    this.observerCount -= 1;\n    if (this.observerCount === 0 && this.onNoObservers !== undefined) {\n      this.onNoObservers(this);\n    }\n  }\n\n  private forEachObserver(fn: (observer: Observer<T, Error>) => void): void {\n    if (this.finalized) {\n      // Already closed by previous event....just eat the additional values.\n      return;\n    }\n\n    // Since sendOne calls asynchronously - there is no chance that\n    // this.observers will become undefined.\n    for (let i = 0; i < this.observers!.length; i++) {\n      this.sendOne(i, fn);\n    }\n  }\n\n  // Call the Observer via one of it's callback function. We are careful to\n  // confirm that the observe has not been unsubscribed since this asynchronous\n  // function had been queued.\n  private sendOne(i: number, fn: (observer: Observer<T, Error>) => void): void {\n    // Execute the callback asynchronously\n    this.task.then(() => {\n      if (this.observers !== undefined && this.observers[i] !== undefined) {\n        try {\n          fn(this.observers[i]);\n        } catch (e) {\n          // Ignore exceptions raised in Observers or missing methods of an\n          // Observer.\n          // Log error to console. b/31404806\n          if (typeof console !== 'undefined' && console.error) {\n            console.error(e);\n          }\n        }\n      }\n    });\n  }\n\n  private close(err?: Error): void {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    if (err !== undefined) {\n      this.finalError = err;\n    }\n    // Proxy is no longer needed - garbage collect references\n    this.task.then(() => {\n      this.observers = undefined;\n      this.onNoObservers = undefined;\n    });\n  }\n}\n\n/** Turn synchronous function into one called asynchronously. */\nexport function async(fn: Function, onError?: ErrorFn): Function {\n  return (...args: any[]) => {\n    Promise.resolve(true)\n      .then(() => {\n        fn(...args);\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error);\n        }\n      });\n  };\n}\n\n/**\n * Return true if the object passed in implements any of the named methods.\n */\nfunction implementsAnyMethods(obj: any, methods: string[]): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  for (let method of methods) {\n    if (method in obj && typeof obj[method] === 'function') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction noop(): void {\n  // do nothing\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FirebaseApp,\n  FirebaseOptions,\n  FirebaseNamespace\n} from '@firebase/app-types';\nimport {\n  _FirebaseApp,\n  _FirebaseNamespace,\n  FirebaseService,\n  FirebaseServiceFactory,\n  FirebaseServiceNamespace,\n  AppHook\n} from '@firebase/app-types/private';\nimport {\n  createSubscribe,\n  deepCopy,\n  deepExtend,\n  ErrorFactory,\n  FirebaseError,\n  Observer,\n  patchProperty,\n  Subscribe\n} from '@firebase/util';\n\nconst contains = function(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\n\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\n// An array to capture listeners before the true auth functions\n// exist\nlet tokenListeners = [];\n\n/**\n * Global context object for a collection of services using\n * a shared authentication state.\n */\nclass FirebaseAppImpl implements FirebaseApp {\n  private options_: FirebaseOptions;\n  private name_: string;\n  private isDeleted_ = false;\n  private services_: {\n    [name: string]: {\n      [serviceName: string]: FirebaseService;\n    };\n  } = {};\n\n  public INTERNAL;\n\n  constructor(\n    options: FirebaseOptions,\n    name: string,\n    private firebase_: FirebaseNamespace\n  ) {\n    this.name_ = name;\n    this.options_ = deepCopy<FirebaseOptions>(options);\n    this.INTERNAL = {\n      getUid: () => null,\n      getToken: () => Promise.resolve(null),\n      addAuthTokenListener: (callback: (token: string | null) => void) => {\n        tokenListeners.push(callback);\n        // Make sure callback is called, asynchronously, in the absence of the auth module\n        setTimeout(() => callback(null), 0);\n      },\n      removeAuthTokenListener: callback => {\n        tokenListeners = tokenListeners.filter(\n          listener => listener !== callback\n        );\n      }\n    };\n  }\n\n  get name(): string {\n    this.checkDestroyed_();\n    return this.name_;\n  }\n\n  get options(): FirebaseOptions {\n    this.checkDestroyed_();\n    return this.options_;\n  }\n\n  delete(): Promise<void> {\n    return new Promise(resolve => {\n      this.checkDestroyed_();\n      resolve();\n    })\n      .then(() => {\n        (this.firebase_ as _FirebaseNamespace).INTERNAL.removeApp(this.name_);\n        let services: FirebaseService[] = [];\n        Object.keys(this.services_).forEach(serviceKey => {\n          Object.keys(this.services_[serviceKey]).forEach(instanceKey => {\n            services.push(this.services_[serviceKey][instanceKey]);\n          });\n        });\n        return Promise.all(\n          services.map(service => {\n            return service.INTERNAL!.delete();\n          })\n        );\n      })\n      .then((): void => {\n        this.isDeleted_ = true;\n        this.services_ = {};\n      });\n  }\n\n  /**\n   * Return a service instance associated with this app (creating it\n   * on demand), identified by the passed instanceIdentifier.\n   *\n   * NOTE: Currently storage is the only one that is leveraging this\n   * functionality. They invoke it by calling:\n   *\n   * ```javascript\n   * firebase.app().storage('STORAGE BUCKET ID')\n   * ```\n   *\n   * The service name is passed to this already\n   * @internal\n   */\n  _getService(\n    name: string,\n    instanceIdentifier: string = DEFAULT_ENTRY_NAME\n  ): FirebaseService {\n    this.checkDestroyed_();\n\n    if (!this.services_[name]) {\n      this.services_[name] = {};\n    }\n\n    if (!this.services_[name][instanceIdentifier]) {\n      /**\n       * If a custom instance has been defined (i.e. not '[DEFAULT]')\n       * then we will pass that instance on, otherwise we pass `null`\n       */\n      const instanceSpecifier =\n        instanceIdentifier !== DEFAULT_ENTRY_NAME\n          ? instanceIdentifier\n          : undefined;\n      const service = (this.firebase_ as _FirebaseNamespace).INTERNAL.factories[\n        name\n      ](this, this.extendApp.bind(this), instanceSpecifier);\n      this.services_[name][instanceIdentifier] = service;\n    }\n\n    return this.services_[name][instanceIdentifier];\n  }\n\n  /**\n   * Callback function used to extend an App instance at the time\n   * of service instance creation.\n   */\n  private extendApp(props: { [name: string]: any }): void {\n    // Copy the object onto the FirebaseAppImpl prototype\n    deepExtend(this, props);\n\n    /**\n     * If the app has overwritten the addAuthTokenListener stub, forward\n     * the active token listeners on to the true fxn.\n     *\n     * TODO: This function is required due to our current module\n     * structure. Once we are able to rely strictly upon a single module\n     * implementation, this code should be refactored and Auth should\n     * provide these stubs and the upgrade logic\n     */\n    if (props.INTERNAL && props.INTERNAL.addAuthTokenListener) {\n      tokenListeners.forEach(listener => {\n        this.INTERNAL.addAuthTokenListener(listener);\n      });\n      tokenListeners = [];\n    }\n  }\n\n  /**\n   * This function will throw an Error if the App has already been deleted -\n   * use before performing API actions on the App.\n   */\n  private checkDestroyed_(): void {\n    if (this.isDeleted_) {\n      error('app-deleted', { name: this.name_ });\n    }\n  }\n}\n\n// Prevent dead-code elimination of these methods w/o invalid property\n// copying.\n(FirebaseAppImpl.prototype.name && FirebaseAppImpl.prototype.options) ||\n  FirebaseAppImpl.prototype.delete ||\n  console.log('dc');\n\n/**\n * Return a firebase namespace object.\n *\n * In production, this will be called exactly once and the result\n * assigned to the 'firebase' global.  It may be called multiple times\n * in unit tests.\n */\nexport function createFirebaseNamespace(): FirebaseNamespace {\n  let apps_: { [name: string]: FirebaseApp } = {};\n  let factories: { [service: string]: FirebaseServiceFactory } = {};\n  let appHooks: { [service: string]: AppHook } = {};\n\n  // A namespace is a plain JavaScript Object.\n  let namespace = {\n    // Hack to prevent Babel from modifying the object returned\n    // as the firebase namespace.\n    __esModule: true,\n    initializeApp: initializeApp,\n    app: app as any,\n    apps: null as any,\n    Promise: Promise,\n    SDK_VERSION: '${JSCORE_VERSION}',\n    INTERNAL: {\n      registerService: registerService,\n      createFirebaseNamespace: createFirebaseNamespace,\n      extendNamespace: extendNamespace,\n      createSubscribe: createSubscribe,\n      ErrorFactory: ErrorFactory,\n      removeApp: removeApp,\n      factories: factories,\n      useAsService: useAsService,\n      Promise: Promise,\n      deepExtend: deepExtend\n    }\n  };\n\n  // Inject a circular default export to allow Babel users who were previously\n  // using:\n  //\n  //   import firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase').default;\n  //\n  // instead of\n  //\n  //   import * as firebase from 'firebase';\n  //   which becomes: var firebase = require('firebase');\n  patchProperty(namespace, 'default', namespace);\n\n  // firebase.apps is a read-only getter.\n  Object.defineProperty(namespace, 'apps', {\n    get: getApps\n  });\n\n  /**\n   * Called by App.delete() - but before any services associated with the App\n   * are deleted.\n   */\n  function removeApp(name: string): void {\n    let app = apps_[name];\n    callAppHooks(app, 'delete');\n    delete apps_[name];\n  }\n\n  /**\n   * Get the App object for a given name (or DEFAULT).\n   */\n  function app(name?: string): FirebaseApp {\n    name = name || DEFAULT_ENTRY_NAME;\n    if (!contains(apps_, name)) {\n      error('no-app', { name: name });\n    }\n    return apps_[name];\n  }\n\n  patchProperty(app, 'App', FirebaseAppImpl);\n\n  /**\n   * Create a new App instance (name must be unique).\n   */\n  function initializeApp(options: FirebaseOptions, name?: string): FirebaseApp {\n    if (name === undefined) {\n      name = DEFAULT_ENTRY_NAME;\n    } else {\n      if (typeof name !== 'string' || name === '') {\n        error('bad-app-name', { name: name + '' });\n      }\n    }\n    if (contains(apps_, name)) {\n      error('duplicate-app', { name: name });\n    }\n\n    let app = new FirebaseAppImpl(\n      options,\n      name!,\n      namespace as FirebaseNamespace\n    );\n\n    apps_[name!] = app;\n    callAppHooks(app, 'create');\n\n    return app;\n  }\n\n  /*\n   * Return an array of all the non-deleted FirebaseApps.\n   */\n  function getApps(): FirebaseApp[] {\n    // Make a copy so caller cannot mutate the apps list.\n    return Object.keys(apps_).map(name => apps_[name]);\n  }\n\n  /*\n   * Register a Firebase Service.\n   *\n   * firebase.INTERNAL.registerService()\n   *\n   * TODO: Implement serviceProperties.\n   */\n  function registerService(\n    name: string,\n    createService: FirebaseServiceFactory,\n    serviceProperties?: { [prop: string]: any },\n    appHook?: AppHook,\n    allowMultipleInstances?: boolean\n  ): FirebaseServiceNamespace<FirebaseService> {\n    // Cannot re-register a service that already exists\n    if (factories[name]) {\n      error('duplicate-service', { name: name });\n    }\n\n    // Capture the service factory for later service instantiation\n    factories[name] = createService;\n\n    // Capture the appHook, if passed\n    if (appHook) {\n      appHooks[name] = appHook;\n\n      // Run the **new** app hook on all existing apps\n      getApps().forEach(app => {\n        appHook('create', app);\n      });\n    }\n\n    // The Service namespace is an accessor function ...\n    const serviceNamespace = (appArg: FirebaseApp = app()) => {\n      if (typeof (appArg as any)[name] !== 'function') {\n        // Invalid argument.\n        // This happens in the following case: firebase.storage('gs:/')\n        error('invalid-app-argument', { name: name });\n      }\n\n      // Forward service instance lookup to the FirebaseApp.\n      return (appArg as any)[name]();\n    };\n\n    // ... and a container for service-level properties.\n    if (serviceProperties !== undefined) {\n      deepExtend(serviceNamespace, serviceProperties);\n    }\n\n    // Monkey-patch the serviceNamespace onto the firebase namespace\n    (namespace as any)[name] = serviceNamespace;\n\n    // Patch the FirebaseAppImpl prototype\n    FirebaseAppImpl.prototype[name] = function(...args) {\n      const serviceFxn = this._getService.bind(this, name);\n      return serviceFxn.apply(this, allowMultipleInstances ? args : []);\n    };\n\n    return serviceNamespace;\n  }\n\n  /**\n   * Patch the top-level firebase namespace with additional properties.\n   *\n   * firebase.INTERNAL.extendNamespace()\n   */\n  function extendNamespace(props: { [prop: string]: any }): void {\n    deepExtend(namespace, props);\n  }\n\n  function callAppHooks(app: FirebaseApp, eventName: string) {\n    Object.keys(factories).forEach(serviceName => {\n      // Ignore virtual services\n      let factoryName = useAsService(app, serviceName);\n      if (factoryName === null) {\n        return;\n      }\n\n      if (appHooks[factoryName]) {\n        appHooks[factoryName](eventName, app);\n      }\n    });\n  }\n\n  // Map the requested service to a registered service name\n  // (used to map auth to serverAuth service when needed).\n  function useAsService(app: FirebaseApp, name: string): string | null {\n    if (name === 'serverAuth') {\n      return null;\n    }\n\n    let useService = name;\n    let options = app.options;\n\n    return useService;\n  }\n\n  return (namespace as any) as FirebaseNamespace;\n}\n\ntype AppError =\n  | 'no-app'\n  | 'bad-app-name'\n  | 'duplicate-app'\n  | 'app-deleted'\n  | 'duplicate-service'\n  | 'sa-not-supported'\n  | 'invalid-app-argument';\n\nfunction error(code: AppError, args?: { [name: string]: any }) {\n  throw appErrors.create(code, args);\n}\n\n// TypeScript does not support non-string indexes!\n// let errors: {[code: AppError: string} = {\nlet errors: { [code: string]: string } = {\n  'no-app':\n    \"No Firebase App '{$name}' has been created - \" +\n    'call Firebase App.initializeApp()',\n  'bad-app-name': \"Illegal App name: '{$name}\",\n  'duplicate-app': \"Firebase App named '{$name}' already exists\",\n  'app-deleted': \"Firebase App named '{$name}' already deleted\",\n  'duplicate-service': \"Firebase service named '{$name}' already registered\",\n  'sa-not-supported':\n    'Initializing the Firebase SDK with a service ' +\n    'account is only allowed in a Node.js environment. On client ' +\n    'devices, you should instead initialize the SDK with an api key and ' +\n    'auth domain',\n  'invalid-app-argument':\n    'firebase.{$name}() takes either no argument or a ' +\n    'Firebase App instance.'\n};\n\nlet appErrors = new ErrorFactory<AppError>('app', 'Firebase', errors);\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseNamespace } from '@firebase/app-types';\nimport { createFirebaseNamespace } from './src/firebaseApp';\n\nexport const firebase = createFirebaseNamespace();\n\nexport default firebase;\n","import { InjectionToken, } from '@angular/core';\nimport { FirebaseAppConfig } from './';\nimport firebase from '@firebase/app';\n\nimport { FirebaseApp as FBApp } from '@firebase/app-types';\nimport { FirebaseAuth } from '@firebase/auth-types';\nimport { FirebaseDatabase } from '@firebase/database-types';\nimport { FirebaseMessaging } from '@firebase/messaging-types';\nimport { FirebaseStorage } from '@firebase/storage-types';\nimport { FirebaseFirestore } from '@firebase/firestore-types';\n\nexport const FirebaseAppConfigToken = new InjectionToken<FirebaseAppConfig>('FirebaseAppConfigToken');\n\nexport class FirebaseApp implements FBApp {\n  name: string;\n  options: {};\n  auth: () => FirebaseAuth;\n  database: () => FirebaseDatabase;\n  messaging: () => FirebaseMessaging;\n  storage: () => FirebaseStorage;\n  delete: () => Promise<any>;\n  firestore: () => FirebaseFirestore;\n}\n\nexport function _firebaseAppFactory(config: FirebaseAppConfig, appName?: string): FirebaseApp {\n  try {\n    if (appName) {\n      return firebase.initializeApp(config, appName) as FirebaseApp;\n    } else {\n      return firebase.initializeApp(config) as FirebaseApp;\n    }\n  }\n  catch (e) {\n    if (e.code === \"app/duplicate-app\") {\n      return firebase.app(e.name) as FirebaseApp;\n    }\n\n    return firebase.app(null!) as FirebaseApp;\n  }\n}\n","declare let global: any;\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\ndeclare var WorkerGlobalScope: any;\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\n\nconst __window = typeof window !== 'undefined' && window;\nconst __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nconst __global = typeof global !== 'undefined' && global;\nconst _root: any = __window || __global || __self;\n\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n  if (!_root) {\n    throw new Error('RxJS could not find any global context (window, self, global)');\n  }\n})();\n\nexport { _root as root };","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport const errorObject: any = { e: {} };","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n};\n","/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport class UnsubscriptionError extends Error {\n  constructor(public errors: any[]) {\n    super();\n    const err: any = Error.call(this, errors ?\n      `${errors.length} errors occurred during unsubscription:\n  ${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '');\n    (<any> this).name = err.name = 'UnsubscriptionError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n\nexport interface AnonymousSubscription {\n  unsubscribe(): void;\n}\n\nexport type TeardownLogic = AnonymousSubscription | Function | void;\n\nexport interface ISubscription extends AnonymousSubscription {\n  unsubscribe(): void;\n  readonly closed: boolean;\n}\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements ISubscription {\n  public static EMPTY: Subscription = (function(empty: any){\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  protected _parent: Subscription = null;\n  protected _parents: Subscription[] = null;\n  private _subscriptions: ISubscription[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        errors = errors || (\n          errorObject.e instanceof UnsubscriptionError ?\n            flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]\n        );\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let subscription = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    const subscriptions = this._subscriptions || (this._subscriptions = []);\n\n    subscriptions.push(subscription);\n    subscription._addParent(this);\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  private _addParent(parent: Subscription) {\n    let { _parent, _parents } = this;\n    if (!_parent || _parent === parent) {\n      // If we don't have a parent, or the new parent is the same as the\n      // current parent, then set this._parent to the new parent.\n      this._parent = parent;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\n\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: Action<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent Scheduler for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { root } from '../util/root';\nimport { Action } from './Action';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: AsyncAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n     }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    return root.clearInterval(id) && undefined || undefined;\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  protected _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { QueueScheduler } from './QueueScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class QueueAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: QueueScheduler,\n              protected work: (this: QueueAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (delay > 0) {\n      return super.schedule(state, delay);\n    }\n    this.delay = delay;\n    this.state = state;\n    this.scheduler.flush(this);\n    return this;\n  }\n\n  public execute(state: T, delay: number): any {\n    return (delay > 0 || this.closed) ?\n      super.execute(state, delay) :\n      this._execute(state, delay) ;\n  }\n\n  protected requestAsyncId(scheduler: QueueScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Otherwise flush the scheduler starting with this action.\n    return scheduler.flush(this);\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\n\nexport interface IScheduler {\n  now(): number;\n  schedule<T>(work: (this: Action<T>, state?: T) => void, delay?: number, state?: T): Subscription;\n}\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nexport class Scheduler implements IScheduler {\n\n  public static now: () => number = Date.now ? Date.now : () => +new Date();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: Action<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { AsyncAction } from './AsyncAction';\n\nexport class AsyncScheduler extends Scheduler {\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   */\n  public scheduled: any = undefined;\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsyncScheduler } from './AsyncScheduler';\n\nexport class QueueScheduler extends AsyncScheduler {\n}\n","import { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\n\nexport const queue = new QueueScheduler(QueueAction);\n","import { FirebaseAppConfigToken, FirebaseApp, _firebaseAppFactory } from './firebase.app.module';\nimport { Injectable, InjectionToken, NgModule } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Scheduler } from 'rxjs/Scheduler';\nimport { queue } from 'rxjs/scheduler/queue';\n\nexport interface FirebaseAppConfig {\n  apiKey?: string;\n  authDomain?: string;\n  databaseURL?: string;\n  storageBucket?: string;\n  messagingSenderId?: string;\n  projectId?: string;\n}\n\nconst FirebaseAppName = new InjectionToken<string>('FirebaseAppName');\n\nexport const FirebaseAppProvider = {\n  provide: FirebaseApp,\n  useFactory: _firebaseAppFactory,\n  deps: [ FirebaseAppConfigToken, FirebaseAppName ]\n};\n\n@NgModule({\n  providers: [ FirebaseAppProvider ],\n})\nexport class AngularFireModule {\n  static initializeApp(config: FirebaseAppConfig, appName?: string) {\n    return {\n      ngModule: AngularFireModule,\n      providers: [\n        { provide: FirebaseAppConfigToken, useValue: config },\n        { provide: FirebaseAppName, useValue: appName }\n      ]\n    }\n  }\n}\n\n/**\n * TODO: remove this scheduler once Rx has a more robust story for working\n * with zones.\n */\nexport class ZoneScheduler {\n\n  // TODO: Correctly add ambient zone typings instead of using any.\n  constructor(public zone: any) {}\n\n  schedule(...args: any[]): Subscription {\n    return <Subscription>this.zone.run(() => queue.schedule.apply(queue, args));\n  }\n}\n\nexport { FirebaseApp, FirebaseAppName, FirebaseAppConfigToken };\n","import { FirebaseAuth, User } from '@firebase/auth-types';\nimport { Injectable, NgZone } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { observeOn } from 'rxjs/operator/observeOn';\nimport { FirebaseApp, ZoneScheduler } from 'angularfire2';\n\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/observable/fromPromise';\n\n@Injectable()\nexport class AngularFireAuth {\n\n  /**\n   * Firebase Auth instance\n   */\n  public readonly auth: FirebaseAuth;\n\n  /**\n   * Observable of authentication state; as of 4.0 this is only triggered via sign-in/out\n   */\n  public readonly authState: Observable<User|null>;\n\n  /**\n   * Observable of the signed-in user's ID token; which includes sign-in, sign-out, and token refresh events\n   */\n  public readonly idToken: Observable<string|null>;\n\n  constructor(public app: FirebaseApp) {\n    this.auth = app.auth();\n\n    const authState$ = new Observable(subscriber => {\n      const unsubscribe = this.auth.onAuthStateChanged(subscriber);\n      return { unsubscribe };\n    });\n    this.authState = observeOn.call(authState$, new ZoneScheduler(Zone.current));\n\n    const idToken$ = new Observable<User|null>(subscriber => {\n      const unsubscribe = this.auth.onIdTokenChanged(subscriber);\n      return { unsubscribe };\n    }).switchMap(user => {\n      return user ? Observable.fromPromise(user.getIdToken()) : Observable.of(null)\n    });\n    this.idToken = observeOn.call(idToken$, new ZoneScheduler(Zone.current));\n  }\n\n}\n","import { NgModule, NgZone } from '@angular/core';\nimport { FirebaseApp, AngularFireModule } from 'angularfire2';\nimport { AngularFireAuth } from './auth';\nimport '@firebase/auth';\n\nexport function _getAngularFireAuth(app: FirebaseApp) {\n  return new AngularFireAuth(app);\n}\n\nexport const AngularFireAuthProvider = {\n  provide: AngularFireAuth,\n  useFactory: _getAngularFireAuth,\n  deps: [ FirebaseApp ]\n};\n\nexport const AUTH_PROVIDERS = [\n  AngularFireAuthProvider,\n];\n\n@NgModule({\n  imports: [ AngularFireModule ],\n  providers: [ AUTH_PROVIDERS ]\n})\nexport class AngularFireAuthModule { }\n","(function() {\n  var firebase = require('@firebase/app').default;\n  var h,aa=aa||{},k=this;function m(a){return\"string\"==typeof a}function ba(a){return\"boolean\"==typeof a}function ca(){}\nfunction da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function ea(a){return null===a}function fa(a){return\"array\"==da(a)}function ha(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function p(a){return\"function\"==da(a)}function q(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ia=\"closure_uid_\"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?r=ka:r=la;return r.apply(null,arguments)}\nfunction ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.ib=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Rc=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function u(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(u,Error);u.prototype.name=\"CustomError\";function oa(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")}var pa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};\nfunction qa(a){if(!ra.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(sa,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(ta,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(ua,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(va,\"&quot;\"));-1!=a.indexOf(\"'\")&&(a=a.replace(wa,\"&#39;\"));-1!=a.indexOf(\"\\x00\")&&(a=a.replace(xa,\"&#0;\"));return a}var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,wa=/'/g,xa=/\\x00/g,ra=/[\\x00&<>\"']/;function v(a,b){return-1!=a.indexOf(b)}function ya(a,b){return a<b?-1:a>b?1:0};function za(a,b){b.unshift(a);u.call(this,oa.apply(null,b));b.shift()}t(za,u);za.prototype.name=\"AssertionError\";function Aa(a,b){throw new za(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};var Ba=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};\nfunction Ca(a,b){var c=a.length,d=m(a)?a.split(\"\"):a;for(--c;0<=c;--c)c in d&&b.call(void 0,d[c],c,a)}var Da=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=m(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ea=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};\nfunction Fa(a){a:{var b=Ga;for(var c=a.length,d=m(a)?a.split(\"\"):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:m(a)?a.charAt(b):a[b]}function Ha(a,b){return 0<=Ba(a,b)}function Ia(a,b){b=Ba(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ja(a,b){var c=0;Ca(a,function(d,e){b.call(void 0,d,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&c++})}function Ka(a){return Array.prototype.concat.apply([],arguments)}\nfunction La(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Ma;a:{var Na=k.navigator;if(Na){var Oa=Na.userAgent;if(Oa){Ma=Oa;break a}}Ma=\"\"}function x(a){return v(Ma,a)};function Pa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Qa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Sa(a){for(var b in a)return!1;return!0}function Ta(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0}function Ua(a){var b={},c;for(c in a)b[c]=a[c];return b}var Va=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Va.length;f++)c=Va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Xa(a){Xa[\" \"](a);return a}Xa[\" \"]=ca;function Ya(a,b){var c=Za;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var $a=x(\"Opera\"),y=x(\"Trident\")||x(\"MSIE\"),ab=x(\"Edge\"),bb=ab||y,cb=x(\"Gecko\")&&!(v(Ma.toLowerCase(),\"webkit\")&&!x(\"Edge\"))&&!(x(\"Trident\")||x(\"MSIE\"))&&!x(\"Edge\"),db=v(Ma.toLowerCase(),\"webkit\")&&!x(\"Edge\");function eb(){var a=k.document;return a?a.documentMode:void 0}var fb;\na:{var gb=\"\",hb=function(){var a=Ma;if(cb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(ab)return/Edge\\/([\\d\\.]+)/.exec(a);if(y)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(db)return/WebKit\\/(\\S+)/.exec(a);if($a)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();hb&&(gb=hb?hb[1]:\"\");if(y){var ib=eb();if(null!=ib&&ib>parseFloat(gb)){fb=String(ib);break a}}fb=gb}var Za={};\nfunction jb(a){return Ya(a,function(){for(var b=0,c=pa(String(fb)).split(\".\"),d=pa(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",l=d[f]||\"\";do{g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];l=/(\\d*)(\\D*)(.*)/.exec(l)||[\"\",\"\",\"\",\"\"];if(0==g[0].length&&0==l[0].length)break;b=ya(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||ya(0==g[2].length,0==l[2].length)||ya(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})}var kb;var lb=k.document;\nkb=lb&&y?eb()||(\"CSS1Compat\"==lb.compatMode?parseInt(fb,10):5):void 0;function mb(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function nb(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ob(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}ob.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};function pb(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};var rb=new ob(function(){return new qb},function(a){a.reset()},100);function sb(){var a=tb,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function qb(){this.next=this.b=this.a=null}qb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};qb.prototype.reset=function(){this.next=this.b=this.a=null};function ub(a){k.setTimeout(function(){throw a;},0)}var wb;\nfunction xb(){var a=k.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!x(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host;a=r(function(a){if((\"*\"==d||a.origin==d)&&a.data==\nc)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!x(\"Trident\")&&!x(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.pb;c.pb=null;a()}};return function(a){d.next={pb:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};function yb(a,b){zb||Ab();Bb||(zb(),Bb=!0);var c=tb,d=rb.get();d.set(a,b);c.b?c.b.next=d:c.a=d;c.b=d}var zb;function Ab(){if(-1!=String(k.Promise).indexOf(\"[native code]\")){var a=k.Promise.resolve(void 0);zb=function(){a.then(Cb)}}else zb=function(){var a=Cb;!p(k.setImmediate)||k.Window&&k.Window.prototype&&!x(\"Edge\")&&k.Window.prototype.setImmediate==k.setImmediate?(wb||(wb=xb()),wb(a)):k.setImmediate(a)}}var Bb=!1,tb=new function(){this.b=this.a=null};\nfunction Cb(){for(var a;a=sb();){try{a.a.call(a.b)}catch(b){ub(b)}pb(rb,a)}Bb=!1};function z(a,b){this.a=Db;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=ca)try{var c=this;a.call(b,function(a){Eb(c,Fb,a)},function(a){if(!(a instanceof Gb))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(e){}Eb(c,Hb,a)})}catch(d){Eb(this,Hb,d)}}var Db=0,Fb=2,Hb=3;function Ib(){this.next=this.f=this.b=this.g=this.a=null;this.c=!1}Ib.prototype.reset=function(){this.f=this.b=this.g=this.a=null;this.c=!1};\nvar Jb=new ob(function(){return new Ib},function(a){a.reset()},100);function Kb(a,b,c){var d=Jb.get();d.g=a;d.b=b;d.f=c;return d}function A(a){if(a instanceof z)return a;var b=new z(ca);Eb(b,Fb,a);return b}function B(a){return new z(function(b,c){c(a)})}function Lb(a,b,c){Mb(a,b,c,null)||yb(ma(b,a))}function Nb(a){return new z(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,n;l<a.length;l++)n=a[l],Lb(n,ma(f,l),g);else b(e)})}\nfunction Ob(a){return new z(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{Ub:!0,value:f}:{Ub:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],Lb(g,ma(e,f,!0),ma(e,f,!1));else b(d)})}z.prototype.then=function(a,b,c){return Pb(this,p(a)?a:null,p(b)?b:null,c)};mb(z);function Qb(a,b){b=Kb(b,b,void 0);b.c=!0;Rb(a,b);return a}h=z.prototype;h.s=function(a,b){return Pb(this,null,a,b)};h.cancel=function(a){this.a==Db&&yb(function(){var b=new Gb(a);Sb(this,b)},this)};\nfunction Sb(a,b){if(a.a==Db)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.c||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Db&&1==d?Sb(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Tb(c),Ub(c,e,Hb,b)))}a.c=null}else Eb(a,Hb,b)}function Rb(a,b){a.b||a.a!=Fb&&a.a!=Hb||Vb(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Pb(a,b,c,d){var e=Kb(null,null,null);e.a=new z(function(a,g){e.g=b?function(c){try{var e=b.call(d,c);a(e)}catch(D){g(D)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Gb?g(b):a(e)}catch(D){g(D)}}:g});e.a.c=a;Rb(a,e);return e.a}h.Ac=function(a){this.a=Db;Eb(this,Fb,a)};h.Bc=function(a){this.a=Db;Eb(this,Hb,a)};\nfunction Eb(a,b,c){a.a==Db&&(a===c&&(b=Hb,c=new TypeError(\"Promise cannot resolve to itself\")),a.a=1,Mb(c,a.Ac,a.Bc,a)||(a.i=c,a.a=b,a.c=null,Vb(a),b!=Hb||c instanceof Gb||Wb(a,c)))}function Mb(a,b,c,d){if(a instanceof z)return Rb(a,Kb(b||ca,c||null,d)),!0;if(nb(a))return a.then(b,c,d),!0;if(q(a))try{var e=a.then;if(p(e))return Xb(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}\nfunction Xb(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function g(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,g,f)}catch(n){f(n)}}function Vb(a){a.h||(a.h=!0,yb(a.Qb,a))}function Tb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}h.Qb=function(){for(var a;a=Tb(this);)Ub(this,a,this.a,this.i);this.h=!1};\nfunction Ub(a,b,c,d){if(c==Hb&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Yb(b,c,d);else try{b.c?b.g.call(b.f):Yb(b,c,d)}catch(e){Zb.call(null,e)}pb(Jb,b)}function Yb(a,b,c){b==Fb?a.g.call(a.f,c):a.b&&a.b.call(a.f,c)}function Wb(a,b){a.g=!0;yb(function(){a.g&&Zb.call(null,b)})}var Zb=ub;function Gb(a){u.call(this,a)}t(Gb,u);Gb.prototype.name=\"cancel\";var $b=!y||9<=Number(kb);function ac(){this.a=\"\";this.b=bc}ac.prototype.la=!0;ac.prototype.ja=function(){return this.a};ac.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};function cc(a){if(a instanceof ac&&a.constructor===ac&&a.b===bc)return a.a;Aa(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"}var bc={};function dc(a){var b=new ac;b.a=a;return b}dc(\"\");function ec(){this.a=\"\";this.b=fc}ec.prototype.la=!0;ec.prototype.ja=function(){return this.a};ec.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.a+\"}\"};function gc(a){if(a instanceof ec&&a.constructor===ec&&a.b===fc)return a.a;Aa(\"expected object of type TrustedResourceUrl, got '\"+a+\"' of type \"+da(a));return\"type_error:TrustedResourceUrl\"}function hc(a,b){a=ic(a,b);b=new ec;b.a=a;return b}\nfunction ic(a,b){var c=cc(a);if(!jc.test(c))throw Error(\"Invalid TrustedResourceUrl format: \"+c);return c.replace(kc,function(a,e){if(!Object.prototype.hasOwnProperty.call(b,e))throw Error('Found marker, \"'+e+'\", in format string, \"'+c+'\", but no valid label mapping found in args: '+JSON.stringify(b));a=b[e];return a instanceof ac?cc(a):encodeURIComponent(String(a))})}var kc=/%{(\\w+)}/g,jc=/^(?:https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|^\\/[^\\/\\\\]|^about:blank(#|$)/i,fc={};function lc(){this.a=\"\";this.b=mc}lc.prototype.la=!0;lc.prototype.ja=function(){return this.a};lc.prototype.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};function nc(a){if(a instanceof lc&&a.constructor===lc&&a.b===mc)return a.a;Aa(\"expected object of type SafeUrl, got '\"+a+\"' of type \"+da(a));return\"type_error:SafeUrl\"}var oc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\nfunction pc(a){if(a instanceof lc)return a;a=a.la?a.ja():String(a);oc.test(a)||(a=\"about:invalid#zClosurez\");return qc(a)}var mc={};function qc(a){var b=new lc;b.a=a;return b}qc(\"about:blank\");function rc(){this.a=\"\";this.b=sc}rc.prototype.la=!0;rc.prototype.ja=function(){return this.a};rc.prototype.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};function uc(a){if(a instanceof rc&&a.constructor===rc&&a.b===sc)return a.a;Aa(\"expected object of type SafeHtml, got '\"+a+\"' of type \"+da(a));return\"type_error:SafeHtml\"}var sc={};function vc(a){var b=new rc;b.a=a;return b}vc(\"<!DOCTYPE html>\");vc(\"\");vc(\"<br>\");function wc(a){var b=document;return m(a)?b.getElementById(a):a}function xc(a,b){Pa(b,function(b,d){b&&b.la&&(b=b.ja());\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:yc.hasOwnProperty(d)?a.setAttribute(yc[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}\nvar yc={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",nonce:\"nonce\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};\nfunction zc(a,b,c){var d=arguments,e=document,f=String(d[0]),g=d[1];if(!$b&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',qa(g.name),'\"');if(g.type){f.push(' type=\"',qa(g.type),'\"');var l={};Wa(l,g);delete l.type;g=l}f.push(\">\");f=f.join(\"\")}f=e.createElement(f);g&&(m(g)?f.className=g:fa(g)?f.className=g.join(\" \"):xc(f,g));2<d.length&&Ac(e,f,d);return f}\nfunction Ac(a,b,c){function d(c){c&&b.appendChild(m(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ha(f)||q(f)&&0<f.nodeType?d(f):w(Bc(f)?La(f):f,d)}}function Bc(a){if(a&&\"number\"==typeof a.length){if(q(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(p(a))return\"function\"==typeof a.item}return!1};function Cc(a){var b=[];Dc(new Ec,a,b);return b.join(\"\")}function Ec(){}\nfunction Dc(a,b,c){if(null==b)c.push(\"null\");else{if(\"object\"==typeof b){if(fa(b)){var d=b;b=d.length;c.push(\"[\");for(var e=\"\",f=0;f<b;f++)c.push(e),Dc(a,d[f],c),e=\",\";c.push(\"]\");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(\"{\");e=\"\";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],\"function\"!=typeof f&&(c.push(e),Fc(d,c),c.push(\":\"),Dc(a,f,c),e=\",\"));c.push(\"}\");return}}switch(typeof b){case \"string\":Fc(b,c);break;case \"number\":c.push(isFinite(b)&&\n!isNaN(b)?String(b):\"null\");break;case \"boolean\":c.push(String(b));break;case \"function\":c.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof b);}}}var Gc={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},Hc=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Fc(a,b){b.push('\"',a.replace(Hc,function(a){var b=Gc[a];b||(b=\"\\\\u\"+(a.charCodeAt(0)|65536).toString(16).substr(1),Gc[a]=b);return b}),'\"')};function Ic(){0!=Jc&&(Kc[this[ia]||(this[ia]=++ja)]=this);this.oa=this.oa;this.Fa=this.Fa}var Jc=0,Kc={};Ic.prototype.oa=!1;function Lc(a){a.oa||(a.oa=!0,a.ta(),0!=Jc&&(a=a[ia]||(a[ia]=++ja),delete Kc[a]))}Ic.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var Mc=Object.freeze||function(a){return a};var Nc=!y||9<=Number(kb),Oc=y&&!jb(\"9\"),Pc=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},\"passive\",{get:function(){a=!0}});k.addEventListener(\"test\",ca,b);k.removeEventListener(\"test\",ca,b);return a}();function C(a,b){this.type=a;this.b=this.target=b;this.Bb=!0}C.prototype.c=function(){this.Bb=!1};function Qc(a,b){C.call(this,a?a.type:\"\");this.relatedTarget=this.b=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key=\"\";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType=\"\";this.a=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.b=b;if(b=a.relatedTarget){if(cb){a:{try{Xa(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else\"mouseover\"==c?b=\na.fromElement:\"mouseout\"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||\"\";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=\na.metaKey;this.pointerId=a.pointerId||0;this.pointerType=m(a.pointerType)?a.pointerType:Rc[a.pointerType]||\"\";this.a=a;a.defaultPrevented&&this.c()}}t(Qc,C);var Rc=Mc({2:\"touch\",3:\"pen\",4:\"mouse\"});Qc.prototype.c=function(){Qc.ib.c.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Oc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Qc.prototype.g=function(){return this.a};var Sc=\"closure_listenable_\"+(1E6*Math.random()|0),Tc=0;function Uc(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.La=e;this.key=++Tc;this.ma=this.Ha=!1}function Vc(a){a.ma=!0;a.listener=null;a.a=null;a.src=null;a.La=null};function Wc(a){this.src=a;this.a={};this.b=0}function Xc(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var l=Yc(b,c,e,f);-1<l?(a=b[l],d||(a.Ha=!1)):(a=new Uc(c,a.src,g,!!e,f),a.Ha=d,b.push(a));return a}function Zc(a,b){var c=b.type;c in a.a&&Ia(a.a[c],b)&&(Vc(b),0==a.a[c].length&&(delete a.a[c],a.b--))}function Yc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ma&&f.listener==b&&f.capture==!!c&&f.La==d)return e}return-1};var $c=\"closure_lm_\"+(1E6*Math.random()|0),ad={},bd=0;function cd(a,b,c,d,e){if(d&&d.once)dd(a,b,c,d,e);else if(fa(b))for(var f=0;f<b.length;f++)cd(a,b[f],c,d,e);else c=ed(c),a&&a[Sc]?fd(a,b,c,q(d)?!!d.capture:!!d,e):gd(a,b,c,!1,d,e)}\nfunction gd(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var g=q(e)?!!e.capture:!!e,l=hd(a);l||(a[$c]=l=new Wc(a));c=Xc(l,b,c,d,g,f);if(!c.a){d=id();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)Pc||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(jd(b.toString()),d);else throw Error(\"addEventListener and attachEvent are unavailable.\");bd++}}\nfunction id(){var a=kd,b=Nc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function dd(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)dd(a,b[f],c,d,e);else c=ed(c),a&&a[Sc]?ld(a,b,c,q(d)?!!d.capture:!!d,e):gd(a,b,c,!0,d,e)}\nfunction E(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)E(a,b[f],c,d,e);else(d=q(d)?!!d.capture:!!d,c=ed(c),a&&a[Sc])?(a=a.u,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Yc(f,c,d,e),-1<c&&(Vc(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=hd(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Yc(b,c,d,e)),(c=-1<a?b[a]:null)&&md(c))}\nfunction md(a){if(\"number\"!=typeof a&&a&&!a.ma){var b=a.src;if(b&&b[Sc])Zc(b.u,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(jd(c),d);bd--;(c=hd(b))?(Zc(c,a),0==c.b&&(c.src=null,b[$c]=null)):Vc(a)}}}function jd(a){return a in ad?ad[a]:ad[a]=\"on\"+a}function nd(a,b,c,d){var e=!0;if(a=hd(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.ma&&(f=od(f,d),e=e&&!1!==f)}return e}\nfunction od(a,b){var c=a.listener,d=a.La||a.src;a.Ha&&md(a);return c.call(d,b)}\nfunction kd(a,b){if(a.ma)return!0;if(!Nc){if(!b)a:{b=[\"window\",\"event\"];for(var c=k,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Qc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.b;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.b=d[e];var f=nd(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.b=d[e],f=nd(d[e],a,!1,b),c=c&&f}return c}return od(a,\nnew Qc(b,this))}function hd(a){a=a[$c];return a instanceof Wc?a:null}var pd=\"__closure_events_fn_\"+(1E9*Math.random()>>>0);function ed(a){if(p(a))return a;a[pd]||(a[pd]=function(b){return a.handleEvent(b)});return a[pd]};function F(){Ic.call(this);this.u=new Wc(this);this.Ib=this;this.Ra=null}t(F,Ic);F.prototype[Sc]=!0;F.prototype.removeEventListener=function(a,b,c,d){E(this,a,b,c,d)};\nfunction G(a,b){var c,d=a.Ra;if(d)for(c=[];d;d=d.Ra)c.push(d);a=a.Ib;d=b.type||b;if(m(b))b=new C(b,a);else if(b instanceof C)b.target=b.target||a;else{var e=b;b=new C(d,a);Wa(b,e)}e=!0;if(c)for(var f=c.length-1;0<=f;f--){var g=b.b=c[f];e=qd(g,d,!0,b)&&e}g=b.b=a;e=qd(g,d,!0,b)&&e;e=qd(g,d,!1,b)&&e;if(c)for(f=0;f<c.length;f++)g=b.b=c[f],e=qd(g,d,!1,b)&&e}\nF.prototype.ta=function(){F.ib.ta.call(this);if(this.u){var a=this.u,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Vc(d[e]);delete a.a[c];a.b--}}this.Ra=null};function fd(a,b,c,d,e){Xc(a.u,String(b),c,!1,d,e)}function ld(a,b,c,d,e){Xc(a.u,String(b),c,!0,d,e)}function qd(a,b,c,d){b=a.u.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ma&&g.capture==c){var l=g.listener,n=g.La||g.src;g.Ha&&Zc(a.u,g);e=!1!==l.call(n,d)&&e}}return e&&0!=d.Bb};function rd(a,b,c){if(p(a))c&&(a=r(a,c));else if(a&&\"function\"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error(\"Invalid listener argument\");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)}function sd(a){var b=null;return(new z(function(c,d){b=rd(function(){c(void 0)},a);-1==b&&d(Error(\"Failed to schedule timer.\"))})).s(function(a){k.clearTimeout(b);throw a;})};function td(a,b,c,d,e){this.reset(a,b,c,d,e)}td.prototype.a=null;var ud=0;td.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||ud++;d||na();this.b=b;delete this.a};function vd(a){this.f=a;this.b=this.c=this.a=null}function wd(a,b){this.name=a;this.value=b}wd.prototype.toString=function(){return this.name};var xd=new wd(\"SEVERE\",1E3),yd=new wd(\"CONFIG\",700),zd=new wd(\"FINE\",500);function Ad(a){if(a.c)return a.c;if(a.a)return Ad(a.a);Aa(\"Root logger has no level set.\");return null}\nvd.prototype.log=function(a,b,c){if(a.value>=Ad(this).value)for(p(b)&&(b=b()),a=new td(a,String(b),this.f),c&&(a.a=c),c=\"log:\"+a.b,(a=k.console)&&a.timeStamp&&a.timeStamp(c),(a=k.msWriteProfilerMark)&&a(c),c=this;c;)c=c.a};var Bd={},Cd=null;function Dd(a){Cd||(Cd=new vd(\"\"),Bd[\"\"]=Cd,Cd.c=yd);var b;if(!(b=Bd[a])){b=new vd(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1);c=Dd(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;Bd[a]=b}return b};function Ed(a,b){this.b={};this.a=[];this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ed?(c=a.S(),d=a.P()):(c=Ra(a),d=Qa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=Ed.prototype;h.P=function(){Fd(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};h.S=function(){Fd(this);return this.a.concat()};\nh.clear=function(){this.b={};this.c=this.a.length=0};function Fd(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Gd(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){var e={};for(c=b=0;b<a.a.length;)d=a.a[b],Gd(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}h.get=function(a,b){return Gd(this.b,a)?this.b[a]:b};h.set=function(a,b){Gd(this.b,a)||(this.c++,this.a.push(a));this.b[a]=b};\nh.forEach=function(a,b){for(var c=this.S(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};function Gd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function H(a,b){a&&a.log(zd,b,void 0)};function Hd(a){return Da(a,function(a){a=a.toString(16);return 1<a.length?a:\"0\"+a}).join(\"\")};var Id=null,Jd=null;function Kd(a){var b=\"\";Ld(a,function(a){b+=String.fromCharCode(a)});return b}function Ld(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Jd[c];if(null!=e)return e;if(!/^[\\s\\xa0]*$/.test(c))throw Error(\"Unknown base64 encoding at char: \"+c);}return b}Md();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),l=c(64);if(64===l&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=l&&b(g<<6&192|l))}}\nfunction Md(){if(!Id){Id={};Jd={};for(var a=0;65>a;a++)Id[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),Jd[Id[a]]=a,62<=a&&(Jd[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a)]=a)}};/*\n Portions of this code are from MochiKit, received by\n The Closure Authors under the MIT license. All other code is Copyright\n 2005-2009 The Closure Authors. All Rights Reserved.\n*/\nfunction Nd(a,b){this.g=[];this.v=a;this.o=b||null;this.f=this.a=!1;this.c=void 0;this.u=this.w=this.i=!1;this.h=0;this.b=null;this.l=0}Nd.prototype.cancel=function(a){if(this.a)this.c instanceof Nd&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b;a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.v?this.v.call(this.o,this):this.u=!0;this.a||(a=new Od,Pd(this),Qd(this,!1,a))}};Nd.prototype.m=function(a,b){this.i=!1;Qd(this,a,b)};function Qd(a,b,c){a.a=!0;a.c=c;a.f=!b;Rd(a)}\nfunction Pd(a){if(a.a){if(!a.u)throw new Sd;a.u=!1}}Nd.prototype.A=function(a){Pd(this);Qd(this,!0,a)};function Td(a,b){Ud(a,null,b,void 0)}function Ud(a,b,c,d){a.g.push([b,c,d]);a.a&&Rd(a)}Nd.prototype.then=function(a,b,c){var d,e,f=new z(function(a,b){d=a;e=b});Ud(this,d,function(a){a instanceof Od?f.cancel():e(a)});return f.then(a,b,c)};mb(Nd);function Vd(a){return Ea(a.g,function(a){return p(a[1])})}\nfunction Rd(a){if(a.h&&a.a&&Vd(a)){var b=a.h,c=Wd[b];c&&(k.clearTimeout(c.a),delete Wd[b]);a.h=0}a.b&&(a.b.l--,delete a.b);b=a.c;for(var d=c=!1;a.g.length&&!a.i;){var e=a.g.shift(),f=e[0],g=e[1];e=e[2];if(f=a.f?g:f)try{var l=f.call(e||a.o,b);void 0!==l&&(a.f=a.f&&(l==b||l instanceof Error),a.c=b=l);if(nb(b)||\"function\"===typeof k.Promise&&b instanceof k.Promise)d=!0,a.i=!0}catch(n){b=n,a.f=!0,Vd(a)||(c=!0)}}a.c=b;d&&(l=r(a.m,a,!0),d=r(a.m,a,!1),b instanceof Nd?(Ud(b,l,d),b.w=!0):b.then(l,d));c&&(b=\nnew Xd(b),Wd[b.a]=b,a.h=b.a)}function Sd(){u.call(this)}t(Sd,u);Sd.prototype.message=\"Deferred has already fired\";Sd.prototype.name=\"AlreadyCalledError\";function Od(){u.call(this)}t(Od,u);Od.prototype.message=\"Deferred was canceled\";Od.prototype.name=\"CanceledError\";function Xd(a){this.a=k.setTimeout(r(this.c,this),0);this.b=a}Xd.prototype.c=function(){delete Wd[this.a];throw this.b;};var Wd={};function Yd(){this.b=-1};function Zd(a,b){this.b=-1;this.b=$d;this.f=k.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=a;this.h=b;this.l=k.Int32Array?new Int32Array(64):Array(64);ae||(k.Int32Array?ae=new Int32Array(be):ae=be);this.reset()}var ae;t(Zd,Yd);for(var $d=64,ce=$d-1,de=[],ee=0;ee<ce;ee++)de[ee]=0;var fe=Ka(128,de);Zd.prototype.reset=function(){this.g=this.c=0;this.a=k.Int32Array?new Int32Array(this.h):La(this.h)};\nfunction ge(a){for(var b=a.f,c=a.l,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){e=c[b-15]|0;d=c[b-2]|0;var f=(c[b-16]|0)+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(c[b-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}d=a.a[0]|0;e=a.a[1]|0;var l=a.a[2]|0,n=a.a[3]|0,D=a.a[4]|0,vb=a.a[5]|0,tc=a.a[6]|0;f=a.a[7]|0;for(b=0;64>b;b++){var Bj=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&l^e&l)|0;g=D&vb^~D&tc;f=f+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>\n25|D<<7))|0;g=g+(ae[b]|0)|0;g=f+(g+(c[b]|0)|0)|0;f=tc;tc=vb;vb=D;D=n+g|0;n=l;l=e;e=d;d=g+Bj|0}a.a[0]=a.a[0]+d|0;a.a[1]=a.a[1]+e|0;a.a[2]=a.a[2]+l|0;a.a[3]=a.a[3]+n|0;a.a[4]=a.a[4]+D|0;a.a[5]=a.a[5]+vb|0;a.a[6]=a.a[6]+tc|0;a.a[7]=a.a[7]+f|0}\nfunction he(a,b,c){void 0===c&&(c=b.length);var d=0,e=a.c;if(m(b))for(;d<c;)a.f[e++]=b.charCodeAt(d++),e==a.b&&(ge(a),e=0);else if(ha(b))for(;d<c;){var f=b[d++];if(!(\"number\"==typeof f&&0<=f&&255>=f&&f==(f|0)))throw Error(\"message must be a byte array\");a.f[e++]=f;e==a.b&&(ge(a),e=0)}else throw Error(\"message must be string or array\");a.c=e;a.g+=c}\nvar be=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,\n4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ie(){Zd.call(this,8,je)}t(ie,Zd);var je=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ke(a){if(a.P&&\"function\"==typeof a.P)return a.P();if(m(a))return a.split(\"\");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Qa(a)}function le(a){if(a.S&&\"function\"==typeof a.S)return a.S();if(!a.P||\"function\"!=typeof a.P){if(ha(a)||m(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ra(a)}}\nfunction me(a,b){if(a.forEach&&\"function\"==typeof a.forEach)a.forEach(b,void 0);else if(ha(a)||m(a))w(a,b,void 0);else for(var c=le(a),d=ke(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var ne=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function oe(a,b){if(a){a=a.split(\"&\");for(var c=0;c<a.length;c++){var d=a[c].indexOf(\"=\"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\\+/g,\" \")):\"\")}}};function pe(a,b){this.b=this.l=this.c=\"\";this.i=null;this.h=this.g=\"\";this.f=!1;if(a instanceof pe){this.f=void 0!==b?b:a.f;qe(this,a.c);this.l=a.l;this.b=a.b;re(this,a.i);this.g=a.g;b=a.a;var c=new se;c.c=b.c;b.a&&(c.a=new Ed(b.a),c.b=b.b);te(this,c);this.h=a.h}else a&&(c=String(a).match(ne))?(this.f=!!b,qe(this,c[1]||\"\",!0),this.l=ue(c[2]||\"\"),this.b=ue(c[3]||\"\",!0),re(this,c[4]),this.g=ue(c[5]||\"\",!0),te(this,c[6]||\"\",!0),this.h=ue(c[7]||\"\")):(this.f=!!b,this.a=new se(null,0,this.f))}\npe.prototype.toString=function(){var a=[],b=this.c;b&&a.push(ve(b,we,!0),\":\");var c=this.b;if(c||\"file\"==b)a.push(\"//\"),(b=this.l)&&a.push(ve(b,we,!0),\"@\"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),c=this.i,null!=c&&a.push(\":\",String(c));if(c=this.g)this.b&&\"/\"!=c.charAt(0)&&a.push(\"/\"),a.push(ve(c,\"/\"==c.charAt(0)?xe:ye,!0));(c=this.a.toString())&&a.push(\"?\",c);(c=this.h)&&a.push(\"#\",ve(c,ze));return a.join(\"\")};\nfunction qe(a,b,c){a.c=c?ue(b,!0):b;a.c&&(a.c=a.c.replace(/:$/,\"\"))}function re(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.i=b}else a.i=null}function te(a,b,c){b instanceof se?(a.a=b,Ae(a.a,a.f)):(c||(b=ve(b,Be)),a.a=new se(b,0,a.f))}function I(a,b,c){a.a.set(b,c)}function Ce(a,b){return a.a.get(b)}function De(a){return a instanceof pe?new pe(a):new pe(a,void 0)}function Ee(a,b){var c=new pe(null,void 0);qe(c,\"https\");a&&(c.b=a);b&&(c.g=b);return c}\nfunction ue(a,b){return a?b?decodeURI(a.replace(/%25/g,\"%2525\")):decodeURIComponent(a):\"\"}function ve(a,b,c){return m(a)?(a=encodeURI(a).replace(b,Fe),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null}function Fe(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)}var we=/[#\\/\\?@]/g,ye=/[\\#\\?:]/g,xe=/[\\#\\?]/g,Be=/[\\#\\?@]/g,ze=/#/g;function se(a,b,c){this.b=this.a=null;this.c=a||null;this.f=!!c}\nfunction Ge(a){a.a||(a.a=new Ed,a.b=0,a.c&&oe(a.c,function(b,c){He(a,decodeURIComponent(b.replace(/\\+/g,\" \")),c)}))}function Ie(a){var b=le(a);if(\"undefined\"==typeof b)throw Error(\"Keys are undefined\");var c=new se(null,0,void 0);a=ke(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];fa(f)?Je(c,e,f):He(c,e,f)}return c}function He(a,b,c){Ge(a);a.c=null;b=Ke(a,b);var d=a.a.get(b);d||a.a.set(b,d=[]);d.push(c);a.b+=1}\nfunction Le(a,b){Ge(a);b=Ke(a,b);Gd(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,a=a.a,Gd(a.b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Fd(a)))}h=se.prototype;h.clear=function(){this.a=this.c=null;this.b=0};function Me(a,b){Ge(a);b=Ke(a,b);return Gd(a.a.b,b)}h.forEach=function(a,b){Ge(this);this.a.forEach(function(c,d){w(c,function(c){a.call(b,c,d,this)},this)},this)};h.S=function(){Ge(this);for(var a=this.a.P(),b=this.a.S(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};\nh.P=function(a){Ge(this);var b=[];if(m(a))Me(this,a)&&(b=Ka(b,this.a.get(Ke(this,a))));else{a=this.a.P();for(var c=0;c<a.length;c++)b=Ka(b,a[c])}return b};h.set=function(a,b){Ge(this);this.c=null;a=Ke(this,a);Me(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};h.get=function(a,b){a=a?this.P(a):[];return 0<a.length?String(a[0]):b};function Je(a,b,c){Le(a,b);0<c.length&&(a.c=null,a.a.set(Ke(a,b),La(c)),a.b+=c.length)}\nh.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var a=[],b=this.a.S(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.P(d);for(var f=0;f<d.length;f++){var g=e;\"\"!==d[f]&&(g+=\"=\"+encodeURIComponent(String(d[f])));a.push(g)}}return this.c=a.join(\"&\")};function Ke(a,b){b=String(b);a.f&&(b=b.toLowerCase());return b}function Ae(a,b){b&&!a.f&&(Ge(a),a.c=null,a.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Le(this,b),Je(this,c,a))},a));a.f=b};function Ne(){}Ne.prototype.c=null;function Oe(a){return a.c||(a.c=a.b())};var Pe;function Qe(){}t(Qe,Ne);Qe.prototype.a=function(){var a=Re(this);return a?new ActiveXObject(a):new XMLHttpRequest};Qe.prototype.b=function(){var a={};Re(this)&&(a[0]=!0,a[1]=!0);return a};\nfunction Re(a){if(!a.f&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.f=d}catch(e){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}return a.f}Pe=new Qe;function Se(a){F.call(this);this.headers=new Ed;this.w=a||null;this.b=!1;this.v=this.a=null;this.g=this.I=this.i=\"\";this.c=this.G=this.h=this.A=!1;this.f=0;this.m=null;this.l=Te;this.o=this.N=!1}t(Se,F);var Te=\"\",Ue=Se.prototype,Ve=Dd(\"goog.net.XhrIo\");Ue.J=Ve;var We=/^https?$/i,Xe=[\"POST\",\"PUT\"];\nfunction Ye(a,b,c,d,e){if(a.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+a.i+\"; newUri=\"+b);c=c?c.toUpperCase():\"GET\";a.i=b;a.g=\"\";a.I=c;a.A=!1;a.b=!0;a.a=a.w?a.w.a():Pe.a();a.v=a.w?Oe(a.w):Oe(Pe);a.a.onreadystatechange=r(a.Ab,a);try{H(a.J,Ze(a,\"Opening Xhr\")),a.G=!0,a.a.open(c,String(b),!0),a.G=!1}catch(g){H(a.J,Ze(a,\"Error opening Xhr: \"+g.message));$e(a,g);return}b=d||\"\";var f=new Ed(a.headers);e&&me(e,function(a,b){f.set(b,a)});e=Fa(f.S());d=k.FormData&&b instanceof\nk.FormData;!Ha(Xe,c)||e||d||f.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");f.forEach(function(a,b){this.a.setRequestHeader(b,a)},a);a.l&&(a.a.responseType=a.l);\"withCredentials\"in a.a&&a.a.withCredentials!==a.N&&(a.a.withCredentials=a.N);try{af(a),0<a.f&&(a.o=bf(a.a),H(a.J,Ze(a,\"Will abort after \"+a.f+\"ms if incomplete, xhr2 \"+a.o)),a.o?(a.a.timeout=a.f,a.a.ontimeout=r(a.Ea,a)):a.m=rd(a.Ea,a.f,a)),H(a.J,Ze(a,\"Sending request\")),a.h=!0,a.a.send(b),a.h=!1}catch(g){H(a.J,Ze(a,\n\"Send error: \"+g.message)),$e(a,g)}}function bf(a){return y&&jb(9)&&\"number\"==typeof a.timeout&&void 0!==a.ontimeout}function Ga(a){return\"content-type\"==a.toLowerCase()}h=Se.prototype;h.Ea=function(){\"undefined\"!=typeof aa&&this.a&&(this.g=\"Timed out after \"+this.f+\"ms, aborting\",H(this.J,Ze(this,this.g)),G(this,\"timeout\"),this.abort(8))};function $e(a,b){a.b=!1;a.a&&(a.c=!0,a.a.abort(),a.c=!1);a.g=b;cf(a);df(a)}function cf(a){a.A||(a.A=!0,G(a,\"complete\"),G(a,\"error\"))}\nh.abort=function(){this.a&&this.b&&(H(this.J,Ze(this,\"Aborting\")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,G(this,\"complete\"),G(this,\"abort\"),df(this))};h.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),df(this,!0));Se.ib.ta.call(this)};h.Ab=function(){this.oa||(this.G||this.h||this.c?ef(this):this.jc())};h.jc=function(){ef(this)};\nfunction ef(a){if(a.b&&\"undefined\"!=typeof aa)if(a.v[1]&&4==ff(a)&&2==gf(a))H(a.J,Ze(a,\"Local request error detected and ignored\"));else if(a.h&&4==ff(a))rd(a.Ab,0,a);else if(G(a,\"readystatechange\"),4==ff(a)){H(a.J,Ze(a,\"Request complete\"));a.b=!1;try{var b=gf(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.i).match(ne)[1]||null;if(!f&&k.self&&k.self.location){var g=k.self.location.protocol;\nf=g.substr(0,g.length-1)}e=!We.test(f?f.toLowerCase():\"\")}d=e}if(d)G(a,\"complete\"),G(a,\"success\");else{try{var l=2<ff(a)?a.a.statusText:\"\"}catch(n){H(a.J,\"Can not get status: \"+n.message),l=\"\"}a.g=l+\" [\"+gf(a)+\"]\";cf(a)}}finally{df(a)}}}function df(a,b){if(a.a){af(a);var c=a.a,d=a.v[0]?ca:null;a.a=null;a.v=null;b||G(a,\"ready\");try{c.onreadystatechange=d}catch(e){(a=a.J)&&a.log(xd,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}}\nfunction af(a){a.a&&a.o&&(a.a.ontimeout=null);\"number\"==typeof a.m&&(k.clearTimeout(a.m),a.m=null)}function ff(a){return a.a?a.a.readyState:0}function gf(a){try{return 2<ff(a)?a.a.status:-1}catch(b){return-1}}function hf(a){try{return a.a?a.a.responseText:\"\"}catch(b){return H(a.J,\"Can not get responseText: \"+b.message),\"\"}}\nh.getResponse=function(){try{if(!this.a)return null;if(\"response\"in this.a)return this.a.response;switch(this.l){case Te:case \"text\":return this.a.responseText;case \"arraybuffer\":if(\"mozResponseArrayBuffer\"in this.a)return this.a.mozResponseArrayBuffer}var a=this.J;a&&a.log(xd,\"Response type \"+this.l+\" is not supported on this browser\",void 0);return null}catch(b){return H(this.J,\"Can not get response: \"+b.message),null}};function Ze(a,b){return b+\" [\"+a.I+\" \"+a.i+\" \"+gf(a)+\"]\"};var jf=/^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$/;function kf(a){var b={},c=b.document||document,d=gc(a),e=document.createElement(\"SCRIPT\"),f={Cb:e,Ea:void 0},g=new Nd(lf,f),l=null,n=null!=b.timeout?b.timeout:5E3;0<n&&(l=window.setTimeout(function(){mf(e,!0);var a=new nf(of,\"Timeout reached for loading script \"+d);Pd(g);Qd(g,!1,a)},n),f.Ea=l);e.onload=e.onreadystatechange=function(){e.readyState&&\"loaded\"!=e.readyState&&\"complete\"!=e.readyState||(mf(e,b.Sc||!1,l),g.A(null))};e.onerror=function(){mf(e,!0,l);var a=new nf(pf,\"Error while loading script \"+\nd);Pd(g);Qd(g,!1,a)};f=b.attributes||{};Wa(f,{type:\"text/javascript\",charset:\"UTF-8\"});xc(e,f);e.src=gc(a);qf(c).appendChild(e);return g}function qf(a){var b;return(b=(a||document).getElementsByTagName(\"HEAD\"))&&0!=b.length?b[0]:a.documentElement}function lf(){if(this&&this.Cb){var a=this.Cb;a&&\"SCRIPT\"==a.tagName&&mf(a,!0,this.Ea)}}\nfunction mf(a,b,c){null!=c&&k.clearTimeout(c);a.onload=ca;a.onerror=ca;a.onreadystatechange=ca;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var pf=0,of=1;function nf(a,b){var c=\"Jsloader error (code #\"+a+\")\";b&&(c+=\": \"+b);u.call(this,c);this.code=a}t(nf,u);function rf(){}t(rf,Ne);rf.prototype.a=function(){var a=new XMLHttpRequest;if(\"withCredentials\"in a)return a;if(\"undefined\"!=typeof XDomainRequest)return new sf;throw Error(\"Unsupported browser\");};rf.prototype.b=function(){return{}};\nfunction sf(){this.a=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText=\"\";this.status=-1;this.statusText=this.responseXML=null;this.a.onload=r(this.Wb,this);this.a.onerror=r(this.xb,this);this.a.onprogress=r(this.Xb,this);this.a.ontimeout=r(this.Yb,this)}h=sf.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error(\"Only async requests are supported.\");this.a.open(a,b)};\nh.send=function(a){if(a)if(\"string\"==typeof a)this.a.send(a);else throw Error(\"Only string data is supported\");else this.a.send()};h.abort=function(){this.a.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return\"content-type\"==a.toLowerCase()?this.a.contentType:\"\"};h.Wb=function(){this.status=200;this.responseText=this.a.responseText;tf(this,4)};h.xb=function(){this.status=500;this.responseText=\"\";tf(this,4)};h.Yb=function(){this.xb()};\nh.Xb=function(){this.status=200;tf(this,1)};function tf(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return\"content-type: \"+this.a.contentType};function uf(){var a=J();return y&&!!kb&&11==kb||/Edge\\/\\d+/.test(a)}function vf(){return k.window&&k.window.location.href||\"\"}function wf(a,b){b=b||k.window;var c=\"about:blank\";a&&(c=nc(pc(a)));b.location.href=c}function xf(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):fa(a[d])?Ta(a[d],b[d])||c.push(d):\"object\"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<xf(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c}\nfunction yf(){var a=J();a=zf(a)!=Af?null:(a=a.match(/\\sChrome\\/(\\d+)/i))&&2==a.length?parseInt(a[1],10):null;return a&&30>a?!1:!y||!kb||9<kb}function Bf(a){a=(a||J()).toLowerCase();return a.match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/)?!0:!1}function Cf(a){a=a||k.window;try{a.close()}catch(b){}}\nfunction Df(a,b,c){var d=Math.floor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};c=J().toLowerCase();d&&(b.target=d,v(c,\"crios/\")&&(b.target=\"_blank\"));zf(J())==Ef&&(a=a||\"http://localhost\",b.scrollbars=!0);c=a||\"\";(d=b)||(d={});a=window;b=c instanceof lc?c:pc(\"undefined\"!=typeof c.href?c.href:String(c));c=d.target||c.target;e=[];\nfor(g in d)switch(g){case \"width\":case \"height\":case \"top\":case \"left\":e.push(g+\"=\"+d[g]);break;case \"target\":case \"noreferrer\":break;default:e.push(g+\"=\"+(d[g]?1:0))}var g=e.join(\",\");(x(\"iPhone\")&&!x(\"iPod\")&&!x(\"iPad\")||x(\"iPad\")||x(\"iPod\"))&&a.navigator&&a.navigator.standalone&&c&&\"_self\"!=c?(g=a.document.createElement(\"A\"),b instanceof lc||b instanceof lc||(b=b.la?b.ja():String(b),oc.test(b)||(b=\"about:invalid#zClosurez\"),b=qc(b)),g.href=nc(b),g.setAttribute(\"target\",c),d.noreferrer&&g.setAttribute(\"rel\",\n\"noreferrer\"),d=document.createEvent(\"MouseEvent\"),d.initMouseEvent(\"click\",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open(\"\",c,g),a=nc(b),g&&(bb&&v(a,\";\")&&(a=\"'\"+a.replace(/'/g,\"%27\")+\"'\"),g.opener=null,dc(\"b/12014412, meta tag with sanitized URL\"),a='<META HTTP-EQUIV=\"refresh\" content=\"0; url='+qa(a)+'\">',a=vc(a),g.document.write(uc(a)),g.document.close())):g=a.open(nc(b),c,g);if(g)try{g.focus()}catch(l){}return g}\nfunction Ff(a){return new z(function(b){function c(){sd(2E3).then(function(){if(!a||a.closed)b();else return c()})}return c()})}var Gf=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;function Hf(){var a=null;return(new z(function(b){\"complete\"==k.document.readyState?b():(a=function(){b()},dd(window,\"load\",a))})).s(function(b){E(window,\"load\",a);throw b;})}\nfunction If(){return Jf(void 0)?Hf().then(function(){return new z(function(a,b){var c=k.document,d=setTimeout(function(){b(Error(\"Cordova framework is not ready.\"))},1E3);c.addEventListener(\"deviceready\",function(){clearTimeout(d);a()},!1)})}):B(Error(\"Cordova must run in an Android or iOS file scheme.\"))}function Jf(a){a=a||J();return!(\"file:\"!==Kf()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lf(){var a=k.window;try{return!(!a||a==a.top)}catch(b){return!1}}\nfunction K(){return firebase.INTERNAL.hasOwnProperty(\"reactNative\")?\"ReactNative\":firebase.INTERNAL.hasOwnProperty(\"node\")?\"Node\":\"Browser\"}function Mf(){var a=K();return\"ReactNative\"===a||\"Node\"===a}var Ef=\"Firefox\",Af=\"Chrome\";\nfunction zf(a){var b=a.toLowerCase();if(v(b,\"opera/\")||v(b,\"opr/\")||v(b,\"opios/\"))return\"Opera\";if(v(b,\"iemobile\"))return\"IEMobile\";if(v(b,\"msie\")||v(b,\"trident/\"))return\"IE\";if(v(b,\"edge/\"))return\"Edge\";if(v(b,\"firefox/\"))return Ef;if(v(b,\"silk/\"))return\"Silk\";if(v(b,\"blackberry\"))return\"Blackberry\";if(v(b,\"webos\"))return\"Webos\";if(!v(b,\"safari/\")||v(b,\"chrome/\")||v(b,\"crios/\")||v(b,\"android\"))if(!v(b,\"chrome/\")&&!v(b,\"crios/\")||v(b,\"edge/\")){if(v(b,\"android\"))return\"Android\";if((a=a.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/))&&\n2==a.length)return a[1]}else return Af;else return\"Safari\";return\"Other\"}var Nf={Gc:\"FirebaseCore-web\",Ic:\"FirebaseUI-web\"};function Of(a,b){b=b||[];var c=[],d={},e;for(e in Nf)d[Nf[e]]=!0;for(e=0;e<b.length;e++)\"undefined\"!==typeof d[b[e]]&&(delete d[b[e]],c.push(b[e]));c.sort();b=c;b.length||(b=[\"FirebaseCore-web\"]);c=K();d=\"\";\"Browser\"===c?d=zf(J()):d=c;return d+\"/JsCore/\"+a+\"/\"+b.join(\",\")}function J(){return k.navigator&&k.navigator.userAgent||\"\"}\nfunction L(a,b){a=a.split(\".\");b=b||k;for(var c=0;c<a.length&&\"object\"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b}function Pf(){try{var a=k.localStorage,b=Qf();if(a)return a.setItem(b,\"1\"),a.removeItem(b),uf()?!!k.indexedDB:!0}catch(c){}return!1}function Rf(){return(Sf()||\"chrome-extension:\"===Kf()||Jf())&&!Mf()&&Pf()}function Sf(){return\"http:\"===Kf()||\"https:\"===Kf()}function Kf(){return k.location&&k.location.protocol||null}\nfunction Tf(a){a=a||J();return Bf(a)||zf(a)==Ef?!1:!0}function Uf(a){return\"undefined\"===typeof a?null:Cc(a)}function Vf(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return b}function Wf(a){if(null!==a)return JSON.parse(a)}function Qf(a){return a?a:\"\"+Math.floor(1E9*Math.random()).toString()}function Xf(a){a=a||J();return\"Safari\"==zf(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0}\nfunction Yf(){var a=k.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null}function Zf(){var a=k.navigator;return a&&\"boolean\"===typeof a.onLine&&(Sf()||\"chrome-extension:\"===Kf()||\"undefined\"!==typeof a.connection)?a.onLine:!0}function $f(a,b,c,d){if(a>b)throw Error(\"Short delay should be less than long delay!\");this.c=a;this.b=b;a=c||J();d=d||K();this.a=Bf(a)||\"ReactNative\"===d}\n$f.prototype.get=function(){return this.a?this.b:this.c};function ag(){var a=k.document;return a&&\"undefined\"!==typeof a.visibilityState?\"visible\"==a.visibilityState:!0}function bg(){var a=k.document,b=null;return ag()||!a?A():(new z(function(c){b=function(){ag()&&(a.removeEventListener(\"visibilitychange\",b,!1),c())};a.addEventListener(\"visibilitychange\",b,!1)})).s(function(c){a.removeEventListener(\"visibilitychange\",b,!1);throw c;})}\nfunction cg(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(c){}return null};var dg={};var eg;try{var fg={};Object.defineProperty(fg,\"abcd\",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(fg,\"abcd\",{configurable:!0,enumerable:!0,value:2});eg=2==fg.abcd}catch(a){eg=!1}function M(a,b,c){eg?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c}function gg(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&M(a,c,b[c])}function hg(a){var b={};gg(b,a);return b}function ig(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}\nfunction jg(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||\"\"===d)return!1}return!0}function kg(a){var b=a;if(\"object\"==typeof a&&null!=a){b=\"length\"in a?[]:{};for(var c in a)M(b,c,kg(a[c]))}return b};function lg(a){var b={},c=a[mg],d=a[ng];a=a[og];if(!c||!a)throw Error(\"Invalid provider user info!\");b[pg]=d||null;b[qg]=c;M(this,rg,a);M(this,sg,kg(b))}var mg=\"email\",ng=\"newEmail\",og=\"requestType\",qg=\"email\",pg=\"fromEmail\",sg=\"data\",rg=\"operation\";function N(a,b){this.code=tg+a;this.message=b||ug[a]||\"\"}t(N,Error);N.prototype.B=function(){return{code:this.code,message:this.message}};N.prototype.toJSON=function(){return this.B()};function vg(a){var b=a&&a.code;return b?new N(b.substring(tg.length),a.message):null}\nvar tg=\"auth/\",ug={\"argument-error\":\"\",\"app-not-authorized\":\"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.\",\"app-not-installed\":\"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.\",\"captcha-check-failed\":\"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.\",\n\"code-expired\":\"The SMS code has expired. Please re-send the verification code to try again.\",\"cordova-not-ready\":\"Cordova framework is not ready.\",\"cors-unsupported\":\"This browser is not supported.\",\"credential-already-in-use\":\"This credential is already associated with a different user account.\",\"custom-token-mismatch\":\"The custom token corresponds to a different audience.\",\"requires-recent-login\":\"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\",\n\"dynamic-link-not-activated\":\"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.\",\"email-already-in-use\":\"The email address is already in use by another account.\",\"expired-action-code\":\"The action code has expired. \",\"cancelled-popup-request\":\"This operation has been cancelled due to another conflicting popup being opened.\",\"internal-error\":\"An internal error has occurred.\",\"invalid-app-credential\":\"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.\",\n\"invalid-app-id\":\"The mobile app identifier is not registed for the current project.\",\"invalid-user-token\":\"The user's credential is no longer valid. The user must sign in again.\",\"invalid-auth-event\":\"An internal error has occurred.\",\"invalid-verification-code\":\"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.\",\"invalid-continue-uri\":\"The continue URL provided in the request is invalid.\",\n\"invalid-cordova-configuration\":\"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.\",\"invalid-custom-token\":\"The custom token format is incorrect. Please check the documentation.\",\"invalid-email\":\"The email address is badly formatted.\",\"invalid-api-key\":\"Your API key is invalid, please check you have copied it correctly.\",\"invalid-cert-hash\":\"The SHA-1 certificate hash provided is invalid.\",\n\"invalid-credential\":\"The supplied auth credential is malformed or has expired.\",\"invalid-persistence-type\":\"The specified persistence type is invalid. It can only be local, session or none.\",\"invalid-message-payload\":\"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-oauth-provider\":\"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.\",\n\"invalid-oauth-client-id\":\"The OAuth client ID provided is either invalid or does not match the specified API key.\",\"unauthorized-domain\":\"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.\",\"invalid-action-code\":\"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.\",\"wrong-password\":\"The password is invalid or the user does not have a password.\",\"invalid-phone-number\":\"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].\",\n\"invalid-recipient-email\":\"The email corresponding to this action failed to send as the provided recipient email address is invalid.\",\"invalid-sender\":\"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.\",\"invalid-verification-id\":\"The verification ID used to create the phone auth credential is invalid.\",\"missing-android-pkg-name\":\"An Android Package Name must be provided if the Android App is required to be installed.\",\n\"auth-domain-config-required\":\"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.\",\"missing-app-credential\":\"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.\",\"missing-verification-code\":\"The phone auth credential was created with an empty SMS verification code.\",\"missing-continue-uri\":\"A continue URL must be provided in the request.\",\"missing-iframe-start\":\"An internal error has occurred.\",\n\"missing-ios-bundle-id\":\"An iOS Bundle ID must be provided if an App Store ID is provided.\",\"missing-phone-number\":\"To send verification codes, provide a phone number for the recipient.\",\"missing-verification-id\":\"The phone auth credential was created with an empty verification ID.\",\"app-deleted\":\"This instance of FirebaseApp has been deleted.\",\"account-exists-with-different-credential\":\"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\",\n\"network-request-failed\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\",\"no-auth-event\":\"An internal error has occurred.\",\"no-such-provider\":\"User was not linked to an account with the given provider.\",\"operation-not-allowed\":\"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\",\"operation-not-supported-in-this-environment\":'This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.',\n\"popup-blocked\":\"Unable to establish a connection with the popup. It may have been blocked by the browser.\",\"popup-closed-by-user\":\"The popup has been closed by the user before finalizing the operation.\",\"provider-already-linked\":\"User can only be linked to one identity for the given provider.\",\"quota-exceeded\":\"The project's quota for this operation has been exceeded.\",\"redirect-cancelled-by-user\":\"The redirect operation has been cancelled by the user before finalizing.\",\"redirect-operation-pending\":\"A redirect sign-in operation is already pending.\",\ntimeout:\"The operation has timed out.\",\"user-token-expired\":\"The user's credential is no longer valid. The user must sign in again.\",\"too-many-requests\":\"We have blocked all requests from this device due to unusual activity. Try again later.\",\"unauthorized-continue-uri\":\"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.\",\"unsupported-persistence-type\":\"The current environment does not support the specified persistence type.\",\"user-cancelled\":\"User did not grant your application the permissions it requested.\",\n\"user-not-found\":\"There is no user record corresponding to this identifier. The user may have been deleted.\",\"user-disabled\":\"The user account has been disabled by an administrator.\",\"user-mismatch\":\"The supplied credentials do not correspond to the previously signed in user.\",\"user-signed-out\":\"\",\"weak-password\":\"The password must be 6 characters long or more.\",\"web-storage-unsupported\":\"This browser is not supported or 3rd party cookies and data may be disabled.\"};function wg(a){var b=a[xg];if(\"undefined\"===typeof b)throw new N(\"missing-continue-uri\");if(\"string\"!==typeof b||\"string\"===typeof b&&!b.length)throw new N(\"invalid-continue-uri\");this.h=b;this.c=this.a=null;this.g=!1;var c=a[yg];if(c&&\"object\"===typeof c){b=c[zg];var d=c[Ag];c=c[Bg];if(\"string\"===typeof b&&b.length){this.a=b;if(\"undefined\"!==typeof d&&\"boolean\"!==typeof d)throw new N(\"argument-error\",Ag+\" property must be a boolean when specified.\");this.g=!!d;if(\"undefined\"!==typeof c&&(\"string\"!==\ntypeof c||\"string\"===typeof c&&!c.length))throw new N(\"argument-error\",Bg+\" property must be a non empty string when specified.\");this.c=c||null}else{if(\"undefined\"!==typeof b)throw new N(\"argument-error\",zg+\" property must be a non empty string when specified.\");if(\"undefined\"!==typeof d||\"undefined\"!==typeof c)throw new N(\"missing-android-pkg-name\");}}else if(\"undefined\"!==typeof c)throw new N(\"argument-error\",yg+\" property must be a non null object when specified.\");this.b=null;if((b=a[Cg])&&\"object\"===\ntypeof b)if(b=b[Dg],\"string\"===typeof b&&b.length)this.b=b;else{if(\"undefined\"!==typeof b)throw new N(\"argument-error\",Dg+\" property must be a non empty string when specified.\");}else if(\"undefined\"!==typeof b)throw new N(\"argument-error\",Cg+\" property must be a non null object when specified.\");a=a[Eg];if(\"undefined\"!==typeof a&&\"boolean\"!==typeof a)throw new N(\"argument-error\",Eg+\" property must be a boolean when specified.\");if((this.f=!!a)&&!this.b&&!this.a)throw new N(\"argument-error\",Eg+\" property can't be true when no mobile application is provided.\");\n}var yg=\"android\",Eg=\"handleCodeInApp\",Cg=\"iOS\",xg=\"url\",Ag=\"installApp\",Bg=\"minimumVersion\",zg=\"packageName\",Dg=\"bundleId\";function Fg(a){var b={};b.continueUrl=a.h;b.canHandleCodeInApp=a.f;if(b.androidPackageName=a.a)b.androidMinimumVersion=a.c,b.androidInstallApp=a.g;b.iOSBundleId=a.b;for(var c in b)null===b[c]&&delete b[c];return b};function Gg(a){this.b=a.sub;na();this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null}function Hg(a){a=a.split(\".\");if(3!=a.length)return null;a=a[1];for(var b=(4-a.length%4)%4,c=0;c<b;c++)a+=\".\";try{var d=JSON.parse(Kd(a));if(d.sub&&d.iss&&d.aud&&d.exp)return new Gg(d)}catch(e){}return null};var Ig=\"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version\".split(\" \"),Jg=[\"client_id\",\"response_type\",\"scope\",\"redirect_uri\",\"state\"],Kg={Hc:{Ma:\"locale\",za:500,ya:600,Na:\"facebook.com\",$a:Jg},Jc:{Ma:null,za:500,ya:620,Na:\"github.com\",$a:Jg},Kc:{Ma:\"hl\",za:515,ya:680,Na:\"google.com\",$a:Jg},Qc:{Ma:\"lang\",za:485,ya:705,Na:\"twitter.com\",$a:Ig}};function Lg(a){for(var b in Kg)if(Kg[b].Na==a)return Kg[b];return null};function Mg(a){var b={};b[\"facebook.com\"]=Ng;b[\"google.com\"]=Og;b[\"github.com\"]=Pg;b[\"twitter.com\"]=Qg;var c=a&&a[Rg];try{if(c)return b[c]?new b[c](a):new Sg(a);if(\"undefined\"!==typeof a[Tg])return new Ug(a)}catch(d){}return null}var Tg=\"idToken\",Rg=\"providerId\";\nfunction Ug(a){var b=a[Rg];if(!b&&a[Tg]){var c=Hg(a[Tg]);c&&c.a&&(b=c.a)}if(!b)throw Error(\"Invalid additional user info!\");if(\"anonymous\"==b||\"custom\"==b)b=null;c=!1;\"undefined\"!==typeof a.isNewUser?c=!!a.isNewUser:\"identitytoolkit#SignupNewUserResponse\"===a.kind&&(c=!0);M(this,\"providerId\",b);M(this,\"isNewUser\",c)}function Sg(a){Ug.call(this,a);a=Wf(a.rawUserInfo||\"{}\");M(this,\"profile\",kg(a||{}))}t(Sg,Ug);\nfunction Ng(a){Sg.call(this,a);if(\"facebook.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");}t(Ng,Sg);function Pg(a){Sg.call(this,a);if(\"github.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");M(this,\"username\",this.profile&&this.profile.login||null)}t(Pg,Sg);function Og(a){Sg.call(this,a);if(\"google.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");}t(Og,Sg);\nfunction Qg(a){Sg.call(this,a);if(\"twitter.com\"!=this.providerId)throw Error(\"Invalid provider ID!\");M(this,\"username\",a.screenName||null)}t(Qg,Sg);function Vg(a,b){return a.then(function(a){if(a[O]){var c=Hg(a[O]);if(!c||b!=c.b)throw new N(\"user-mismatch\");return a}throw new N(\"user-mismatch\");}).s(function(a){throw a&&a.code&&a.code==tg+\"user-not-found\"?new N(\"user-mismatch\"):a;})}\nfunction Wg(a,b){if(b.idToken||b.accessToken)b.idToken&&M(this,\"idToken\",b.idToken),b.accessToken&&M(this,\"accessToken\",b.accessToken);else if(b.oauthToken&&b.oauthTokenSecret)M(this,\"accessToken\",b.oauthToken),M(this,\"secret\",b.oauthTokenSecret);else throw new N(\"internal-error\",\"failed to construct a credential\");M(this,\"providerId\",a)}Wg.prototype.wa=function(a){return Xg(a,Yg(this))};Wg.prototype.b=function(a,b){var c=Yg(this);c.idToken=b;return Zg(a,c)};\nWg.prototype.c=function(a,b){var c=Yg(this);return Vg($g(a,c),b)};function Yg(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.providerId;return{postBody:Ie(b).toString(),requestUri:\"http://localhost\"}}\nWg.prototype.B=function(){var a={providerId:this.providerId};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};function ah(a,b){this.rc=b||[];gg(this,{providerId:a,isOAuthProvider:!0});this.rb={};this.Wa=(Lg(a)||{}).Ma||null;this.Ua=null}ah.prototype.Ba=function(a){this.rb=Ua(a);return this};function P(a){ah.call(this,a,Jg);this.a=[]}t(P,ah);\nP.prototype.sa=function(a){Ha(this.a,a)||this.a.push(a);return this};P.prototype.wb=function(){return La(this.a)};P.prototype.credential=function(a,b){if(!a&&!b)throw new N(\"argument-error\",\"credential failed: must provide the ID token and/or the access token.\");return new Wg(this.providerId,{idToken:a||null,accessToken:b||null})};function bh(){P.call(this,\"facebook.com\")}t(bh,P);M(bh,\"PROVIDER_ID\",\"facebook.com\");\nfunction ch(a){if(!a)throw new N(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var b=a;q(a)&&(b=a.accessToken);return(new bh).credential(null,b)}function dh(){P.call(this,\"github.com\")}t(dh,P);M(dh,\"PROVIDER_ID\",\"github.com\");function eh(a){if(!a)throw new N(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");var b=a;q(a)&&(b=a.accessToken);return(new dh).credential(null,b)}\nfunction fh(){P.call(this,\"google.com\");this.sa(\"profile\")}t(fh,P);M(fh,\"PROVIDER_ID\",\"google.com\");function gh(a,b){var c=a;q(a)&&(c=a.idToken,b=a.accessToken);return(new fh).credential(c,b)}function hh(){ah.call(this,\"twitter.com\",Ig)}t(hh,ah);M(hh,\"PROVIDER_ID\",\"twitter.com\");\nfunction ih(a,b){var c=a;q(c)||(c={oauthToken:a,oauthTokenSecret:b});if(!c.oauthToken||!c.oauthTokenSecret)throw new N(\"argument-error\",\"credential failed: expected 2 arguments (the OAuth access token and secret).\");return new Wg(\"twitter.com\",c)}function jh(a,b){this.a=a;this.f=b;M(this,\"providerId\",\"password\")}jh.prototype.wa=function(a){return Q(a,kh,{email:this.a,password:this.f})};jh.prototype.b=function(a,b){return Q(a,lh,{idToken:b,email:this.a,password:this.f})};\njh.prototype.c=function(a,b){return Vg(this.wa(a),b)};jh.prototype.B=function(){return{email:this.a,password:this.f}};function mh(){gg(this,{providerId:\"password\",isOAuthProvider:!1})}gg(mh,{PROVIDER_ID:\"password\"});function nh(a){if(!(a.Pa&&a.Oa||a.Da&&a.Y))throw new N(\"internal-error\");this.a=a;M(this,\"providerId\",\"phone\")}nh.prototype.wa=function(a){return a.Qa(oh(this))};nh.prototype.b=function(a,b){var c=oh(this);c.idToken=b;return Q(a,ph,c)};\nnh.prototype.c=function(a,b){var c=oh(this);c.operation=\"REAUTH\";a=Q(a,qh,c);return Vg(a,b)};nh.prototype.B=function(){var a={providerId:\"phone\"};this.a.Pa&&(a.verificationId=this.a.Pa);this.a.Oa&&(a.verificationCode=this.a.Oa);this.a.Da&&(a.temporaryProof=this.a.Da);this.a.Y&&(a.phoneNumber=this.a.Y);return a};function oh(a){return a.a.Da&&a.a.Y?{temporaryProof:a.a.Da,phoneNumber:a.a.Y}:{sessionInfo:a.a.Pa,code:a.a.Oa}}\nfunction rh(a){try{this.a=a||firebase.auth()}catch(b){throw new N(\"argument-error\",\"Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().\");}gg(this,{providerId:\"phone\",isOAuthProvider:!1})}\nrh.prototype.Qa=function(a,b){var c=this.a.c;return A(b.verify()).then(function(d){if(!m(d))throw new N(\"argument-error\",\"An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.\");switch(b.type){case \"recaptcha\":return sh(c,{phoneNumber:a,recaptchaToken:d}).then(function(a){\"function\"===typeof b.reset&&b.reset();return a},function(a){\"function\"===typeof b.reset&&b.reset();throw a;});default:throw new N(\"argument-error\",\n'Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.');}})};function th(a,b){if(!a)throw new N(\"missing-verification-id\");if(!b)throw new N(\"missing-verification-code\");return new nh({Pa:a,Oa:b})}gg(rh,{PROVIDER_ID:\"phone\"});\nfunction uh(a){if(a.temporaryProof&&a.phoneNumber)return new nh({Da:a.temporaryProof,Y:a.phoneNumber});var b=a&&a.providerId;if(!b||\"password\"===b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;try{switch(b){case \"google.com\":return gh(a,c);case \"facebook.com\":return ch(c);case \"github.com\":return eh(c);case \"twitter.com\":return ih(c,d);default:return(new P(b)).credential(a,c)}}catch(e){return null}}\nfunction vh(a){if(!a.isOAuthProvider)throw new N(\"invalid-oauth-provider\");};function wh(a,b,c,d,e){this.b=a;this.c=b||null;this.f=c||null;this.g=d||null;this.a=e||null;if(this.f||this.a){if(this.f&&this.a)throw new N(\"invalid-auth-event\");if(this.f&&!this.g)throw new N(\"invalid-auth-event\");}else throw new N(\"invalid-auth-event\");}wh.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}};function xh(a){a=a||{};return a.type?new wh(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&vg(a.error)):null};function yh(a){var b=\"unauthorized-domain\",c=void 0,d=De(a);a=d.b;d=d.c;\"chrome-extension\"==d?c=oa(\"This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",a):\"http\"==d||\"https\"==d?c=oa(\"This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",a):b=\"operation-not-supported-in-this-environment\";\nN.call(this,b,c)}t(yh,N);function zh(a,b,c){N.call(this,a,c);a=b||{};a.sb&&M(this,\"email\",a.sb);a.Y&&M(this,\"phoneNumber\",a.Y);a.credential&&M(this,\"credential\",a.credential)}t(zh,N);zh.prototype.B=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email);this.phoneNumber&&(a.phoneNumber=this.phoneNumber);var b=this.credential&&this.credential.B();b&&Wa(a,b);return a};zh.prototype.toJSON=function(){return this.B()};\nfunction Ah(a){if(a.code){var b=a.code||\"\";0==b.indexOf(tg)&&(b=b.substring(tg.length));var c={credential:uh(a)};if(a.email)c.sb=a.email;else if(a.phoneNumber)c.Y=a.phoneNumber;else return new N(b,a.message||void 0);return new zh(b,c,a.message)}return null};function Bh(a){this.f=a}t(Bh,Ne);Bh.prototype.a=function(){return new this.f};Bh.prototype.b=function(){return{}};\nfunction Ch(a,b,c){var d=\"Node\"==K();d=k.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new N(\"internal-error\",\"The XMLHttpRequest compatibility library was not found.\");this.b=a;a=b||{};this.i=a.secureTokenEndpoint||\"https://securetoken.googleapis.com/v1/token\";this.l=a.secureTokenTimeout||Dh;this.c=Ua(a.secureTokenHeaders||Eh);this.g=a.firebaseEndpoint||\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\";this.h=a.firebaseTimeout||Fh;this.a=\nUa(a.firebaseHeaders||Gh);c&&(this.a[\"X-Client-Version\"]=c,this.c[\"X-Client-Version\"]=c);this.f=new rf;this.o=new Bh(d)}var Hh,O=\"idToken\",Dh=new $f(3E4,6E4),Eh={\"Content-Type\":\"application/x-www-form-urlencoded\"},Fh=new $f(3E4,6E4),Gh={\"Content-Type\":\"application/json\"};function Ih(a,b){b?a.a[\"X-Firebase-Locale\"]=b:delete a.a[\"X-Firebase-Locale\"]}function Jh(a,b){b?(a.a[\"X-Client-Version\"]=b,a.c[\"X-Client-Version\"]=b):(delete a.a[\"X-Client-Version\"],delete a.c[\"X-Client-Version\"])}\nfunction Kh(a,b,c,d,e,f,g){Zf()?(yf()?a=r(a.m,a):(Hh||(Hh=new z(function(a,b){Lh(a,b)})),a=r(a.u,a)),a(b,c,d,e,f,g)):c&&c(null)}\nCh.prototype.m=function(a,b,c,d,e,f){var g=\"Node\"==K(),l=Mf()?g?new Se(this.o):new Se:new Se(this.f);if(f){l.f=Math.max(0,f);var n=setTimeout(function(){G(l,\"timeout\")},f)}fd(l,\"complete\",function(){n&&clearTimeout(n);var a=null;try{a=JSON.parse(hf(this))||null}catch(vb){a=null}b&&b(a)});ld(l,\"ready\",function(){n&&clearTimeout(n);Lc(this)});ld(l,\"timeout\",function(){n&&clearTimeout(n);Lc(this);b&&b(null)});Ye(l,a,c,d,e)};\nvar Mh=dc(\"https://apis.google.com/js/client.js?onload=%{onload}\"),Nh=\"__fcb\"+Math.floor(1E6*Math.random()).toString();function Lh(a,b){if(((window.gapi||{}).client||{}).request)a();else{k[Nh]=function(){((window.gapi||{}).client||{}).request?a():b(Error(\"CORS_UNSUPPORTED\"))};var c=hc(Mh,{onload:Nh});Td(kf(c),function(){b(Error(\"CORS_UNSUPPORTED\"))})}}\nCh.prototype.u=function(a,b,c,d,e){var f=this;Hh.then(function(){window.gapi.client.setApiKey(f.b);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:\"none\",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).s(function(a){b&&b({error:{message:a&&a.message||\"CORS_UNSUPPORTED\"}})})};\nfunction Oh(a,b){return new z(function(c,d){\"refresh_token\"==b.grant_type&&b.refresh_token||\"authorization_code\"==b.grant_type&&b.code?Kh(a,a.i+\"?key=\"+encodeURIComponent(a.b),function(a){a?a.error?d(Ph(a)):a.access_token&&a.refresh_token?c(a):d(new N(\"internal-error\")):d(new N(\"network-request-failed\"))},\"POST\",Ie(b).toString(),a.c,a.l.get()):d(new N(\"internal-error\"))})}\nfunction Qh(a,b,c,d,e,f){var g=De(a.g+b);I(g,\"key\",a.b);f&&I(g,\"cb\",na().toString());var l=\"GET\"==c;if(l)for(var n in d)d.hasOwnProperty(n)&&I(g,n,d[n]);return new z(function(b,f){Kh(a,g.toString(),function(a){a?a.error?f(Ph(a,e||{})):b(a):f(new N(\"network-request-failed\"))},c,l?void 0:Cc(Vf(d)),a.a,a.h.get())})}function Rh(a){if(!jf.test(a.email))throw new N(\"invalid-email\");}function Sh(a){\"email\"in a&&Rh(a)}\nfunction Th(a,b){return Q(a,Uh,{identifier:b,continueUri:Sf()?vf():\"http://localhost\"}).then(function(a){return a.allProviders||[]})}function Vh(a){return Q(a,Wh,{}).then(function(a){return a.authorizedDomains||[]})}function Xh(a){if(!a[O])throw new N(\"internal-error\");}\nfunction Yh(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new N(\"internal-error\");}else{if(!a.sessionInfo)throw new N(\"missing-verification-id\");if(!a.code)throw new N(\"missing-verification-code\");}}Ch.prototype.gb=function(){return Q(this,Zh,{})};Ch.prototype.kb=function(a,b){return Q(this,$h,{idToken:a,email:b})};Ch.prototype.lb=function(a,b){return Q(this,lh,{idToken:a,password:b})};var ai={displayName:\"DISPLAY_NAME\",photoUrl:\"PHOTO_URL\"};h=Ch.prototype;\nh.mb=function(a,b){var c={idToken:a},d=[];Pa(ai,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return Q(this,$h,c)};h.cb=function(a,b){a={requestType:\"PASSWORD_RESET\",email:a};Wa(a,b);return Q(this,bi,a)};h.bb=function(a,b){a={requestType:\"VERIFY_EMAIL\",idToken:a};Wa(a,b);return Q(this,ci,a)};function sh(a,b){return Q(a,di,b)}h.Qa=function(a){return Q(this,ei,a)};function fi(a,b,c){return Q(a,gi,{idToken:b,deleteProvider:c})}\nfunction hi(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new N(\"internal-error\");}function ii(a){var b=null;a.needConfirmation?(a.code=\"account-exists-with-different-credential\",b=Ah(a)):\"FEDERATED_USER_ID_ALREADY_LINKED\"==a.errorMessage?(a.code=\"credential-already-in-use\",b=Ah(a)):\"EMAIL_EXISTS\"==a.errorMessage?(a.code=\"email-already-in-use\",b=Ah(a)):a.errorMessage&&(b=ji(a.errorMessage));if(b)throw b;if(!a[O])throw new N(\"internal-error\");}\nfunction Xg(a,b){b.returnIdpCredential=!0;return Q(a,ki,b)}function Zg(a,b){b.returnIdpCredential=!0;return Q(a,li,b)}function $g(a,b){b.returnIdpCredential=!0;b.autoCreate=!1;return Q(a,mi,b)}function ni(a){if(!a.oobCode)throw new N(\"invalid-action-code\");}h.Ta=function(a,b){return Q(this,oi,{oobCode:a,newPassword:b})};h.Ia=function(a){return Q(this,pi,{oobCode:a})};h.Sa=function(a){return Q(this,qi,{oobCode:a})};\nvar qi={endpoint:\"setAccountInfo\",D:ni,ga:\"email\"},pi={endpoint:\"resetPassword\",D:ni,O:function(a){if(!a.email||!a.requestType)throw new N(\"internal-error\");}},ri={endpoint:\"signupNewUser\",D:function(a){Rh(a);if(!a.password)throw new N(\"weak-password\");},O:Xh,T:!0},Uh={endpoint:\"createAuthUri\"},si={endpoint:\"deleteAccount\",ea:[\"idToken\"]},gi={endpoint:\"setAccountInfo\",ea:[\"idToken\",\"deleteProvider\"],D:function(a){if(!fa(a.deleteProvider))throw new N(\"internal-error\");}},ti={endpoint:\"getAccountInfo\"},\nci={endpoint:\"getOobConfirmationCode\",ea:[\"idToken\",\"requestType\"],D:function(a){if(\"VERIFY_EMAIL\"!=a.requestType)throw new N(\"internal-error\");},ga:\"email\"},bi={endpoint:\"getOobConfirmationCode\",ea:[\"requestType\"],D:function(a){if(\"PASSWORD_RESET\"!=a.requestType)throw new N(\"internal-error\");Rh(a)},ga:\"email\"},Wh={nb:!0,endpoint:\"getProjectConfig\",zb:\"GET\"},ui={nb:!0,endpoint:\"getRecaptchaParam\",zb:\"GET\",O:function(a){if(!a.recaptchaSiteKey)throw new N(\"internal-error\");}},oi={endpoint:\"resetPassword\",\nD:ni,ga:\"email\"},di={endpoint:\"sendVerificationCode\",ea:[\"phoneNumber\",\"recaptchaToken\"],ga:\"sessionInfo\"},$h={endpoint:\"setAccountInfo\",ea:[\"idToken\"],D:Sh,T:!0},lh={endpoint:\"setAccountInfo\",ea:[\"idToken\"],D:function(a){Sh(a);if(!a.password)throw new N(\"weak-password\");},O:Xh,T:!0},Zh={endpoint:\"signupNewUser\",O:Xh,T:!0},ki={endpoint:\"verifyAssertion\",D:hi,O:ii,T:!0},mi={endpoint:\"verifyAssertion\",D:hi,O:function(a){if(a.errorMessage&&\"USER_NOT_FOUND\"==a.errorMessage)throw new N(\"user-not-found\");\nif(a.errorMessage)throw ji(a.errorMessage);if(!a[O])throw new N(\"internal-error\");},T:!0},li={endpoint:\"verifyAssertion\",D:function(a){hi(a);if(!a.idToken)throw new N(\"internal-error\");},O:ii,T:!0},vi={endpoint:\"verifyCustomToken\",D:function(a){if(!a.token)throw new N(\"invalid-custom-token\");},O:Xh,T:!0},kh={endpoint:\"verifyPassword\",D:function(a){Rh(a);if(!a.password)throw new N(\"wrong-password\");},O:Xh,T:!0},ei={endpoint:\"verifyPhoneNumber\",D:Yh,O:Xh},ph={endpoint:\"verifyPhoneNumber\",D:function(a){if(!a.idToken)throw new N(\"internal-error\");\nYh(a)},O:function(a){if(a.temporaryProof)throw a.code=\"credential-already-in-use\",Ah(a);Xh(a)}},qh={Pb:{USER_NOT_FOUND:\"user-not-found\"},endpoint:\"verifyPhoneNumber\",D:Yh,O:Xh};\nfunction Q(a,b,c){if(!jg(c,b.ea))return B(new N(\"internal-error\"));var d=b.zb||\"POST\",e;return A(c).then(b.D).then(function(){b.T&&(c.returnSecureToken=!0);return Qh(a,b.endpoint,d,c,b.Pb,b.nb||!1)}).then(function(a){return e=a}).then(b.O).then(function(){if(!b.ga)return e;if(!(b.ga in e))throw new N(\"internal-error\");return e[b.ga]})}function ji(a){return Ph({error:{errors:[{message:a}],code:400,message:a}})}\nfunction Ph(a,b){var c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||\"\";var d={keyInvalid:\"invalid-api-key\",ipRefererBlocked:\"app-not-authorized\"};if(c=d[c]?new N(d[c]):null)return c;c=a.error&&a.error.message||\"\";d={INVALID_CUSTOM_TOKEN:\"invalid-custom-token\",CREDENTIAL_MISMATCH:\"custom-token-mismatch\",MISSING_CUSTOM_TOKEN:\"internal-error\",INVALID_IDENTIFIER:\"invalid-email\",MISSING_CONTINUE_URI:\"internal-error\",INVALID_EMAIL:\"invalid-email\",INVALID_PASSWORD:\"wrong-password\",USER_DISABLED:\"user-disabled\",\nMISSING_PASSWORD:\"internal-error\",EMAIL_EXISTS:\"email-already-in-use\",PASSWORD_LOGIN_DISABLED:\"operation-not-allowed\",INVALID_IDP_RESPONSE:\"invalid-credential\",FEDERATED_USER_ID_ALREADY_LINKED:\"credential-already-in-use\",INVALID_MESSAGE_PAYLOAD:\"invalid-message-payload\",INVALID_RECIPIENT_EMAIL:\"invalid-recipient-email\",INVALID_SENDER:\"invalid-sender\",EMAIL_NOT_FOUND:\"user-not-found\",EXPIRED_OOB_CODE:\"expired-action-code\",INVALID_OOB_CODE:\"invalid-action-code\",MISSING_OOB_CODE:\"internal-error\",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:\"requires-recent-login\",\nINVALID_ID_TOKEN:\"invalid-user-token\",TOKEN_EXPIRED:\"user-token-expired\",USER_NOT_FOUND:\"user-token-expired\",CORS_UNSUPPORTED:\"cors-unsupported\",DYNAMIC_LINK_NOT_ACTIVATED:\"dynamic-link-not-activated\",INVALID_APP_ID:\"invalid-app-id\",TOO_MANY_ATTEMPTS_TRY_LATER:\"too-many-requests\",WEAK_PASSWORD:\"weak-password\",OPERATION_NOT_ALLOWED:\"operation-not-allowed\",USER_CANCELLED:\"user-cancelled\",CAPTCHA_CHECK_FAILED:\"captcha-check-failed\",INVALID_APP_CREDENTIAL:\"invalid-app-credential\",INVALID_CODE:\"invalid-verification-code\",\nINVALID_PHONE_NUMBER:\"invalid-phone-number\",INVALID_SESSION_INFO:\"invalid-verification-id\",INVALID_TEMPORARY_PROOF:\"invalid-credential\",MISSING_APP_CREDENTIAL:\"missing-app-credential\",MISSING_CODE:\"missing-verification-code\",MISSING_PHONE_NUMBER:\"missing-phone-number\",MISSING_SESSION_INFO:\"missing-verification-id\",QUOTA_EXCEEDED:\"quota-exceeded\",SESSION_EXPIRED:\"code-expired\",INVALID_CONTINUE_URI:\"invalid-continue-uri\",MISSING_ANDROID_PACKAGE_NAME:\"missing-android-pkg-name\",MISSING_IOS_BUNDLE_ID:\"missing-ios-bundle-id\",\nUNAUTHORIZED_DOMAIN:\"unauthorized-continue-uri\",INVALID_OAUTH_CLIENT_ID:\"invalid-oauth-client-id\",INVALID_CERT_HASH:\"invalid-cert-hash\"};Wa(d,b||{});b=(b=c.match(/^[^\\s]+\\s*:\\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new N(d[e],b);!b&&a&&(b=Uf(a));return new N(\"internal-error\",b)};var wi={Mc:{Va:\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\",ab:\"https://securetoken.googleapis.com/v1/token\",id:\"p\"},Oc:{Va:\"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/\",ab:\"https://staging-securetoken.sandbox.googleapis.com/v1/token\",id:\"s\"},Pc:{Va:\"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/\",ab:\"https://test-securetoken.sandbox.googleapis.com/v1/token\",id:\"t\"}};\nfunction xi(a){for(var b in wi)if(wi[b].id===a)return a=wi[b],{firebaseEndpoint:a.Va,secureTokenEndpoint:a.ab};return null}var yi;yi=xi(\"__EID__\")?\"__EID__\":void 0;function zi(a){this.b=a;this.a=null;this.Ya=Ai(this)}\nfunction Ai(a){return Bi().then(function(){return new z(function(b,c){L(\"gapi.iframes.getContext\")().open({where:document.body,url:a.b,messageHandlersFilter:L(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"),attributes:{style:{position:\"absolute\",top:\"-100px\",width:\"1px\",height:\"1px\"}},dontclear:!0},function(d){function e(){clearTimeout(f);b()}a.a=d;a.a.restyle({setHideOnLeave:!1});var f=setTimeout(function(){c(Error(\"Network Error\"))},Ci.get());d.ping(e).then(e,function(){c(Error(\"Network Error\"))})})})})}\nfunction Di(a,b){return a.Ya.then(function(){return new z(function(c){a.a.send(b.type,b,c,L(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})})}function Ei(a,b){a.Ya.then(function(){a.a.register(\"authEvent\",b,L(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})}var Fi=dc(\"https://apis.google.com/js/api.js?onload=%{onload}\"),Gi=new $f(3E4,6E4),Ci=new $f(5E3,15E3),Hi=null;\nfunction Bi(){return Hi?Hi:Hi=(new z(function(a,b){if(Zf()){var c=function(){Yf();L(\"gapi.load\")(\"gapi.iframes\",{callback:a,ontimeout:function(){Yf();b(Error(\"Network Error\"))},timeout:Gi.get()})};if(L(\"gapi.iframes.Iframe\"))a();else if(L(\"gapi.load\"))c();else{var d=\"__iframefcb\"+Math.floor(1E6*Math.random()).toString();k[d]=function(){L(\"gapi.load\")?c():b(Error(\"Network Error\"))};d=hc(Fi,{onload:d});A(kf(d)).s(function(){b(Error(\"Network Error\"))})}}else b(Error(\"Network Error\"))})).s(function(a){Hi=\nnull;throw a;})};function Ii(a,b,c){this.i=a;this.g=b;this.h=c;this.f=null;this.a=Ee(this.i,\"/__/auth/iframe\");I(this.a,\"apiKey\",this.g);I(this.a,\"appName\",this.h);this.b=null;this.c=[]}Ii.prototype.toString=function(){this.f?I(this.a,\"v\",this.f):Le(this.a.a,\"v\");this.b?I(this.a,\"eid\",this.b):Le(this.a.a,\"eid\");this.c.length?I(this.a,\"fw\",this.c.join(\",\")):Le(this.a.a,\"fw\");return this.a.toString()};function Ji(a,b,c,d,e){this.m=a;this.u=b;this.c=c;this.l=d;this.i=this.g=this.h=null;this.a=e;this.f=null}\nJi.prototype.toString=function(){var a=Ee(this.m,\"/__/auth/handler\");I(a,\"apiKey\",this.u);I(a,\"appName\",this.c);I(a,\"authType\",this.l);if(this.a.isOAuthProvider){var b=this.a;try{var c=firebase.app(this.c).auth().$()}catch(l){c=null}b.Ua=c;I(a,\"providerId\",this.a.providerId);b=this.a;c=Vf(b.rb);for(var d in c)c[d]=c[d].toString();d=b.rc;c=Ua(c);for(var e=0;e<d.length;e++){var f=d[e];f in c&&delete c[f]}b.Wa&&b.Ua&&!c[b.Wa]&&(c[b.Wa]=b.Ua);Sa(c)||I(a,\"customParameters\",Uf(c))}\"function\"===typeof this.a.wb&&\n(b=this.a.wb(),b.length&&I(a,\"scopes\",b.join(\",\")));this.h?I(a,\"redirectUrl\",this.h):Le(a.a,\"redirectUrl\");this.g?I(a,\"eventId\",this.g):Le(a.a,\"eventId\");this.i?I(a,\"v\",this.i):Le(a.a,\"v\");if(this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Ce(a,g)&&I(a,g,this.b[g]);this.f?I(a,\"eid\",this.f):Le(a.a,\"eid\");g=Ki(this.c);g.length&&I(a,\"fw\",g.join(\",\"));return a.toString()};function Ki(a){try{return firebase.app(a).auth().Ka()}catch(b){return[]}}\nfunction Li(a,b,c,d,e){this.u=a;this.f=b;this.b=c;this.c=d||null;this.h=e||null;this.m=this.o=this.v=null;this.g=[];this.l=this.a=null}\nfunction Mi(a){var b=vf();return Vh(a).then(function(a){a:{var c=De(b),e=c.c;c=c.b;for(var f=0;f<a.length;f++){var g=a[f];var l=c;var n=e;0==g.indexOf(\"chrome-extension://\")?l=De(g).b==l&&\"chrome-extension\"==n:\"http\"!=n&&\"https\"!=n?l=!1:Gf.test(g)?l=l==g:(g=g.split(\".\").join(\"\\\\.\"),l=(new RegExp(\"^(.+\\\\.\"+g+\"|\"+g+\")$\",\"i\")).test(l));if(l){a=!0;break a}}a=!1}if(!a)throw new yh(vf());})}\nfunction Ni(a){if(a.l)return a.l;a.l=Hf().then(function(){if(!a.o){var b=a.c,c=a.h,d=Ki(a.b),e=new Ii(a.u,a.f,a.b);e.f=b;e.b=c;e.c=La(d||[]);a.o=e.toString()}a.i=new zi(a.o);Oi(a)});return a.l}h=Li.prototype;h.Ca=function(a,b,c){var d=new N(\"popup-closed-by-user\"),e=new N(\"web-storage-unsupported\"),f=this,g=!1;return this.ba().then(function(){Pi(f).then(function(c){c||(a&&Cf(a),b(e),g=!0)})}).s(function(){}).then(function(){if(!g)return Ff(a)}).then(function(){if(!g)return sd(c).then(function(){b(d)})})};\nh.Db=function(){var a=J();return!Tf(a)&&!Xf(a)};h.yb=function(){return!1};\nh.vb=function(a,b,c,d,e,f,g){if(!a)return B(new N(\"popup-blocked\"));if(g&&!Tf())return this.ba().s(function(b){Cf(a);e(b)}),d(),A();this.a||(this.a=Mi(Qi(this)));var l=this;return this.a.then(function(){var b=l.ba().s(function(b){Cf(a);e(b);throw b;});d();return b}).then(function(){vh(c);if(!g){var d=Ri(l.u,l.f,l.b,b,c,null,f,l.c,void 0,l.h);wf(d,a)}}).s(function(a){\"auth/network-request-failed\"==a.code&&(l.a=null);throw a;})};\nfunction Qi(a){a.m||(a.v=a.c?Of(a.c,Ki(a.b)):null,a.m=new Ch(a.f,xi(a.h),a.v));return a.m}h.Aa=function(a,b,c){this.a||(this.a=Mi(Qi(this)));var d=this;return this.a.then(function(){vh(b);var e=Ri(d.u,d.f,d.b,a,b,vf(),c,d.c,void 0,d.h);wf(e)}).s(function(a){\"auth/network-request-failed\"==a.code&&(d.a=null);throw a;})};h.ba=function(){var a=this;return Ni(this).then(function(){return a.i.Ya}).s(function(){a.a=null;throw new N(\"network-request-failed\");})};h.Hb=function(){return!0};\nfunction Ri(a,b,c,d,e,f,g,l,n,D){a=new Ji(a,b,c,d,e);a.h=f;a.g=g;a.i=l;a.b=Ua(n||null);a.f=D;return a.toString()}function Oi(a){if(!a.i)throw Error(\"IfcHandler must be initialized!\");Ei(a.i,function(b){var c={};if(b&&b.authEvent){var d=!1;b=xh(b.authEvent);for(c=0;c<a.g.length;c++)d=a.g[c](b)||d;c={};c.status=d?\"ACK\":\"ERROR\";return A(c)}c.status=\"ERROR\";return A(c)})}\nfunction Pi(a){var b={type:\"webStorageSupport\"};return Ni(a).then(function(){return Di(a.i,b)}).then(function(a){if(a&&a.length&&\"undefined\"!==typeof a[0].webStorageSupport)return a[0].webStorageSupport;throw Error();})}h.ua=function(a){this.g.push(a)};h.Ja=function(a){Ja(this.g,function(b){return b==a})};function Si(a){this.a=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.a)throw new N(\"internal-error\",\"The React Native compatibility library was not found.\");}h=Si.prototype;h.get=function(a){return A(this.a.getItem(a)).then(function(a){return a&&Wf(a)})};h.set=function(a,b){return A(this.a.setItem(a,Uf(b)))};h.X=function(a){return A(this.a.removeItem(a))};h.ia=function(){};h.da=function(){};function Ti(){this.a={}}h=Ti.prototype;h.get=function(a){return A(this.a[a])};h.set=function(a,b){this.a[a]=b;return A()};h.X=function(a){delete this.a[a];return A()};h.ia=function(){};h.da=function(){};function Ui(a,b,c,d,e,f){try{var g=!!k.indexedDB}catch(l){g=!1}if(!g)throw new N(\"web-storage-unsupported\");this.u=a;this.h=b;this.g=c;this.l=d;this.m=e;this.f={};this.c=[];this.a=0;this.o=f||k.indexedDB}var Vi;function Wi(a){return new z(function(b,c){var d=a.o.open(a.u,a.m);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.h,{keyPath:a.g})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})}\nfunction Xi(a){a.i||(a.i=Wi(a));return a.i}function Yi(a,b){return b.objectStore(a.h)}function Zi(a,b,c){return b.transaction([a.h],c?\"readwrite\":\"readonly\")}function $i(a){return new z(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})}h=Ui.prototype;\nh.set=function(a,b){var c=!1,d,e=this;return Qb(Xi(this).then(function(b){d=b;b=Yi(e,Zi(e,d,!0));return $i(b.get(a))}).then(function(f){var g=Yi(e,Zi(e,d,!0));if(f)return f.value=b,$i(g.put(f));e.a++;c=!0;f={};f[e.g]=a;f[e.l]=b;return $i(g.add(f))}).then(function(){e.f[a]=b}),function(){c&&e.a--})};h.get=function(a){var b=this;return Xi(this).then(function(c){return $i(Yi(b,Zi(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};\nh.X=function(a){var b=!1,c=this;return Qb(Xi(this).then(function(d){b=!0;c.a++;return $i(Yi(c,Zi(c,d,!0))[\"delete\"](a))}).then(function(){delete c.f[a]}),function(){b&&c.a--})};\nh.zc=function(){var a=this;return Xi(this).then(function(b){var c=Yi(a,Zi(a,b,!1));return c.getAll?$i(c.getAll()):new z(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b[\"continue\"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.a){for(d=0;d<b.length;d++)c[b[d][a.g]]=b[d][a.l];d=xf(a.f,c);a.f=c}return d})};h.ia=function(a){0==this.c.length&&aj(this);this.c.push(a)};\nh.da=function(a){Ja(this.c,function(b){return b==a});0==this.c.length&&this.b&&this.b.cancel(\"STOP_EVENT\")};function aj(a){function b(){a.b=sd(800).then(r(a.zc,a)).then(function(b){0<b.length&&w(a.c,function(a){a(b)})}).then(b).s(function(a){\"STOP_EVENT\"!=a.message&&b()});return a.b}a.b&&a.b.cancel(\"STOP_EVENT\");b()};function bj(){if(!cj()){if(\"Node\"==K())throw new N(\"internal-error\",\"The LocalStorage compatibility library was not found.\");throw new N(\"web-storage-unsupported\");}this.a=dj()||firebase.INTERNAL.node.localStorage}function dj(){try{var a=k.localStorage,b=Qf();a&&(a.setItem(b,\"1\"),a.removeItem(b));return a}catch(c){return null}}\nfunction cj(){var a=\"Node\"==K();a=dj()||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}}h=bj.prototype;h.get=function(a){var b=this;return A().then(function(){var c=b.a.getItem(a);return Wf(c)})};h.set=function(a,b){var c=this;return A().then(function(){var d=Uf(b);null===d?c.X(a):c.a.setItem(a,d)})};h.X=function(a){var b=this;return A().then(function(){b.a.removeItem(a)})};\nh.ia=function(a){k.window&&cd(k.window,\"storage\",a)};h.da=function(a){k.window&&E(k.window,\"storage\",a)};function ej(){}h=ej.prototype;h.get=function(){return A(null)};h.set=function(){return A()};h.X=function(){return A()};h.ia=function(){};h.da=function(){};function fj(){if(!gj()){if(\"Node\"==K())throw new N(\"internal-error\",\"The SessionStorage compatibility library was not found.\");throw new N(\"web-storage-unsupported\");}this.a=hj()||firebase.INTERNAL.node.sessionStorage}function hj(){try{var a=k.sessionStorage,b=Qf();a&&(a.setItem(b,\"1\"),a.removeItem(b));return a}catch(c){return null}}\nfunction gj(){var a=\"Node\"==K();a=hj()||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}}h=fj.prototype;h.get=function(a){var b=this;return A().then(function(){var c=b.a.getItem(a);return Wf(c)})};h.set=function(a,b){var c=this;return A().then(function(){var d=Uf(b);null===d?c.X(a):c.a.setItem(a,d)})};h.X=function(a){var b=this;return A().then(function(){b.a.removeItem(a)})};h.ia=function(){};\nh.da=function(){};function ij(){var a={};a.Browser=jj;a.Node=kj;a.ReactNative=lj;this.a=a[K()]}var mj,jj={C:bj,jb:fj},kj={C:bj,jb:fj},lj={C:Si,jb:ej};var nj={Lc:\"local\",NONE:\"none\",Nc:\"session\"};function oj(a){var b=new N(\"invalid-persistence-type\"),c=new N(\"unsupported-persistence-type\");a:{for(d in nj)if(nj[d]==a){var d=!0;break a}d=!1}if(!d||\"string\"!==typeof a)throw b;switch(K()){case \"ReactNative\":if(\"session\"===a)throw c;break;case \"Node\":if(\"none\"!==a)throw c;break;default:if(!Pf()&&\"none\"!==a)throw c;}}\nfunction pj(a,b,c,d,e){this.i=a;this.g=b;this.A=c;this.u=d;this.v=e;this.a={};mj||(mj=new ij);a=mj;try{if(uf()){Vi||(Vi=new Ui(\"firebaseLocalStorageDb\",\"firebaseLocalStorage\",\"fbase_key\",\"value\",1));var f=Vi}else f=new a.a.C;this.l=f}catch(g){this.l=new Ti,this.u=!0}try{this.o=new a.a.jb}catch(g){this.o=new Ti}this.w=new Ti;this.h=r(this.m,this);this.b={}}var qj;function rj(){qj||(qj=new pj(\"firebase\",\":\",!Xf(J())&&Lf()?!0:!1,Tf(),Pf()));return qj}\nfunction sj(a,b){switch(b){case \"session\":return a.o;case \"none\":return a.w;default:return a.l}}function tj(a,b,c){return a.i+a.g+b.name+(c?a.g+c:\"\")}pj.prototype.get=function(a,b){return sj(this,a.C).get(tj(this,a,b))};function uj(a,b,c){c=tj(a,b,c);\"local\"==b.C&&(a.b[c]=null);return sj(a,b.C).X(c)}pj.prototype.set=function(a,b,c){var d=tj(this,a,c),e=this,f=sj(this,a.C);return f.set(d,b).then(function(){return f.get(d)}).then(function(b){\"local\"==a.C&&(e.b[d]=b)})};\nfunction vj(a,b,c,d){b=tj(a,b,c);a.v&&(a.b[b]=k.localStorage.getItem(b));Sa(a.a)&&(sj(a,\"local\").ia(a.h),a.u||uf()||!a.v||wj(a));a.a[b]||(a.a[b]=[]);a.a[b].push(d)}function xj(a,b,c){b=tj(a,yj(\"local\"),b);a.a[b]&&(Ja(a.a[b],function(a){return a==c}),0==a.a[b].length&&delete a.a[b]);Sa(a.a)&&zj(a)}\nfunction wj(a){Aj(a);a.f=setInterval(function(){for(var b in a.a){var c=k.localStorage.getItem(b),d=a.b[b];c!=d&&(a.b[b]=c,c=new Qc({type:\"storage\",key:b,target:window,oldValue:d,newValue:c,a:!0}),a.m(c))}},1E3)}function Aj(a){a.f&&(clearInterval(a.f),a.f=null)}function zj(a){sj(a,\"local\").da(a.h);Aj(a)}\npj.prototype.m=function(a){if(a&&a.g){var b=a.a.key;if(null==b)for(var c in this.a){var d=this.b[c];\"undefined\"===typeof d&&(d=null);var e=k.localStorage.getItem(c);e!==d&&(this.b[c]=e,this.c(c))}else if(0==b.indexOf(this.i+this.g)&&this.a[b]){\"undefined\"!==typeof a.a.a?sj(this,\"local\").da(this.h):Aj(this);if(this.A)if(c=k.localStorage.getItem(b),d=a.a.newValue,d!==c)null!==d?k.localStorage.setItem(b,d):k.localStorage.removeItem(b);else if(this.b[b]===d&&\"undefined\"===typeof a.a.a)return;var f=this;\nc=function(){if(\"undefined\"!==typeof a.a.a||f.b[b]!==k.localStorage.getItem(b))f.b[b]=k.localStorage.getItem(b),f.c(b)};y&&kb&&10==kb&&k.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(c,10):c()}}else w(a,r(this.c,this))};pj.prototype.c=function(a){this.a[a]&&w(this.a[a],function(a){a()})};function Cj(a){this.a=a;this.b=rj()}var Dj={name:\"authEvent\",C:\"local\"};function Ej(a){return a.b.get(Dj,a.a).then(function(a){return xh(a)})};function Fj(){this.a=rj()};function Gj(a,b,c,d,e,f,g){this.u=a;this.i=b;this.l=c;this.m=d||null;this.o=g||null;this.h=b+\":\"+c;this.A=new Fj;this.g=new Cj(this.h);this.f=null;this.b=[];this.v=e||500;this.w=f||2E3;this.a=this.c=null}function Hj(a){return new N(\"invalid-cordova-configuration\",a)}h=Gj.prototype;\nh.ba=function(){return this.xa?this.xa:this.xa=If().then(function(){if(\"function\"!==typeof L(\"universalLinks.subscribe\",k))throw Hj(\"cordova-universal-links-plugin is not installed\");if(\"undefined\"===typeof L(\"BuildInfo.packageName\",k))throw Hj(\"cordova-plugin-buildinfo is not installed\");if(\"function\"!==typeof L(\"cordova.plugins.browsertab.openUrl\",k))throw Hj(\"cordova-plugin-browsertab is not installed\");if(\"function\"!==typeof L(\"cordova.InAppBrowser.open\",k))throw Hj(\"cordova-plugin-inappbrowser is not installed\");\n},function(){throw new N(\"cordova-not-ready\");})};function Ij(){for(var a=20,b=[];0<a;)b.push(\"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(62*Math.random()))),a--;return b.join(\"\")}function Jj(a){var b=new ie;he(b,a);a=[];var c=8*b.g;56>b.c?he(b,fe,56-b.c):he(b,fe,b.b-(b.c-56));for(var d=63;56<=d;d--)b.f[d]=c&255,c/=256;ge(b);for(d=c=0;d<b.i;d++)for(var e=24;0<=e;e-=8)a[c++]=b.a[d]>>e&255;return Hd(a)}\nh.Ca=function(a,b){b(new N(\"operation-not-supported-in-this-environment\"));return A()};h.vb=function(){return B(new N(\"operation-not-supported-in-this-environment\"))};h.Hb=function(){return!1};h.Db=function(){return!0};h.yb=function(){return!0};\nh.Aa=function(a,b,c){if(this.c)return B(new N(\"redirect-operation-pending\"));var d=this,e=k.document,f=null,g=null,l=null,n=null;return this.c=Qb(A().then(function(){vh(b);return Kj(d)}).then(function(){return Lj(d,a,b,c)}).then(function(){return(new z(function(a,b){g=function(){var b=L(\"cordova.plugins.browsertab.close\",k);a();\"function\"===typeof b&&b();d.a&&\"function\"===typeof d.a.close&&(d.a.close(),d.a=null);return!1};d.ua(g);l=function(){f||(f=sd(d.w).then(function(){b(new N(\"redirect-cancelled-by-user\"))}))};\nn=function(){ag()&&l()};e.addEventListener(\"resume\",l,!1);J().toLowerCase().match(/android/)||e.addEventListener(\"visibilitychange\",n,!1)})).s(function(a){return Mj(d).then(function(){throw a;})})}),function(){l&&e.removeEventListener(\"resume\",l,!1);n&&e.removeEventListener(\"visibilitychange\",n,!1);f&&f.cancel();g&&d.Ja(g);d.c=null})};\nfunction Lj(a,b,c,d){var e=Ij(),f=new wh(b,d,null,e,new N(\"no-auth-event\")),g=L(\"BuildInfo.packageName\",k);if(\"string\"!==typeof g)throw new N(\"invalid-cordova-configuration\");var l=L(\"BuildInfo.displayName\",k),n={};if(J().toLowerCase().match(/iphone|ipad|ipod/))n.ibi=g;else if(J().toLowerCase().match(/android/))n.apn=g;else return B(new N(\"operation-not-supported-in-this-environment\"));l&&(n.appDisplayName=l);e=Jj(e);n.sessionId=e;var D=Ri(a.u,a.i,a.l,b,c,null,d,a.m,n,a.o);return a.ba().then(function(){var b=\na.h;return a.A.a.set(Dj,f.B(),b)}).then(function(){var b=L(\"cordova.plugins.browsertab.isAvailable\",k);if(\"function\"!==typeof b)throw new N(\"invalid-cordova-configuration\");var c=null;b(function(b){if(b){c=L(\"cordova.plugins.browsertab.openUrl\",k);if(\"function\"!==typeof c)throw new N(\"invalid-cordova-configuration\");c(D)}else{c=L(\"cordova.InAppBrowser.open\",k);if(\"function\"!==typeof c)throw new N(\"invalid-cordova-configuration\");b=J();b=!(!b.match(/(iPad|iPhone|iPod).*OS 7_\\d/i)&&!b.match(/(iPad|iPhone|iPod).*OS 8_\\d/i));\na.a=c(D,b?\"_blank\":\"_system\",\"location=yes\")}})})}function Nj(a,b){for(var c=0;c<a.b.length;c++)try{a.b[c](b)}catch(d){}}function Kj(a){a.f||(a.f=a.ba().then(function(){return new z(function(b){function c(d){b(d);a.Ja(c);return!1}a.ua(c);Oj(a)})}));return a.f}function Mj(a){var b=null;return Ej(a.g).then(function(c){b=c;c=a.g;return uj(c.b,Dj,c.a)}).then(function(){return b})}\nfunction Oj(a){function b(b){e=!0;f&&f.cancel();Mj(a).then(function(c){var e=d;if(c&&b&&b.url){e=null;var f=b.url;var g=De(f),l=Ce(g,\"link\"),n=Ce(De(l),\"link\");g=Ce(g,\"deep_link_id\");f=Ce(De(g),\"link\")||g||n||l||f;-1!=f.indexOf(\"/__/auth/callback\")&&(e=De(f),e=Wf(Ce(e,\"firebaseError\")||null),e=(e=\"object\"===typeof e?vg(e):null)?new wh(c.b,c.c,null,null,e):new wh(c.b,c.c,f,c.g));e=e||d}Nj(a,e)})}var c=L(\"universalLinks.subscribe\",k);if(\"function\"!==typeof c)throw new N(\"invalid-cordova-configuration\");\nvar d=new wh(\"unknown\",null,null,null,new N(\"no-auth-event\")),e=!1,f=sd(a.v).then(function(){return Mj(a).then(function(){e||Nj(a,d)})}),g=k.handleOpenURL;k.handleOpenURL=function(a){0==a.toLowerCase().indexOf(L(\"BuildInfo.packageName\",k).toLowerCase()+\"://\")&&b({url:a});if(\"function\"===typeof g)try{g(a)}catch(n){console.error(n)}};c(null,b)}\nh.ua=function(a){this.b.push(a);Kj(this).s(function(b){\"auth/invalid-cordova-configuration\"===b.code&&(b=new wh(\"unknown\",null,null,null,new N(\"no-auth-event\")),a(b))})};h.Ja=function(a){Ja(this.b,function(b){return b==a})};function Pj(a){this.a=a;this.b=rj()}var Qj={name:\"pendingRedirect\",C:\"session\"};function Rj(a){return a.b.set(Qj,\"pending\",a.a)}function Sj(a){return uj(a.b,Qj,a.a)}function Tj(a){return a.b.get(Qj,a.a).then(function(a){return\"pending\"==a})};function Uj(a,b,c){this.v=a;this.l=b;this.u=c;this.h=[];this.f=!1;this.i=r(this.m,this);this.c=new Vj;this.o=new Wj;this.g=new Pj(this.l+\":\"+this.u);this.b={};this.b.unknown=this.c;this.b.signInViaRedirect=this.c;this.b.linkViaRedirect=this.c;this.b.reauthViaRedirect=this.c;this.b.signInViaPopup=this.o;this.b.linkViaPopup=this.o;this.b.reauthViaPopup=this.o;this.a=Xj(this.v,this.l,this.u,yi)}\nfunction Xj(a,b,c,d){var e=firebase.SDK_VERSION||null;return Jf()?new Gj(a,b,c,e,void 0,void 0,d):new Li(a,b,c,e,d)}Uj.prototype.reset=function(){this.f=!1;this.a.Ja(this.i);this.a=Xj(this.v,this.l,this.u)};function Yj(a){a.f||(a.f=!0,a.a.ua(a.i));var b=a.a;return a.a.ba().s(function(c){a.a==b&&a.reset();throw c;})}function Zj(a){a.a.Db()&&Yj(a).s(function(b){var c=new wh(\"unknown\",null,null,null,new N(\"operation-not-supported-in-this-environment\"));ak(b)&&a.m(c)});a.a.yb()||bk(a.c)}\nUj.prototype.subscribe=function(a){Ha(this.h,a)||this.h.push(a);if(!this.f){var b=this;Tj(this.g).then(function(a){a?Sj(b.g).then(function(){Yj(b).s(function(a){var c=new wh(\"unknown\",null,null,null,new N(\"operation-not-supported-in-this-environment\"));ak(a)&&b.m(c)})}):Zj(b)}).s(function(){Zj(b)})}};Uj.prototype.unsubscribe=function(a){Ja(this.h,function(b){return b==a})};\nUj.prototype.m=function(a){if(!a)throw new N(\"invalid-auth-event\");for(var b=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.ob(a.b,a.c)){(b=this.b[a.b])&&b.h(a,d);b=!0;break}}bk(this.c);return b};var ck=new $f(2E3,1E4),dk=new $f(3E4,6E4);Uj.prototype.aa=function(){return this.c.aa()};function ek(a,b,c,d,e,f){return a.a.vb(b,c,d,function(){a.f||(a.f=!0,a.a.ua(a.i))},function(){a.reset()},e,f)}function ak(a){return a&&\"auth/cordova-not-ready\"==a.code?!0:!1}\nUj.prototype.Aa=function(a,b,c){var d=this,e;return Rj(this.g).then(function(){return d.a.Aa(a,b,c).s(function(a){if(ak(a))throw new N(\"operation-not-supported-in-this-environment\");e=a;return Sj(d.g).then(function(){throw e;})}).then(function(){return d.a.Hb()?new z(function(){}):Sj(d.g).then(function(){return d.aa()}).then(function(){}).s(function(){})})})};Uj.prototype.Ca=function(a,b,c,d){return this.a.Ca(c,function(c){a.fa(b,null,c,d)},ck.get())};var fk={};\nfunction gk(a,b,c){var d=b+\":\"+c;fk[d]||(fk[d]=new Uj(a,b,c));return fk[d]}function Vj(){this.b=null;this.f=[];this.c=[];this.a=null;this.g=!1}Vj.prototype.reset=function(){this.b=null;this.a&&(this.a.cancel(),this.a=null)};\nVj.prototype.h=function(a,b){if(!a)return B(new N(\"invalid-auth-event\"));this.reset();this.g=!0;var c=a.b,d=a.c,e=a.a&&\"auth/web-storage-unsupported\"==a.a.code,f=a.a&&\"auth/operation-not-supported-in-this-environment\"==a.a.code;\"unknown\"!=c||e||f?a.a?(hk(this,!0,null,a.a),a=A()):a=b.va(c,d)?ik(this,a,b):B(new N(\"invalid-auth-event\")):(hk(this,!1,null,null),a=A());return a};function bk(a){a.g||(a.g=!0,hk(a,!1,null,null))}\nfunction ik(a,b,c){c=c.va(b.b,b.c);var d=b.f,e=b.g,f=!!b.b.match(/Redirect$/);return c(d,e).then(function(b){hk(a,f,b,null)}).s(function(b){hk(a,f,null,b)})}function jk(a,b){a.b=function(){return B(b)};if(a.c.length)for(var c=0;c<a.c.length;c++)a.c[c](b)}function kk(a,b){a.b=function(){return A(b)};if(a.f.length)for(var c=0;c<a.f.length;c++)a.f[c](b)}function hk(a,b,c,d){b?d?jk(a,d):kk(a,c):kk(a,{user:null});a.f=[];a.c=[]}\nVj.prototype.aa=function(){var a=this;return new z(function(b,c){a.b?a.b().then(b,c):(a.f.push(b),a.c.push(c),lk(a))})};function lk(a){var b=new N(\"timeout\");a.a&&a.a.cancel();a.a=sd(dk.get()).then(function(){a.b||hk(a,!0,null,b)})}function Wj(){}Wj.prototype.h=function(a,b){if(!a)return B(new N(\"invalid-auth-event\"));var c=a.b,d=a.c;a.a?(b.fa(a.b,null,a.a,a.c),a=A()):a=b.va(c,d)?mk(a,b):B(new N(\"invalid-auth-event\"));return a};\nfunction mk(a,b){var c=a.c,d=a.b;return b.va(d,c)(a.f,a.g).then(function(a){b.fa(d,a,null,c)}).s(function(a){b.fa(d,null,a,c)})};function nk(a,b){this.a=b;M(this,\"verificationId\",a)}nk.prototype.confirm=function(a){a=th(this.verificationId,a);return this.a(a)};function ok(a,b,c,d){return(new rh(a)).Qa(b,c).then(function(a){return new nk(a,d)})};function pk(a,b,c,d,e,f){this.h=a;this.i=b;this.g=c;this.c=d;this.f=e;this.l=!!f;this.b=null;this.a=this.c;if(this.f<this.c)throw Error(\"Proactive refresh lower bound greater than upper bound!\");}pk.prototype.start=function(){this.a=this.c;qk(this,!0)};function rk(a,b){if(b)return a.a=a.c,a.g();b=a.a;a.a*=2;a.a>a.f&&(a.a=a.f);return b}\nfunction qk(a,b){sk(a);a.b=sd(rk(a,b)).then(function(){return a.l?A():bg()}).then(function(){return a.h()}).then(function(){qk(a,!0)}).s(function(b){a.i(b)&&qk(a,!1)})}function sk(a){a.b&&(a.b.cancel(),a.b=null)};function tk(a){this.f=a;this.b=this.a=null;this.c=0}tk.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}};function uk(a,b){var c=b[O],d=b.refreshToken;b=vk(b.expiresIn);a.b=c;a.c=b;a.a=d}function vk(a){return na()+1E3*parseInt(a,10)}\nfunction wk(a,b){return Oh(a.f,b).then(function(b){a.b=b.access_token;a.c=vk(b.expires_in);a.a=b.refresh_token;return{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}}).s(function(b){\"auth/user-token-expired\"==b.code&&(a.a=null);throw b;})}tk.prototype.getToken=function(a){a=!!a;return this.b&&!this.a?B(new N(\"user-token-expired\")):a||!this.b||na()>this.c-3E4?this.a?wk(this,{grant_type:\"refresh_token\",refresh_token:this.a}):A(null):A({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})};function xk(a,b){this.a=a||null;this.b=b||null;gg(this,{lastSignInTime:cg(b||null),creationTime:cg(a||null)})}function yk(a){return new xk(a.a,a.b)}xk.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}};function zk(a,b,c,d,e,f){gg(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,phoneNumber:f||null,providerId:b})}function Ak(a,b){C.call(this,a);for(var c in b)this[c]=b[c]}t(Ak,C);\nfunction Bk(a,b,c){this.A=[];this.G=a.apiKey;this.o=a.appName;this.w=a.authDomain||null;a=firebase.SDK_VERSION?Of(firebase.SDK_VERSION):null;this.c=new Ch(this.G,xi(yi),a);this.h=new tk(this.c);Ck(this,b[O]);uk(this.h,b);M(this,\"refreshToken\",this.h.a);Dk(this,c||{});F.call(this);this.I=!1;this.w&&Rf()&&(this.a=gk(this.w,this.G,this.o));this.N=[];this.i=null;this.l=Ek(this);this.U=r(this.Ga,this);var d=this;this.ha=null;this.ra=function(a){d.na(a.h)};this.W=null;this.R=[];this.qa=function(a){Fk(d,\na.f)};this.V=null}t(Bk,F);Bk.prototype.na=function(a){this.ha=a;Ih(this.c,a)};Bk.prototype.$=function(){return this.ha};function Gk(a,b){a.W&&E(a.W,\"languageCodeChanged\",a.ra);(a.W=b)&&cd(b,\"languageCodeChanged\",a.ra)}function Fk(a,b){a.R=b;Jh(a.c,firebase.SDK_VERSION?Of(firebase.SDK_VERSION,a.R):null)}Bk.prototype.Ka=function(){return La(this.R)};function Hk(a,b){a.V&&E(a.V,\"frameworkChanged\",a.qa);(a.V=b)&&cd(b,\"frameworkChanged\",a.qa)}Bk.prototype.Ga=function(){this.l.b&&(sk(this.l),this.l.start())};\nfunction Ik(a){try{return firebase.app(a.o).auth()}catch(b){throw new N(\"internal-error\",\"No firebase.auth.Auth instance is available for the Firebase App '\"+a.o+\"'!\");}}function Ek(a){return new pk(function(){return a.F(!0)},function(a){return a&&\"auth/network-request-failed\"==a.code?!0:!1},function(){var b=a.h.c-na()-3E5;return 0<b?b:0},3E4,96E4,!1)}function Jk(a){a.m||a.l.b||(a.l.start(),E(a,\"tokenChanged\",a.U),cd(a,\"tokenChanged\",a.U))}function Kk(a){E(a,\"tokenChanged\",a.U);sk(a.l)}\nfunction Ck(a,b){a.pa=b;M(a,\"_lat\",b)}function Lk(a,b){Ja(a.N,function(a){return a==b})}function Mk(a){for(var b=[],c=0;c<a.N.length;c++)b.push(a.N[c](a));return Ob(b).then(function(){return a})}function Nk(a){a.a&&!a.I&&(a.I=!0,a.a.subscribe(a))}\nfunction Dk(a,b){gg(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,metadata:new xk(b.createdAt,b.lastLoginAt),providerData:[]})}M(Bk.prototype,\"providerId\",\"firebase\");function Ok(){}function Pk(a){return A().then(function(){if(a.m)throw new N(\"app-deleted\");})}function Qk(a){return Da(a.providerData,function(a){return a.providerId})}\nfunction Rk(a,b){b&&(Sk(a,b.providerId),a.providerData.push(b))}function Sk(a,b){Ja(a.providerData,function(a){return a.providerId==b})}function Tk(a,b,c){(\"uid\"!=b||c)&&a.hasOwnProperty(b)&&M(a,b,c)}\nfunction Uk(a,b){a!=b&&(gg(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,providerData:[]}),b.metadata?M(a,\"metadata\",yk(b.metadata)):M(a,\"metadata\",new xk),w(b.providerData,function(b){Rk(a,b)}),a.h=b.h,M(a,\"refreshToken\",a.h.a))}h=Bk.prototype;h.reload=function(){var a=this;return R(this,Pk(this).then(function(){return Vk(a).then(function(){return Mk(a)}).then(Ok)}))};\nfunction Vk(a){return a.F().then(function(b){var c=a.isAnonymous;return Wk(a,b).then(function(){c||Tk(a,\"isAnonymous\",!1);return b})})}h.F=function(a){var b=this;return R(this,Pk(this).then(function(){return b.h.getToken(a)}).then(function(a){if(!a)throw new N(\"internal-error\");a.accessToken!=b.pa&&(Ck(b,a.accessToken),G(b,new Ak(\"tokenChanged\")));Tk(b,\"refreshToken\",a.refreshToken);return a.accessToken}))};\nh.getToken=function(a){dg[\"firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.\"]||(dg[\"firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.\"]=!0,\"undefined\"!==typeof console&&\"function\"===typeof console.warn&&console.warn(\"firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.\"));return this.F(a)};\nfunction Xk(a,b){b[O]&&a.pa!=b[O]&&(uk(a.h,b),G(a,new Ak(\"tokenChanged\")),Ck(a,b[O]),Tk(a,\"refreshToken\",a.h.a))}function Wk(a,b){return Q(a.c,ti,{idToken:b}).then(r(a.kc,a))}\nh.kc=function(a){a=a.users;if(!a||!a.length)throw new N(\"internal-error\");a=a[0];Dk(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt});for(var b=Yk(a),c=0;c<b.length;c++)Rk(this,b[c]);Tk(this,\"isAnonymous\",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};\nfunction Yk(a){return(a=a.providerUserInfo)&&a.length?Da(a,function(a){return new zk(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}h.Za=function(a){var b=this,c=null;return R(this,a.c(this.c,this.uid).then(function(a){Xk(b,a);c=Zk(b,a,\"reauthenticate\");b.i=null;return b.reload()}).then(function(){return c}),!0)};h.mc=function(a){return this.Za(a).then(function(){})};\nfunction $k(a,b){return Vk(a).then(function(){if(Ha(Qk(a),b))return Mk(a).then(function(){throw new N(\"provider-already-linked\");})})}h.Xa=function(a){var b=this,c=null;return R(this,$k(this,a.providerId).then(function(){return b.F()}).then(function(c){return a.b(b.c,c)}).then(function(a){c=Zk(b,a,\"link\");return al(b,a)}).then(function(){return c}))};h.cc=function(a){return this.Xa(a).then(function(a){return a.user})};\nh.dc=function(a,b){var c=this;return R(this,$k(this,\"phone\").then(function(){return ok(Ik(c),a,b,r(c.Xa,c))}))};h.nc=function(a,b){var c=this;return R(this,A().then(function(){return ok(Ik(c),a,b,r(c.Za,c))}),!0)};function Zk(a,b,c){var d=uh(b);b=Mg(b);return hg({user:a,credential:d,additionalUserInfo:b,operationType:c})}function al(a,b){Xk(a,b);return a.reload().then(function(){return a})}\nh.kb=function(a){var b=this;return R(this,this.F().then(function(c){return b.c.kb(c,a)}).then(function(a){Xk(b,a);return b.reload()}))};h.Dc=function(a){var b=this;return R(this,this.F().then(function(c){return a.b(b.c,c)}).then(function(a){Xk(b,a);return b.reload()}))};h.lb=function(a){var b=this;return R(this,this.F().then(function(c){return b.c.lb(c,a)}).then(function(a){Xk(b,a);return b.reload()}))};\nh.mb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Pk(this);var b=this;return R(this,this.F().then(function(c){return b.c.mb(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){Xk(b,a);Tk(b,\"displayName\",a.displayName||null);Tk(b,\"photoURL\",a.photoUrl||null);w(b.providerData,function(a){\"password\"===a.providerId&&(M(a,\"displayName\",b.displayName),M(a,\"photoURL\",b.photoURL))});return Mk(b)}).then(Ok))};\nh.Cc=function(a){var b=this;return R(this,Vk(this).then(function(c){return Ha(Qk(b),a)?fi(b.c,c,[a]).then(function(a){var c={};w(a.providerUserInfo||[],function(a){c[a.providerId]=!0});w(Qk(b),function(a){c[a]||Sk(b,a)});c[rh.PROVIDER_ID]||M(b,\"phoneNumber\",null);return Mk(b)}):Mk(b).then(function(){throw new N(\"no-such-provider\");})}))};\nh.delete=function(){var a=this;return R(this,this.F().then(function(b){return Q(a.c,si,{idToken:b})}).then(function(){G(a,new Ak(\"userDeleted\"))})).then(function(){for(var b=0;b<a.A.length;b++)a.A[b].cancel(\"app-deleted\");Gk(a,null);Hk(a,null);a.A=[];a.m=!0;Kk(a);M(a,\"refreshToken\",null);a.a&&a.a.unsubscribe(a)})};\nh.ob=function(a,b){return\"linkViaPopup\"==a&&(this.g||null)==b&&this.f||\"reauthViaPopup\"==a&&(this.g||null)==b&&this.f||\"linkViaRedirect\"==a&&(this.Z||null)==b||\"reauthViaRedirect\"==a&&(this.Z||null)==b?!0:!1};h.fa=function(a,b,c,d){\"linkViaPopup\"!=a&&\"reauthViaPopup\"!=a||d!=(this.g||null)||(c&&this.v?this.v(c):b&&!c&&this.f&&this.f(b),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)};\nh.va=function(a,b){return\"linkViaPopup\"==a&&b==(this.g||null)?r(this.tb,this):\"reauthViaPopup\"==a&&b==(this.g||null)?r(this.ub,this):\"linkViaRedirect\"==a&&(this.Z||null)==b?r(this.tb,this):\"reauthViaRedirect\"==a&&(this.Z||null)==b?r(this.ub,this):null};h.ec=function(a){var b=this;return bl(this,\"linkViaPopup\",a,function(){return $k(b,a.providerId).then(function(){return Mk(b)})},!1)};h.oc=function(a){return bl(this,\"reauthViaPopup\",a,function(){return A()},!0)};\nfunction bl(a,b,c,d,e){if(!Rf())return B(new N(\"operation-not-supported-in-this-environment\"));if(a.i&&!e)return B(a.i);var f=Lg(c.providerId),g=Qf(a.uid+\":::\"),l=null;(!Tf()||Lf())&&a.w&&c.isOAuthProvider&&(l=Ri(a.w,a.G,a.o,b,c,null,g,firebase.SDK_VERSION||null));var n=Df(l,f&&f.za,f&&f.ya);d=d().then(function(){cl(a);if(!e)return a.F().then(function(){})}).then(function(){return ek(a.a,n,b,c,g,!!l)}).then(function(){return new z(function(c,d){a.fa(b,null,new N(\"cancelled-popup-request\"),a.g||null);\na.f=c;a.v=d;a.g=g;a.b=a.a.Ca(a,b,n,g)})}).then(function(a){n&&Cf(n);return a?hg(a):null}).s(function(a){n&&Cf(n);throw a;});return R(a,d,e)}h.fc=function(a){var b=this;return dl(this,\"linkViaRedirect\",a,function(){return $k(b,a.providerId)},!1)};h.pc=function(a){return dl(this,\"reauthViaRedirect\",a,function(){return A()},!0)};\nfunction dl(a,b,c,d,e){if(!Rf())return B(new N(\"operation-not-supported-in-this-environment\"));if(a.i&&!e)return B(a.i);var f=null,g=Qf(a.uid+\":::\");d=d().then(function(){cl(a);if(!e)return a.F().then(function(){})}).then(function(){a.Z=g;return Mk(a)}).then(function(b){a.ca&&(b=a.ca,b=b.b.set(el,a.B(),b.a));return b}).then(function(){return a.a.Aa(b,c,g)}).s(function(b){f=b;if(a.ca)return fl(a.ca);throw f;}).then(function(){if(f)throw f;});return R(a,d,e)}\nfunction cl(a){if(!a.a||!a.I){if(a.a&&!a.I)throw new N(\"internal-error\");throw new N(\"auth-domain-config-required\");}}h.tb=function(a,b){var c=this;this.b&&(this.b.cancel(),this.b=null);var d=null,e=this.F().then(function(d){return Zg(c.c,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=Zk(c,a,\"link\");return al(c,a)}).then(function(){return d});return R(this,e)};\nh.ub=function(a,b){var c=this;this.b&&(this.b.cancel(),this.b=null);var d=null,e=A().then(function(){return Vg($g(c.c,{requestUri:a,sessionId:b}),c.uid)}).then(function(a){d=Zk(c,a,\"reauthenticate\");Xk(c,a);c.i=null;return c.reload()}).then(function(){return d});return R(this,e,!0)};h.bb=function(a){var b=this,c=null;return R(this,this.F().then(function(b){c=b;return\"undefined\"===typeof a||Sa(a)?{}:Fg(new wg(a))}).then(function(a){return b.c.bb(c,a)}).then(function(a){if(b.email!=a)return b.reload()}).then(function(){}))};\nfunction R(a,b,c){var d=gl(a,b,c);a.A.push(d);Qb(d,function(){Ia(a.A,d)});return d}function gl(a,b,c){return a.i&&!c?(b.cancel(),B(a.i)):b.s(function(b){!b||\"auth/user-disabled\"!=b.code&&\"auth/user-token-expired\"!=b.code||(a.i||G(a,new Ak(\"userInvalidated\")),a.i=b);throw b;})}h.toJSON=function(){return this.B()};\nh.B=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};this.metadata&&Wa(a,this.metadata.B());w(this.providerData,function(b){a.providerData.push(ig(b))});return a};\nfunction hl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c[O]=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-na())/1E3;else return null;var d=new Bk(b,c,a);a.providerData&&w(a.providerData,function(a){a&&Rk(d,hg(a))});a.redirectEventId&&(d.Z=a.redirectEventId);return d}\nfunction il(a,b,c,d){var e=new Bk(a,b);c&&(e.ca=c);d&&Fk(e,d);return e.reload().then(function(){return e})};function jl(a){this.a=a;this.b=rj()}var el={name:\"redirectUser\",C:\"session\"};function fl(a){return uj(a.b,el,a.a)}function kl(a,b){return a.b.get(el,a.a).then(function(a){a&&b&&(a.authDomain=b);return hl(a||{})})};function ll(a,b){this.a=a;this.b=b||rj();this.c=null;this.f=ml(this);vj(this.b,yj(\"local\"),this.a,r(this.g,this))}ll.prototype.g=function(){var a=this,b=yj(\"local\");nl(this,function(){return A().then(function(){return a.c&&\"local\"!=a.c.C?a.b.get(b,a.a):null}).then(function(c){if(c)return ol(a,\"local\").then(function(){a.c=b})})})};function ol(a,b){var c=[],d;for(d in nj)nj[d]!==b&&c.push(uj(a.b,yj(nj[d]),a.a));c.push(uj(a.b,pl,a.a));return Nb(c)}\nfunction ml(a){var b=yj(\"local\"),c=yj(\"session\"),d=yj(\"none\");return a.b.get(c,a.a).then(function(e){return e?c:a.b.get(d,a.a).then(function(c){return c?d:a.b.get(b,a.a).then(function(c){return c?b:a.b.get(pl,a.a).then(function(a){return a?yj(a):b})})})}).then(function(b){a.c=b;return ol(a,b.C)}).s(function(){a.c||(a.c=b)})}var pl={name:\"persistence\",C:\"session\"};function yj(a){return{name:\"authUser\",C:a}}\nll.prototype.eb=function(a){var b=null,c=this;oj(a);return nl(this,function(){return a!=c.c.C?c.b.get(c.c,c.a).then(function(d){b=d;return ol(c,a)}).then(function(){c.c=yj(a);if(b)return c.b.set(c.c,b,c.a)}):A()})};function ql(a){return nl(a,function(){return a.b.set(pl,a.c.C,a.a)})}function rl(a,b){return nl(a,function(){return a.b.set(a.c,b.B(),a.a)})}function sl(a){return nl(a,function(){return uj(a.b,a.c,a.a)})}\nfunction tl(a,b){return nl(a,function(){return a.b.get(a.c,a.a).then(function(a){a&&b&&(a.authDomain=b);return hl(a||{})})})}function nl(a,b){a.f=a.f.then(b,b);return a.f};function ul(a){this.l=!1;M(this,\"app\",a);if(S(this).options&&S(this).options.apiKey)a=firebase.SDK_VERSION?Of(firebase.SDK_VERSION):null,this.c=new Ch(S(this).options&&S(this).options.apiKey,xi(yi),a);else throw new N(\"invalid-api-key\");this.N=[];this.m=[];this.I=[];this.Kb=firebase.INTERNAL.createSubscribe(r(this.ac,this));this.R=void 0;this.Lb=firebase.INTERNAL.createSubscribe(r(this.bc,this));vl(this,null);this.h=new ll(S(this).options.apiKey+\":\"+S(this).name);this.G=new jl(S(this).options.apiKey+\n\":\"+S(this).name);this.U=T(this,wl(this));this.i=T(this,xl(this));this.W=!1;this.ha=r(this.yc,this);this.Ga=r(this.ka,this);this.pa=r(this.Tb,this);this.qa=r(this.Zb,this);this.ra=r(this.$b,this);yl(this);this.INTERNAL={};this.INTERNAL[\"delete\"]=r(this.delete,this);this.INTERNAL.logFramework=r(this.gc,this);this.o=0;F.call(this);zl(this);this.A=[]}t(ul,F);function Al(a){C.call(this,\"languageCodeChanged\");this.h=a}t(Al,C);function Bl(a){C.call(this,\"frameworkChanged\");this.f=a}t(Bl,C);h=ul.prototype;\nh.eb=function(a){a=this.h.eb(a);return T(this,a)};h.na=function(a){this.V===a||this.l||(this.V=a,Ih(this.c,this.V),G(this,new Al(this.$())))};h.$=function(){return this.V};h.Ec=function(){var a=k.navigator;this.na(a?a.languages&&a.languages[0]||a.language||a.userLanguage||null:null)};h.gc=function(a){this.A.push(a);Jh(this.c,firebase.SDK_VERSION?Of(firebase.SDK_VERSION,this.A):null);G(this,new Bl(this.A))};h.Ka=function(){return La(this.A)};\nfunction zl(a){Object.defineProperty(a,\"lc\",{get:function(){return this.$()},set:function(a){this.na(a)},enumerable:!1});a.V=null}h.toJSON=function(){return{apiKey:S(this).options.apiKey,authDomain:S(this).options.authDomain,appName:S(this).name,currentUser:U(this)&&U(this).B()}};function Cl(a){return a.Jb||B(new N(\"auth-domain-config-required\"))}\nfunction yl(a){var b=S(a).options.authDomain,c=S(a).options.apiKey;b&&Rf()&&(a.Jb=a.U.then(function(){if(!a.l){a.a=gk(b,c,S(a).name);a.a.subscribe(a);U(a)&&Nk(U(a));if(a.w){Nk(a.w);var d=a.w;d.na(a.$());Gk(d,a);d=a.w;Fk(d,a.A);Hk(d,a);a.w=null}return a.a}}))}h.ob=function(a,b){switch(a){case \"unknown\":case \"signInViaRedirect\":return!0;case \"signInViaPopup\":return this.g==b&&!!this.f;default:return!1}};\nh.fa=function(a,b,c,d){\"signInViaPopup\"==a&&this.g==d&&(c&&this.v?this.v(c):b&&!c&&this.f&&this.f(b),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)};h.va=function(a,b){return\"signInViaRedirect\"==a||\"signInViaPopup\"==a&&this.g==b&&this.f?r(this.Sb,this):null};\nh.Sb=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.b&&(this.b.cancel(),this.b=null);var d=null,e=null,f=Xg(c.c,a).then(function(a){d=uh(a);e=Mg(a);return a});a=c.U.then(function(){return f}).then(function(a){return Dl(c,a)}).then(function(){return hg({user:U(c),credential:d,additionalUserInfo:e,operationType:\"signIn\"})});return T(this,a)};\nh.wc=function(a){if(!Rf())return B(new N(\"operation-not-supported-in-this-environment\"));var b=this,c=Lg(a.providerId),d=Qf(),e=null;(!Tf()||Lf())&&S(this).options.authDomain&&a.isOAuthProvider&&(e=Ri(S(this).options.authDomain,S(this).options.apiKey,S(this).name,\"signInViaPopup\",a,null,d,firebase.SDK_VERSION||null));var f=Df(e,c&&c.za,c&&c.ya);c=Cl(this).then(function(b){return ek(b,f,\"signInViaPopup\",a,d,!!e)}).then(function(){return new z(function(a,c){b.fa(\"signInViaPopup\",null,new N(\"cancelled-popup-request\"),\nb.g);b.f=a;b.v=c;b.g=d;b.b=b.a.Ca(b,\"signInViaPopup\",f,d)})}).then(function(a){f&&Cf(f);return a?hg(a):null}).s(function(a){f&&Cf(f);throw a;});return T(this,c)};h.xc=function(a){if(!Rf())return B(new N(\"operation-not-supported-in-this-environment\"));var b=this,c=Cl(this).then(function(){return ql(b.h)}).then(function(){return b.a.Aa(\"signInViaRedirect\",a)});return T(this,c)};\nh.aa=function(){if(!Rf())return B(new N(\"operation-not-supported-in-this-environment\"));var a=this,b=Cl(this).then(function(){return a.a.aa()}).then(function(a){return a?hg(a):null});return T(this,b)};function Dl(a,b){var c={};c.apiKey=S(a).options.apiKey;c.authDomain=S(a).options.authDomain;c.appName=S(a).name;return a.U.then(function(){return il(c,b,a.G,a.Ka())}).then(function(b){if(U(a)&&b.uid==U(a).uid)return Uk(U(a),b),a.ka(b);vl(a,b);Nk(b);return a.ka(b)}).then(function(){El(a)})}\nfunction vl(a,b){U(a)&&(Lk(U(a),a.Ga),E(U(a),\"tokenChanged\",a.pa),E(U(a),\"userDeleted\",a.qa),E(U(a),\"userInvalidated\",a.ra),Kk(U(a)));b&&(b.N.push(a.Ga),cd(b,\"tokenChanged\",a.pa),cd(b,\"userDeleted\",a.qa),cd(b,\"userInvalidated\",a.ra),0<a.o&&Jk(b));M(a,\"currentUser\",b);b&&(b.na(a.$()),Gk(b,a),Fk(b,a.A),Hk(b,a))}h.hb=function(){var a=this,b=this.i.then(function(){if(!U(a))return A();vl(a,null);return sl(a.h).then(function(){El(a)})});return T(this,b)};\nfunction Fl(a){var b=kl(a.G,S(a).options.authDomain).then(function(b){if(a.w=b)b.ca=a.G;return fl(a.G)});return T(a,b)}function wl(a){var b=S(a).options.authDomain,c=Fl(a).then(function(){return tl(a.h,b)}).then(function(b){return b?(b.ca=a.G,a.w&&(a.w.Z||null)==(b.Z||null)?b:b.reload().then(function(){return rl(a.h,b).then(function(){return b})}).s(function(c){return\"auth/network-request-failed\"==c.code?b:sl(a.h)})):null}).then(function(b){vl(a,b||null)});return T(a,c)}\nfunction xl(a){return a.U.then(function(){return a.aa()}).s(function(){}).then(function(){if(!a.l)return a.ha()}).s(function(){}).then(function(){if(!a.l){a.W=!0;var b=a.h;vj(b.b,yj(\"local\"),b.a,a.ha)}})}\nh.yc=function(){var a=this;return tl(this.h,S(this).options.authDomain).then(function(b){if(!a.l){var c;if(c=U(a)&&b){c=U(a).uid;var d=b.uid;c=void 0===c||null===c||\"\"===c||void 0===d||null===d||\"\"===d?!1:c==d}if(c)return Uk(U(a),b),U(a).F();if(U(a)||b)vl(a,b),b&&(Nk(b),b.ca=a.G),a.a&&a.a.subscribe(a),El(a)}})};h.ka=function(a){return rl(this.h,a)};h.Tb=function(){El(this);this.ka(U(this))};h.Zb=function(){this.hb()};h.$b=function(){this.hb()};\nfunction Gl(a,b){var c=null,d=null;return T(a,b.then(function(b){c=uh(b);d=Mg(b);return Dl(a,b)}).then(function(){return hg({user:U(a),credential:c,additionalUserInfo:d,operationType:\"signIn\"})}))}h.ac=function(a){var b=this;this.addAuthTokenListener(function(){a.next(U(b))})};h.bc=function(a){var b=this;Hl(this,function(){a.next(U(b))})};h.ic=function(a,b,c){var d=this;this.W&&firebase.Promise.resolve().then(function(){p(a)?a(U(d)):p(a.next)&&a.next(U(d))});return this.Kb(a,b,c)};\nh.hc=function(a,b,c){var d=this;this.W&&firebase.Promise.resolve().then(function(){d.R=d.getUid();p(a)?a(U(d)):p(a.next)&&a.next(U(d))});return this.Lb(a,b,c)};h.Vb=function(a){var b=this,c=this.i.then(function(){return U(b)?U(b).F(a).then(function(a){return{accessToken:a}}):null});return T(this,c)};h.tc=function(a){return this.Eb(a).then(function(a){return a.user})};\nh.Eb=function(a){var b=this;return this.i.then(function(){return Gl(b,Q(b.c,vi,{token:a}))}).then(function(a){var c=a.user;Tk(c,\"isAnonymous\",!1);b.ka(c);return a})};h.Fb=function(a,b){var c=this;return this.i.then(function(){return Gl(c,Q(c.c,kh,{email:a,password:b}))})};h.uc=function(a,b){return this.Fb(a,b).then(function(a){return a.user})};h.Ob=function(a,b){return this.qb(a,b).then(function(a){return a.user})};\nh.qb=function(a,b){var c=this;return this.i.then(function(){return Gl(c,Q(c.c,ri,{email:a,password:b}))})};h.sc=function(a){return this.fb(a).then(function(a){return a.user})};h.fb=function(a){var b=this;return this.i.then(function(){return Gl(b,a.wa(b.c))})};h.gb=function(){return this.Gb().then(function(a){return a.user})};\nh.Gb=function(){var a=this;return this.i.then(function(){var b=U(a);if(b&&b.isAnonymous){var c=hg({providerId:null,isNewUser:!1});return hg({user:b,credential:null,additionalUserInfo:c,operationType:\"signIn\"})}return Gl(a,a.c.gb()).then(function(b){var c=b.user;Tk(c,\"isAnonymous\",!0);a.ka(c);return b})})};function S(a){return a.app}function U(a){return a.currentUser}h.getUid=function(){return U(this)&&U(this).uid||null};function Il(a){return U(a)&&U(a)._lat||null}\nfunction El(a){if(a.W){for(var b=0;b<a.m.length;b++)if(a.m[b])a.m[b](Il(a));if(a.R!==a.getUid()&&a.I.length)for(a.R=a.getUid(),b=0;b<a.I.length;b++)if(a.I[b])a.I[b](Il(a))}}h.Mb=function(a){this.addAuthTokenListener(a);this.o++;0<this.o&&U(this)&&Jk(U(this))};h.qc=function(a){var b=this;w(this.m,function(c){c==a&&b.o--});0>this.o&&(this.o=0);0==this.o&&U(this)&&Kk(U(this));this.removeAuthTokenListener(a)};\nh.addAuthTokenListener=function(a){var b=this;this.m.push(a);T(this,this.i.then(function(){b.l||Ha(b.m,a)&&a(Il(b))}))};h.removeAuthTokenListener=function(a){Ja(this.m,function(b){return b==a})};function Hl(a,b){a.I.push(b);T(a,a.i.then(function(){!a.l&&Ha(a.I,b)&&a.R!==a.getUid()&&(a.R=a.getUid(),b(Il(a)))}))}h.delete=function(){this.l=!0;for(var a=0;a<this.N.length;a++)this.N[a].cancel(\"app-deleted\");this.N=[];this.h&&(a=this.h,xj(a.b,a.a,this.ha));this.a&&this.a.unsubscribe(this);return firebase.Promise.resolve()};\nfunction T(a,b){a.N.push(b);Qb(b,function(){Ia(a.N,b)});return b}h.Rb=function(a){return T(this,Th(this.c,a))};h.Fc=function(a){return this.Ia(a).then(function(a){return a.data.email})};h.Ta=function(a,b){return T(this,this.c.Ta(a,b).then(function(){}))};h.Ia=function(a){return T(this,this.c.Ia(a).then(function(a){return new lg(a)}))};h.Sa=function(a){return T(this,this.c.Sa(a).then(function(){}))};\nh.cb=function(a,b){var c=this;return T(this,A().then(function(){return\"undefined\"===typeof b||Sa(b)?{}:Fg(new wg(b))}).then(function(b){return c.c.cb(a,b)}).then(function(){}))};h.vc=function(a,b){return T(this,ok(this,a,b,r(this.fb,this)))};function Jl(a,b,c,d){a:{c=Array.prototype.slice.call(c);var e=0;for(var f=!1,g=0;g<b.length;g++)if(b[g].optional)f=!0;else{if(f)throw new N(\"internal-error\",\"Argument validator encountered a required argument after an optional argument.\");e++}f=b.length;if(c.length<e||f<c.length)d=\"Expected \"+(e==f?1==e?\"1 argument\":e+\" arguments\":e+\"-\"+f+\" arguments\")+\" but got \"+c.length+\".\";else{for(e=0;e<c.length;e++)if(f=b[e].optional&&void 0===c[e],!b[e].M(c[e])&&!f){b=b[e];if(0>e||e>=Kl.length)throw new N(\"internal-error\",\n\"Argument validator received an unsupported number of arguments.\");c=Kl[e];d=(d?\"\":c+\" argument \")+(b.name?'\"'+b.name+'\" ':\"\")+\"must be \"+b.K+\".\";break a}d=null}}if(d)throw new N(\"argument-error\",a+\" failed: \"+d);}var Kl=\"First Second Third Fourth Fifth Sixth Seventh Eighth Ninth\".split(\" \");function V(a,b){return{name:a||\"\",K:\"a valid string\",optional:!!b,M:m}}function Ll(){return{name:\"opt_forceRefresh\",K:\"a boolean\",optional:!0,M:ba}}\nfunction W(a,b){return{name:a||\"\",K:\"a valid object\",optional:!!b,M:q}}function Ml(a,b){return{name:a||\"\",K:\"a function\",optional:!!b,M:p}}function Nl(a,b){return{name:a||\"\",K:\"null\",optional:!!b,M:ea}}function Ol(){return{name:\"\",K:\"an HTML element\",optional:!1,M:function(a){return!!(a&&a instanceof Element)}}}function Pl(){return{name:\"auth\",K:\"an instance of Firebase Auth\",optional:!0,M:function(a){return!!(a&&a instanceof ul)}}}\nfunction Ql(){return{name:\"app\",K:\"an instance of Firebase App\",optional:!0,M:function(a){return!!(a&&a instanceof firebase.app.App)}}}function Rl(a){return{name:a?a+\"Credential\":\"credential\",K:a?\"a valid \"+a+\" credential\":\"a valid credential\",optional:!1,M:function(b){if(!b)return!1;var c=!a||b.providerId===a;return!(!b.wa||!c)}}}\nfunction Sl(){return{name:\"authProvider\",K:\"a valid Auth provider\",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty(\"isOAuthProvider\"))}}}function Tl(){return{name:\"applicationVerifier\",K:\"an implementation of firebase.auth.ApplicationVerifier\",optional:!1,M:function(a){return!!(a&&m(a.type)&&p(a.verify))}}}function X(a,b,c,d){return{name:c||\"\",K:a.K+\" or \"+b.K,optional:!!d,M:function(c){return a.M(c)||b.M(c)}}};function Ul(a,b,c,d,e,f){M(this,\"type\",\"recaptcha\");this.b=this.c=null;this.m=!1;this.l=b;this.a=c||{theme:\"light\",type:\"image\"};this.g=[];if(this.a[Vl])throw new N(\"argument-error\",\"sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.\");this.h=\"invisible\"===this.a[Wl];if(!wc(b)||!this.h&&wc(b).hasChildNodes())throw new N(\"argument-error\",\"reCAPTCHA container is either not found or already contains inner elements!\");this.u=new Ch(a,f||null,e||null);\nthis.o=d||function(){return null};var g=this;this.i=[];var l=this.a[Xl];this.a[Xl]=function(a){Yl(g,a);if(\"function\"===typeof l)l(a);else if(\"string\"===typeof l){var b=L(l,k);\"function\"===typeof b&&b(a)}};var n=this.a[Zl];this.a[Zl]=function(){Yl(g,null);if(\"function\"===typeof n)n();else if(\"string\"===typeof n){var a=L(n,k);\"function\"===typeof a&&a()}}}var Xl=\"callback\",Zl=\"expired-callback\",Vl=\"sitekey\",Wl=\"size\";function Yl(a,b){for(var c=0;c<a.i.length;c++)try{a.i[c](b)}catch(d){}}\nfunction $l(a,b){Ja(a.i,function(a){return a==b})}function am(a,b){a.g.push(b);Qb(b,function(){Ia(a.g,b)});return b}h=Ul.prototype;\nh.xa=function(){var a=this;return this.c?this.c:this.c=am(this,A().then(function(){if(Sf())return Hf();throw new N(\"operation-not-supported-in-this-environment\",\"RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.\");}).then(function(){return bm(cm(),a.o())}).then(function(){return Q(a.u,ui,{})}).then(function(b){a.a[Vl]=b.recaptchaSiteKey}).s(function(b){a.c=null;throw b;}))};\nh.render=function(){dm(this);var a=this;return am(this,this.xa().then(function(){if(null===a.b){var b=a.l;if(!a.h){var c=wc(b);b=zc(\"DIV\");c.appendChild(b)}a.b=grecaptcha.render(b,a.a)}return a.b}))};h.verify=function(){dm(this);var a=this;return am(this,this.render().then(function(b){return new z(function(c){var d=grecaptcha.getResponse(b);if(d)c(d);else{var e=function(b){b&&($l(a,e),c(b))};a.i.push(e);a.h&&grecaptcha.execute(a.b)}})}))};h.reset=function(){dm(this);null!==this.b&&grecaptcha.reset(this.b)};\nfunction dm(a){if(a.m)throw new N(\"internal-error\",\"RecaptchaVerifier instance has been destroyed.\");}h.clear=function(){dm(this);this.m=!0;cm().b--;for(var a=0;a<this.g.length;a++)this.g[a].cancel(\"RecaptchaVerifier instance has been destroyed.\");if(!this.h){a=wc(this.l);for(var b;b=a.firstChild;)a.removeChild(b)}};var em=dc(\"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}\");\nfunction fm(){this.b=k.grecaptcha?Infinity:0;this.c=null;this.a=\"__rcb\"+Math.floor(1E6*Math.random()).toString()}\nfunction bm(a,b){return new z(function(c,d){if(Zf())if(!k.grecaptcha||b!==a.c&&!a.b){k[a.a]=function(){if(k.grecaptcha){a.c=b;var e=k.grecaptcha.render;k.grecaptcha.render=function(b,c){b=e(b,c);a.b++;return b};c()}else d(new N(\"internal-error\"));delete k[a.a]};var e=hc(em,{onload:a.a,hl:b||\"\"});A(kf(e)).s(function(){d(new N(\"internal-error\",\"Unable to load external reCAPTCHA dependencies!\"))})}else c();else d(new N(\"network-request-failed\"))})}var gm=null;\nfunction cm(){gm||(gm=new fm);return gm}function hm(a,b,c){try{this.f=c||firebase.app()}catch(f){throw new N(\"argument-error\",\"No firebase.app.App instance is currently initialized.\");}if(this.f.options&&this.f.options.apiKey)c=this.f.options.apiKey;else throw new N(\"invalid-api-key\");var d=this,e=null;try{e=this.f.auth().Ka()}catch(f){}e=firebase.SDK_VERSION?Of(firebase.SDK_VERSION,e):null;Ul.call(this,c,a,b,function(){try{var a=d.f.auth().$()}catch(g){a=null}return a},e,xi(yi))}t(hm,Ul);function Y(a,b){for(var c in b){var d=b[c].name;a[d]=im(d,a[c],b[c].j)}}function Z(a,b,c,d){a[b]=im(b,c,d)}function im(a,b,c){function d(){var a=Array.prototype.slice.call(arguments);Jl(e,c,a);return b.apply(this,a)}if(!c)return b;var e=jm(a),f;for(f in b)d[f]=b[f];for(f in b.prototype)d.prototype[f]=b.prototype[f];return d}function jm(a){a=a.split(\".\");return a[a.length-1]};Y(ul.prototype,{Sa:{name:\"applyActionCode\",j:[V(\"code\")]},Ia:{name:\"checkActionCode\",j:[V(\"code\")]},Ta:{name:\"confirmPasswordReset\",j:[V(\"code\"),V(\"newPassword\")]},Ob:{name:\"createUserWithEmailAndPassword\",j:[V(\"email\"),V(\"password\")]},qb:{name:\"createUserAndRetrieveDataWithEmailAndPassword\",j:[V(\"email\"),V(\"password\")]},Rb:{name:\"fetchProvidersForEmail\",j:[V(\"email\")]},aa:{name:\"getRedirectResult\",j:[]},hc:{name:\"onAuthStateChanged\",j:[X(W(),Ml(),\"nextOrObserver\"),Ml(\"opt_error\",!0),Ml(\"opt_completed\",\n!0)]},ic:{name:\"onIdTokenChanged\",j:[X(W(),Ml(),\"nextOrObserver\"),Ml(\"opt_error\",!0),Ml(\"opt_completed\",!0)]},cb:{name:\"sendPasswordResetEmail\",j:[V(\"email\"),X(W(\"opt_actionCodeSettings\",!0),Nl(null,!0),\"opt_actionCodeSettings\",!0)]},eb:{name:\"setPersistence\",j:[V(\"persistence\")]},fb:{name:\"signInAndRetrieveDataWithCredential\",j:[Rl()]},gb:{name:\"signInAnonymously\",j:[]},Gb:{name:\"signInAnonymouslyAndRetrieveData\",j:[]},sc:{name:\"signInWithCredential\",j:[Rl()]},tc:{name:\"signInWithCustomToken\",j:[V(\"token\")]},\nEb:{name:\"signInAndRetrieveDataWithCustomToken\",j:[V(\"token\")]},uc:{name:\"signInWithEmailAndPassword\",j:[V(\"email\"),V(\"password\")]},Fb:{name:\"signInAndRetrieveDataWithEmailAndPassword\",j:[V(\"email\"),V(\"password\")]},vc:{name:\"signInWithPhoneNumber\",j:[V(\"phoneNumber\"),Tl()]},wc:{name:\"signInWithPopup\",j:[Sl()]},xc:{name:\"signInWithRedirect\",j:[Sl()]},hb:{name:\"signOut\",j:[]},toJSON:{name:\"toJSON\",j:[V(null,!0)]},Ec:{name:\"useDeviceLanguage\",j:[]},Fc:{name:\"verifyPasswordResetCode\",j:[V(\"code\")]}});\n(function(a,b){for(var c in b){var d=b[c].name;if(d!==c){var e=b[c].Nb;Object.defineProperty(a,d,{get:function(){return this[c]},set:function(a){Jl(d,[e],[a],!0);this[c]=a},enumerable:!0})}}})(ul.prototype,{lc:{name:\"languageCode\",Nb:X(V(),Nl(),\"languageCode\")}});ul.Persistence=nj;ul.Persistence.LOCAL=\"local\";ul.Persistence.SESSION=\"session\";ul.Persistence.NONE=\"none\";\nY(Bk.prototype,{\"delete\":{name:\"delete\",j:[]},F:{name:\"getIdToken\",j:[Ll()]},getToken:{name:\"getToken\",j:[Ll()]},Xa:{name:\"linkAndRetrieveDataWithCredential\",j:[Rl()]},cc:{name:\"linkWithCredential\",j:[Rl()]},dc:{name:\"linkWithPhoneNumber\",j:[V(\"phoneNumber\"),Tl()]},ec:{name:\"linkWithPopup\",j:[Sl()]},fc:{name:\"linkWithRedirect\",j:[Sl()]},Za:{name:\"reauthenticateAndRetrieveDataWithCredential\",j:[Rl()]},mc:{name:\"reauthenticateWithCredential\",j:[Rl()]},nc:{name:\"reauthenticateWithPhoneNumber\",j:[V(\"phoneNumber\"),\nTl()]},oc:{name:\"reauthenticateWithPopup\",j:[Sl()]},pc:{name:\"reauthenticateWithRedirect\",j:[Sl()]},reload:{name:\"reload\",j:[]},bb:{name:\"sendEmailVerification\",j:[X(W(\"opt_actionCodeSettings\",!0),Nl(null,!0),\"opt_actionCodeSettings\",!0)]},toJSON:{name:\"toJSON\",j:[V(null,!0)]},Cc:{name:\"unlink\",j:[V(\"provider\")]},kb:{name:\"updateEmail\",j:[V(\"email\")]},lb:{name:\"updatePassword\",j:[V(\"password\")]},Dc:{name:\"updatePhoneNumber\",j:[Rl(\"phone\")]},mb:{name:\"updateProfile\",j:[W(\"profile\")]}});\nY(z.prototype,{s:{name:\"catch\"},then:{name:\"then\"}});Y(nk.prototype,{confirm:{name:\"confirm\",j:[V(\"verificationCode\")]}});Z(mh,\"credential\",function(a,b){return new jh(a,b)},[V(\"email\"),V(\"password\")]);Y(bh.prototype,{sa:{name:\"addScope\",j:[V(\"scope\")]},Ba:{name:\"setCustomParameters\",j:[W(\"customOAuthParameters\")]}});Z(bh,\"credential\",ch,[X(V(),W(),\"token\")]);Y(dh.prototype,{sa:{name:\"addScope\",j:[V(\"scope\")]},Ba:{name:\"setCustomParameters\",j:[W(\"customOAuthParameters\")]}});\nZ(dh,\"credential\",eh,[X(V(),W(),\"token\")]);Y(fh.prototype,{sa:{name:\"addScope\",j:[V(\"scope\")]},Ba:{name:\"setCustomParameters\",j:[W(\"customOAuthParameters\")]}});Z(fh,\"credential\",gh,[X(V(),X(W(),Nl()),\"idToken\"),X(V(),Nl(),\"accessToken\",!0)]);Y(hh.prototype,{Ba:{name:\"setCustomParameters\",j:[W(\"customOAuthParameters\")]}});Z(hh,\"credential\",ih,[X(V(),W(),\"token\"),V(\"secret\",!0)]);\nY(P.prototype,{sa:{name:\"addScope\",j:[V(\"scope\")]},credential:{name:\"credential\",j:[X(V(),Nl(),\"idToken\",!0),X(V(),Nl(),\"accessToken\",!0)]},Ba:{name:\"setCustomParameters\",j:[W(\"customOAuthParameters\")]}});Z(rh,\"credential\",th,[V(\"verificationId\"),V(\"verificationCode\")]);Y(rh.prototype,{Qa:{name:\"verifyPhoneNumber\",j:[V(\"phoneNumber\"),Tl()]}});Y(N.prototype,{toJSON:{name:\"toJSON\",j:[V(null,!0)]}});Y(zh.prototype,{toJSON:{name:\"toJSON\",j:[V(null,!0)]}});\nY(yh.prototype,{toJSON:{name:\"toJSON\",j:[V(null,!0)]}});Y(hm.prototype,{clear:{name:\"clear\",j:[]},render:{name:\"render\",j:[]},verify:{name:\"verify\",j:[]}});\n(function(){if(\"undefined\"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:ul,Error:N};Z(a,\"EmailAuthProvider\",mh,[]);Z(a,\"FacebookAuthProvider\",bh,[]);Z(a,\"GithubAuthProvider\",dh,[]);Z(a,\"GoogleAuthProvider\",fh,[]);Z(a,\"TwitterAuthProvider\",hh,[]);Z(a,\"OAuthProvider\",P,[V(\"providerId\")]);Z(a,\"PhoneAuthProvider\",rh,[Pl()]);Z(a,\"RecaptchaVerifier\",hm,[X(V(),Ol(),\"recaptchaContainer\"),W(\"recaptchaParameters\",!0),Ql()]);firebase.INTERNAL.registerService(\"auth\",function(a,\nc){a=new ul(a);c({INTERNAL:{getUid:r(a.getUid,a),getToken:r(a.Vb,a),addAuthTokenListener:r(a.Mb,a),removeAuthTokenListener:r(a.qc,a)}});return a},a,function(a,c){if(\"create\"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:Bk})}else throw Error(\"Cannot find the firebase namespace; be sure to include firebase-app.js before this library.\");})();\n}).call(typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {});\n","import { DocumentReference, Query, QuerySnapshot, DocumentSnapshot } from '@firebase/firestore-types';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscriber } from 'rxjs/Subscriber';\nimport { Subscription } from 'rxjs/Subscription';\nimport { observeOn } from 'rxjs/operator/observeOn';\nimport { ZoneScheduler } from 'angularfire2';\nimport { Action, Reference } from '../interfaces';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/share';\n\nfunction _fromRef<T, R>(ref: Reference<T>): Observable<R> {\n  const ref$ = new Observable(subscriber => {\n    const unsubscribe = ref.onSnapshot(subscriber);\n    return { unsubscribe };\n  });\n  return observeOn.call(ref$, new ZoneScheduler(Zone.current));\n}\n\nexport function fromRef<R>(ref: DocumentReference | Query) {\n  return _fromRef<typeof ref, R>(ref).share();\n}\n\nexport function fromDocRef(ref: DocumentReference): Observable<Action<DocumentSnapshot>>{\n  return fromRef<DocumentSnapshot>(ref)\n    .map(payload => ({ payload, type: 'value' }));\n}\n\nexport function fromCollectionRef(ref: Query): Observable<Action<QuerySnapshot>> {\n  return fromRef<QuerySnapshot>(ref).map(payload => ({ payload, type: 'query' }))\n}\n","import { fromCollectionRef } from '../observable/fromRef';\nimport { Query, DocumentChangeType, DocumentChange } from '@firebase/firestore-types';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/scan';\n\nimport { DocumentChangeAction, Action } from '../interfaces';\n\n/**\n * Return a stream of document changes on a query. These results are not in sort order but in\n * order of occurence.\n * @param query\n */\nexport function docChanges(query: Query): Observable<DocumentChangeAction[]> {\n  return fromCollectionRef(query)\n    .map(action =>\n      action.payload.docChanges\n        .map(change => ({ type: change.type, payload: change })));\n}\n\n/**\n * Return a stream of document changes on a query. These results are in sort order.\n * @param query\n */\nexport function sortedChanges(query: Query, events: DocumentChangeType[]): Observable<DocumentChangeAction[]> {\n  return fromCollectionRef(query)\n    .map(changes => changes.payload.docChanges)\n    .scan((current, changes) => combineChanges(current, changes, events), [])\n    .map(changes => changes.map(c => ({ type: c.type, payload: c })));\n}\n\n/**\n * Combines the total result set from the current set of changes from an incoming set\n * of changes.\n * @param current\n * @param changes\n * @param events\n */\nexport function combineChanges(current: DocumentChange[], changes: DocumentChange[], events: DocumentChangeType[]) {\n  changes.forEach(change => {\n    // skip unwanted change types\n    if(events.indexOf(change.type) > -1) {\n      current = combineChange(current, change);\n    }\n  });\n  return current;\n}\n\n/**\n * Creates a new sorted array from a new change.\n * @param combined\n * @param change\n */\nexport function combineChange(combined: DocumentChange[], change: DocumentChange): DocumentChange[] {\n  switch(change.type) {\n    case 'added':\n      if (combined[change.newIndex] && combined[change.newIndex].doc.id == change.doc.id) {\n        // Not sure why the duplicates are getting fired\n      } else {\n        combined.splice(change.newIndex, 0, change);\n      }\n      break;\n    case 'modified':\n      // When an item changes position we first remove it\n      // and then add it's new position\n      if(change.oldIndex !== change.newIndex) {\n        combined.splice(change.oldIndex, 1);\n        combined.splice(change.newIndex, 0, change);\n      } else {\n        combined.splice(change.newIndex, 1, change);\n      }\n      break;\n    case 'removed':\n      combined.splice(change.oldIndex, 1);\n      break;\n  }\n  return combined;\n}\n","import { DocumentChangeType, CollectionReference, Query, DocumentReference } from '@firebase/firestore-types';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscriber } from 'rxjs/Subscriber';\nimport { fromCollectionRef } from '../observable/fromRef';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/filter';\n\nimport { Injectable } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\n\nimport { QueryFn, AssociatedReference, DocumentChangeAction } from '../interfaces';\nimport { docChanges, sortedChanges } from './changes';\nimport { AngularFirestoreDocument } from '../document/document';\n\nexport function validateEventsArray(events?: DocumentChangeType[]) {\n  if(!events || events!.length === 0) {\n    events = ['added', 'removed', 'modified'];\n  }\n  return events;\n}\n\n/**\n * AngularFirestoreCollection service\n *\n * This class creates a reference to a Firestore Collection. A reference and a query are provided in\n * in the constructor. The query can be the unqueried reference if no query is desired.The class\n * is generic which gives you type safety for data update methods and data streaming.\n *\n * This class uses Symbol.observable to transform into Observable using Observable.from().\n *\n * This class is rarely used directly and should be created from the AngularFirestore service.\n *\n * Example:\n *\n * const collectionRef = firebase.firestore.collection('stocks');\n * const query = collectionRef.where('price', '>', '0.01');\n * const fakeStock = new AngularFirestoreCollection<Stock>(collectionRef, query);\n *\n * // NOTE!: the updates are performed on the reference not the query\n * await fakeStock.add({ name: 'FAKE', price: 0.01 });\n *\n * // Subscribe to changes as snapshots. This provides you data updates as well as delta updates.\n * fakeStock.valueChanges().subscribe(value => console.log(value));\n */\nexport class AngularFirestoreCollection<T> {\n  /**\n   * The constructor takes in a CollectionReference and Query to provide wrapper methods\n   * for data operations and data streaming.\n   *\n   * Note: Data operation methods are done on the reference not the query. This means\n   * when you update data it is not updating data to the window of your query unless\n   * the data fits the criteria of the query. See the AssociatedRefence type for details\n   * on this implication.\n   * @param ref\n   */\n  constructor(\n    public readonly ref: CollectionReference,\n    private readonly query: Query) { }\n\n  /**\n   * Listen to the latest change in the stream. This method returns changes\n   * as they occur and they are not sorted by query order. This allows you to construct\n   * your own data structure.\n   * @param events\n   */\n  stateChanges(events?: DocumentChangeType[]): Observable<DocumentChangeAction[]> {\n    if(!events || events.length === 0) {\n      return docChanges(this.query);\n    }\n    return docChanges(this.query)\n      .map(actions => actions.filter(change => events.indexOf(change.type) > -1))\n      .filter(changes =>  changes.length > 0);\n  }\n\n  /**\n   * Create a stream of changes as they occur it time. This method is similar to stateChanges()\n   * but it collects each event in an array over time.\n   * @param events\n   */\n  auditTrail(events?: DocumentChangeType[]): Observable<DocumentChangeAction[]> {\n    return this.stateChanges(events).scan((current, action) => [...current, ...action], []);\n  }\n\n  /**\n   * Create a stream of synchronized changes. This method keeps the local array in sorted\n   * query order.\n   * @param events\n   */\n  snapshotChanges(events?: DocumentChangeType[]): Observable<DocumentChangeAction[]> {\n    events = validateEventsArray(events);\n    return sortedChanges(this.query, events);\n  }\n\n  /**\n   * Listen to all documents in the collection and its possible query as an Observable.\n   */\n  valueChanges(events?: DocumentChangeType[]): Observable<T[]> {\n    return fromCollectionRef(this.query)\n      .map(actions => actions.payload.docs.map(a => a.data()) as T[]);\n  }\n\n  /**\n   * Add data to a collection reference.\n   *\n   * Note: Data operation methods are done on the reference not the query. This means\n   * when you update data it is not updating data to the window of your query unless\n   * the data fits the criteria of the query.\n   */\n  add(data: T): Promise<DocumentReference> {\n    return this.ref.add(data);\n  }\n\n  /**\n   * Create a reference to a single document in a collection.\n   * @param path\n   */\n  doc<T>(path: string): AngularFirestoreDocument<T> {\n    return new AngularFirestoreDocument<T>(this.ref.doc(path));\n  }\n}\n","import { DocumentReference, SetOptions, DocumentSnapshot } from '@firebase/firestore-types';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscriber } from 'rxjs/Subscriber';\nimport { QueryFn, AssociatedReference, Action } from '../interfaces';\nimport { fromDocRef } from '../observable/fromRef';\nimport 'rxjs/add/operator/map';\n\nimport { Injectable } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\n\nimport { associateQuery } from '../firestore';\nimport { AngularFirestoreCollection } from '../collection/collection';\n\n\n/**\n * AngularFirestoreDocument service\n *\n * This class creates a reference to a Firestore Document. A reference is provided in\n * in the constructor. The class is generic which gives you type safety for data update\n * methods and data streaming.\n *\n * This class uses Symbol.observable to transform into Observable using Observable.from().\n *\n * This class is rarely used directly and should be created from the AngularFirestore service.\n *\n * Example:\n *\n * const fakeStock = new AngularFirestoreDocument<Stock>(doc('stocks/FAKE'));\n * await fakeStock.set({ name: 'FAKE', price: 0.01 });\n * fakeStock.valueChanges().map(snap => {\n *   if(snap.exists) return snap.data();\n *   return null;\n * }).subscribe(value => console.log(value));\n * // OR! Transform using Observable.from() and the data is unwrapped for you\n * Observable.from(fakeStock).subscribe(value => console.log(value));\n */\nexport class AngularFirestoreDocument<T> {\n\n  /**\n   * The contstuctor takes in a DocumentReference to provide wrapper methods\n   * for data operations, data streaming, and Symbol.observable.\n   * @param ref\n   */\n  constructor(public ref: DocumentReference) { }\n\n  /**\n   * Create or overwrite a single document.\n   * @param data\n   * @param options\n   */\n  set(data: T, options?: SetOptions): Promise<void> {\n    return this.ref.set(data, options);\n  }\n\n  /**\n   * Update some fields of a document without overwriting the entire document.\n   * @param data\n   */\n  update(data: Partial<T>): Promise<void> {\n    return this.ref.update(data);\n  }\n\n  /**\n   * Delete a document.\n   */\n  delete(): Promise<void> {\n    return this.ref.delete();\n  }\n\n  /**\n   * Create a reference to a sub-collection given a path and an optional query\n   * function.\n   * @param path\n   * @param queryFn\n   */\n  collection<T>(path: string, queryFn?: QueryFn): AngularFirestoreCollection<T> {\n    const collectionRef = this.ref.collection(path);\n    const { ref, query } = associateQuery(collectionRef, queryFn);\n    return new AngularFirestoreCollection<T>(ref, query);\n  }\n\n  /**\n   * Listen to snapshot updates from the document.\n   */\n  snapshotChanges(): Observable<Action<DocumentSnapshot>> {\n    return fromDocRef(this.ref);\n  }\n\n  /**\n   * Listen to unwrapped snapshot updates from the document.\n   */\n  valueChanges(): Observable<T> {\n    return this.snapshotChanges().map(action => {\n      return (action.payload.exists ? action.payload.data() : null) as T;\n    });\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\n/**\n * The value of this token determines whether or not the firestore will have persistance enabled\n */\nexport const EnablePersistenceToken = new InjectionToken<boolean>('EnablePersistenceToken');\n","import { FirebaseFirestore, CollectionReference } from '@firebase/firestore-types';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscriber } from 'rxjs/Subscriber';\nimport { from } from 'rxjs/observable/from';\nimport 'rxjs/add/operator/map';\n\nimport { Injectable, Inject, Optional } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\n\nimport { QueryFn, AssociatedReference } from './interfaces';\nimport { AngularFirestoreDocument } from './document/document';\nimport { AngularFirestoreCollection } from './collection/collection';\nimport { EnablePersistenceToken } from './enable-persistance-token';\n\n\n/**\n * A utility methods for associating a collection reference with\n * a query.\n *\n * @param collectionRef - A collection reference to query\n * @param queryFn - The callback to create a query\n *\n * Example:\n * const { query, ref } = associateQuery(docRef.collection('items'), ref => {\n *  return ref.where('age', '<', 200);\n * });\n */\nexport function associateQuery(collectionRef: CollectionReference, queryFn = ref => ref): AssociatedReference {\n  const query = queryFn(collectionRef);\n  const ref = collectionRef;\n  return { query, ref };\n}\n\n/**\n * AngularFirestore Service\n *\n * This service is the main entry point for this feature module. It provides\n * an API for creating Collection and Reference services. These services can\n * then be used to do data updates and observable streams of the data.\n *\n * Example:\n *\n * import { Component } from '@angular/core';\n * import { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\n * import { Observable } from 'rxjs/Observable';\n * import { from } from 'rxjs/observable/from';\n *\n * @Component({\n *   selector: 'app-my-component',\n *   template: `\n *    <h2>Items for {{ (profile | async)?.name }}\n *    <ul>\n *       <li *ngFor=\"let item of items | async\">{{ item.name }}</li>\n *    </ul>\n *    <div class=\"control-input\">\n *       <input type=\"text\" #itemname />\n *       <button (click)=\"addItem(itemname.value)\">Add Item</button>\n *    </div>\n *   `\n * })\n * export class MyComponent implements OnInit {\n *\n *   // services for data operations and data streaming\n *   private readonly itemsRef: AngularFirestoreCollection<Item>;\n *   private readonly profileRef: AngularFirestoreDocument<Profile>;\n *\n *   // observables for template\n *   items: Observable<Item[]>;\n *   profile: Observable<Profile>;\n *\n *   // inject main service\n *   constructor(private readonly afs: AngularFirestore) {}\n *\n *   ngOnInit() {\n *     this.itemsRef = afs.collection('items', ref => ref.where('user', '==', 'davideast').limit(10));\n *     this.items = this.itemsRef.valueChanges().map(snap => snap.docs.map(data => doc.data()));\n *     // this.items = from(this.itemsRef); // you can also do this with no mapping\n *\n *     this.profileRef = afs.doc('users/davideast');\n *     this.profile = this.profileRef.valueChanges();\n *   }\n *\n *   addItem(name: string) {\n *     const user = 'davideast';\n *     this.itemsRef.add({ name, user });\n *   }\n * }\n */\n@Injectable()\nexport class AngularFirestore {\n  public readonly firestore: FirebaseFirestore;\n  public readonly persistenceEnabled$: Observable<boolean>;\n\n  /**\n   * Each Feature of AngularFire has a FirebaseApp injected. This way we\n   * don't rely on the main Firebase App instance and we can create named\n   * apps and use multiple apps.\n   * @param app\n   */\n  constructor(public app: FirebaseApp, @Optional() @Inject(EnablePersistenceToken) shouldEnablePersistence: boolean) {\n    this.firestore = app.firestore();\n\n    this.persistenceEnabled$ = shouldEnablePersistence ?\n      from(app.firestore().enablePersistence().then(() => true, () => false)) :\n      from(new Promise((res, rej) => { res(false); }));\n  }\n\n  /**\n   * Create a reference to a Firestore Collection based on a path and an optional\n   * query function to narrow the result set.\n   * @param path\n   * @param queryFn\n   */\n  collection<T>(path: string, queryFn?: QueryFn): AngularFirestoreCollection<T> {\n    const collectionRef = this.firestore.collection(path);\n    const { ref, query } = associateQuery(collectionRef, queryFn);\n    return new AngularFirestoreCollection<T>(ref, query);\n  }\n\n  /**\n   * Create a reference to a Firestore Document based on a path. Note that documents\n   * are not queryable because they are simply objects. However, documents have\n   * sub-collections that return a Collection reference and can be queried.\n   * @param path\n   */\n  doc<T>(path: string): AngularFirestoreDocument<T> {\n    const ref = this.firestore.doc(path);\n    return new AngularFirestoreDocument<T>(ref);\n  }\n\n  /**\n   * Returns a generated Firestore Document Id.\n   */\n  createId() {\n    return this.firestore.collection('_').doc().id\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase from '@firebase/app';\n\n/** The semver (www.semver.org) version of the SDK. */\nexport const SDK_VERSION = firebase.SDK_VERSION;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* tslint:disable:no-console */\n\nimport { SDK_VERSION } from '../core/version';\nimport { AnyJs } from './misc';\nimport { PlatformSupport } from '../platform/platform';\n\nexport enum LogLevel {\n  DEBUG,\n  ERROR,\n  SILENT\n}\n\nlet logLevel = LogLevel.ERROR;\n\n// Helper methods are needed because variables can't be exported as read/write\nexport function getLogLevel(): LogLevel {\n  return logLevel;\n}\nexport function setLogLevel(newLevel: LogLevel): void {\n  logLevel = newLevel;\n}\n\nexport function debug(tag: string, msg: string, ...obj: AnyJs[]): void {\n  if (logLevel <= LogLevel.DEBUG) {\n    const time = new Date().toISOString();\n    const args = obj.map(argToString);\n    console.log(`Firestore (${SDK_VERSION}) ${time} [${tag}]: ${msg}`, ...args);\n  }\n}\n\nexport function error(msg: string, ...obj: AnyJs[]): void {\n  if (logLevel <= LogLevel.ERROR) {\n    const time = new Date().toISOString();\n    const args = obj.map(argToString);\n    console.error(`Firestore (${SDK_VERSION}) ${time}: ${msg}`, ...args);\n  }\n}\n\n/**\n * Converts an additional log parameter to a string representation.\n */\nfunction argToString(obj: AnyJs): string | AnyJs {\n  if (typeof obj === 'string') {\n    return obj;\n  } else {\n    const platform = PlatformSupport.getPlatform();\n    try {\n      return platform.formatJSON(obj);\n    } catch (e) {\n      // Converting to JSON failed, just log the object directly\n      return obj;\n    }\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SDK_VERSION } from '../core/version';\n\nimport { error } from './log';\n\n/**\n * Unconditionally fails, throwing an Error with the given message.\n *\n * Returns any so it can be used in expressions:\n * @example\n * let futureVar = fail('not implemented yet');\n */\nexport function fail(failure: string): never {\n  // Log the failure in addition to throw an exception, just in case the\n  // exception is swallowed.\n  const message =\n    `FIRESTORE (${SDK_VERSION}) INTERNAL ASSERTION FAILED: ` + failure;\n  error(message);\n\n  // NOTE: We don't use FirestoreError here because these are internal failures\n  // that cannot be handled by the user. (Also it would create a circular\n  // dependency between the error and assert modules which doesn't work.)\n  throw new Error(message);\n}\n\n/**\n * Fails if the given assertion condition is false, throwing an Error with the\n * given message if it did.\n */\nexport function assert(assertion: boolean, message: string) {\n  if (!assertion) {\n    fail(message);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DatabaseId, DatabaseInfo } from '../core/database_info';\nimport { ProtoByteString } from '../core/types';\nimport { Connection } from '../remote/connection';\nimport { JsonProtoSerializer } from '../remote/serializer';\nimport { fail } from '../util/assert';\nimport { AnyJs } from '../util/misc';\n\n/**\n * Provides a common interface to load anything platform dependent, e.g.\n * the connection implementation.\n *\n * An implementation of this must be provided at compile time for the platform.\n */\nexport interface Platform {\n  loadConnection(databaseInfo: DatabaseInfo): Promise<Connection>;\n  newSerializer(databaseId: DatabaseId): JsonProtoSerializer;\n\n  /** Formats an object as a JSON string, suitable for logging. */\n  formatJSON(value: AnyJs): string;\n\n  /** Converts a Base64 encoded string to a binary string. */\n  atob(encoded: string): string;\n\n  /** Converts a binary string to a Base64 encoded string. */\n  btoa(raw: string): string;\n\n  /** True if and only if the Base64 conversion functions are available. */\n  readonly base64Available: boolean;\n\n  readonly emptyByteString: ProtoByteString;\n}\n\n/**\n * Provides singleton helpers where setup code can inject a platform at runtime.\n * setPlatform needs to be set before Firestore is used and must be set exactly\n * once.\n */\nexport class PlatformSupport {\n  private static platform: Platform;\n  static setPlatform(platform: Platform): void {\n    if (PlatformSupport.platform) {\n      fail('Platform already defined');\n    }\n    PlatformSupport.platform = platform;\n  }\n\n  static getPlatform(): Platform {\n    if (!PlatformSupport.platform) {\n      fail('Platform not set');\n    }\n    return PlatformSupport.platform;\n  }\n}\n\n/**\n * Returns the representation of an empty \"proto\" byte string for the\n * platform.\n */\nexport function emptyByteString(): ProtoByteString {\n  return PlatformSupport.getPlatform().emptyByteString;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\n\n/**\n * Error Codes describing the different ways Firestore can fail. These come\n * directly from GRPC.\n */\nexport type Code = firestore.FirestoreErrorCode;\n\n// TODO(mcg): Change to a string enum once we've upgraded to typescript 2.4.\n//  tslint:disable-next-line:variable-name Intended to look like a TS 2.4 enum\nexport const Code = {\n  // Causes are copied from:\n  // https://github.com/grpc/grpc/blob/bceec94ea4fc5f0085d81235d8e1c06798dc341a/include/grpc%2B%2B/impl/codegen/status_code_enum.h\n  /** Not an error; returned on success. */\n  OK: 'ok' as Code,\n\n  /** The operation was cancelled (typically by the caller). */\n  CANCELLED: 'cancelled' as Code,\n\n  /** Unknown error or an error from a different error domain. */\n  UNKNOWN: 'unknown' as Code,\n\n  /**\n   * Client specified an invalid argument. Note that this differs from\n   * FAILED_PRECONDITION. INVALID_ARGUMENT indicates arguments that are\n   * problematic regardless of the state of the system (e.g., a malformed file\n   * name).\n   */\n  INVALID_ARGUMENT: 'invalid-argument' as Code,\n\n  /**\n   * Deadline expired before operation could complete. For operations that\n   * change the state of the system, this error may be returned even if the\n   * operation has completed successfully. For example, a successful response\n   * from a server could have been delayed long enough for the deadline to\n   * expire.\n   */\n  DEADLINE_EXCEEDED: 'deadline-exceeded' as Code,\n\n  /** Some requested entity (e.g., file or directory) was not found. */\n  NOT_FOUND: 'not-found' as Code,\n\n  /**\n   * Some entity that we attempted to create (e.g., file or directory) already\n   * exists.\n   */\n  ALREADY_EXISTS: 'already-exists' as Code,\n\n  /**\n   * The caller does not have permission to execute the specified operation.\n   * PERMISSION_DENIED must not be used for rejections caused by exhausting\n   * some resource (use RESOURCE_EXHAUSTED instead for those errors).\n   * PERMISSION_DENIED must not be used if the caller can not be identified\n   * (use UNAUTHENTICATED instead for those errors).\n   */\n  PERMISSION_DENIED: 'permission-denied' as Code,\n\n  /**\n   * The request does not have valid authentication credentials for the\n   * operation.\n   */\n  UNAUTHENTICATED: 'unauthenticated' as Code,\n\n  /**\n   * Some resource has been exhausted, perhaps a per-user quota, or perhaps the\n   * entire file system is out of space.\n   */\n  RESOURCE_EXHAUSTED: 'resource-exhausted' as Code,\n\n  /**\n   * Operation was rejected because the system is not in a state required for\n   * the operation's execution. For example, directory to be deleted may be\n   * non-empty, an rmdir operation is applied to a non-directory, etc.\n   *\n   * A litmus test that may help a service implementor in deciding\n   * between FAILED_PRECONDITION, ABORTED, and UNAVAILABLE:\n   *  (a) Use UNAVAILABLE if the client can retry just the failing call.\n   *  (b) Use ABORTED if the client should retry at a higher-level\n   *      (e.g., restarting a read-modify-write sequence).\n   *  (c) Use FAILED_PRECONDITION if the client should not retry until\n   *      the system state has been explicitly fixed. E.g., if an \"rmdir\"\n   *      fails because the directory is non-empty, FAILED_PRECONDITION\n   *      should be returned since the client should not retry unless\n   *      they have first fixed up the directory by deleting files from it.\n   *  (d) Use FAILED_PRECONDITION if the client performs conditional\n   *      REST Get/Update/Delete on a resource and the resource on the\n   *      server does not match the condition. E.g., conflicting\n   *      read-modify-write on the same resource.\n   */\n  FAILED_PRECONDITION: 'failed-precondition' as Code,\n\n  /**\n   * The operation was aborted, typically due to a concurrency issue like\n   * sequencer check failures, transaction aborts, etc.\n   *\n   * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n   * and UNAVAILABLE.\n   */\n  ABORTED: 'aborted' as Code,\n\n  /**\n   * Operation was attempted past the valid range. E.g., seeking or reading\n   * past end of file.\n   *\n   * Unlike INVALID_ARGUMENT, this error indicates a problem that may be fixed\n   * if the system state changes. For example, a 32-bit file system will\n   * generate INVALID_ARGUMENT if asked to read at an offset that is not in the\n   * range [0,2^32-1], but it will generate OUT_OF_RANGE if asked to read from\n   * an offset past the current file size.\n   *\n   * There is a fair bit of overlap between FAILED_PRECONDITION and\n   * OUT_OF_RANGE. We recommend using OUT_OF_RANGE (the more specific error)\n   * when it applies so that callers who are iterating through a space can\n   * easily look for an OUT_OF_RANGE error to detect when they are done.\n   */\n  OUT_OF_RANGE: 'out-of-range' as Code,\n\n  /** Operation is not implemented or not supported/enabled in this service. */\n  UNIMPLEMENTED: 'unimplemented' as Code,\n\n  /**\n   * Internal errors. Means some invariants expected by underlying System has\n   * been broken. If you see one of these errors, Something is very broken.\n   */\n  INTERNAL: 'internal' as Code,\n\n  /**\n   * The service is currently unavailable. This is a most likely a transient\n   * condition and may be corrected by retrying with a backoff.\n   *\n   * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n   * and UNAVAILABLE.\n   */\n  UNAVAILABLE: 'unavailable' as Code,\n\n  /** Unrecoverable data loss or corruption. */\n  DATA_LOSS: 'data-loss' as Code\n};\n\n/**\n * An error class used for Firestore-generated errors. Ideally we should be\n * using FirebaseError, but integrating with it is overly arduous at the moment,\n * so we define our own compatible error class (with a `name` of 'FirebaseError'\n * and compatible `code` and `message` fields.)\n */\nexport class FirestoreError extends Error implements firestore.FirestoreError {\n  name = 'FirebaseError';\n  stack?: string;\n\n  constructor(readonly code: Code, readonly message: string) {\n    super(message);\n\n    // HACK: We write a toString property directly because Error is not a real\n    // class and so inheritance does not work correctly. We could alternatively\n    // do the same \"back-door inheritance\" trick that FirebaseError does.\n    this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// We are doing some heavy reflective stuff, lots of any casting necessary\n/* tslint:disable:no-any */\n\nimport { Code, FirestoreError } from './error';\n\n/**\n * Helper function to prevent instantiation through the constructor.\n *\n * This method creates a new constructor that throws when it's invoked.\n * The prototype of that constructor is then set to the prototype of the hidden\n * \"class\" to expose all the prototype methods and allow for instanceof\n * checks.\n *\n * To also make all the static methods available, all properties of the\n * original constructor are copied to the new constructor.\n */\nexport function makeConstructorPrivate<T>(cls: T, optionalMessage?: string): T {\n  function PublicConstructor() {\n    let error = 'This constructor is private.';\n    if (optionalMessage) {\n      error += ' ';\n      error += optionalMessage;\n    }\n    throw new FirestoreError(Code.INVALID_ARGUMENT, error);\n  }\n\n  // Make sure instanceof checks work and all methods are exposed on the public\n  // constructor\n  PublicConstructor.prototype = (cls as any).prototype;\n\n  // Copy any static methods/members\n  for (const staticProperty in cls) {\n    if (cls.hasOwnProperty(staticProperty)) {\n      (PublicConstructor as any)[staticProperty] = (cls as any)[staticProperty];\n    }\n  }\n\n  return PublicConstructor as any;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\nexport interface Dict<V> {\n  [stringKey: string]: V;\n  [numberKey: number]: V;\n}\n\nexport function contains<V>(obj: Dict<V>, key: string | number): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function get<V>(obj: Dict<V>, key: string | number): V | null {\n  return Object.prototype.hasOwnProperty.call(obj, key) ? obj[key] : null;\n}\n\nexport function size<V>(obj: Dict<V>): number {\n  let count = 0;\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      count++;\n    }\n  }\n  return count;\n}\n\n/** Returns the given value if it's defined or the defaultValue otherwise. */\nexport function defaulted<V>(value: V | undefined, defaultValue: V): V {\n  return value !== undefined ? value : defaultValue;\n}\n\nexport function forEachNumber<V>(\n  obj: Dict<V>,\n  fn: (key: number, val: V) => void\n): void {\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      const num = Number(key);\n      if (!isNaN(num)) {\n        fn(num, obj[key]);\n      }\n    }\n  }\n}\n\nexport function forEach<V>(\n  obj: Dict<V>,\n  fn: (key: string, val: V) => void\n): void {\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      fn(key, obj[key]);\n    }\n  }\n}\n\nexport function lookupOrInsert<V>(\n  obj: Dict<V>,\n  key: string | number,\n  valFn: () => V\n): V {\n  if (!contains(obj, key)) {\n    obj[key] = valFn();\n  }\n  return obj[key];\n}\n\nexport function isEmpty<V>(obj: Dict<V>) {\n  assert(\n    obj != null && typeof obj === 'object',\n    'isEmpty() expects object parameter.'\n  );\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function shallowCopy<V>(obj: Dict<V>): Dict<V> {\n  assert(\n    obj && typeof obj === 'object',\n    'shallowCopy() expects object parameter.'\n  );\n  const result: Dict<V> = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fail } from './assert';\nimport { Code, FirestoreError } from './error';\nimport { AnyJs } from './misc';\nimport * as obj from './obj';\n\n/**\n * Validates the invocation of functionName has the exact number of arguments.\n *\n * Forward the magic \"arguments\" variable as second parameter on which the\n * parameter validation is performed:\n * validateExactNumberOfArgs('myFunction', arguments, 2);\n */\nexport function validateExactNumberOfArgs(\n  functionName: string,\n  args: IArguments,\n  numberOfArgs: number\n): void {\n  if (args.length !== numberOfArgs) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires ` +\n        formatPlural(numberOfArgs, 'argument') +\n        ', but was called with ' +\n        formatPlural(args.length, 'argument') +\n        '.'\n    );\n  }\n}\n\n/**\n * Validates the invocation of functionName has at least the provided number of\n * arguments (but can have many more).\n *\n * Forward the magic \"arguments\" variable as second parameter on which the\n * parameter validation is performed:\n * validateAtLeastNumberOfArgs('myFunction', arguments, 2);\n */\nexport function validateAtLeastNumberOfArgs(\n  functionName: string,\n  args: IArguments,\n  minNumberOfArgs: number\n): void {\n  if (args.length < minNumberOfArgs) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires at least ` +\n        formatPlural(minNumberOfArgs, 'argument') +\n        ', but was called with ' +\n        formatPlural(args.length, 'argument') +\n        '.'\n    );\n  }\n}\n\n/**\n * Validates the invocation of functionName has number of arguments between\n * the values provided.\n *\n * Forward the magic \"arguments\" variable as second parameter on which the\n * parameter validation is performed:\n * validateBetweenNumberOfArgs('myFunction', arguments, 2, 3);\n */\nexport function validateBetweenNumberOfArgs(\n  functionName: string,\n  args: IArguments,\n  minNumberOfArgs: number,\n  maxNumberOfArgs: number\n): void {\n  if (args.length < minNumberOfArgs || args.length > maxNumberOfArgs) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires between ${minNumberOfArgs} and ` +\n        `${maxNumberOfArgs} arguments, but was called with ` +\n        formatPlural(args.length, 'argument') +\n        '.'\n    );\n  }\n}\n\n/**\n * Validates the provided argument is an array and has as least the expected\n * number of elements.\n */\nexport function validateNamedArrayAtLeastNumberOfElements<T>(\n  functionName: string,\n  value: T[],\n  name: string,\n  minNumberOfElements: number\n): void {\n  if (!(value instanceof Array) || value.length < minNumberOfElements) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires its ${name} argument to be an ` +\n        'array with at least ' +\n        `${formatPlural(minNumberOfElements, 'element')}.`\n    );\n  }\n}\n\n/**\n * Validates the provided positional argument has the native JavaScript type\n * using typeof checks.\n */\nexport function validateArgType(\n  functionName: string,\n  type: string,\n  position: number,\n  argument: AnyJs\n): void {\n  validateType(functionName, type, `${ordinal(position)} argument`, argument);\n}\n\n/**\n * Validates the provided argument has the native JavaScript type using\n * typeof checks or is undefined.\n */\nexport function validateOptionalArgType(\n  functionName: string,\n  type: string,\n  position: number,\n  argument: AnyJs\n): void {\n  if (argument !== undefined) {\n    validateArgType(functionName, type, position, argument);\n  }\n}\n\n/**\n * Validates the provided named option has the native JavaScript type using\n * typeof checks.\n */\nexport function validateNamedType(\n  functionName: string,\n  type: string,\n  optionName: string,\n  argument: AnyJs\n): void {\n  validateType(functionName, type, `${optionName} option`, argument);\n}\n\n/**\n * Validates the provided named option has the native JavaScript type using\n * typeof checks or is undefined.\n */\nexport function validateNamedOptionalType(\n  functionName: string,\n  type: string,\n  optionName: string,\n  argument: AnyJs\n): void {\n  if (argument !== undefined) {\n    validateNamedType(functionName, type, optionName, argument);\n  }\n}\n\n/**\n * Validates that the provided named option equals one of the expected values.\n */\nexport function validateNamedPropertyEquals<T>(\n  functionName: string,\n  inputName: string,\n  optionName: string,\n  input: T,\n  expected: T[]\n): void {\n  const expectedDescription: string[] = [];\n\n  for (const val of expected) {\n    if (val === input) {\n      return;\n    }\n    expectedDescription.push(valueDescription(val));\n  }\n\n  const actualDescription = valueDescription(input);\n  throw new FirestoreError(\n    Code.INVALID_ARGUMENT,\n    `Invalid value ${actualDescription} provided to function ${\n      functionName\n    }() for option \"serverTimestamps\". Acceptable values: ${expectedDescription.join(\n      ', '\n    )}`\n  );\n}\n\n/**\n * Validates that the provided named option equals one of the expected values or\n * is undefined.\n */\nexport function validateNamedOptionalPropertyEquals<T>(\n  functionName: string,\n  inputName: string,\n  optionName: string,\n  input: T,\n  expected: T[]\n): void {\n  if (input !== undefined) {\n    validateNamedPropertyEquals(\n      functionName,\n      inputName,\n      optionName,\n      input,\n      expected\n    );\n  }\n}\n\n/** Helper to validate the type of a provided input. */\nfunction validateType(\n  functionName: string,\n  type: string,\n  inputName: string,\n  input: AnyJs\n): void {\n  if (typeof input !== type || (type === 'object' && !isPlainObject(input))) {\n    const description = valueDescription(input);\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires its ${inputName} ` +\n        `to be of type ${type}, but it was: ${description}`\n    );\n  }\n}\n\n/**\n * Returns true iff it's a non-null object without a custom prototype\n * (i.e. excludes Array, Date, etc.).\n */\nexport function isPlainObject(input: AnyJs) {\n  return (\n    typeof input === 'object' &&\n    input !== null &&\n    Object.getPrototypeOf(input) === Object.prototype\n  );\n}\n\n/** Returns a string describing the type / value of the provided input. */\nexport function valueDescription(input: AnyJs) {\n  if (input === undefined) {\n    return 'undefined';\n  } else if (input === null) {\n    return 'null';\n  } else if (typeof input === 'string') {\n    if (input.length > 20) {\n      input = `${input.substring(0, 20)}...`;\n    }\n    return JSON.stringify(input);\n  } else if (typeof input === 'number' || typeof input === 'boolean') {\n    return '' + input;\n  } else if (typeof input === 'object') {\n    if (input instanceof Array) {\n      return 'an array';\n    } else {\n      const customObjectName = tryGetCustomObjectType(input);\n      if (customObjectName) {\n        return `a custom ${customObjectName} object`;\n      } else {\n        return 'an object';\n      }\n    }\n  } else if (typeof input === 'function') {\n    return 'a function';\n  } else {\n    return fail('Unknown wrong type: ' + typeof input);\n  }\n}\n\n/** Hacky method to try to get the constructor name for an object. */\nexport function tryGetCustomObjectType(input: object): string | null {\n  if (input.constructor) {\n    const funcNameRegex = /function\\s+([^\\s(]+)\\s*\\(/;\n    const results = funcNameRegex.exec(input.constructor.toString());\n    if (results && results.length > 1) {\n      return results[1];\n    }\n  }\n  return null;\n}\n\n/** Validates the provided argument is defined. */\nexport function validateDefined(\n  functionName: string,\n  position: number,\n  argument: AnyJs\n): void {\n  if (argument === undefined) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${functionName}() requires a valid ${ordinal(position)} ` +\n        `argument, but it was undefined.`\n    );\n  }\n}\n\n/**\n * Validates the provided positional argument is an object, and its keys and\n * values match the expected keys and types provided in optionTypes.\n */\nexport function validateOptionNames(\n  functionName: string,\n  options: object,\n  optionNames: string[]\n) {\n  obj.forEach(options as obj.Dict<AnyJs>, (key, _) => {\n    if (optionNames.indexOf(key) < 0) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Unknown option '${key}' passed to function ${functionName}(). ` +\n          'Available options: ' +\n          optionNames.join(', ')\n      );\n    }\n  });\n}\n\n/**\n * Helper method to throw an error that the provided argument did not pass\n * an instanceof check.\n */\nexport function invalidClassError(\n  functionName: string,\n  type: string,\n  position: number,\n  argument: AnyJs\n): Error {\n  const description = valueDescription(argument);\n  return new FirestoreError(\n    Code.INVALID_ARGUMENT,\n    `Function ${functionName}() requires its ${ordinal(position)} ` +\n      `argument to be a ${type}, but it was: ${description}`\n  );\n}\n\n/** Converts a number to its english word representation */\nfunction ordinal(num: number) {\n  switch (num) {\n    case 1:\n      return 'first';\n    case 2:\n      return 'second';\n    case 3:\n      return 'third';\n    default:\n      return num + 'th';\n  }\n}\n\n/**\n * Formats the given word as plural conditionally given the preceding number.\n */\nfunction formatPlural(num: number, str: string) {\n  return `${num} ${str}` + (num === 1 ? '' : 's');\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from './assert';\n\nexport type EventHandler<E> = (value: E) => void;\n\n/**\n * A union of all of the standard JS types, useful for cases where the type is\n * unknown. Unlike \"any\" this doesn't lose all type-safety, since the consuming\n * code must still cast to a particular type before using it.\n */\nexport type AnyJs = null | undefined | boolean | number | string | object;\n\n// TODO(b/66916745): AnyDuringMigration was used to suppress type check failures\n// that were found during the upgrade to TypeScript 2.4. They need to be audited\n// and fixed.\n// tslint:disable-next-line:no-any\nexport type AnyDuringMigration = any;\n\n// tslint:disable-next-line:class-as-namespace\nexport class AutoId {\n  static newId(): string {\n    // Alphanumeric characters\n    const chars =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let autoId = '';\n    for (let i = 0; i < 20; i++) {\n      autoId += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    assert(autoId.length === 20, 'Invalid auto ID: ' + autoId);\n    return autoId;\n  }\n}\n\nexport function primitiveComparator<T>(left: T, right: T): number {\n  if (left < right) return -1;\n  if (left > right) return 1;\n  return 0;\n}\n\n/** Duck-typed interface for objects that have an isEqual() method. */\nexport interface Equatable<T> {\n  isEqual(other: T): boolean;\n}\n\n/** Helper to compare nullable (or undefined-able) objects using isEqual(). */\nexport function equals<T>(\n  left: Equatable<T> | null | undefined,\n  right: T | null | undefined\n): boolean {\n  if (left !== null && left !== undefined) {\n    return !!(right && left.isEqual(right));\n  } else {\n    // HACK: Explicitly cast since TypeScript's type narrowing apparently isn't\n    // smart enough.\n    return (left as null | undefined) === right;\n  }\n}\n\n/** Helper to compare arrays using isEqual(). */\nexport function arrayEquals<T>(left: Array<Equatable<T>>, right: T[]): boolean {\n  if (left.length !== right.length) {\n    return false;\n  }\n\n  for (let i = 0; i < left.length; i++) {\n    if (!left[i].isEqual(right[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns the largest lexicographically smaller string of equal or smaller\n * length. Returns an empty string if there is no such predecessor (if the input\n * is empty).\n *\n * Strings returned from this method can be invalid UTF-16 but this is sufficent\n * in use for indexeddb because that depends on lexicographical ordering but\n * shouldn't be used elsewhere.\n */\nexport function immediatePredecessor(s: string): string {\n  // We can decrement the last character in the string and be done\n  // unless that character is 0 (0x0000), in which case we have to erase the\n  // last character.\n  const lastIndex = s.length - 1;\n  if (s.length === 0) {\n    // Special case the empty string.\n    return '';\n  } else if (s.charAt(lastIndex) === '\\0') {\n    return s.substring(0, lastIndex);\n  } else {\n    return (\n      s.substring(0, lastIndex) +\n      String.fromCharCode(s.charCodeAt(lastIndex) - 1)\n    );\n  }\n}\n\n/**\n * Returns the immediate lexicographically-following string. This is useful to\n * construct an inclusive range for indexeddb iterators.\n */\nexport function immediateSuccessor(s: string): string {\n  // Return the input string, with an additional NUL byte appended.\n  return s + '\\0';\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PlatformSupport } from '../platform/platform';\nimport { makeConstructorPrivate } from '../util/api';\nimport { Code, FirestoreError } from '../util/error';\nimport {\n  invalidClassError,\n  validateArgType,\n  validateExactNumberOfArgs\n} from '../util/input_validation';\nimport { primitiveComparator } from '../util/misc';\n\n/** Helper function to assert Uint8Array is available at runtime. */\nfunction assertUint8ArrayAvailable() {\n  if (typeof Uint8Array === 'undefined') {\n    throw new FirestoreError(\n      Code.UNIMPLEMENTED,\n      'Uint8Arrays are not available in this environment.'\n    );\n  }\n}\n\n/** Helper function to assert Base64 functions are available at runtime. */\nfunction assertBase64Available() {\n  if (!PlatformSupport.getPlatform().base64Available) {\n    throw new FirestoreError(\n      Code.UNIMPLEMENTED,\n      'Blobs are unavailable in Firestore in this environment.'\n    );\n  }\n}\n\n/**\n * Immutable class holding a blob (binary data).\n * This class is directly exposed in the public API.\n *\n * Note that while you can't hide the constructor in JavaScript code, we are\n * using the hack above to make sure no-one outside this module can call it.\n */\nexport class Blob {\n  // Prefix with underscore to signal this is a private variable in JS and\n  // prevent it showing up for autocompletion.\n  // A binary string is a string with each char as Unicode code point in the\n  // range of [0, 255], essentially simulating a byte array.\n  private _binaryString: string;\n\n  private constructor(binaryString: string) {\n    assertBase64Available();\n    this._binaryString = binaryString;\n  }\n\n  static fromBase64String(base64: string): Blob {\n    validateExactNumberOfArgs('Blob.fromBase64String', arguments, 1);\n    validateArgType('Blob.fromBase64String', 'string', 1, base64);\n    assertBase64Available();\n    try {\n      const binaryString = PlatformSupport.getPlatform().atob(base64);\n      return new Blob(binaryString);\n    } catch (e) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Failed to construct Blob from Base64 string: ' + e\n      );\n    }\n  }\n\n  static fromUint8Array(array: Uint8Array): Blob {\n    validateExactNumberOfArgs('Blob.fromUint8Array', arguments, 1);\n    assertUint8ArrayAvailable();\n    if (!(array instanceof Uint8Array)) {\n      throw invalidClassError('Blob.fromUint8Array', 'Uint8Array', 1, array);\n    }\n    // We can't call array.map directly because it expects the return type to\n    // be a Uint8Array, whereas we can convert it to a regular array by invoking\n    // map on the Array prototype.\n    const binaryString = Array.prototype.map\n      .call(array, (char: number) => {\n        return String.fromCharCode(char);\n      })\n      .join('');\n    return new Blob(binaryString);\n  }\n\n  toBase64(): string {\n    validateExactNumberOfArgs('Blob.toBase64', arguments, 0);\n    assertBase64Available();\n    return PlatformSupport.getPlatform().btoa(this._binaryString);\n  }\n\n  toUint8Array(): Uint8Array {\n    validateExactNumberOfArgs('Blob.toUint8Array', arguments, 0);\n    assertUint8ArrayAvailable();\n    const buffer = new Uint8Array(this._binaryString.length);\n    for (let i = 0; i < this._binaryString.length; i++) {\n      buffer[i] = this._binaryString.charCodeAt(i);\n    }\n    return buffer;\n  }\n\n  toString(): string {\n    return 'Blob(base64: ' + this.toBase64() + ')';\n  }\n\n  isEqual(other: Blob): boolean {\n    return this._binaryString === other._binaryString;\n  }\n\n  /**\n   * Actually private to JS consumers of our API, so this function is prefixed\n   * with an underscore.\n   */\n  _compareTo(other: Blob): number {\n    return primitiveComparator(this._binaryString, other._binaryString);\n  }\n}\n\n// Public instance that disallows construction at runtime. This constructor is\n// used when exporting Blob on firebase.firestore.Blob and will be called Blob\n// publicly. Internally we still use Blob which has a type checked private\n// constructor. Note that Blob and PublicBlob can be used interchangeably in\n// instanceof checks.\n// For our internal TypeScript code PublicBlob doesn't exist as a type, and so\n// we need to use Blob as type and export it too.\n// tslint:disable-next-line:variable-name We're treating this as a class name.\nexport let PublicBlob = makeConstructorPrivate(\n  Blob,\n  'Use Blob.fromUint8Array() or Blob.fromBase64String() instead.'\n);\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Code, FirestoreError } from '../util/error';\nimport {\n  validateArgType,\n  validateExactNumberOfArgs\n} from '../util/input_validation';\nimport { primitiveComparator } from '../util/misc';\n\n/**\n * Immutable class representing a geo point as latitude-longitude pair.\n * This class is directly exposed in the public API, including its constructor.\n */\nexport class GeoPoint {\n  // Prefix with underscore to signal this is a private variable in JS and\n  // prevent it showing up for autocompletion when typing latitude or longitude.\n  private _lat: number;\n  private _long: number;\n\n  constructor(latitude: number, longitude: number) {\n    validateExactNumberOfArgs('GeoPoint', arguments, 2);\n    validateArgType('GeoPoint', 'number', 1, latitude);\n    validateArgType('GeoPoint', 'number', 2, longitude);\n    if (!isFinite(latitude) || latitude < -90 || latitude > 90) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Latitude must be a number between -90 and 90, but was: ' + latitude\n      );\n    }\n    if (!isFinite(longitude) || longitude < -180 || longitude > 180) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Longitude must be a number between -180 and 180, but was: ' + longitude\n      );\n    }\n\n    this._lat = latitude;\n    this._long = longitude;\n  }\n\n  /**\n   * Returns the latitude of this geo point, a number between -90 and 90.\n   */\n  get latitude(): number {\n    return this._lat;\n  }\n\n  /**\n   * Returns the longitude of this geo point, a number between -180 and 180.\n   */\n  get longitude(): number {\n    return this._long;\n  }\n\n  isEqual(other: GeoPoint): boolean {\n    return this._lat === other._lat && this._long === other._long;\n  }\n\n  /**\n   * Actually private to JS consumers of our API, so this function is prefixed\n   * with an underscore.\n   */\n  _compareTo(other: GeoPoint): number {\n    return (\n      primitiveComparator(this._lat, other._lat) ||\n      primitiveComparator(this._long, other._long)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { primitiveComparator } from '../util/misc';\n\nexport class DatabaseInfo {\n  /**\n   * Constructs a DatabaseInfo using the provided host, databaseId and\n   * persistenceKey.\n   *\n   * @param databaseId The database to use.\n   * @param persistenceKey A unique identifier for this Firestore's local\n   * storage (used in conjunction with the databaseId).\n   * @param host The Firestore backend host to connect to.\n   * @param ssl Whether to use SSL when connecting.\n   */\n  constructor(\n    readonly databaseId: DatabaseId,\n    readonly persistenceKey: string,\n    readonly host: string,\n    readonly ssl: boolean\n  ) {}\n}\n\n/** The default database name for a project. */\nconst DEFAULT_DATABASE_NAME = '(default)';\n\n/** Represents the database ID a Firestore client is associated with. */\nexport class DatabaseId {\n  readonly database: string;\n  constructor(readonly projectId: string, database?: string) {\n    this.database = database ? database : DEFAULT_DATABASE_NAME;\n  }\n\n  get isDefaultDatabase(): boolean {\n    return this.database === DEFAULT_DATABASE_NAME;\n  }\n\n  isEqual(other: {}): boolean {\n    return (\n      other instanceof DatabaseId &&\n      other.projectId === this.projectId &&\n      other.database === this.database\n    );\n  }\n\n  compareTo(other: DatabaseId): number {\n    return (\n      primitiveComparator(this.projectId, other.projectId) ||\n      primitiveComparator(this.database, other.database)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\n\nexport const DOCUMENT_KEY_NAME = '__name__';\n\n/**\n * Path represents an ordered sequence of string segments.\n */\nexport abstract class Path {\n  private segments: string[];\n  private offset: number;\n  private len: number;\n\n  constructor(segments: string[], offset?: number, length?: number) {\n    this.init(segments, offset, length);\n  }\n\n  /**\n   * An initialization method that can be called from outside the constructor.\n   * We need this so that we can have a non-static construct method that returns\n   * the polymorphic `this` type.\n   */\n  private init(segments: string[], offset?: number, length?: number) {\n    if (offset === undefined) {\n      offset = 0;\n    } else if (offset > segments.length) {\n      fail('offset ' + offset + ' out of range ' + segments.length);\n    }\n\n    if (length === undefined) {\n      length = segments.length - offset;\n    } else if (length > segments.length - offset) {\n      fail('length ' + length + ' out of range ' + (segments.length - offset));\n    }\n    this.segments = segments;\n    this.offset = offset;\n    this.len = length;\n  }\n\n  /**\n   * Constructs a new instance of Path using the same concrete type as `this`.\n   * We need this instead of using the normal constructor, because polymorphic\n   * `this` doesn't work on static methods.\n   */\n  private construct(\n    segments: string[],\n    offset?: number,\n    length?: number\n  ): this {\n    const path: this = Object.create(Object.getPrototypeOf(this));\n    path.init(segments, offset, length);\n    return path;\n  }\n\n  get length(): number {\n    return this.len;\n  }\n\n  isEqual(other: Path): boolean {\n    return Path.comparator(this, other) === 0;\n  }\n\n  child(nameOrPath: string | this): this {\n    const segments = this.segments.slice(this.offset, this.limit());\n    if (nameOrPath instanceof Path) {\n      nameOrPath.forEach(segment => {\n        segments.push(segment);\n      });\n    } else if (typeof nameOrPath === 'string') {\n      segments.push(nameOrPath);\n    } else {\n      fail('Unknown parameter type for Path.child(): ' + nameOrPath);\n    }\n    return this.construct(segments);\n  }\n\n  /** The index of one past the last segment of the path. */\n  private limit(): number {\n    return this.offset + this.length;\n  }\n\n  popFirst(size?: number): this {\n    size = size === undefined ? 1 : size;\n    assert(this.length >= size, \"Can't call popFirst() with less segments\");\n    return this.construct(\n      this.segments,\n      this.offset + size,\n      this.length - size\n    );\n  }\n\n  popLast(): this {\n    assert(!this.isEmpty(), \"Can't call popLast() on empty path\");\n    return this.construct(this.segments, this.offset, this.length - 1);\n  }\n\n  firstSegment(): string {\n    assert(!this.isEmpty(), \"Can't call firstSegment() on empty path\");\n    return this.segments[this.offset];\n  }\n\n  lastSegment(): string {\n    assert(!this.isEmpty(), \"Can't call lastSegment() on empty path\");\n    return this.segments[this.limit() - 1];\n  }\n\n  get(index: number): string {\n    assert(index < this.length, 'Index out of range');\n    return this.segments[this.offset + index];\n  }\n\n  isEmpty(): boolean {\n    return this.length === 0;\n  }\n\n  isPrefixOf(other: this): boolean {\n    if (other.length < this.length) {\n      return false;\n    }\n\n    for (let i = 0; i < this.length; i++) {\n      if (this.get(i) !== other.get(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  forEach(fn: (segment: string) => void): void {\n    for (let i = this.offset, end = this.limit(); i < end; i++) {\n      fn(this.segments[i]);\n    }\n  }\n\n  toArray(): string[] {\n    return this.segments.slice(this.offset, this.limit());\n  }\n\n  static comparator(p1: Path, p2: Path): number {\n    const len = Math.min(p1.length, p2.length);\n    for (let i = 0; i < len; i++) {\n      const left = p1.get(i);\n      const right = p2.get(i);\n      if (left < right) return -1;\n      if (left > right) return 1;\n    }\n    if (p1.length < p2.length) return -1;\n    if (p1.length > p2.length) return 1;\n    return 0;\n  }\n}\n\n/**\n * A slash-separated path for navigating resources (documents and collections)\n * within Firestore.\n */\nexport class ResourcePath extends Path {\n  canonicalString(): string {\n    // NOTE: The client is ignorant of any path segments containing escape\n    // sequences (e.g. __id123__) and just passes them through raw (they exist\n    // for legacy reasons and should not be used frequently).\n\n    return this.toArray().join('/');\n  }\n\n  toString(): string {\n    return this.canonicalString();\n  }\n\n  /**\n   * Creates a resource path from the given slash-delimited string.\n   */\n  static fromString(path: string): ResourcePath {\n    // NOTE: The client is ignorant of any path segments containing escape\n    // sequences (e.g. __id123__) and just passes them through raw (they exist\n    // for legacy reasons and should not be used frequently).\n\n    if (path.indexOf('//') >= 0) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Invalid path (${path}). Paths must not contain // in them.`\n      );\n    }\n\n    // We may still have an empty segment at the beginning or end if they had a\n    // leading or trailing slash (which we allow).\n    const segments = path.split('/').filter(segment => segment.length > 0);\n\n    return new ResourcePath(segments);\n  }\n\n  static EMPTY_PATH = new ResourcePath([]);\n}\n\nconst identifierRegExp = /^[_a-zA-Z][_a-zA-Z0-9]*$/;\n\n/** A dot-separated path for navigating sub-objects within a document. */\nexport class FieldPath extends Path {\n  /**\n   * Returns true if the string could be used as a segment in a field path\n   * without escaping.\n   */\n  private static isValidIdentifier(segment: string) {\n    return identifierRegExp.test(segment);\n  }\n\n  canonicalString(): string {\n    return this.toArray()\n      .map(str => {\n        str = str.replace('\\\\', '\\\\\\\\').replace('`', '\\\\`');\n        if (!FieldPath.isValidIdentifier(str)) {\n          str = '`' + str + '`';\n        }\n        return str;\n      })\n      .join('.');\n  }\n\n  toString(): string {\n    return this.canonicalString();\n  }\n\n  /**\n   * Returns true if this field references the key of a document.\n   */\n  isKeyField(): boolean {\n    return this.length === 1 && this.get(0) === DOCUMENT_KEY_NAME;\n  }\n\n  /**\n   * The field designating the key of a document.\n   */\n  static keyField(): FieldPath {\n    return new FieldPath([DOCUMENT_KEY_NAME]);\n  }\n\n  /**\n   * Parses a field string from the given server-formatted string.\n   *\n   * - Splitting the empty string is not allowed (for now at least).\n   * - Empty segments within the string (e.g. if there are two consecutive\n   *   separators) are not allowed.\n   *\n   * TODO(b/37244157): we should make this more strict. Right now, it allows\n   * non-identifier path components, even if they aren't escaped.\n   */\n  static fromServerFormat(path: string): FieldPath {\n    const segments: string[] = [];\n    let current = '';\n    let i = 0;\n\n    const addCurrentSegment = () => {\n      if (current.length === 0) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          `Invalid field path (${path}). Paths must not be empty, begin ` +\n            `with '.', end with '.', or contain '..'`\n        );\n      }\n      segments.push(current);\n      current = '';\n    };\n\n    let inBackticks = false;\n\n    while (i < path.length) {\n      const c = path[i];\n      if (c === '\\\\') {\n        if (i + 1 === path.length) {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            'Path has trailing escape character: ' + path\n          );\n        }\n        const next = path[i + 1];\n        if (!(next === '\\\\' || next === '.' || next === '`')) {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            'Path has invalid escape sequence: ' + path\n          );\n        }\n        current += next;\n        i += 2;\n      } else if (c === '`') {\n        inBackticks = !inBackticks;\n        i++;\n      } else if (c === '.' && !inBackticks) {\n        addCurrentSegment();\n        i++;\n      } else {\n        current += c;\n        i++;\n      }\n    }\n    addCurrentSegment();\n\n    if (inBackticks) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Unterminated ` in path: ' + path\n      );\n    }\n\n    return new FieldPath(segments);\n  }\n\n  static EMPTY_PATH = new FieldPath([]);\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../util/assert';\n\nimport { ResourcePath } from './path';\n\nexport class DocumentKey {\n  constructor(readonly path: ResourcePath) {\n    assert(\n      DocumentKey.isDocumentKey(path),\n      'Invalid DocumentKey with an odd number of segments: ' +\n        path.toArray().join('/')\n    );\n  }\n\n  isEqual(other: DocumentKey | null): boolean {\n    return (\n      other !== null && ResourcePath.comparator(this.path, other.path) === 0\n    );\n  }\n\n  toString(): string {\n    return this.path.toString();\n  }\n\n  static EMPTY = new DocumentKey(new ResourcePath([]));\n\n  static comparator(k1: DocumentKey, k2: DocumentKey): number {\n    return ResourcePath.comparator(k1.path, k2.path);\n  }\n\n  static isDocumentKey(path: ResourcePath): boolean {\n    return path.length % 2 === 0;\n  }\n\n  /**\n   * Creates and returns a new document key with the given segments.\n   *\n   * @param path The segments of the path to the document\n   * @return A new instance of DocumentKey\n   */\n  static fromSegments(segments: string[]): DocumentKey {\n    return new DocumentKey(new ResourcePath(segments.slice()));\n  }\n\n  /**\n   * Creates and returns a new document key using '/' to split the string into\n   * segments.\n   *\n   * @param path The slash-separated path string to the document\n   * @return A new instance of DocumentKey\n   */\n  static fromPathString(path: string): DocumentKey {\n    return new DocumentKey(ResourcePath.fromString(path));\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { fail } from '../util/assert';\nimport { AnyJs } from '../util/misc';\n\nimport { DocumentKey } from './document_key';\nimport { FieldValue, JsonObject, ObjectValue } from './field_value';\nimport { FieldPath } from './path';\n\nexport interface DocumentOptions {\n  hasLocalMutations: boolean;\n}\n\nexport class Document {\n  readonly hasLocalMutations: boolean;\n\n  constructor(\n    readonly key: DocumentKey,\n    readonly version: SnapshotVersion,\n    readonly data: ObjectValue,\n    options: DocumentOptions\n  ) {\n    this.hasLocalMutations = options.hasLocalMutations;\n  }\n\n  field(path: FieldPath): FieldValue | undefined {\n    return this.data.field(path);\n  }\n\n  fieldValue(path: FieldPath): AnyJs {\n    const field = this.field(path);\n    return field ? field.value() : undefined;\n  }\n\n  value(): JsonObject<AnyJs> {\n    return this.data.value();\n  }\n\n  isEqual(other: Document | null | undefined): boolean {\n    return (\n      other instanceof Document &&\n      this.key.isEqual(other.key) &&\n      this.version.isEqual(other.version) &&\n      this.data.isEqual(other.data) &&\n      this.hasLocalMutations === other.hasLocalMutations\n    );\n  }\n\n  toString(): string {\n    return (\n      `Document(${this.key}, ${this.version}, ${this.data.toString()}, ` +\n      `{hasLocalMutations: ${this.hasLocalMutations}})`\n    );\n  }\n\n  static compareByKey(d1: MaybeDocument, d2: MaybeDocument): number {\n    return DocumentKey.comparator(d1.key, d2.key);\n  }\n\n  static compareByField(field: FieldPath, d1: Document, d2: Document): number {\n    const v1 = d1.field(field);\n    const v2 = d2.field(field);\n    if (v1 !== undefined && v2 !== undefined) {\n      return v1.compareTo(v2);\n    } else {\n      return fail(\"Trying to compare documents on fields that don't exist\");\n    }\n  }\n}\n\n/**\n * A class representing a deleted document.\n * Version is set to 0 if we don't point to any specific time, otherwise it\n * denotes time we know it didn't exist at.\n */\nexport class NoDocument {\n  constructor(readonly key: DocumentKey, readonly version: SnapshotVersion) {}\n\n  toString(): string {\n    return `NoDocument(${this.key}, ${this.version})`;\n  }\n\n  isEqual(other: NoDocument): boolean {\n    return (\n      other &&\n      other.version.isEqual(this.version) &&\n      other.key.isEqual(this.key)\n    );\n  }\n\n  static compareByKey(d1: MaybeDocument, d2: MaybeDocument): number {\n    return DocumentKey.comparator(d1.key, d2.key);\n  }\n}\n\n/**\n * A union type representing either a full document or a deleted document.\n * The NoDocument is used when it doesn't exist on the server.\n */\nexport type MaybeDocument = Document | NoDocument;\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, fail } from './assert';\nimport { AnyJs } from './misc';\n\n/*\n * Implementation of an immutable SortedMap using a Left-leaning\n * Red-Black Tree, adapted from the implementation in Mugs\n * (http://mads379.github.com/mugs/) by Mads Hartmann Jensen\n * (mads379@gmail.com).\n *\n * Original paper on Left-leaning Red-Black Trees:\n *   http://www.cs.princeton.edu/~rs/talks/LLRB/LLRB.pdf\n *\n * Invariant 1: No red node has a red child\n * Invariant 2: Every leaf path has the same number of black nodes\n * Invariant 3: Only the left child can be red (left leaning)\n */\n\nexport type Comparator<K> = (key1: K, key2: K) => number;\n\nexport interface Entry<K, V> {\n  key: K;\n  value: V;\n}\n\n// An immutable sorted map implementation, based on a Left-leaning Red-Black\n// tree.\nexport class SortedMap<K, V> {\n  // visible for testing\n  root: LLRBNode<K, V> | LLRBEmptyNode<K, V>;\n\n  constructor(\n    public comparator: Comparator<K>,\n    root?: LLRBNode<K, V> | LLRBEmptyNode<K, V>\n  ) {\n    this.root = root ? root : LLRBNode.EMPTY;\n  }\n\n  // Returns a copy of the map, with the specified key/value added or replaced.\n  insert(key: K, value: V): SortedMap<K, V> {\n    return new SortedMap<K, V>(\n      this.comparator,\n      this.root\n        .insert(key, value, this.comparator)\n        .copy(null, null, LLRBNode.BLACK, null, null)\n    );\n  }\n\n  // Returns a copy of the map, with the specified key removed.\n  remove(key: K): SortedMap<K, V> {\n    return new SortedMap<K, V>(\n      this.comparator,\n      this.root\n        .remove(key, this.comparator)\n        .copy(null, null, LLRBNode.BLACK, null, null)\n    );\n  }\n\n  // Returns the value of the node with the given key, or null.\n  get(key: K): V | null {\n    let node = this.root;\n    while (!node.isEmpty()) {\n      const cmp = this.comparator(key, node.key);\n      if (cmp === 0) {\n        return node.value;\n      } else if (cmp < 0) {\n        node = node.left;\n      } else if (cmp > 0) {\n        node = node.right;\n      }\n    }\n    return null;\n  }\n\n  // Returns the key of the item *before* the specified key, or null if key is\n  // the first item.\n  getPredecessorKey(key: K): K | null {\n    let node = this.root;\n    let rightParent: LLRBNode<K, V> | LLRBEmptyNode<K, V> | null = null;\n    while (!node.isEmpty()) {\n      const cmp = this.comparator(key, node.key);\n      if (cmp === 0) {\n        if (!node.left.isEmpty()) {\n          node = node.left;\n          while (!node.right.isEmpty()) node = node.right;\n          return node.key;\n        } else if (rightParent) {\n          return rightParent.key;\n        } else {\n          return null; // first item.\n        }\n      } else if (cmp < 0) {\n        node = node.left;\n      } else if (cmp > 0) {\n        rightParent = node;\n        node = node.right;\n      }\n    }\n\n    throw fail(\n      'Attempted to find predecessor key for a nonexistent key.' +\n        '  What gives?'\n    );\n  }\n\n  // Returns the index of the element in this sorted map, or -1 if it doesn't\n  // exist.\n  indexOf(key: K): number {\n    // Number of nodes that were pruned when descending right\n    let prunedNodes = 0;\n    let node = this.root;\n    while (!node.isEmpty()) {\n      const cmp = this.comparator(key, node.key);\n      if (cmp === 0) {\n        return prunedNodes + node.left.size;\n      } else if (cmp < 0) {\n        node = node.left;\n      } else {\n        // Count all nodes left of the node plus the node itself\n        prunedNodes += node.left.size + 1;\n        node = node.right;\n      }\n    }\n    // Node not found\n    return -1;\n  }\n\n  isEmpty(): boolean {\n    return this.root.isEmpty();\n  }\n\n  // Returns the total number of nodes in the map.\n  get size(): number {\n    return this.root.size;\n  }\n\n  // Returns the minimum key in the map.\n  minKey(): K | null {\n    return this.root.minKey();\n  }\n\n  // Returns the maximum key in the map.\n  maxKey(): K | null {\n    return this.root.maxKey();\n  }\n\n  // Traverses the map in key order and calls the specified action function\n  // for each key/value pair. If action returns true, traversal is aborted.\n  // Returns the first truthy value returned by action, or the last falsey\n  // value returned by action.\n  inorderTraversal<T>(action: (k: K, v: V) => T): T {\n    return (this.root as LLRBNode<K, V>).inorderTraversal(action);\n  }\n\n  forEach(fn: (k: K, v: V) => void) {\n    this.inorderTraversal((k, v) => {\n      fn(k, v);\n      return false;\n    });\n  }\n\n  // Traverses the map in reverse key order and calls the specified action\n  // function for each key/value pair. If action returns true, traversal is\n  // aborted.\n  // Returns the first truthy value returned by action, or the last falsey\n  // value returned by action.\n  reverseTraversal<T>(action: (k: K, v: V) => T): T {\n    return (this.root as LLRBNode<K, V>).reverseTraversal(action);\n  }\n\n  // Returns an iterator over the SortedMap.\n  getIterator(): SortedMapIterator<K, V> {\n    return new SortedMapIterator<K, V>(this.root, null, this.comparator, false);\n  }\n\n  getIteratorFrom(key: K): SortedMapIterator<K, V> {\n    return new SortedMapIterator<K, V>(this.root, key, this.comparator, false);\n  }\n\n  getReverseIterator(): SortedMapIterator<K, V> {\n    return new SortedMapIterator<K, V>(this.root, null, this.comparator, true);\n  }\n\n  getReverseIteratorFrom(key: K): SortedMapIterator<K, V> {\n    return new SortedMapIterator<K, V>(this.root, key, this.comparator, true);\n  }\n} // end SortedMap\n\n// An iterator over an LLRBNode.\nexport class SortedMapIterator<K, V> {\n  private isReverse: boolean;\n  private nodeStack: Array<LLRBNode<K, V> | LLRBEmptyNode<K, V>>;\n\n  constructor(\n    node: LLRBNode<K, V> | LLRBEmptyNode<K, V>,\n    startKey: K | null,\n    comparator: Comparator<K>,\n    isReverse: boolean\n  ) {\n    this.isReverse = isReverse;\n    this.nodeStack = [];\n\n    let cmp = 1;\n    while (!node.isEmpty()) {\n      cmp = startKey ? comparator(node.key, startKey) : 1;\n      // flip the comparison if we're going in reverse\n      if (isReverse) cmp *= -1;\n\n      if (cmp < 0) {\n        // This node is less than our start key. ignore it\n        if (this.isReverse) {\n          node = node.left;\n        } else {\n          node = node.right;\n        }\n      } else if (cmp === 0) {\n        // This node is exactly equal to our start key. Push it on the stack,\n        // but stop iterating;\n        this.nodeStack.push(node);\n        break;\n      } else {\n        // This node is greater than our start key, add it to the stack and move\n        // to the next one\n        this.nodeStack.push(node);\n        if (this.isReverse) {\n          node = node.right;\n        } else {\n          node = node.left;\n        }\n      }\n    }\n  }\n\n  getNext(): Entry<K, V> {\n    assert(\n      this.nodeStack.length > 0,\n      'getNext() called on iterator when hasNext() is false.'\n    );\n\n    let node = this.nodeStack.pop()!;\n    const result = { key: node.key, value: node.value };\n\n    if (this.isReverse) {\n      node = node.left;\n      while (!node.isEmpty()) {\n        this.nodeStack.push(node);\n        node = node.right;\n      }\n    } else {\n      node = node.right;\n      while (!node.isEmpty()) {\n        this.nodeStack.push(node);\n        node = node.left;\n      }\n    }\n\n    return result;\n  }\n\n  hasNext(): boolean {\n    return this.nodeStack.length > 0;\n  }\n\n  peek(): Entry<K, V> {\n    if (this.nodeStack.length === 0) return null;\n\n    const node = this.nodeStack[this.nodeStack.length - 1];\n    return { key: node.key, value: node.value };\n  }\n} // end SortedMapIterator\n\n// Represents a node in a Left-leaning Red-Black tree.\nexport class LLRBNode<K, V> {\n  readonly color: boolean;\n  readonly left: LLRBNode<K, V> | LLRBEmptyNode<K, V>;\n  readonly right: LLRBNode<K, V> | LLRBEmptyNode<K, V>;\n  readonly size: number;\n\n  // tslint:disable-next-line:no-any Empty node is shared between all LLRB trees.\n  static EMPTY: LLRBEmptyNode<any, any> = null as any;\n\n  static RED = true;\n  static BLACK = false;\n\n  constructor(\n    public key: K,\n    public value: V,\n    color?: boolean,\n    left?: LLRBNode<K, V> | LLRBEmptyNode<K, V>,\n    right?: LLRBNode<K, V> | LLRBEmptyNode<K, V>\n  ) {\n    this.color = color != null ? color : LLRBNode.RED;\n    this.left = left != null ? left : LLRBNode.EMPTY;\n    this.right = right != null ? right : LLRBNode.EMPTY;\n    this.size = this.left.size + 1 + this.right.size;\n  }\n\n  // Returns a copy of the current node, optionally replacing pieces of it.\n  copy(\n    key: K | null,\n    value: V | null,\n    color: boolean | null,\n    left: LLRBNode<K, V> | LLRBEmptyNode<K, V> | null,\n    right: LLRBNode<K, V> | LLRBEmptyNode<K, V> | null\n  ): LLRBNode<K, V> {\n    return new LLRBNode<K, V>(\n      key != null ? key : this.key,\n      value != null ? value : this.value,\n      color != null ? color : this.color,\n      left != null ? left : this.left,\n      right != null ? right : this.right\n    );\n  }\n\n  isEmpty(): boolean {\n    return false;\n  }\n\n  // Traverses the tree in key order and calls the specified action function\n  // for each node. If action returns true, traversal is aborted.\n  // Returns the first truthy value returned by action, or the last falsey\n  // value returned by action.\n  inorderTraversal<T>(action: (k: K, v: V) => T): T {\n    return (\n      (this.left as LLRBNode<K, V>).inorderTraversal(action) ||\n      action(this.key, this.value) ||\n      (this.right as LLRBNode<K, V>).inorderTraversal(action)\n    );\n  }\n\n  // Traverses the tree in reverse key order and calls the specified action\n  // function for each node. If action returns true, traversal is aborted.\n  // Returns the first truthy value returned by action, or the last falsey\n  // value returned by action.\n  reverseTraversal<T>(action: (k: K, v: V) => T): T {\n    return (\n      (this.right as LLRBNode<K, V>).reverseTraversal(action) ||\n      action(this.key, this.value) ||\n      (this.left as LLRBNode<K, V>).reverseTraversal(action)\n    );\n  }\n\n  // Returns the minimum node in the tree.\n  private min(): LLRBNode<K, V> {\n    if (this.left.isEmpty()) {\n      return this;\n    } else {\n      return (this.left as LLRBNode<K, V>).min();\n    }\n  }\n\n  // Returns the maximum key in the tree.\n  minKey(): K | null {\n    return this.min().key;\n  }\n\n  // Returns the maximum key in the tree.\n  maxKey(): K | null {\n    if (this.right.isEmpty()) {\n      return this.key;\n    } else {\n      return this.right.maxKey();\n    }\n  }\n\n  // Returns new tree, with the key/value added.\n  insert(key: K, value: V, comparator: Comparator<K>): LLRBNode<K, V> {\n    let n: LLRBNode<K, V> = this;\n    const cmp = comparator(key, n.key);\n    if (cmp < 0) {\n      n = n.copy(null, null, null, n.left.insert(key, value, comparator), null);\n    } else if (cmp === 0) {\n      n = n.copy(null, value, null, null, null);\n    } else {\n      n = n.copy(\n        null,\n        null,\n        null,\n        null,\n        n.right.insert(key, value, comparator)\n      );\n    }\n    return n.fixUp();\n  }\n\n  private removeMin(): LLRBNode<K, V> | LLRBEmptyNode<K, V> {\n    if (this.left.isEmpty()) {\n      return LLRBNode.EMPTY;\n    }\n    let n: LLRBNode<K, V> = this;\n    if (!n.left.isRed() && !n.left.left.isRed()) n = n.moveRedLeft();\n    n = n.copy(null, null, null, (n.left as LLRBNode<K, V>).removeMin(), null);\n    return n.fixUp();\n  }\n\n  // Returns new tree, with the specified item removed.\n  remove(\n    key: K,\n    comparator: Comparator<K>\n  ): LLRBNode<K, V> | LLRBEmptyNode<K, V> {\n    let smallest: LLRBNode<K, V>;\n    let n: LLRBNode<K, V> = this;\n    if (comparator(key, n.key) < 0) {\n      if (!n.left.isEmpty() && !n.left.isRed() && !n.left.left.isRed()) {\n        n = n.moveRedLeft();\n      }\n      n = n.copy(null, null, null, n.left.remove(key, comparator), null);\n    } else {\n      if (n.left.isRed()) n = n.rotateRight();\n      if (!n.right.isEmpty() && !n.right.isRed() && !n.right.left.isRed()) {\n        n = n.moveRedRight();\n      }\n      if (comparator(key, n.key) === 0) {\n        if (n.right.isEmpty()) {\n          return LLRBNode.EMPTY;\n        } else {\n          smallest = (n.right as LLRBNode<K, V>).min();\n          n = n.copy(\n            smallest.key,\n            smallest.value,\n            null,\n            null,\n            (n.right as LLRBNode<K, V>).removeMin()\n          );\n        }\n      }\n      n = n.copy(null, null, null, null, n.right.remove(key, comparator));\n    }\n    return n.fixUp();\n  }\n\n  isRed(): boolean {\n    return this.color;\n  }\n\n  // Returns new tree after performing any needed rotations.\n  private fixUp(): LLRBNode<K, V> {\n    let n: LLRBNode<K, V> = this;\n    if (n.right.isRed() && !n.left.isRed()) n = n.rotateLeft();\n    if (n.left.isRed() && n.left.left.isRed()) n = n.rotateRight();\n    if (n.left.isRed() && n.right.isRed()) n = n.colorFlip();\n    return n;\n  }\n\n  private moveRedLeft(): LLRBNode<K, V> {\n    let n = this.colorFlip();\n    if (n.right.left.isRed()) {\n      n = n.copy(\n        null,\n        null,\n        null,\n        null,\n        (n.right as LLRBNode<K, V>).rotateRight()\n      );\n      n = n.rotateLeft();\n      n = n.colorFlip();\n    }\n    return n;\n  }\n\n  private moveRedRight(): LLRBNode<K, V> {\n    let n = this.colorFlip();\n    if (n.left.left.isRed()) {\n      n = n.rotateRight();\n      n = n.colorFlip();\n    }\n    return n;\n  }\n\n  private rotateLeft(): LLRBNode<K, V> {\n    const nl = this.copy(null, null, LLRBNode.RED, null, this.right.left);\n    return (this.right as LLRBNode<K, V>).copy(\n      null,\n      null,\n      this.color,\n      nl,\n      null\n    );\n  }\n\n  private rotateRight(): LLRBNode<K, V> {\n    const nr = this.copy(null, null, LLRBNode.RED, this.left.right, null);\n    return (this.left as LLRBNode<K, V>).copy(null, null, this.color, null, nr);\n  }\n\n  private colorFlip(): LLRBNode<K, V> {\n    const left = this.left.copy(null, null, !this.left.color, null, null);\n    const right = this.right.copy(null, null, !this.right.color, null, null);\n    return this.copy(null, null, !this.color, left, right);\n  }\n\n  // For testing.\n  checkMaxDepth(): boolean {\n    const blackDepth = this.check();\n    if (Math.pow(2.0, blackDepth) <= this.size + 1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // In a balanced RB tree, the black-depth (number of black nodes) from root to\n  // leaves is equal on both sides.  This function verifies that or asserts.\n  private check(): number {\n    if (this.isRed() && this.left.isRed()) {\n      throw fail('Red node has red child(' + this.key + ',' + this.value + ')');\n    }\n    if (this.right.isRed()) {\n      throw fail('Right child of (' + this.key + ',' + this.value + ') is red');\n    }\n    const blackDepth = (this.left as LLRBNode<K, V>).check();\n    if (blackDepth !== (this.right as LLRBNode<K, V>).check()) {\n      throw fail('Black depths differ');\n    } else {\n      return blackDepth + (this.isRed() ? 0 : 1);\n    }\n  }\n} // end LLRBNode\n\n// Represents an empty node (a leaf node in the Red-Black Tree).\nexport class LLRBEmptyNode<K, V> {\n  key: K;\n  value: V;\n  color: boolean;\n  left: LLRBNode<K, V>;\n  right: LLRBNode<K, V>;\n  size = 0;\n\n  constructor() {}\n\n  // Returns a copy of the current node.\n  copy(\n    key: K | null,\n    value: V | null,\n    color: boolean | null,\n    left: LLRBNode<K, V> | LLRBEmptyNode<K, V> | null,\n    right: LLRBNode<K, V> | LLRBEmptyNode<K, V> | null\n  ): LLRBEmptyNode<K, V> {\n    return this;\n  }\n\n  // Returns a copy of the tree, with the specified key/value added.\n  insert(key: K, value: V, comparator: Comparator<K>): LLRBNode<K, V> {\n    return new LLRBNode<K, V>(key, value);\n  }\n\n  // Returns a copy of the tree, with the specified key removed.\n  remove(key: K, comparator: Comparator<K>): LLRBEmptyNode<K, V> {\n    return this;\n  }\n\n  isEmpty(): boolean {\n    return true;\n  }\n\n  inorderTraversal(action: (k: K, v: V) => boolean): boolean {\n    return false;\n  }\n\n  reverseTraversal(action: (k: K, v: V) => boolean): boolean {\n    return false;\n  }\n\n  minKey(): K | null {\n    return null;\n  }\n\n  maxKey(): K | null {\n    return null;\n  }\n\n  isRed(): boolean {\n    return false;\n  }\n\n  // For testing.\n  checkMaxDepth(): boolean {\n    return true;\n  }\n\n  private check() {\n    return 0;\n  }\n} // end LLRBEmptyNode\n\nLLRBNode.EMPTY = new LLRBEmptyNode<AnyJs, AnyJs>();\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Blob } from '../api/blob';\nimport { GeoPoint } from '../api/geo_point';\nimport { SnapshotOptions } from '../api/database';\nimport { DatabaseId } from '../core/database_info';\nimport { Timestamp } from '../core/timestamp';\nimport { assert, fail } from '../util/assert';\nimport { AnyJs, primitiveComparator } from '../util/misc';\nimport * as objUtils from '../util/obj';\nimport { SortedMap } from '../util/sorted_map';\nimport * as typeUtils from '../util/types';\n\nimport { DocumentKey } from './document_key';\nimport { FieldPath } from './path';\n\n/**\n * Supported data value types:\n *  - Null\n *  - Boolean\n *  - Long\n *  - Double\n *  - String\n *  - Object\n *  - Array\n *  - Binary\n *  - Timestamp\n *  - ServerTimestamp (a sentinel used in uncommitted writes)\n *  - GeoPoint\n *  - (Document) References\n */\n\nexport interface JsonObject<T> {\n  [name: string]: T;\n}\n\nexport enum TypeOrder {\n  // This order is defined by the backend.\n  NullValue = 0,\n  BooleanValue = 1,\n  NumberValue = 2,\n  TimestampValue = 3,\n  StringValue = 4,\n  BlobValue = 5,\n  RefValue = 6,\n  GeoPointValue = 7,\n  ArrayValue = 8,\n  ObjectValue = 9\n}\n\n/** Defines the return value for pending server timestamps. */\nexport enum ServerTimestampBehavior {\n  Default,\n  Estimate,\n  Previous\n}\n\n/** Holds properties that define field value deserialization options. */\nexport class FieldValueOptions {\n  static readonly defaultOptions = new FieldValueOptions(\n    ServerTimestampBehavior.Default\n  );\n\n  constructor(readonly serverTimestampBehavior: ServerTimestampBehavior) {}\n\n  static fromSnapshotOptions(options: SnapshotOptions) {\n    switch (options.serverTimestamps) {\n      case 'estimate':\n        return new FieldValueOptions(ServerTimestampBehavior.Estimate);\n      case 'previous':\n        return new FieldValueOptions(ServerTimestampBehavior.Previous);\n      case 'none': // Fall-through intended.\n      case undefined:\n        return FieldValueOptions.defaultOptions;\n      default:\n        return fail('fromSnapshotOptions() called with invalid options.');\n    }\n  }\n}\n\n/**\n * Potential types returned by FieldValue.value(). This could be stricter\n * (instead of using {}), but there's little benefit.\n *\n * Note that currently we use AnyJs (which is identical except includes\n * undefined) for incoming user data as a convenience to the calling code (but\n * we'll throw if the data contains undefined). This should probably be changed\n * to use FieldType, but all consuming code will have to be updated to\n * explicitly handle undefined and then cast to FieldType or similar. Perhaps\n * we should tackle this when adding robust argument validation to the API.\n */\nexport type FieldType = null | boolean | number | string | {};\n\n/**\n * A field value represents a datatype as stored by Firestore.\n */\nexport abstract class FieldValue {\n  readonly typeOrder: TypeOrder;\n\n  abstract value(options?: FieldValueOptions): FieldType;\n  abstract isEqual(other: FieldValue): boolean;\n  abstract compareTo(other: FieldValue): number;\n\n  toString(): string {\n    const val = this.value();\n    return val === null ? 'null' : val.toString();\n  }\n\n  defaultCompareTo(other: FieldValue): number {\n    assert(\n      this.typeOrder !== other.typeOrder,\n      'Default compareTo should not be used for values of same type.'\n    );\n    const cmp = primitiveComparator(this.typeOrder, other.typeOrder);\n    return cmp;\n  }\n}\n\nexport class NullValue extends FieldValue {\n  typeOrder = TypeOrder.NullValue;\n\n  // internalValue is unused but we add it to work around\n  // https://github.com/Microsoft/TypeScript/issues/15585\n  readonly internalValue = null;\n\n  private constructor() {\n    super();\n  }\n\n  value(options?: FieldValueOptions): null {\n    return null;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return other instanceof NullValue;\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof NullValue) {\n      return 0;\n    }\n    return this.defaultCompareTo(other);\n  }\n\n  static INSTANCE = new NullValue();\n}\n\nexport class BooleanValue extends FieldValue {\n  typeOrder = TypeOrder.BooleanValue;\n\n  private constructor(readonly internalValue: boolean) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): boolean {\n    return this.internalValue;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof BooleanValue &&\n      this.internalValue === other.internalValue\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof BooleanValue) {\n      return primitiveComparator(this, other);\n    }\n    return this.defaultCompareTo(other);\n  }\n\n  static of(value: boolean): BooleanValue {\n    return value ? BooleanValue.TRUE : BooleanValue.FALSE;\n  }\n\n  static TRUE = new BooleanValue(true);\n  static FALSE = new BooleanValue(false);\n}\n\n/** Base class for IntegerValue and DoubleValue. */\nexport abstract class NumberValue extends FieldValue {\n  typeOrder = TypeOrder.NumberValue;\n\n  constructor(readonly internalValue: number) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): number {\n    return this.internalValue;\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof NumberValue) {\n      return numericComparator(this.internalValue, other.internalValue);\n    }\n    return this.defaultCompareTo(other);\n  }\n}\n\n/** Utility function to compare doubles (using Firestore semantics for NaN). */\nfunction numericComparator(left: number, right: number): number {\n  if (left < right) {\n    return -1;\n  } else if (left > right) {\n    return 1;\n  } else if (left === right) {\n    return 0;\n  } else {\n    // one or both are NaN.\n    if (isNaN(left)) {\n      return isNaN(right) ? 0 : -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * Utility function to check numbers for equality using Firestore semantics\n * (NaN === NaN, -0.0 !== 0.0).\n */\nfunction numericEquals(left: number, right: number): boolean {\n  // Implemented based on Object.is() polyfill from\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n  if (left === right) {\n    // +0 != -0\n    return left !== 0 || 1 / left === 1 / right;\n  } else {\n    // NaN == NaN\n    return left !== left && right !== right;\n  }\n}\n\nexport class IntegerValue extends NumberValue {\n  constructor(internalValue: number) {\n    super(internalValue);\n  }\n\n  isEqual(other: FieldValue): boolean {\n    // NOTE: DoubleValue and IntegerValue instances may compareTo() the same,\n    // but that doesn't make them equal via isEqual().\n    if (other instanceof IntegerValue) {\n      return numericEquals(this.internalValue, other.internalValue);\n    } else {\n      return false;\n    }\n  }\n\n  // NOTE: compareTo() is implemented in NumberValue.\n}\n\nexport class DoubleValue extends NumberValue {\n  constructor(readonly internalValue: number) {\n    super(internalValue);\n  }\n\n  static NAN = new DoubleValue(NaN);\n  static POSITIVE_INFINITY = new DoubleValue(Infinity);\n  static NEGATIVE_INFINITY = new DoubleValue(-Infinity);\n\n  isEqual(other: FieldValue): boolean {\n    // NOTE: DoubleValue and IntegerValue instances may compareTo() the same,\n    // but that doesn't make them equal via isEqual().\n    if (other instanceof DoubleValue) {\n      return numericEquals(this.internalValue, other.internalValue);\n    } else {\n      return false;\n    }\n  }\n\n  // NOTE: compareTo() is implemented in NumberValue.\n}\n\n// TODO(b/37267885): Add truncation support\nexport class StringValue extends FieldValue {\n  typeOrder = TypeOrder.StringValue;\n\n  constructor(readonly internalValue: string) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): string {\n    return this.internalValue;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof StringValue && this.internalValue === other.internalValue\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof StringValue) {\n      return primitiveComparator(this.internalValue, other.internalValue);\n    }\n    return this.defaultCompareTo(other);\n  }\n}\n\nexport class TimestampValue extends FieldValue {\n  typeOrder = TypeOrder.TimestampValue;\n\n  constructor(readonly internalValue: Timestamp) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): Date {\n    return this.internalValue.toDate();\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof TimestampValue &&\n      this.internalValue.isEqual(other.internalValue)\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof TimestampValue) {\n      return this.internalValue.compareTo(other.internalValue);\n    } else if (other instanceof ServerTimestampValue) {\n      // Concrete timestamps come before server timestamps.\n      return -1;\n    } else {\n      return this.defaultCompareTo(other);\n    }\n  }\n}\n\n/**\n * Represents a locally-applied ServerTimestamp.\n *\n * Notes:\n * - ServerTimestampValue instances are created as the result of applying a\n *   TransformMutation (see TransformMutation.applyTo()). They can only exist in\n *   the local view of a document. Therefore they do not need to be parsed or\n *   serialized.\n * - When evaluated locally (e.g. for snapshot.data()), they by default\n *   evaluate to `null`. This behavior can be configured by passing custom\n *   FieldValueOptions to value().\n * - With respect to other ServerTimestampValues, they sort by their\n *   localWriteTime.\n */\nexport class ServerTimestampValue extends FieldValue {\n  typeOrder = TypeOrder.TimestampValue;\n\n  constructor(\n    readonly localWriteTime: Timestamp,\n    readonly previousValue: FieldValue | null\n  ) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): FieldType {\n    if (\n      options &&\n      options.serverTimestampBehavior === ServerTimestampBehavior.Estimate\n    ) {\n      return this.localWriteTime.toDate();\n    } else if (\n      options &&\n      options.serverTimestampBehavior === ServerTimestampBehavior.Previous\n    ) {\n      return this.previousValue ? this.previousValue.value(options) : null;\n    } else {\n      return null;\n    }\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof ServerTimestampValue &&\n      this.localWriteTime.isEqual(other.localWriteTime)\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof ServerTimestampValue) {\n      return this.localWriteTime.compareTo(other.localWriteTime);\n    } else if (other instanceof TimestampValue) {\n      // Server timestamps come after all concrete timestamps.\n      return 1;\n    } else {\n      return this.defaultCompareTo(other);\n    }\n  }\n\n  toString(): string {\n    return '<ServerTimestamp localTime=' + this.localWriteTime.toString() + '>';\n  }\n}\n\nexport class BlobValue extends FieldValue {\n  typeOrder = TypeOrder.BlobValue;\n\n  constructor(readonly internalValue: Blob) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): Blob {\n    return this.internalValue;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof BlobValue &&\n      this.internalValue.isEqual(other.internalValue)\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof BlobValue) {\n      return this.internalValue._compareTo(other.internalValue);\n    }\n    return this.defaultCompareTo(other);\n  }\n}\n\nexport class RefValue extends FieldValue {\n  typeOrder = TypeOrder.RefValue;\n\n  constructor(readonly databaseId: DatabaseId, readonly key: DocumentKey) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): DocumentKey {\n    return this.key;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    if (other instanceof RefValue) {\n      return (\n        this.key.isEqual(other.key) && this.databaseId.isEqual(other.databaseId)\n      );\n    } else {\n      return false;\n    }\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof RefValue) {\n      const cmp = this.databaseId.compareTo(other.databaseId);\n      return cmp !== 0 ? cmp : DocumentKey.comparator(this.key, other.key);\n    }\n    return this.defaultCompareTo(other);\n  }\n}\n\nexport class GeoPointValue extends FieldValue {\n  typeOrder = TypeOrder.GeoPointValue;\n\n  constructor(readonly internalValue: GeoPoint) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): GeoPoint {\n    return this.internalValue;\n  }\n\n  isEqual(other: FieldValue): boolean {\n    return (\n      other instanceof GeoPointValue &&\n      this.internalValue.isEqual(other.internalValue)\n    );\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof GeoPointValue) {\n      return this.internalValue._compareTo(other.internalValue);\n    }\n    return this.defaultCompareTo(other);\n  }\n}\n\nexport class ObjectValue extends FieldValue {\n  typeOrder = TypeOrder.ObjectValue;\n\n  constructor(readonly internalValue: SortedMap<string, FieldValue>) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): JsonObject<FieldType> {\n    const result: JsonObject<FieldType> = {};\n    this.internalValue.inorderTraversal((key, val) => {\n      result[key] = val.value(options);\n    });\n    return result;\n  }\n\n  forEach(action: (key: string, value: FieldValue) => void): void {\n    this.internalValue.inorderTraversal(action);\n  }\n\n  isEqual(other: FieldValue): boolean {\n    if (other instanceof ObjectValue) {\n      const it1 = this.internalValue.getIterator();\n      const it2 = other.internalValue.getIterator();\n      while (it1.hasNext() && it2.hasNext()) {\n        const next1: { key: string; value: FieldValue } = it1.getNext();\n        const next2: { key: string; value: FieldValue } = it2.getNext();\n        if (next1.key !== next2.key || !next1.value.isEqual(next2.value)) {\n          return false;\n        }\n      }\n\n      return !it1.hasNext() && !it2.hasNext();\n    }\n\n    return false;\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof ObjectValue) {\n      const it1 = this.internalValue.getIterator();\n      const it2 = other.internalValue.getIterator();\n      while (it1.hasNext() && it2.hasNext()) {\n        const next1: { key: string; value: FieldValue } = it1.getNext();\n        const next2: { key: string; value: FieldValue } = it2.getNext();\n        const cmp =\n          primitiveComparator(next1.key, next2.key) ||\n          next1.value.compareTo(next2.value);\n        if (cmp) {\n          return cmp;\n        }\n      }\n\n      // Only equal if both iterators are exhausted\n      return primitiveComparator(it1.hasNext(), it2.hasNext());\n    } else {\n      return this.defaultCompareTo(other);\n    }\n  }\n\n  set(path: FieldPath, to: FieldValue): ObjectValue {\n    assert(!path.isEmpty(), 'Cannot set field for empty path on ObjectValue');\n    if (path.length === 1) {\n      return this.setChild(path.firstSegment(), to);\n    } else {\n      let child = this.child(path.firstSegment());\n      if (!(child instanceof ObjectValue)) {\n        child = ObjectValue.EMPTY;\n      }\n      const newChild = (child as ObjectValue).set(path.popFirst(), to);\n      return this.setChild(path.firstSegment(), newChild);\n    }\n  }\n\n  delete(path: FieldPath): ObjectValue {\n    assert(\n      !path.isEmpty(),\n      'Cannot delete field for empty path on ObjectValue'\n    );\n    if (path.length === 1) {\n      return new ObjectValue(this.internalValue.remove(path.firstSegment()));\n    } else {\n      // nested field\n      const child = this.child(path.firstSegment());\n      if (child instanceof ObjectValue) {\n        const newChild = child.delete(path.popFirst());\n        return new ObjectValue(\n          this.internalValue.insert(path.firstSegment(), newChild)\n        );\n      } else {\n        // Don't actually change a primitive value to an object for a delete\n        return this;\n      }\n    }\n  }\n\n  contains(path: FieldPath): boolean {\n    return this.field(path) !== undefined;\n  }\n\n  field(path: FieldPath): FieldValue | undefined {\n    assert(!path.isEmpty(), \"Can't get field of empty path\");\n    let field: FieldValue | undefined = this;\n    path.forEach((pathSegment: string) => {\n      if (field instanceof ObjectValue) {\n        field = field.internalValue.get(pathSegment) || undefined;\n      } else {\n        field = undefined;\n      }\n    });\n    return field;\n  }\n\n  toString(): string {\n    return JSON.stringify(this.value());\n  }\n\n  private child(childName: string): FieldValue | undefined {\n    return this.internalValue.get(childName) || undefined;\n  }\n\n  private setChild(childName: string, value: FieldValue): ObjectValue {\n    return new ObjectValue(this.internalValue.insert(childName, value));\n  }\n\n  static EMPTY = new ObjectValue(\n    new SortedMap<string, FieldValue>(primitiveComparator)\n  );\n}\n\nexport class ArrayValue extends FieldValue {\n  typeOrder = TypeOrder.ArrayValue;\n\n  constructor(readonly internalValue: FieldValue[]) {\n    super();\n  }\n\n  value(options?: FieldValueOptions): FieldType[] {\n    return this.internalValue.map(v => v.value(options));\n  }\n\n  forEach(action: (value: FieldValue) => void): void {\n    this.internalValue.forEach(action);\n  }\n\n  isEqual(other: FieldValue): boolean {\n    if (other instanceof ArrayValue) {\n      if (this.internalValue.length !== other.internalValue.length) {\n        return false;\n      }\n\n      for (let i = 0; i < this.internalValue.length; i++) {\n        if (!this.internalValue[i].isEqual(other.internalValue[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  compareTo(other: FieldValue): number {\n    if (other instanceof ArrayValue) {\n      const minLength = Math.min(\n        this.internalValue.length,\n        other.internalValue.length\n      );\n\n      for (let i = 0; i < minLength; i++) {\n        const cmp = this.internalValue[i].compareTo(other.internalValue[i]);\n\n        if (cmp) {\n          return cmp;\n        }\n      }\n\n      return primitiveComparator(\n        this.internalValue.length,\n        other.internalValue.length\n      );\n    } else {\n      return this.defaultCompareTo(other);\n    }\n  }\n\n  toString(): string {\n    return JSON.stringify(this.value());\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnyJs } from './misc';\n\n// Untyped Number alias we can use to check for ES6 methods / properties.\n// tslint:disable-next-line:no-any variable-name\nconst NumberAsAny = Number as any;\n\n// An Object whose keys and values are strings.\nexport type StringMap = { [key: string]: string };\n\n/**\n * Minimum safe integer in Javascript because of floating point precision.\n * Added to not rely on ES6 features.\n */\nexport let MIN_SAFE_INTEGER: number =\n  NumberAsAny.MIN_SAFE_INTEGER || -(Math.pow(2, 53) - 1);\n\n/**\n * Maximum safe integer in Javascript because of floating point precision.\n * Added to not rely on ES6 features.\n */\nexport let MAX_SAFE_INTEGER: number =\n  NumberAsAny.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\n/**\n * Returns whether an number is an integer, uses native implementation if\n * available.\n * Added to not rely on ES6 features.\n * @param value The value to test for being an integer\n */\nexport let isInteger: (value: AnyJs) => boolean =\n  NumberAsAny.isInteger ||\n  (value =>\n    typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value);\n\n/**\n * Returns whether a variable is either undefined or null.\n */\nexport function isNullOrUndefined(value: AnyJs): boolean {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns whether a value is an integer and in the safe integer range\n * @param value The value to test for being an integer and in the safe range\n */\nexport function isSafeInteger(value: AnyJs): boolean {\n  return (\n    isInteger(value) &&\n    (value as number) <= MAX_SAFE_INTEGER &&\n    (value as number) >= MIN_SAFE_INTEGER\n  );\n}\n\n/**\n * Safely checks if the number is NaN.\n */\nexport function safeIsNaN(value: AnyJs): boolean {\n  if (NumberAsAny.IsNaN) {\n    return NumberAsAny.IsNaN(value);\n  } else {\n    return typeof value === 'number' && isNaN(value);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Document } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport {\n  DoubleValue,\n  FieldValue,\n  NullValue,\n  RefValue\n} from '../model/field_value';\nimport { FieldPath, ResourcePath } from '../model/path';\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport { isNullOrUndefined } from '../util/types';\n\nexport class Query {\n  static atPath(path: ResourcePath): Query {\n    return new Query(path);\n  }\n\n  private memoizedCanonicalId: string | null = null;\n  private memoizedOrderBy: OrderBy[] | null = null;\n\n  constructor(\n    readonly path: ResourcePath,\n    readonly explicitOrderBy: OrderBy[] = [],\n    readonly filters: Filter[] = [],\n    readonly limit: number | null = null,\n    readonly startAt: Bound | null = null,\n    readonly endAt: Bound | null = null\n  ) {\n    if (this.startAt) {\n      this.assertValidBound(this.startAt);\n    }\n    if (this.endAt) {\n      this.assertValidBound(this.endAt);\n    }\n  }\n\n  get orderBy(): OrderBy[] {\n    if (this.memoizedOrderBy === null) {\n      const inequalityField = this.getInequalityFilterField();\n      const firstOrderByField = this.getFirstOrderByField();\n      if (inequalityField !== null && firstOrderByField === null) {\n        // In order to implicitly add key ordering, we must also add the\n        // inequality filter field for it to be a valid query.\n        // Note that the default inequality field and key ordering is ascending.\n        if (inequalityField.isKeyField()) {\n          this.memoizedOrderBy = [KEY_ORDERING_ASC];\n        } else {\n          this.memoizedOrderBy = [\n            new OrderBy(inequalityField),\n            KEY_ORDERING_ASC\n          ];\n        }\n      } else {\n        assert(\n          inequalityField === null ||\n            (firstOrderByField !== null &&\n              inequalityField.isEqual(firstOrderByField)),\n          'First orderBy should match inequality field.'\n        );\n        this.memoizedOrderBy = [];\n        let foundKeyOrdering = false;\n        for (const orderBy of this.explicitOrderBy) {\n          this.memoizedOrderBy.push(orderBy);\n          if (orderBy.field.isKeyField()) {\n            foundKeyOrdering = true;\n          }\n        }\n        if (!foundKeyOrdering) {\n          // The order of the implicit key ordering always matches the last\n          // explicit order by\n          const lastDirection =\n            this.explicitOrderBy.length > 0\n              ? this.explicitOrderBy[this.explicitOrderBy.length - 1].dir\n              : Direction.ASCENDING;\n          this.memoizedOrderBy.push(\n            lastDirection === Direction.ASCENDING\n              ? KEY_ORDERING_ASC\n              : KEY_ORDERING_DESC\n          );\n        }\n      }\n    }\n    return this.memoizedOrderBy;\n  }\n\n  addFilter(filter: Filter): Query {\n    assert(\n      this.getInequalityFilterField() == null ||\n        !(filter instanceof RelationFilter) ||\n        !filter.isInequality() ||\n        filter.field.isEqual(this.getInequalityFilterField()!),\n      'Query must only have one inequality field.'\n    );\n\n    assert(\n      !DocumentKey.isDocumentKey(this.path),\n      'No filtering allowed for document query'\n    );\n    const newFilters = this.filters.concat([filter]);\n    return new Query(\n      this.path,\n      this.explicitOrderBy.slice(),\n      newFilters,\n      this.limit,\n      this.startAt,\n      this.endAt\n    );\n  }\n\n  addOrderBy(orderBy: OrderBy): Query {\n    assert(\n      !DocumentKey.isDocumentKey(this.path),\n      'No ordering allowed for document query'\n    );\n    assert(!this.startAt && !this.endAt, 'Bounds must be set after orderBy');\n    // TODO(dimond): validate that orderBy does not list the same key twice.\n    const newOrderBy = this.explicitOrderBy.concat([orderBy]);\n    return new Query(\n      this.path,\n      newOrderBy,\n      this.filters.slice(),\n      this.limit,\n      this.startAt,\n      this.endAt\n    );\n  }\n\n  withLimit(limit: number | null): Query {\n    return new Query(\n      this.path,\n      this.explicitOrderBy.slice(),\n      this.filters.slice(),\n      limit,\n      this.startAt,\n      this.endAt\n    );\n  }\n\n  withStartAt(bound: Bound): Query {\n    return new Query(\n      this.path,\n      this.explicitOrderBy.slice(),\n      this.filters.slice(),\n      this.limit,\n      bound,\n      this.endAt\n    );\n  }\n\n  withEndAt(bound: Bound): Query {\n    return new Query(\n      this.path,\n      this.explicitOrderBy.slice(),\n      this.filters.slice(),\n      this.limit,\n      this.startAt,\n      bound\n    );\n  }\n\n  // TODO(b/29183165): This is used to get a unique string from a query to, for\n  // example, use as a dictionary key, but the implementation is subject to\n  // collisions. Make it collision-free.\n  canonicalId(): string {\n    if (this.memoizedCanonicalId === null) {\n      let canonicalId = this.path.canonicalString();\n      canonicalId += '|f:';\n      for (const filter of this.filters) {\n        canonicalId += filter.canonicalId();\n        canonicalId += ',';\n      }\n      canonicalId += '|ob:';\n      // TODO(dimond): make this collision resistant\n      for (const orderBy of this.orderBy) {\n        canonicalId += orderBy.canonicalId();\n        canonicalId += ',';\n      }\n      if (!isNullOrUndefined(this.limit)) {\n        canonicalId += '|l:';\n        canonicalId += this.limit!;\n      }\n      if (this.startAt) {\n        canonicalId += '|lb:';\n        canonicalId += this.startAt.canonicalId();\n      }\n      if (this.endAt) {\n        canonicalId += '|ub:';\n        canonicalId += this.endAt.canonicalId();\n      }\n      this.memoizedCanonicalId = canonicalId;\n    }\n    return this.memoizedCanonicalId;\n  }\n\n  toString(): string {\n    let str = 'Query(' + this.path.canonicalString();\n    if (this.filters.length > 0) {\n      str += `, filters: [${this.filters.join(', ')}]`;\n    }\n    if (!isNullOrUndefined(this.limit)) {\n      str += ', limit: ' + this.limit;\n    }\n    if (this.explicitOrderBy.length > 0) {\n      str += `, orderBy: [${this.explicitOrderBy.join(', ')}]`;\n    }\n    if (this.startAt) {\n      str += ', startAt: ' + this.startAt.canonicalId();\n    }\n    if (this.endAt) {\n      str += ', endAt: ' + this.endAt.canonicalId();\n    }\n\n    return str + ')';\n  }\n\n  isEqual(other: Query): boolean {\n    if (this.limit !== other.limit) {\n      return false;\n    }\n\n    if (this.orderBy.length !== other.orderBy.length) {\n      return false;\n    }\n\n    for (let i = 0; i < this.orderBy.length; i++) {\n      if (!this.orderBy[i].isEqual(other.orderBy[i])) {\n        return false;\n      }\n    }\n\n    if (this.filters.length !== other.filters.length) {\n      return false;\n    }\n\n    for (let i = 0; i < this.filters.length; i++) {\n      if (!this.filters[i].isEqual(other.filters[i])) {\n        return false;\n      }\n    }\n\n    if (!this.path.isEqual(other.path)) {\n      return false;\n    }\n\n    if (\n      this.startAt !== null\n        ? !this.startAt.isEqual(other.startAt)\n        : other.startAt !== null\n    ) {\n      return false;\n    }\n\n    return this.endAt !== null\n      ? this.endAt.isEqual(other.endAt)\n      : other.endAt === null;\n  }\n\n  docComparator(d1: Document, d2: Document): number {\n    let comparedOnKeyField = false;\n    for (const orderBy of this.orderBy) {\n      const comp = orderBy.compare(d1, d2);\n      if (comp !== 0) return comp;\n      comparedOnKeyField = comparedOnKeyField || orderBy.field.isKeyField();\n    }\n    // Assert that we actually compared by key\n    assert(\n      comparedOnKeyField,\n      \"orderBy used that doesn't compare on key field\"\n    );\n    return 0;\n  }\n\n  matches(doc: Document): boolean {\n    return (\n      this.matchesAncestor(doc) &&\n      this.matchesOrderBy(doc) &&\n      this.matchesFilters(doc) &&\n      this.matchesBounds(doc)\n    );\n  }\n\n  hasLimit(): boolean {\n    return !isNullOrUndefined(this.limit);\n  }\n\n  getFirstOrderByField(): FieldPath | null {\n    return this.explicitOrderBy.length > 0\n      ? this.explicitOrderBy[0].field\n      : null;\n  }\n\n  getInequalityFilterField(): FieldPath | null {\n    for (const filter of this.filters) {\n      if (filter instanceof RelationFilter && filter.isInequality()) {\n        return filter.field;\n      }\n    }\n    return null;\n  }\n\n  isDocumentQuery(): boolean {\n    return DocumentKey.isDocumentKey(this.path) && this.filters.length === 0;\n  }\n\n  private matchesAncestor(doc: Document): boolean {\n    const docPath = doc.key.path;\n    if (DocumentKey.isDocumentKey(this.path)) {\n      // exact match for document queries\n      return this.path.isEqual(docPath);\n    } else {\n      // shallow ancestor queries by default\n      return (\n        this.path.isPrefixOf(docPath) && this.path.length === docPath.length - 1\n      );\n    }\n  }\n\n  /**\n   * A document must have a value for every ordering clause in order to show up\n   * in the results.\n   */\n  private matchesOrderBy(doc: Document): boolean {\n    for (const orderBy of this.explicitOrderBy) {\n      // order by key always matches\n      if (\n        !orderBy.field.isKeyField() &&\n        doc.field(orderBy.field) === undefined\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private matchesFilters(doc: Document): boolean {\n    for (const filter of this.filters) {\n      if (!filter.matches(doc)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Makes sure a document is within the bounds, if provided.\n   */\n  private matchesBounds(doc: Document): boolean {\n    if (this.startAt && !this.startAt.sortsBeforeDocument(this.orderBy, doc)) {\n      return false;\n    }\n    if (this.endAt && this.endAt.sortsBeforeDocument(this.orderBy, doc)) {\n      return false;\n    }\n    return true;\n  }\n\n  private assertValidBound(bound: Bound): void {\n    assert(\n      bound.position.length <= this.orderBy.length,\n      'Bound is longer than orderBy'\n    );\n  }\n}\n\nexport interface Filter {\n  matches(doc: Document): boolean;\n  canonicalId(): string;\n  isEqual(filter: Filter): boolean;\n}\n\nexport class RelationOp {\n  static LESS_THAN = new RelationOp('<');\n  static LESS_THAN_OR_EQUAL = new RelationOp('<=');\n  static EQUAL = new RelationOp('==');\n  static GREATER_THAN = new RelationOp('>');\n  static GREATER_THAN_OR_EQUAL = new RelationOp('>=');\n\n  static fromString(op: string): RelationOp {\n    switch (op) {\n      case '<':\n        return RelationOp.LESS_THAN;\n      case '<=':\n        return RelationOp.LESS_THAN_OR_EQUAL;\n      case '==':\n        return RelationOp.EQUAL;\n      case '>=':\n        return RelationOp.GREATER_THAN_OR_EQUAL;\n      case '>':\n        return RelationOp.GREATER_THAN;\n      default:\n        return fail('Unknown relation: ' + op);\n    }\n  }\n\n  constructor(public name: string) {}\n\n  toString(): string {\n    return this.name;\n  }\n\n  isEqual(other: RelationOp): boolean {\n    return this.name === other.name;\n  }\n}\n\nexport class RelationFilter implements Filter {\n  constructor(\n    public field: FieldPath,\n    public op: RelationOp,\n    public value: FieldValue\n  ) {}\n\n  matches(doc: Document): boolean {\n    if (this.field.isKeyField()) {\n      assert(\n        this.value instanceof RefValue,\n        'Comparing on key, but filter value not a RefValue'\n      );\n      const refValue = this.value as RefValue;\n      const comparison = DocumentKey.comparator(doc.key, refValue.key);\n      return this.matchesComparison(comparison);\n    } else {\n      const val = doc.field(this.field);\n      return val !== undefined && this.matchesValue(val);\n    }\n  }\n\n  private matchesValue(value: FieldValue): boolean {\n    // Only compare types with matching backend order (such as double and int).\n    if (this.value.typeOrder !== value.typeOrder) {\n      return false;\n    }\n    return this.matchesComparison(value.compareTo(this.value));\n  }\n\n  private matchesComparison(comparison: number) {\n    switch (this.op) {\n      case RelationOp.LESS_THAN:\n        return comparison < 0;\n      case RelationOp.LESS_THAN_OR_EQUAL:\n        return comparison <= 0;\n      case RelationOp.EQUAL:\n        return comparison === 0;\n      case RelationOp.GREATER_THAN:\n        return comparison > 0;\n      case RelationOp.GREATER_THAN_OR_EQUAL:\n        return comparison >= 0;\n      default:\n        return fail('Unknown relation op' + this.op);\n    }\n  }\n\n  isInequality(): boolean {\n    return this.op !== RelationOp.EQUAL;\n  }\n\n  canonicalId(): string {\n    // TODO(b/29183165): Technically, this won't be unique if two values have\n    // the same description, such as the int 3 and the string \"3\". So we should\n    // add the types in here somehow, too.\n    return (\n      this.field.canonicalString() + this.op.toString() + this.value.toString()\n    );\n  }\n\n  isEqual(other: Filter): boolean {\n    if (other instanceof RelationFilter) {\n      return (\n        this.op.isEqual(other.op) &&\n        this.field.isEqual(other.field) &&\n        this.value.isEqual(other.value)\n      );\n    } else {\n      return false;\n    }\n  }\n\n  toString(): string {\n    return `${this.field.canonicalString()} ${this.op} ${this.value.value()}`;\n  }\n}\n\n/**\n * Filter that matches 'null' values.\n */\nexport class NullFilter implements Filter {\n  constructor(public field: FieldPath) {}\n\n  matches(doc: Document): boolean {\n    const val = doc.field(this.field);\n    return val !== undefined && val.value() === null;\n  }\n\n  canonicalId(): string {\n    return this.field.canonicalString() + ' IS null';\n  }\n\n  toString(): string {\n    return `${this.field.canonicalString()} IS null`;\n  }\n\n  isEqual(other: Filter): boolean {\n    if (other instanceof NullFilter) {\n      return this.field.isEqual(other.field);\n    } else {\n      return false;\n    }\n  }\n}\n\n/**\n * Filter that matches 'NaN' values.\n */\nexport class NanFilter implements Filter {\n  constructor(public field: FieldPath) {}\n\n  matches(doc: Document): boolean {\n    const val = doc.field(this.field).value();\n    return typeof val === 'number' && isNaN(val);\n  }\n\n  canonicalId(): string {\n    return this.field.canonicalString() + ' IS NaN';\n  }\n\n  toString(): string {\n    return `${this.field.canonicalString()} IS NaN`;\n  }\n\n  isEqual(other: Filter): boolean {\n    if (other instanceof NanFilter) {\n      return this.field.isEqual(other.field);\n    } else {\n      return false;\n    }\n  }\n}\n\n/**\n * Creates a filter based on the provided arguments.\n */\nexport function fieldFilter(\n  field: FieldPath,\n  op: RelationOp,\n  value: FieldValue\n) {\n  if (value.isEqual(NullValue.INSTANCE)) {\n    if (op !== RelationOp.EQUAL) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid query. You can only perform equals ' + 'comparisons on null.'\n      );\n    }\n    return new NullFilter(field);\n  } else if (value.isEqual(DoubleValue.NAN)) {\n    if (op !== RelationOp.EQUAL) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid query. You can only perform equals ' + 'comparisons on NaN.'\n      );\n    }\n    return new NanFilter(field);\n  } else {\n    return new RelationFilter(field, op, value);\n  }\n}\n\n/**\n * The direction of sorting in an order by.\n */\nexport class Direction {\n  static ASCENDING = new Direction('asc');\n  static DESCENDING = new Direction('desc');\n\n  private constructor(public name: string) {}\n\n  toString(): string {\n    return this.name;\n  }\n}\n\n/**\n * Represents a bound of a query.\n *\n * The bound is specified with the given components representing a position and\n * whether it's just before or just after the position (relative to whatever the\n * query order is).\n *\n * The position represents a logical index position for a query. It's a prefix\n * of values for the (potentially implicit) order by clauses of a query.\n *\n * Bound provides a function to determine whether a document comes before or\n * after a bound. This is influenced by whether the position is just before or\n * just after the provided values.\n */\nexport class Bound {\n  constructor(readonly position: FieldValue[], readonly before: boolean) {}\n\n  canonicalId(): string {\n    // TODO(b/29183165): Make this collision robust.\n    let canonicalId = this.before ? 'b:' : 'a:';\n    for (const component of this.position) {\n      canonicalId += component.toString();\n    }\n    return canonicalId;\n  }\n\n  /**\n   * Returns true if a document sorts before a bound using the provided sort\n   * order.\n   */\n  sortsBeforeDocument(orderBy: OrderBy[], doc: Document): boolean {\n    assert(\n      this.position.length <= orderBy.length,\n      \"Bound has more components than query's orderBy\"\n    );\n    let comparison = 0;\n    for (let i = 0; i < this.position.length; i++) {\n      const orderByComponent = orderBy[i];\n      const component = this.position[i];\n      if (orderByComponent.field.isKeyField()) {\n        assert(\n          component instanceof RefValue,\n          'Bound has a non-key value where the key path is being used.'\n        );\n        comparison = DocumentKey.comparator(\n          (component as RefValue).key,\n          doc.key\n        );\n      } else {\n        const docValue = doc.field(orderByComponent.field);\n        assert(\n          docValue !== undefined,\n          'Field should exist since document matched the orderBy already.'\n        );\n        comparison = component.compareTo(docValue);\n      }\n      if (orderByComponent.dir === Direction.DESCENDING) {\n        comparison = comparison * -1;\n      }\n      if (comparison !== 0) {\n        break;\n      }\n    }\n    return this.before ? comparison <= 0 : comparison < 0;\n  }\n\n  isEqual(other: Bound | null): boolean {\n    if (other === null) {\n      return false;\n    }\n    if (\n      this.before !== other.before ||\n      this.position.length !== other.position.length\n    ) {\n      return false;\n    }\n    for (let i = 0; i < this.position.length; i++) {\n      const thisPosition = this.position[i];\n      const otherPosition = other.position[i];\n      return thisPosition.isEqual(otherPosition);\n    }\n    return true;\n  }\n}\n\n/**\n * An ordering on a field, in some Direction. Direction defaults to ASCENDING.\n */\nexport class OrderBy {\n  readonly dir: Direction;\n  private readonly isKeyOrderBy: boolean;\n\n  constructor(readonly field: FieldPath, dir?: Direction) {\n    if (dir === undefined) {\n      dir = Direction.ASCENDING;\n    }\n    this.dir = dir;\n    this.isKeyOrderBy = field.isKeyField();\n  }\n\n  compare(d1: Document, d2: Document): number {\n    const comparison = this.isKeyOrderBy\n      ? Document.compareByKey(d1, d2)\n      : Document.compareByField(this.field, d1, d2);\n    switch (this.dir) {\n      case Direction.ASCENDING:\n        return comparison;\n      case Direction.DESCENDING:\n        return -1 * comparison;\n      default:\n        return fail('Unknown direction: ' + this.dir);\n    }\n  }\n\n  canonicalId(): string {\n    // TODO(b/29183165): Make this collision robust.\n    return this.field.canonicalString() + this.dir.toString();\n  }\n\n  toString(): string {\n    return `${this.field.canonicalString()} (${this.dir})`;\n  }\n\n  isEqual(other: OrderBy): boolean {\n    return this.dir === other.dir && this.field.isEqual(other.field);\n  }\n}\n\nconst KEY_ORDERING_ASC = new OrderBy(FieldPath.keyField(), Direction.ASCENDING);\nconst KEY_ORDERING_DESC = new OrderBy(\n  FieldPath.keyField(),\n  Direction.DESCENDING\n);\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../util/assert';\nimport { primitiveComparator } from '../util/misc';\n\n// A RegExp matching ISO 8601 UTC timestamps with optional fraction.\nconst isoRegExp = new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);\n\nexport class Timestamp {\n  static now(): Timestamp {\n    return Timestamp.fromEpochMilliseconds(Date.now());\n  }\n\n  static fromDate(date: Date): Timestamp {\n    return Timestamp.fromEpochMilliseconds(date.getTime());\n  }\n\n  static fromEpochMilliseconds(milliseconds: number): Timestamp {\n    const seconds = Math.floor(milliseconds / 1000);\n    const nanos = (milliseconds - seconds * 1000) * 1e6;\n    return new Timestamp(seconds, nanos);\n  }\n\n  static fromISOString(utc: string): Timestamp {\n    // The date string can have higher precision (nanos) than the Date class\n    // (millis), so we do some custom parsing here.\n\n    // Parse the nanos right out of the string.\n    let nanos = 0;\n    const fraction = isoRegExp.exec(utc);\n    assert(!!fraction, 'invalid timestamp: ' + utc);\n    if (fraction![1]) {\n      // Pad the fraction out to 9 digits (nanos).\n      let nanoStr = fraction![1];\n      nanoStr = (nanoStr + '000000000').substr(0, 9);\n      nanos = Number(nanoStr);\n    }\n\n    // Parse the date to get the seconds.\n    const date = new Date(utc);\n    const seconds = Math.floor(date.getTime() / 1000);\n\n    return new Timestamp(seconds, nanos);\n  }\n\n  constructor(readonly seconds: number, readonly nanos: number) {\n    assert(nanos >= 0, 'timestamp nanoseconds out of range: ' + nanos);\n    assert(nanos < 1e9, 'timestamp nanoseconds out of range' + nanos);\n    // Midnight at the beginning of 1/1/1 is the earliest Firestore supports.\n    assert(\n      seconds >= -62135596800,\n      'timestamp seconds out of range: ' + seconds\n    );\n    // This will break in the year 10,000.\n    assert(seconds < 253402300800, 'timestamp seconds out of range' + seconds);\n  }\n\n  toDate(): Date {\n    return new Date(this.toEpochMilliseconds());\n  }\n\n  toEpochMilliseconds(): number {\n    return this.seconds * 1000 + this.nanos / 1e6;\n  }\n\n  compareTo(other: Timestamp): number {\n    if (this.seconds === other.seconds) {\n      return primitiveComparator(this.nanos, other.nanos);\n    }\n    return primitiveComparator(this.seconds, other.seconds);\n  }\n\n  isEqual(other: Timestamp): boolean {\n    return other.seconds === this.seconds && other.nanos === this.nanos;\n  }\n\n  toString(): string {\n    return 'Timestamp(seconds=' + this.seconds + ', nanos=' + this.nanos + ')';\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Timestamp } from './timestamp';\n\n/**\n * A version of a document in Firestore. This corresponds to the version\n * timestamp, such as update_time or read_time.\n */\nexport class SnapshotVersion {\n  static readonly MIN = new SnapshotVersion(new Timestamp(0, 0));\n\n  // TODO(b/34176344): Once we no longer need to use the old alpha protos,\n  // delete this constructor and use a timestamp-backed version everywhere.\n  static fromMicroseconds(value: number): SnapshotVersion {\n    const seconds = Math.floor(value / 1e6);\n    const nanos = (value % 1e6) * 1e3;\n    return new SnapshotVersion(new Timestamp(seconds, nanos));\n  }\n\n  static fromTimestamp(value: Timestamp): SnapshotVersion {\n    return new SnapshotVersion(value);\n  }\n\n  static forDeletedDoc(): SnapshotVersion {\n    return SnapshotVersion.MIN;\n  }\n\n  private constructor(private timestamp: Timestamp) {}\n\n  compareTo(other: SnapshotVersion): number {\n    return this.timestamp.compareTo(other.timestamp);\n  }\n\n  isEqual(other: SnapshotVersion): boolean {\n    return this.timestamp.isEqual(other.timestamp);\n  }\n\n  /** Returns a number representation of the version for use in spec tests. */\n  toMicroseconds(): number {\n    // Convert to microseconds.\n    return this.timestamp.seconds * 1e6 + this.timestamp.nanos / 1000;\n  }\n\n  toString(): string {\n    return 'SnapshotVersion(' + this.timestamp.toString() + ')';\n  }\n\n  toTimestamp(): Timestamp {\n    return this.timestamp;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { ProtoByteString, TargetId } from '../core/types';\nimport { emptyByteString } from '../platform/platform';\n\n/** An enumeration of the different purposes we have for queries. */\nexport enum QueryPurpose {\n  /** A regular, normal query. */\n  Listen,\n\n  /**\n   * The query was used to refill a query after an existence filter mismatch.\n   */\n  ExistenceFilterMismatch,\n\n  /** The query was used to resolve a limbo document. */\n  LimboResolution\n}\n\n/**\n * An immutable set of metadata that the local store tracks for each query.\n */\nexport class QueryData {\n  constructor(\n    /** The query being listened to. */\n    public query: Query,\n    /**\n     * The target ID to which the query corresponds; Assigned by the\n     * LocalStore for user listens and by the SyncEngine for limbo watches.\n     */\n    public targetId: TargetId,\n    /** The purpose of the query. */\n    public purpose: QueryPurpose,\n    /** The latest snapshot version seen for this target. */\n    public snapshotVersion: SnapshotVersion = SnapshotVersion.MIN,\n    /**\n     * An opaque, server-assigned token that allows watching a query to be\n     * resumed after disconnecting without retransmitting all the data that\n     * matches the query. The resume token essentially identifies a point in\n     * time from which the server should resume sending results.\n     */\n    public resumeToken: ProtoByteString = emptyByteString()\n  ) {}\n\n  /**\n   * Creates a new query data instance with an updated snapshot version and\n   * resume token.\n   */\n  update(updated: {\n    resumeToken: ProtoByteString;\n    snapshotVersion: SnapshotVersion;\n  }): QueryData {\n    return new QueryData(\n      this.query,\n      this.targetId,\n      this.purpose,\n      updated.snapshotVersion,\n      updated.resumeToken\n    );\n  }\n\n  isEqual(other: QueryData): boolean {\n    return (\n      this.targetId === other.targetId &&\n      this.purpose === other.purpose &&\n      this.snapshotVersion.isEqual(other.snapshotVersion) &&\n      this.resumeToken === other.resumeToken &&\n      this.query.isEqual(other.query)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Timestamp } from '../core/timestamp';\nimport { assert, fail } from '../util/assert';\nimport * as misc from '../util/misc';\n\nimport { Document, MaybeDocument, NoDocument } from './document';\nimport { DocumentKey } from './document_key';\nimport { FieldValue, ObjectValue, ServerTimestampValue } from './field_value';\nimport { FieldPath } from './path';\n\n/**\n * Provides a set of fields that can be used to partially patch a document.\n * FieldMask is used in conjunction with ObjectValue.\n * Examples:\n *   foo - Overwrites foo entirely with the provided value. If foo is not\n *         present in the companion ObjectValue, the field is deleted.\n *   foo.bar - Overwrites only the field bar of the object foo.\n *             If foo is not an object, foo is replaced with an object\n *             containing foo\n */\nexport class FieldMask {\n  constructor(readonly fields: FieldPath[]) {\n    // TODO(dimond): validation of FieldMask\n  }\n\n  isEqual(other: FieldMask): boolean {\n    return misc.arrayEquals(this.fields, other.fields);\n  }\n}\n\n/** Represents a transform within a TransformMutation. */\nexport interface TransformOperation {\n  isEqual(other: TransformOperation): boolean;\n}\n\n/** Transforms a value into a server-generated timestamp. */\nexport class ServerTimestampTransform implements TransformOperation {\n  private constructor() {}\n  static instance = new ServerTimestampTransform();\n\n  isEqual(other: TransformOperation): boolean {\n    return other instanceof ServerTimestampTransform;\n  }\n}\n\n/** A field path and the TransformOperation to perform upon it. */\nexport class FieldTransform {\n  constructor(\n    readonly field: FieldPath,\n    readonly transform: TransformOperation\n  ) {}\n\n  isEqual(other: FieldTransform): boolean {\n    return (\n      this.field.isEqual(other.field) && this.transform.isEqual(other.transform)\n    );\n  }\n}\n\n/** The result of successfully applying a mutation to the backend. */\nexport class MutationResult {\n  constructor(\n    /**\n     * The version at which the mutation was committed or null for a delete.\n     */\n    readonly version: SnapshotVersion | null,\n    /**\n     * The resulting fields returned from the backend after a\n     * TransformMutation has been committed. Contains one FieldValue for each\n     * FieldTransform that was in the mutation.\n     *\n     * Will be null if the mutation was not a TransformMutation.\n     */\n    readonly transformResults: FieldValue[] | null\n  ) {}\n}\n\nexport enum MutationType {\n  Set,\n  Patch,\n  Transform,\n  Delete\n}\n\n/**\n * Encodes a precondition for a mutation. This follows the model that the\n * backend accepts with the special case of an explicit \"empty\" precondition\n * (meaning no precondition).\n */\nexport class Precondition {\n  static readonly NONE = new Precondition();\n\n  private constructor(\n    readonly updateTime?: SnapshotVersion,\n    readonly exists?: boolean\n  ) {\n    assert(\n      updateTime === undefined || exists === undefined,\n      'Precondition can specify \"exists\" or \"updateTime\" but not both'\n    );\n  }\n\n  /** Creates a new Precondition with an exists flag. */\n  static exists(exists: boolean) {\n    return new Precondition(undefined, exists);\n  }\n\n  /** Creates a new Precondition based on a version a document exists at. */\n  static updateTime(version: SnapshotVersion) {\n    return new Precondition(version);\n  }\n\n  /** Returns whether this Precondition is empty. */\n  get isNone(): boolean {\n    return this.updateTime === undefined && this.exists === undefined;\n  }\n\n  /**\n   * Returns true if the preconditions is valid for the given document\n   * (or null if no document is available).\n   */\n  isValidFor(maybeDoc: MaybeDocument | null) {\n    if (this.updateTime !== undefined) {\n      return (\n        maybeDoc instanceof Document &&\n        maybeDoc.version.isEqual(this.updateTime)\n      );\n    } else if (this.exists !== undefined) {\n      if (this.exists) {\n        return maybeDoc instanceof Document;\n      } else {\n        return maybeDoc === null || maybeDoc instanceof NoDocument;\n      }\n    } else {\n      assert(this.isNone, 'Precondition should be empty');\n      return true;\n    }\n  }\n\n  isEqual(other: Precondition) {\n    return (\n      misc.equals(this.updateTime, other.updateTime) &&\n      this.exists === other.exists\n    );\n  }\n}\n\n/**\n * A mutation describes a self-contained change to a document. Mutations can\n * create, replace, delete, and update subsets of documents.\n *\n * Mutations not only act on the value of the document but also it version.\n * In the case of Set, Patch, and Transform mutations we preserve the existing\n * version. In the case of Delete mutations, we reset the version to 0.\n *\n * Here's the expected transition table.\n *\n * MUTATION           APPLIED TO            RESULTS IN\n *\n * SetMutation        Document(v3)          Document(v3)\n * SetMutation        NoDocument(v3)        Document(v0)\n * SetMutation        null                  Document(v0)\n * PatchMutation      Document(v3)          Document(v3)\n * PatchMutation      NoDocument(v3)        NoDocument(v3)\n * PatchMutation      null                  null\n * TransformMutation  Document(v3)          Document(v3)\n * TransformMutation  NoDocument(v3)        NoDocument(v3)\n * TransformMutation  null                  null\n * DeleteMutation     Document(v3)          NoDocument(v0)\n * DeleteMutation     NoDocument(v3)        NoDocument(v0)\n * DeleteMutation     null                  NoDocument(v0)\n *\n * Note that TransformMutations don't create Documents (in the case of being\n * applied to a NoDocument), even though they would on the backend. This is\n * because the client always combines the TransformMutation with a SetMutation\n * or PatchMutation and we only want to apply the transform if the prior\n * mutation resulted in a Document (always true for a SetMutation, but not\n * necessarily for a PatchMutation).\n *\n * ## Subclassing Notes\n *\n * Subclasses of Mutation need to implement applyToRemoteDocument() and\n * applyToLocalView() to implement the actual behavior of applying the mutation\n * to some source document.\n */\nexport abstract class Mutation {\n  readonly type: MutationType;\n  readonly key: DocumentKey;\n  readonly precondition: Precondition;\n\n  /**\n   * Applies this mutation to the given MaybeDocument or null for the purposes\n   * of computing a new remote document. Both the input and returned documents\n   * can be null.\n   *\n   * @param maybeDoc The document to mutate. The input document can be null if\n   *     the client has no knowledge of the pre-mutation state of the document.\n   * @param mutationResult The result of applying the mutation from the backend.\n   * @return The mutated document. The returned document may be null, but only\n   *     if maybeDoc was null and the mutation would not create a new document.\n   */\n  abstract applyToRemoteDocument(\n    maybeDoc: MaybeDocument | null,\n    mutationResult: MutationResult\n  ): MaybeDocument | null;\n\n  /**\n   * Applies this mutation to the given MaybeDocument or null for the purposes\n   * of computing the new local view of a document. Both the input and returned\n   * documents can be null.\n   *\n   * @param maybeDoc The document to mutate. The input document can be null if\n   *     the client has no knowledge of the pre-mutation state of the document.\n   * @param baseDoc The state of the document prior to this mutation batch. The\n   *     input document can be null if the client has no knowledge of the\n   *     pre-mutation state of the document.\n   * @param localWriteTime A timestamp indicating the local write time of the\n   *     batch this mutation is a part of.\n   * @return The mutated document. The returned document may be null, but only\n   *     if maybeDoc was null and the mutation would not create a new document.\n   */\n  abstract applyToLocalView(\n    maybeDoc: MaybeDocument | null,\n    baseDoc: MaybeDocument | null,\n    localWriteTime: Timestamp\n  ): MaybeDocument | null;\n\n  abstract isEqual(other: Mutation): boolean;\n\n  protected verifyKeyMatches(maybeDoc: MaybeDocument | null): void {\n    if (maybeDoc != null) {\n      assert(\n        maybeDoc.key.isEqual(this.key),\n        'Can only apply a mutation to a document with the same key'\n      );\n    }\n  }\n\n  /**\n   * Returns the version from the given document for use as the result of a\n   * mutation. Mutations are defined to return the version of the base document\n   * only if it is an existing document. Deleted and unknown documents have a\n   * post-mutation version of SnapshotVersion.MIN.\n   */\n  protected static getPostMutationVersion(\n    maybeDoc: MaybeDocument | null\n  ): SnapshotVersion {\n    if (maybeDoc instanceof Document) {\n      return maybeDoc.version;\n    } else {\n      return SnapshotVersion.MIN;\n    }\n  }\n}\n\n/**\n * A mutation that creates or replaces the document at the given key with the\n * object value contents.\n */\nexport class SetMutation extends Mutation {\n  constructor(\n    readonly key: DocumentKey,\n    readonly value: ObjectValue,\n    readonly precondition: Precondition\n  ) {\n    super();\n  }\n\n  readonly type: MutationType = MutationType.Set;\n\n  applyToRemoteDocument(\n    maybeDoc: MaybeDocument | null,\n    mutationResult: MutationResult\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    assert(\n      mutationResult.transformResults == null,\n      'Transform results received by SetMutation.'\n    );\n\n    // Unlike applyToLocalView, if we're applying a mutation to a remote\n    // document the server has accepted the mutation so the precondition must\n    // have held.\n\n    const version = Mutation.getPostMutationVersion(maybeDoc);\n    return new Document(this.key, version, this.value, {\n      hasLocalMutations: false\n    });\n  }\n\n  applyToLocalView(\n    maybeDoc: MaybeDocument | null,\n    baseDoc: MaybeDocument | null,\n    localWriteTime: Timestamp\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    const version = Mutation.getPostMutationVersion(maybeDoc);\n    return new Document(this.key, version, this.value, {\n      hasLocalMutations: true\n    });\n  }\n\n  isEqual(other: Mutation): boolean {\n    return (\n      other instanceof SetMutation &&\n      this.key.isEqual(other.key) &&\n      this.value.isEqual(other.value) &&\n      this.precondition.isEqual(other.precondition)\n    );\n  }\n}\n\n/**\n * A mutation that modifies fields of the document at the given key with the\n * given values. The values are applied through a field mask:\n *\n *  * When a field is in both the mask and the values, the corresponding field\n *    is updated.\n *  * When a field is in neither the mask nor the values, the corresponding\n *    field is unmodified.\n *  * When a field is in the mask but not in the values, the corresponding field\n *    is deleted.\n *  * When a field is not in the mask but is in the values, the values map is\n *    ignored.\n */\nexport class PatchMutation extends Mutation {\n  constructor(\n    readonly key: DocumentKey,\n    readonly data: ObjectValue,\n    readonly fieldMask: FieldMask,\n    readonly precondition: Precondition\n  ) {\n    super();\n  }\n\n  readonly type: MutationType = MutationType.Patch;\n\n  applyToRemoteDocument(\n    maybeDoc: MaybeDocument | null,\n    mutationResult: MutationResult\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    assert(\n      mutationResult.transformResults == null,\n      'Transform results received by PatchMutation.'\n    );\n\n    // TODO(mcg): Relax enforcement of this precondition\n    //\n    // We shouldn't actually enforce the precondition since it already passed on\n    // the backend, but we may not have a local version of the document to\n    // patch, so we use the precondition to prevent incorrectly putting a\n    // partial document into our cache.\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    const version = Mutation.getPostMutationVersion(maybeDoc);\n    const newData = this.patchDocument(maybeDoc);\n    return new Document(this.key, version, newData, {\n      hasLocalMutations: false\n    });\n  }\n\n  applyToLocalView(\n    maybeDoc: MaybeDocument | null,\n    baseDoc: MaybeDocument | null,\n    localWriteTime: Timestamp\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    const version = Mutation.getPostMutationVersion(maybeDoc);\n    const newData = this.patchDocument(maybeDoc);\n    return new Document(this.key, version, newData, {\n      hasLocalMutations: true\n    });\n  }\n\n  isEqual(other: Mutation): boolean {\n    return (\n      other instanceof PatchMutation &&\n      this.key.isEqual(other.key) &&\n      this.fieldMask.isEqual(other.fieldMask) &&\n      this.precondition.isEqual(other.precondition)\n    );\n  }\n\n  /**\n   * Patches the data of document if available or creates a new document. Note\n   * that this does not check whether or not the precondition of this patch\n   * holds.\n   */\n  private patchDocument(maybeDoc: MaybeDocument | null): ObjectValue {\n    let data: ObjectValue;\n    if (maybeDoc instanceof Document) {\n      data = maybeDoc.data;\n    } else {\n      data = ObjectValue.EMPTY;\n    }\n    return this.patchObject(data);\n  }\n\n  private patchObject(data: ObjectValue): ObjectValue {\n    for (const fieldPath of this.fieldMask.fields) {\n      const newValue = this.data.field(fieldPath);\n      if (newValue !== undefined) {\n        data = data.set(fieldPath, newValue);\n      } else {\n        data = data.delete(fieldPath);\n      }\n    }\n    return data;\n  }\n}\n\n/**\n * A mutation that modifies specific fields of the document with transform\n * operations. Currently the only supported transform is a server timestamp, but\n * IP Address, increment(n), etc. could be supported in the future.\n *\n * It is somewhat similar to a PatchMutation in that it patches specific fields\n * and has no effect when applied to a null or NoDocument (see comment on\n * Mutation for rationale).\n */\nexport class TransformMutation extends Mutation {\n  readonly type: MutationType = MutationType.Transform;\n\n  // NOTE: We set a precondition of exists: true as a safety-check, since we\n  // always combine TransformMutations with a SetMutation or PatchMutation which\n  // (if successful) should end up with an existing document.\n  readonly precondition = Precondition.exists(true);\n\n  constructor(\n    readonly key: DocumentKey,\n    readonly fieldTransforms: FieldTransform[]\n  ) {\n    super();\n  }\n\n  applyToRemoteDocument(\n    maybeDoc: MaybeDocument | null,\n    mutationResult: MutationResult\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    assert(\n      mutationResult.transformResults != null,\n      'Transform results missing for TransformMutation.'\n    );\n    const transformResults = mutationResult.transformResults!;\n\n    // TODO(mcg): Relax enforcement of this precondition\n    //\n    // We shouldn't actually enforce the precondition since it already passed on\n    // the backend, but we may not have a local version of the document to\n    // patch, so we use the precondition to prevent incorrectly putting a\n    // partial document into our cache.\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    const doc = this.requireDocument(maybeDoc);\n    const newData = this.transformObject(doc.data, transformResults);\n    return new Document(this.key, doc.version, newData, {\n      hasLocalMutations: false\n    });\n  }\n\n  applyToLocalView(\n    maybeDoc: MaybeDocument | null,\n    baseDoc: MaybeDocument | null,\n    localWriteTime: Timestamp\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    const doc = this.requireDocument(maybeDoc);\n    const transformResults = this.localTransformResults(\n      localWriteTime,\n      baseDoc\n    );\n    const newData = this.transformObject(doc.data, transformResults);\n    return new Document(this.key, doc.version, newData, {\n      hasLocalMutations: true\n    });\n  }\n\n  isEqual(other: Mutation): boolean {\n    return (\n      other instanceof TransformMutation &&\n      this.key.isEqual(other.key) &&\n      misc.arrayEquals(this.fieldTransforms, other.fieldTransforms) &&\n      this.precondition.isEqual(other.precondition)\n    );\n  }\n\n  /**\n   * Asserts that the given MaybeDocument is actually a Document and verifies\n   * that it matches the key for this mutation. Since we only support\n   * transformations with precondition exists this method is guaranteed to be\n   * safe.\n   */\n  private requireDocument(maybeDoc: MaybeDocument | null): Document {\n    assert(\n      maybeDoc instanceof Document,\n      'Unknown MaybeDocument type ' + maybeDoc\n    );\n    const doc = maybeDoc! as Document;\n    assert(\n      doc.key.isEqual(this.key),\n      'Can only transform a document with the same key'\n    );\n    return doc;\n  }\n\n  /**\n   * Creates a list of \"transform results\" (a transform result is a field value\n   * representing the result of applying a transform) for use when applying a\n   * TransformMutation locally.\n   *\n   * @param localWriteTime The local time of the transform mutation (used to\n   *     generate ServerTimestampValues).\n   * @param baseDoc The document prior to applying this mutation batch.\n   * @return The transform results list.\n   */\n  private localTransformResults(\n    localWriteTime: Timestamp,\n    baseDoc: MaybeDocument | null\n  ): FieldValue[] {\n    const transformResults = [] as FieldValue[];\n    for (const fieldTransform of this.fieldTransforms) {\n      const transform = fieldTransform.transform;\n      if (transform instanceof ServerTimestampTransform) {\n        let previousValue: FieldValue | null = null;\n\n        if (baseDoc instanceof Document) {\n          previousValue = baseDoc.field(fieldTransform.field) || null;\n        }\n\n        transformResults.push(\n          new ServerTimestampValue(localWriteTime, previousValue)\n        );\n      } else {\n        return fail('Encountered unknown transform: ' + transform);\n      }\n    }\n    return transformResults;\n  }\n\n  private transformObject(\n    data: ObjectValue,\n    transformResults: FieldValue[]\n  ): ObjectValue {\n    assert(\n      transformResults.length === this.fieldTransforms.length,\n      'TransformResults length mismatch.'\n    );\n\n    for (let i = 0; i < this.fieldTransforms.length; i++) {\n      const fieldTransform = this.fieldTransforms[i];\n      const transform = fieldTransform.transform;\n      const fieldPath = fieldTransform.field;\n      if (transform instanceof ServerTimestampTransform) {\n        data = data.set(fieldPath, transformResults[i]);\n      } else {\n        return fail('Encountered unknown transform: ' + transform);\n      }\n    }\n    return data;\n  }\n}\n\n/** A mutation that deletes the document at the given key. */\nexport class DeleteMutation extends Mutation {\n  constructor(readonly key: DocumentKey, readonly precondition: Precondition) {\n    super();\n  }\n\n  readonly type: MutationType = MutationType.Delete;\n\n  applyToRemoteDocument(\n    maybeDoc: MaybeDocument | null,\n    mutationResult: MutationResult\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    assert(\n      mutationResult.transformResults == null,\n      'Transform results received by DeleteMutation.'\n    );\n\n    // Unlike applyToLocalView, if we're applying a mutation to a remote\n    // document the server has accepted the mutation so the precondition must\n    // have held.\n\n    return new NoDocument(this.key, SnapshotVersion.MIN);\n  }\n\n  applyToLocalView(\n    maybeDoc: MaybeDocument | null,\n    baseDoc: MaybeDocument | null,\n    localWriteTime: Timestamp\n  ): MaybeDocument | null {\n    this.verifyKeyMatches(maybeDoc);\n\n    if (!this.precondition.isValidFor(maybeDoc)) {\n      return maybeDoc;\n    }\n\n    if (maybeDoc) {\n      assert(\n        maybeDoc.key.isEqual(this.key),\n        'Can only apply mutation to document with same key'\n      );\n    }\n    return new NoDocument(this.key, SnapshotVersion.forDeletedDoc());\n  }\n\n  isEqual(other: Mutation): boolean {\n    return (\n      other instanceof DeleteMutation &&\n      this.key.isEqual(other.key) &&\n      this.precondition.isEqual(other.precondition)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class ExistenceFilter {\n  // TODO(b/33078163): just use simplest form of existence filter for now\n  constructor(public count: number) {}\n\n  isEqual(other: ExistenceFilter) {\n    return other && other.count === this.count;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fail } from '../util/assert';\nimport { Code } from '../util/error';\nimport * as log from '../util/log';\n\n/**\n * Error Codes describing the different ways GRPC can fail. These are copied\n * directly from GRPC's sources here:\n *\n * https://github.com/grpc/grpc/blob/bceec94ea4fc5f0085d81235d8e1c06798dc341a/include/grpc%2B%2B/impl/codegen/status_code_enum.h\n *\n * Important! The names of these identifiers matter because the string forms\n * are used for reverse lookups from the webchannel stream. Do NOT change the\n * names of these identifiers.\n */\nenum RpcCode {\n  OK = 0,\n  CANCELLED = 1,\n  UNKNOWN = 2,\n  INVALID_ARGUMENT = 3,\n  DEADLINE_EXCEEDED = 4,\n  NOT_FOUND = 5,\n  ALREADY_EXISTS = 6,\n  PERMISSION_DENIED = 7,\n  UNAUTHENTICATED = 16,\n  RESOURCE_EXHAUSTED = 8,\n  FAILED_PRECONDITION = 9,\n  ABORTED = 10,\n  OUT_OF_RANGE = 11,\n  UNIMPLEMENTED = 12,\n  INTERNAL = 13,\n  UNAVAILABLE = 14,\n  DATA_LOSS = 15\n}\n\nexport function isPermanentError(code: Code): boolean {\n  switch (code) {\n    case Code.OK:\n      return fail('Treated status OK as error');\n    case Code.CANCELLED:\n    case Code.UNKNOWN:\n    case Code.DEADLINE_EXCEEDED:\n    case Code.RESOURCE_EXHAUSTED:\n    case Code.INTERNAL:\n    case Code.UNAVAILABLE:\n    // Unauthenticated means something went wrong with our token and we need\n    // to retry with new credentials which will happen automatically.\n    // TODO(b/37325376): Give up after second unauthenticated error.\n    case Code.UNAUTHENTICATED:\n      return false;\n    case Code.INVALID_ARGUMENT:\n    case Code.NOT_FOUND:\n    case Code.ALREADY_EXISTS:\n    case Code.PERMISSION_DENIED:\n    case Code.FAILED_PRECONDITION:\n    // Aborted might be retried in some scenarios, but that is dependant on\n    // the context and should handled individually by the calling code.\n    // See https://cloud.google.com/apis/design/errors.\n    case Code.ABORTED:\n    case Code.OUT_OF_RANGE:\n    case Code.UNIMPLEMENTED:\n    case Code.DATA_LOSS:\n      return true;\n    default:\n      return fail('Unknown status code: ' + code);\n  }\n}\n\n/**\n * Maps an error Code from a GRPC status identifier like 'NOT_FOUND'.\n *\n * @returns The Code equivalent to the given status string or undefined if\n *     there is no match.\n */\nexport function mapCodeFromRpcStatus(status: string): Code | undefined {\n  // tslint:disable-next-line:no-any lookup by string\n  const code: RpcCode = RpcCode[status as any] as any;\n  if (code === undefined) {\n    return undefined;\n  }\n\n  return mapCodeFromRpcCode(code);\n}\n\n/**\n * Maps an error Code from GRPC status code number, like 0, 1, or 14. These\n * are not the same as HTTP status codes.\n *\n * @returns The Code equivalent to the given GRPC status code. Fails if there\n *     is no match.\n */\nexport function mapCodeFromRpcCode(code: number | undefined): Code {\n  if (code === undefined) {\n    // This shouldn't normally happen, but in certain error cases (like trying\n    // to send invalid proto messages) we may get an error with no GRPC code.\n    log.error('GRPC error has no .code');\n    return Code.UNKNOWN;\n  }\n\n  switch (code) {\n    case RpcCode.OK:\n      return Code.OK;\n    case RpcCode.CANCELLED:\n      return Code.CANCELLED;\n    case RpcCode.UNKNOWN:\n      return Code.UNKNOWN;\n    case RpcCode.DEADLINE_EXCEEDED:\n      return Code.DEADLINE_EXCEEDED;\n    case RpcCode.RESOURCE_EXHAUSTED:\n      return Code.RESOURCE_EXHAUSTED;\n    case RpcCode.INTERNAL:\n      return Code.INTERNAL;\n    case RpcCode.UNAVAILABLE:\n      return Code.UNAVAILABLE;\n    case RpcCode.UNAUTHENTICATED:\n      return Code.UNAUTHENTICATED;\n    case RpcCode.INVALID_ARGUMENT:\n      return Code.INVALID_ARGUMENT;\n    case RpcCode.NOT_FOUND:\n      return Code.NOT_FOUND;\n    case RpcCode.ALREADY_EXISTS:\n      return Code.ALREADY_EXISTS;\n    case RpcCode.PERMISSION_DENIED:\n      return Code.PERMISSION_DENIED;\n    case RpcCode.FAILED_PRECONDITION:\n      return Code.FAILED_PRECONDITION;\n    case RpcCode.ABORTED:\n      return Code.ABORTED;\n    case RpcCode.OUT_OF_RANGE:\n      return Code.OUT_OF_RANGE;\n    case RpcCode.UNIMPLEMENTED:\n      return Code.UNIMPLEMENTED;\n    case RpcCode.DATA_LOSS:\n      return Code.DATA_LOSS;\n    default:\n      return fail('Unknown status code: ' + code);\n  }\n}\n\n/**\n * Maps an RPC code from a Code. This is the reverse operation from\n * mapCodeFromRpcCode and should really only be used in tests.\n */\nexport function mapRpcCodeFromCode(code: Code | undefined): number {\n  if (code === undefined) {\n    return RpcCode.OK;\n  }\n\n  switch (code) {\n    case Code.OK:\n      return RpcCode.OK;\n    case Code.CANCELLED:\n      return RpcCode.CANCELLED;\n    case Code.UNKNOWN:\n      return RpcCode.UNKNOWN;\n    case Code.DEADLINE_EXCEEDED:\n      return RpcCode.DEADLINE_EXCEEDED;\n    case Code.RESOURCE_EXHAUSTED:\n      return RpcCode.RESOURCE_EXHAUSTED;\n    case Code.INTERNAL:\n      return RpcCode.INTERNAL;\n    case Code.UNAVAILABLE:\n      return RpcCode.UNAVAILABLE;\n    case Code.UNAUTHENTICATED:\n      return RpcCode.UNAUTHENTICATED;\n    case Code.INVALID_ARGUMENT:\n      return RpcCode.INVALID_ARGUMENT;\n    case Code.NOT_FOUND:\n      return RpcCode.NOT_FOUND;\n    case Code.ALREADY_EXISTS:\n      return RpcCode.ALREADY_EXISTS;\n    case Code.PERMISSION_DENIED:\n      return RpcCode.PERMISSION_DENIED;\n    case Code.FAILED_PRECONDITION:\n      return RpcCode.FAILED_PRECONDITION;\n    case Code.ABORTED:\n      return RpcCode.ABORTED;\n    case Code.OUT_OF_RANGE:\n      return RpcCode.OUT_OF_RANGE;\n    case Code.UNIMPLEMENTED:\n      return RpcCode.UNIMPLEMENTED;\n    case Code.DATA_LOSS:\n      return RpcCode.DATA_LOSS;\n    default:\n      return fail('Unknown status code: ' + code);\n  }\n}\n\n/**\n * Converts an HTTP Status Code to the equivalent error code.\n *\n * @param status An HTTP Status Code, like 200, 404, 503, etc.\n * @returns The equivalent Code. Unknown status codes are mapped to\n *     Code.UNKNOWN.\n */\nexport function mapCodeFromHttpStatus(status: number): Code {\n  // The canonical error codes for Google APIs [1] specify mapping onto HTTP\n  // status codes but the mapping is not bijective. In each case of ambiguity\n  // this function chooses a primary error.\n  //\n  // [1]\n  // https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\n  switch (status) {\n    case 200: // OK\n      return Code.OK;\n\n    case 400: // Bad Request\n      return Code.INVALID_ARGUMENT;\n    // Other possibilities based on the forward mapping\n    // return Code.FAILED_PRECONDITION;\n    // return Code.OUT_OF_RANGE;\n\n    case 401: // Unauthorized\n      return Code.UNAUTHENTICATED;\n\n    case 403: // Forbidden\n      return Code.PERMISSION_DENIED;\n\n    case 404: // Not Found\n      return Code.NOT_FOUND;\n\n    case 409: // Conflict\n      return Code.ABORTED;\n    // Other possibilities:\n    // return Code.ALREADY_EXISTS;\n\n    case 416: // Range Not Satisfiable\n      return Code.OUT_OF_RANGE;\n\n    case 429: // Too Many Requests\n      return Code.RESOURCE_EXHAUSTED;\n\n    case 499: // Client Closed Request\n      return Code.CANCELLED;\n\n    case 500: // Internal Server Error\n      return Code.UNKNOWN;\n    // Other possibilities:\n    // return Code.INTERNAL;\n    // return Code.DATA_LOSS;\n\n    case 501: // Unimplemented\n      return Code.UNIMPLEMENTED;\n\n    case 503: // Service Unavailable\n      return Code.UNAVAILABLE;\n\n    case 504: // Gateway Timeout\n      return Code.DEADLINE_EXCEEDED;\n\n    default:\n      if (status >= 200 && status < 300) return Code.OK;\n      if (status >= 400 && status < 500) return Code.FAILED_PRECONDITION;\n      if (status >= 500 && status < 600) return Code.INTERNAL;\n      return Code.UNKNOWN;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SortedMap, SortedMapIterator } from './sorted_map';\n\n/**\n * SortedSet is an immutable (copy-on-write) collection that holds elements\n * in order specified by the provided comparator.\n *\n * NOTE: if provided comparator returns 0 for two elements, we consider them to\n * be equal!\n */\nexport class SortedSet<T> {\n  private data: SortedMap<T, boolean>;\n\n  constructor(private comparator: (left: T, right: T) => number) {\n    this.data = new SortedMap<T, boolean>(this.comparator);\n  }\n\n  /**\n   * Creates a SortedSet from the keys of the map.\n   * This is currently implemented as an O(n) copy.\n   */\n  static fromMapKeys<K, V>(map: SortedMap<K, V>): SortedSet<K> {\n    let keys = new SortedSet<K>(map.comparator);\n    map.forEach(key => {\n      keys = keys.add(key);\n    });\n    return keys;\n  }\n\n  has(elem: T): boolean {\n    return this.data.get(elem) !== null;\n  }\n\n  first(): T | null {\n    return this.data.minKey();\n  }\n\n  last(): T | null {\n    return this.data.maxKey();\n  }\n\n  get size(): number {\n    return this.data.size;\n  }\n\n  indexOf(elem: T): number {\n    return this.data.indexOf(elem);\n  }\n\n  /** Iterates elements in order defined by \"comparator\" */\n  forEach(cb: (elem: T) => void): void {\n    this.data.inorderTraversal((k: T, v: boolean) => {\n      cb(k);\n      return false;\n    });\n  }\n\n  /** Iterates over `elem`s such that: range[0] <= elem < range[1]. */\n  forEachInRange(range: [T, T], cb: (elem: T) => void): void {\n    const iter = this.data.getIteratorFrom(range[0]);\n    while (iter.hasNext()) {\n      const elem = iter.getNext();\n      if (this.comparator(elem.key, range[1]) >= 0) return;\n      cb(elem.key);\n    }\n  }\n\n  /**\n   * Iterates over `elem`s such that: start <= elem until false is returned.\n   */\n  forEachWhile(cb: (elem: T) => boolean, start?: T): void {\n    let iter: SortedMapIterator<T, boolean>;\n    if (start !== undefined) {\n      iter = this.data.getIteratorFrom(start);\n    } else {\n      iter = this.data.getIterator();\n    }\n    while (iter.hasNext()) {\n      const elem = iter.getNext();\n      const result = cb(elem.key);\n      if (!result) return;\n    }\n  }\n\n  /** Finds the least element greater than or equal to `elem`. */\n  firstAfterOrEqual(elem: T): T | null {\n    const iter = this.data.getIteratorFrom(elem);\n    return iter.hasNext() ? iter.getNext().key : null;\n  }\n\n  /** Inserts or updates an element */\n  add(elem: T): SortedSet<T> {\n    return this.copy(this.data.remove(elem).insert(elem, true));\n  }\n\n  /** Deletes an element */\n  delete(elem: T): SortedSet<T> {\n    if (!this.has(elem)) return this;\n    return this.copy(this.data.remove(elem));\n  }\n\n  isEmpty(): boolean {\n    return this.data.isEmpty();\n  }\n\n  unionWith(other: SortedSet<T>): SortedSet<T> {\n    let result: SortedSet<T> = this;\n    other.forEach(elem => {\n      result = result.add(elem);\n    });\n    return result;\n  }\n\n  isEqual(other: SortedSet<T>): boolean {\n    if (!(other instanceof SortedSet)) return false;\n    if (this.size !== other.size) return false;\n\n    const thisIt = this.data.getIterator();\n    const otherIt = other.data.getIterator();\n    while (thisIt.hasNext()) {\n      const thisElem = thisIt.getNext().key;\n      const otherElem = otherIt.getNext().key;\n      if (this.comparator(thisElem, otherElem) !== 0) return false;\n    }\n    return true;\n  }\n\n  toString(): string {\n    const result: T[] = [];\n    this.forEach(elem => result.push(elem));\n    return 'SortedSet(' + result.toString() + ')';\n  }\n\n  private copy(data: SortedMap<T, boolean>): SortedSet<T> {\n    const result = new SortedSet(this.comparator);\n    result.data = data;\n    return result;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { SortedMap } from '../util/sorted_map';\nimport { SortedSet } from '../util/sorted_set';\n\nimport { Document, MaybeDocument } from './document';\nimport { DocumentKey } from './document_key';\n\n/** Miscellaneous collection types / constants. */\n\nexport type MaybeDocumentMap = SortedMap<DocumentKey, MaybeDocument>;\nconst EMPTY_MAYBE_DOCUMENT_MAP = new SortedMap<DocumentKey, MaybeDocument>(\n  DocumentKey.comparator\n);\nexport function maybeDocumentMap() {\n  return EMPTY_MAYBE_DOCUMENT_MAP;\n}\n\nexport type DocumentMap = SortedMap<DocumentKey, Document>;\nconst EMPTY_DOCUMENT_MAP = new SortedMap<DocumentKey, Document>(\n  DocumentKey.comparator\n);\nexport function documentMap() {\n  return EMPTY_DOCUMENT_MAP;\n}\n\nexport type DocumentVersionMap = SortedMap<DocumentKey, SnapshotVersion>;\nconst EMPTY_DOCUMENT_VERSION_MAP = new SortedMap<DocumentKey, SnapshotVersion>(\n  DocumentKey.comparator\n);\nexport function documentVersionMap() {\n  return EMPTY_DOCUMENT_VERSION_MAP;\n}\n\nexport type DocumentKeySet = SortedSet<DocumentKey>;\nconst EMPTY_DOCUMENT_KEY_SET = new SortedSet(DocumentKey.comparator);\nexport function documentKeySet() {\n  return EMPTY_DOCUMENT_KEY_SET;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { ProtoByteString, TargetId } from '../core/types';\nimport {\n  documentKeySet,\n  DocumentKeySet,\n  MaybeDocumentMap\n} from '../model/collections';\nimport { MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { emptyByteString } from '../platform/platform';\n\n/**\n * An event from the RemoteStore. It is split into targetChanges (changes to the\n * state or the set of documents in our watched targets) and documentUpdates\n * (changes to the actual documents).\n */\nexport class RemoteEvent {\n  constructor(\n    /**\n     * The snapshot version this event brings us up to, or MIN if not set.\n     */\n    readonly snapshotVersion: SnapshotVersion,\n    /**\n     * A map from target to changes to the target. See TargetChange.\n     */\n    readonly targetChanges: { [targetId: number]: TargetChange },\n    /**\n     * A set of which documents have changed or been deleted, along with the\n     * doc's new values (if not deleted).\n     */\n    public documentUpdates: MaybeDocumentMap\n  ) {}\n\n  addDocumentUpdate(doc: MaybeDocument) {\n    this.documentUpdates = this.documentUpdates.insert(doc.key, doc);\n  }\n\n  handleExistenceFilterMismatch(targetId: TargetId) {\n    /*\n     * An existence filter mismatch will reset the query and we need to reset\n     * the mapping to contain no documents and an empty resume token.\n     *\n     * Note:\n     *   * The reset mapping is empty, specifically forcing the consumer of the\n     *     change to forget all keys for this targetID;\n     *   * The resume snapshot for this target must be reset\n     *   * The target must be unacked because unwatching and rewatching\n     *     introduces a race for changes.\n     */\n    this.targetChanges[targetId] = {\n      mapping: new ResetMapping(),\n      snapshotVersion: SnapshotVersion.MIN,\n      currentStatusUpdate: CurrentStatusUpdate.MarkNotCurrent,\n      resumeToken: emptyByteString()\n    };\n  }\n}\n\n/**\n * Represents an update to the current status of a target, either explicitly\n * having no new state, or the new value to set. Note \"current\" has special\n * meaning for in the RPC protocol that implies that a target is both up-to-date\n * and consistent with the rest of the watch stream.\n */\nexport enum CurrentStatusUpdate {\n  /** The current status is not affected and should not be modified. */\n  None,\n  /** The target must be marked as no longer \"current\". */\n  MarkNotCurrent,\n  /** The target must be marked as \"current\". */\n  MarkCurrent\n}\n\n/**\n * A part of a RemoteEvent specifying set of changes to a specific target. These\n * changes track what documents are currently included in the target as well as\n * the current snapshot version and resume token but the actual changes *to*\n * documents are not part of the TargetChange since documents may be part of\n * multiple targets.\n */\nexport interface TargetChange {\n  /**\n   * The new \"current\" (synced) status of this target. Set to\n   * CurrentStatusUpdateNone if the status should not be updated. Note \"current\"\n   * has special meaning in the RPC protocol that implies that a target is\n   * both up-to-date and consistent with the rest of the watch stream.\n   */\n  currentStatusUpdate: CurrentStatusUpdate;\n\n  /**\n   * A set of changes to documents in this target.\n   */\n  mapping: TargetMapping;\n\n  /** The snapshot version that this target change brings us up to. */\n  snapshotVersion: SnapshotVersion;\n\n  /**\n   * An opaque, server-assigned token that allows watching a query to be resumed\n   * after disconnecting without retransmitting all the data that matches the\n   * query. The resume token essentially identifies a point in time from which\n   * the server should resume sending results.\n   */\n  resumeToken: ProtoByteString;\n}\n\nexport type TargetMapping = ResetMapping | UpdateMapping;\n\nconst EMPTY_KEY_SET = documentKeySet();\n\nexport class ResetMapping {\n  private docs: DocumentKeySet = EMPTY_KEY_SET;\n\n  get documents(): DocumentKeySet {\n    return this.docs;\n  }\n\n  add(key: DocumentKey) {\n    this.docs = this.docs.add(key);\n  }\n\n  delete(key: DocumentKey) {\n    this.docs = this.docs.delete(key);\n  }\n\n  isEqual(other: ResetMapping): boolean {\n    return other !== null && this.docs.isEqual(other.docs);\n  }\n}\n\nexport class UpdateMapping {\n  addedDocuments: DocumentKeySet = EMPTY_KEY_SET;\n  removedDocuments: DocumentKeySet = EMPTY_KEY_SET;\n\n  applyToKeySet(keys: DocumentKeySet): DocumentKeySet {\n    let result = keys;\n    this.addedDocuments.forEach(key => (result = result.add(key)));\n    this.removedDocuments.forEach(key => (result = result.delete(key)));\n    return result;\n  }\n\n  add(key: DocumentKey) {\n    this.addedDocuments = this.addedDocuments.add(key);\n    this.removedDocuments = this.removedDocuments.delete(key);\n  }\n\n  delete(key: DocumentKey) {\n    this.addedDocuments = this.addedDocuments.delete(key);\n    this.removedDocuments = this.removedDocuments.add(key);\n  }\n\n  isEqual(other: UpdateMapping): boolean {\n    return (\n      other !== null &&\n      this.addedDocuments.isEqual(other.addedDocuments) &&\n      this.removedDocuments.isEqual(other.removedDocuments)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { ProtoByteString, TargetId } from '../core/types';\nimport { QueryData } from '../local/query_data';\nimport { maybeDocumentMap } from '../model/collections';\nimport { Document, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { emptyByteString } from '../platform/platform';\nimport { assert, fail } from '../util/assert';\nimport { FirestoreError } from '../util/error';\nimport * as objUtils from '../util/obj';\n\nimport { ExistenceFilter } from './existence_filter';\nimport {\n  CurrentStatusUpdate,\n  RemoteEvent,\n  ResetMapping,\n  TargetChange,\n  UpdateMapping\n} from './remote_event';\n\n/**\n * Internal representation of the watcher API protocol buffers.\n */\nexport type WatchChange =\n  | DocumentWatchChange\n  | WatchTargetChange\n  | ExistenceFilterChange;\n\n/**\n * Represents a changed document and a list of target ids to which this change\n * applies.\n *\n * If document has been deleted NoDocument will be provided.\n */\nexport class DocumentWatchChange {\n  constructor(\n    /** The new document applies to all of these targets. */\n    public updatedTargetIds: TargetId[],\n    /** The new document is removed from all of these targets. */\n    public removedTargetIds: TargetId[],\n    /** The key of the document for this change. */\n    public key: DocumentKey,\n    /**\n     * The new document or NoDocument if it was deleted. Is null if the\n     * document went out of view without the server sending a new document.\n     */\n    public newDoc: Document | NoDocument | null\n  ) {}\n}\n\nexport class ExistenceFilterChange {\n  constructor(\n    public targetId: TargetId,\n    public existenceFilter: ExistenceFilter\n  ) {}\n}\n\nexport enum WatchTargetChangeState {\n  NoChange,\n  Added,\n  Removed,\n  Current,\n  Reset\n}\n\nexport class WatchTargetChange {\n  constructor(\n    /** What kind of change occurred to the watch target. */\n    public state: WatchTargetChangeState,\n    /** The target IDs that were added/removed/set. */\n    public targetIds: TargetId[],\n    /**\n     * An opaque, server-assigned token that allows watching a query to be\n     * resumed after disconnecting without retransmitting all the data that\n     * matches the query. The resume token essentially identifies a point in\n     * time from which the server should resume sending results.\n     */\n    public resumeToken: ProtoByteString = emptyByteString(),\n    /** An RPC error indicating why the watch failed. */\n    public cause: FirestoreError | null = null\n  ) {}\n}\n\n/**\n * A helper class to accumulate watch changes into a RemoteEvent and other\n * target information.\n */\nexport class WatchChangeAggregator {\n  constructor(\n    private snapshotVersion: SnapshotVersion,\n    private readonly listenTargets: { [targetId: number]: QueryData },\n    pendingTargetResponses: { [targetId: number]: number }\n  ) {\n    this.pendingTargetResponses = objUtils.shallowCopy(pendingTargetResponses);\n  }\n\n  /** The existence filter - if any - for the given target IDs. */\n  readonly existenceFilters: { [targetId: number]: ExistenceFilter } = {};\n\n  /** The number of pending responses that we are waiting on from watch. */\n  readonly pendingTargetResponses: { [targetId: number]: number };\n\n  /** Keeps track of the current target mappings */\n  private targetChanges: { [targetId: number]: TargetChange } = {};\n\n  /** Keeps track of document to update */\n  private documentUpdates = maybeDocumentMap();\n\n  /** Whether this aggregator was frozen and can no longer be modified */\n  private frozen = false;\n\n  /** Aggregates a watch change into the current state */\n  add(watchChange: WatchChange): void {\n    assert(!this.frozen, 'Trying to modify frozen WatchChangeAggregator.');\n    if (watchChange instanceof DocumentWatchChange) {\n      this.addDocumentChange(watchChange);\n    } else if (watchChange instanceof WatchTargetChange) {\n      this.addTargetChange(watchChange);\n    } else if (watchChange instanceof ExistenceFilterChange) {\n      this.addExistenceFilterChange(watchChange);\n    } else {\n      fail('Unknown watch change: ' + watchChange);\n    }\n  }\n\n  /** Aggregates all provided watch changes to the current state in order */\n  addChanges(watchChanges: WatchChange[]): void {\n    assert(!this.frozen, 'Trying to modify frozen WatchChangeAggregator.');\n    watchChanges.forEach(change => this.add(change));\n  }\n\n  /**\n   * Converts the current state into a remote event with the snapshot version\n   * provided via the constructor.\n   */\n  createRemoteEvent(): RemoteEvent {\n    const targetChanges = this.targetChanges;\n\n    // Remove all the non-active targets from the remote event.\n    objUtils.forEachNumber(this.targetChanges, targetId => {\n      if (!this.isActiveTarget(targetId)) {\n        delete targetChanges[targetId];\n      }\n    });\n\n    // Mark this aggregator as frozen so no further modifications are made\n    this.frozen = true;\n    return new RemoteEvent(\n      this.snapshotVersion,\n      targetChanges,\n      this.documentUpdates\n    );\n  }\n\n  private ensureTargetChange(targetId: TargetId): TargetChange {\n    let change = this.targetChanges[targetId];\n    if (!change) {\n      // Create an UpdateMapping by default, since resets are always explicit.\n      change = {\n        currentStatusUpdate: CurrentStatusUpdate.None,\n        snapshotVersion: this.snapshotVersion,\n        mapping: new UpdateMapping(),\n        resumeToken: emptyByteString()\n      };\n      this.targetChanges[targetId] = change;\n    }\n    return change;\n  }\n\n  /**\n   * We need to wait for watch to ack targets before we process those events,\n   * so to know if a target is active, there must be no pending acks we're\n   * waiting for and it must be in the current list of targets that the client\n   * cares about.\n   *\n   * This method is visible for testing.\n   */\n  protected isActiveTarget(targetId: TargetId): boolean {\n    return (\n      !objUtils.contains(this.pendingTargetResponses, targetId) &&\n      objUtils.contains(this.listenTargets, targetId)\n    );\n  }\n\n  private addDocumentChange(docChange: DocumentWatchChange) {\n    let relevant = false;\n\n    for (const targetId of docChange.updatedTargetIds) {\n      if (this.isActiveTarget(targetId)) {\n        const change = this.ensureTargetChange(targetId);\n        change.mapping.add(docChange.key);\n        relevant = true;\n      }\n    }\n\n    for (const targetId of docChange.removedTargetIds) {\n      if (this.isActiveTarget(targetId)) {\n        const change = this.ensureTargetChange(targetId);\n        change.mapping.delete(docChange.key);\n        relevant = true;\n      }\n    }\n\n    // Only update the document if there is a new document to replace to an\n    // active target that is being listened to, this might be just a target\n    // update instead.\n    if (docChange.newDoc && relevant) {\n      this.documentUpdates = this.documentUpdates.insert(\n        docChange.key,\n        docChange.newDoc\n      );\n    }\n  }\n\n  private addTargetChange(targetChange: WatchTargetChange) {\n    targetChange.targetIds.forEach(targetId => {\n      const change = this.ensureTargetChange(targetId);\n      switch (targetChange.state) {\n        case WatchTargetChangeState.NoChange:\n          if (this.isActiveTarget(targetId)) {\n            // Creating the change above satisfies the semantics of no-change.\n            applyResumeToken(change, targetChange.resumeToken);\n          }\n          break;\n        case WatchTargetChangeState.Added:\n          // We need to decrement the number of pending acks needed from watch\n          // for this targetId.\n          this.recordTargetResponse(targetId);\n          if (!objUtils.contains(this.pendingTargetResponses, targetId)) {\n            // We have a freshly added target, so we need to reset any state\n            // that we had previously This can happen e.g. when remove and add\n            // back a target for existence filter mismatches.\n            change.mapping = new UpdateMapping();\n            change.currentStatusUpdate = CurrentStatusUpdate.None;\n            delete this.existenceFilters[targetId];\n          }\n          applyResumeToken(change, targetChange.resumeToken);\n          break;\n        case WatchTargetChangeState.Removed:\n          // We need to keep track of removed targets to we can\n          // post-filter and remove any target changes.\n          // We need to decrement the number of pending acks needed from watch\n          // for this targetId.\n          this.recordTargetResponse(targetId);\n          assert(\n            !targetChange.cause,\n            'WatchChangeAggregator does not handle errored targets'\n          );\n          break;\n        case WatchTargetChangeState.Current:\n          if (this.isActiveTarget(targetId)) {\n            change.currentStatusUpdate = CurrentStatusUpdate.MarkCurrent;\n            applyResumeToken(change, targetChange.resumeToken);\n          }\n          break;\n        case WatchTargetChangeState.Reset:\n          if (this.isActiveTarget(targetId)) {\n            // Overwrite any existing target mapping with a reset\n            // mapping. Every subsequent update will modify the reset\n            // mapping, not an update mapping.\n            change.mapping = new ResetMapping();\n            applyResumeToken(change, targetChange.resumeToken);\n          }\n          break;\n        default:\n          fail('Unknown target watch change state: ' + targetChange.state);\n      }\n    });\n  }\n\n  /**\n   * Record that we get a watch target add/remove by decrementing the number of\n   * pending target responses that we have.\n   */\n  private recordTargetResponse(targetId: TargetId): void {\n    const newCount = (this.pendingTargetResponses[targetId] || 0) - 1;\n    if (newCount === 0) {\n      delete this.pendingTargetResponses[targetId];\n    } else {\n      this.pendingTargetResponses[targetId] = newCount;\n    }\n  }\n\n  private addExistenceFilterChange(change: ExistenceFilterChange): void {\n    if (this.isActiveTarget(change.targetId)) {\n      this.existenceFilters[change.targetId] = change.existenceFilter;\n    }\n  }\n}\n\n/**\n * Applies the resume token to the TargetChange, but only when it has a new\n * value. null and empty resumeTokens are discarded.\n */\nfunction applyResumeToken(\n  change: TargetChange,\n  resumeToken: ProtoByteString\n): void {\n  if (resumeToken.length > 0) {\n    change.resumeToken = resumeToken;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { Blob } from '../api/blob';\nimport { GeoPoint } from '../api/geo_point';\nimport { DatabaseId } from '../core/database_info';\nimport {\n  Bound,\n  Direction,\n  Filter,\n  NanFilter,\n  NullFilter,\n  OrderBy,\n  Query,\n  RelationFilter,\n  RelationOp\n} from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Timestamp } from '../core/timestamp';\nimport { ProtoByteString, TargetId } from '../core/types';\nimport { QueryData, QueryPurpose } from '../local/query_data';\nimport { Document, MaybeDocument, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport * as fieldValue from '../model/field_value';\nimport {\n  DeleteMutation,\n  FieldMask,\n  FieldTransform,\n  Mutation,\n  MutationResult,\n  PatchMutation,\n  Precondition,\n  ServerTimestampTransform,\n  SetMutation,\n  TransformMutation\n} from '../model/mutation';\nimport { FieldPath, ResourcePath } from '../model/path';\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport { AnyJs } from '../util/misc';\nimport * as obj from '../util/obj';\nimport * as typeUtils from '../util/types';\n\nimport { ExistenceFilter } from './existence_filter';\nimport { mapCodeFromRpcCode, mapRpcCodeFromCode } from './rpc_error';\nimport {\n  DocumentWatchChange,\n  ExistenceFilterChange,\n  WatchChange,\n  WatchTargetChange,\n  WatchTargetChangeState\n} from './watch_change';\nimport { ApiClientObjectMap } from '../protos/firestore_proto_api';\n\nconst DIRECTIONS = (() => {\n  const dirs: { [dir: string]: api.OrderDirection } = {};\n  dirs[Direction.ASCENDING.name] = 'ASCENDING';\n  dirs[Direction.DESCENDING.name] = 'DESCENDING';\n  return dirs;\n})();\n\nconst OPERATORS = (() => {\n  const ops: { [op: string]: api.FieldFilterOp } = {};\n  ops[RelationOp.LESS_THAN.name] = 'LESS_THAN';\n  ops[RelationOp.LESS_THAN_OR_EQUAL.name] = 'LESS_THAN_OR_EQUAL';\n  ops[RelationOp.GREATER_THAN.name] = 'GREATER_THAN';\n  ops[RelationOp.GREATER_THAN_OR_EQUAL.name] = 'GREATER_THAN_OR_EQUAL';\n  ops[RelationOp.EQUAL.name] = 'EQUAL';\n  return ops;\n})();\n\nfunction assertPresent(value: AnyJs, description: string) {\n  assert(!typeUtils.isNullOrUndefined(value), description + ' is missing');\n}\n\nfunction parseInt64(value: number | string): number {\n  // TODO(bjornick): Handle int64 greater than 53 bits.\n  if (typeof value === 'number') {\n    return value;\n  } else if (typeof value === 'string') {\n    return Number(value);\n  } else {\n    return fail(\"can't parse \" + value);\n  }\n}\n\n// This is a supplement to the generated proto interfaces, which fail to account\n// for the fact that a timestamp may be encoded as either a string OR this.\ninterface TimestampProto {\n  seconds?: string;\n  nanos?: number;\n}\n\nexport interface SerializerOptions {\n  /**\n   * The serializer supports both Protobuf.js and Proto3 JSON formats. By\n   * setting this flag to true, the serializer will use the Proto3 JSON format.\n   *\n   * For a description of the Proto3 JSON format check\n   * https://developers.google.com/protocol-buffers/docs/proto3#json\n   */\n  useProto3Json: boolean;\n}\n\n/**\n * Generates JsonObject values for the Datastore API suitable for sending to\n * either GRPC stub methods or via the JSON/HTTP REST API.\n * TODO(klimt): We can remove the databaseId argument if we keep the full\n * resource name in documents.\n */\nexport class JsonProtoSerializer {\n  constructor(\n    private databaseId: DatabaseId,\n    private options: SerializerOptions\n  ) {}\n\n  private emptyByteString(): ProtoByteString {\n    if (this.options.useProto3Json) {\n      return '';\n    } else {\n      return new Uint8Array(0);\n    }\n  }\n\n  private unsafeCastProtoByteString(byteString: ProtoByteString): string {\n    // byteStrings can be either string or UInt8Array, but the typings say\n    // it's always a string. Cast as string to avoid type check failing\n    return byteString as string;\n  }\n\n  fromRpcStatus(status: api.Status): FirestoreError {\n    const code =\n      status.code === undefined\n        ? Code.UNKNOWN\n        : mapCodeFromRpcCode(status.code);\n    return new FirestoreError(code, status.message || '');\n  }\n\n  /**\n   * Returns a value for a number (or undefined) that's appropriate to put into\n   * a google.protobuf.Int32Value proto.\n   * DO NOT USE THIS FOR ANYTHING ELSE.\n   * This method cheats. It's typed as returning \"number\" because that's what\n   * our generated proto interfaces say Int32Value must be. But GRPC actually\n   * expects a { value: <number> } struct.\n   */\n  private toInt32Value(val: number | null): number | undefined {\n    if (!typeUtils.isNullOrUndefined(val)) {\n      // tslint:disable-next-line:no-any We need to match generated Proto types.\n      return { value: val } as any;\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n   * Returns a number (or null) from a google.protobuf.Int32Value proto.\n   * DO NOT USE THIS FOR ANYTHING ELSE.\n   * This method cheats. It's typed as accepting \"number\" because that's what\n   * our generated proto interfaces say Int32Value must be, but it actually\n   * accepts { value: number } to match our serialization in toInt32Value().\n   */\n  private fromInt32Value(val: number | undefined): number | null {\n    let result;\n    if (typeof val === 'object') {\n      // tslint:disable-next-line:no-any We need to match generated Proto types.\n      result = (val as any).value;\n    } else {\n      // We accept raw numbers (without the {value: ... } wrapper) for\n      // compatibility with legacy persisted data.\n      result = val;\n    }\n    return typeUtils.isNullOrUndefined(result) ? null : result;\n  }\n\n  /**\n   * Returns a value for a Date that's appropriate to put into a proto.\n   * DO NOT USE THIS FOR ANYTHING ELSE.\n   * This method cheats. It's typed as returning \"string\" because that's what\n   * our generated proto interfaces say dates must be. But it's easier and safer\n   * to actually return a Timestamp proto.\n   */\n  private toTimestamp(timestamp: Timestamp): string {\n    return {\n      seconds: timestamp.seconds,\n      nanos: timestamp.nanos\n      // tslint:disable-next-line:no-any\n    } as any;\n  }\n\n  private fromTimestamp(date: string | TimestampProto): Timestamp {\n    // The json interface (for the browser) will return an iso timestamp string,\n    // while the proto js library (for node) will return a\n    // google.protobuf.Timestamp instance.\n    if (typeof date === 'string') {\n      // TODO(b/37282237): Use strings for Proto3 timestamps\n      // assert(this.options.useProto3Json,\n      //   'The timestamp string format requires Proto3.');\n      return Timestamp.fromISOString(date);\n    } else {\n      assert(!!date, 'Cannot deserialize null or undefined timestamp.');\n      // TODO(b/37282237): Use strings for Proto3 timestamps\n      // assert(!this.options.useProto3Json,\n      //   'The timestamp instance format requires Proto JS.');\n      const seconds = parseInt64(date.seconds || '0');\n      const nanos = date.nanos || 0;\n      return new Timestamp(seconds, nanos);\n    }\n  }\n\n  /**\n   * Returns a value for bytes that's appropriate to put in a proto.\n   * DO NOT USE THIS FOR ANYTHING ELSE.\n   * This method cheats. It's typed as returning \"string\" because that's what\n   * our generated proto interfaces say bytes must be. But it should return\n   * an Uint8Array in Node.\n   */\n  private toBytes(bytes: Blob): string {\n    if (this.options.useProto3Json) {\n      return bytes.toBase64();\n    } else {\n      // The typings say it's a string, but it needs to be a Uint8Array in Node.\n      return this.unsafeCastProtoByteString(bytes.toUint8Array());\n    }\n  }\n\n  /**\n   * Parse the blob from the protos into the internal Blob class. Note that the\n   * typings assume all blobs are strings, but they are actually Uint8Arrays\n   * on Node.\n   */\n  private fromBlob(blob: string | Uint8Array): Blob {\n    if (typeof blob === 'string') {\n      assert(\n        this.options.useProto3Json,\n        'Expected bytes to be passed in as Uint8Array, but got a string instead.'\n      );\n      return Blob.fromBase64String(blob);\n    } else {\n      assert(\n        !this.options.useProto3Json,\n        'Expected bytes to be passed in as string, but got something else instead.'\n      );\n      return Blob.fromUint8Array(blob);\n    }\n  }\n\n  toVersion(version: SnapshotVersion): string {\n    return this.toTimestamp(version.toTimestamp());\n  }\n\n  fromVersion(version: string): SnapshotVersion {\n    assert(!!version, \"Trying to deserialize version that isn't set\");\n    return SnapshotVersion.fromTimestamp(this.fromTimestamp(version));\n  }\n\n  toResourceName(databaseId: DatabaseId, path: ResourcePath): string {\n    return this.fullyQualifiedPrefixPath(databaseId)\n      .child('documents')\n      .child(path)\n      .canonicalString();\n  }\n\n  fromResourceName(name: string): ResourcePath {\n    const resource = ResourcePath.fromString(name);\n    assert(\n      this.isValidResourceName(resource),\n      'Tried to deserialize invalid key ' + resource.toString()\n    );\n    return resource;\n  }\n\n  toName(key: DocumentKey): string {\n    return this.toResourceName(this.databaseId, key.path);\n  }\n\n  fromName(name: string): DocumentKey {\n    const resource = this.fromResourceName(name);\n    assert(\n      resource.get(1) === this.databaseId.projectId,\n      'Tried to deserialize key from different project: ' +\n        resource.get(1) +\n        ' vs ' +\n        this.databaseId.projectId\n    );\n    assert(\n      (!resource.get(3) && !this.databaseId.database) ||\n        resource.get(3) === this.databaseId.database,\n      'Tried to deserialize key from different database: ' +\n        resource.get(3) +\n        ' vs ' +\n        this.databaseId.database\n    );\n    return new DocumentKey(this.extractLocalPathFromResourceName(resource));\n  }\n\n  toQueryPath(path: ResourcePath): string {\n    if (path.length === 0) {\n      // If the path is empty, the backend requires we leave off the /documents\n      // at the end.\n      return this.encodedDatabaseId;\n    }\n    return this.toResourceName(this.databaseId, path);\n  }\n\n  fromQueryPath(name: string): ResourcePath {\n    const resourceName = this.fromResourceName(name);\n    if (resourceName.length === 4) {\n      return ResourcePath.EMPTY_PATH;\n    }\n    return this.extractLocalPathFromResourceName(resourceName);\n  }\n\n  get encodedDatabaseId(): string {\n    const path = new ResourcePath([\n      'projects',\n      this.databaseId.projectId,\n      'databases',\n      this.databaseId.database\n    ]);\n    return path.canonicalString();\n  }\n\n  private fullyQualifiedPrefixPath(databaseId: DatabaseId): ResourcePath {\n    return new ResourcePath([\n      'projects',\n      databaseId.projectId,\n      'databases',\n      databaseId.database\n    ]);\n  }\n\n  private extractLocalPathFromResourceName(\n    resourceName: ResourcePath\n  ): ResourcePath {\n    assert(\n      resourceName.length > 4 && resourceName.get(4) === 'documents',\n      'tried to deserialize invalid key ' + resourceName.toString()\n    );\n    return resourceName.popFirst(5);\n  }\n\n  private isValidResourceName(path: ResourcePath): boolean {\n    // Resource names have at least 4 components (project ID, database ID)\n    return (\n      path.length >= 4 &&\n      path.get(0) === 'projects' &&\n      path.get(2) === 'databases'\n    );\n  }\n\n  toValue(val: fieldValue.FieldValue): api.Value {\n    if (val instanceof fieldValue.NullValue) {\n      return { nullValue: 'NULL_VALUE' };\n    } else if (val instanceof fieldValue.BooleanValue) {\n      return { booleanValue: val.value() };\n    } else if (val instanceof fieldValue.IntegerValue) {\n      return { integerValue: '' + val.value() };\n    } else if (val instanceof fieldValue.DoubleValue) {\n      const doubleValue = val.value();\n      if (this.options.useProto3Json) {\n        // Proto 3 let's us encode NaN and Infinity as string values as\n        // expected by the backend. This is currently not checked by our unit\n        // tests because they rely on protobuf.js.\n        if (isNaN(doubleValue)) {\n          return { doubleValue: 'NaN' } as {};\n        } else if (doubleValue === Infinity) {\n          return { doubleValue: 'Infinity' } as {};\n        } else if (doubleValue === -Infinity) {\n          return { doubleValue: '-Infinity' } as {};\n        }\n      }\n      return { doubleValue: val.value() };\n    } else if (val instanceof fieldValue.StringValue) {\n      return { stringValue: val.value() };\n    } else if (val instanceof fieldValue.ObjectValue) {\n      return { mapValue: this.toMapValue(val) };\n    } else if (val instanceof fieldValue.ArrayValue) {\n      return { arrayValue: this.toArrayValue(val) };\n    } else if (val instanceof fieldValue.TimestampValue) {\n      return {\n        timestampValue: this.toTimestamp(val.internalValue)\n      };\n    } else if (val instanceof fieldValue.GeoPointValue) {\n      return {\n        geoPointValue: {\n          latitude: val.value().latitude,\n          longitude: val.value().longitude\n        }\n      };\n    } else if (val instanceof fieldValue.BlobValue) {\n      return {\n        bytesValue: this.toBytes(val.value())\n      };\n    } else if (val instanceof fieldValue.RefValue) {\n      return {\n        referenceValue: this.toResourceName(val.databaseId, val.key.path)\n      };\n    } else {\n      return fail('Unknown FieldValue ' + JSON.stringify(val));\n    }\n  }\n\n  fromValue(obj: api.Value): fieldValue.FieldValue {\n    // tslint:disable-next-line:no-any\n    const type = (obj as any)['value_type'];\n    if (hasTag(obj, type, 'nullValue')) {\n      return fieldValue.NullValue.INSTANCE;\n    } else if (hasTag(obj, type, 'booleanValue')) {\n      return fieldValue.BooleanValue.of(obj.booleanValue!);\n    } else if (hasTag(obj, type, 'integerValue')) {\n      return new fieldValue.IntegerValue(parseInt64(obj.integerValue!));\n    } else if (hasTag(obj, type, 'doubleValue')) {\n      if (this.options.useProto3Json) {\n        // Proto 3 uses the string values 'NaN' and 'Infinity'.\n        if ((obj.doubleValue as {}) === 'NaN') {\n          return fieldValue.DoubleValue.NAN;\n        } else if ((obj.doubleValue as {}) === 'Infinity') {\n          return fieldValue.DoubleValue.POSITIVE_INFINITY;\n        } else if ((obj.doubleValue as {}) === '-Infinity') {\n          return fieldValue.DoubleValue.NEGATIVE_INFINITY;\n        }\n      }\n\n      return new fieldValue.DoubleValue(obj.doubleValue!);\n    } else if (hasTag(obj, type, 'stringValue')) {\n      return new fieldValue.StringValue(obj.stringValue!);\n    } else if (hasTag(obj, type, 'mapValue')) {\n      return this.fromFields(obj.mapValue!.fields || {});\n    } else if (hasTag(obj, type, 'arrayValue')) {\n      // \"values\" is not present if the array is empty\n      assertPresent(obj.arrayValue, 'arrayValue');\n      const values = obj.arrayValue!.values || [];\n      return new fieldValue.ArrayValue(values.map(v => this.fromValue(v)));\n    } else if (hasTag(obj, type, 'timestampValue')) {\n      assertPresent(obj.timestampValue, 'timestampValue');\n      return new fieldValue.TimestampValue(\n        this.fromTimestamp(obj.timestampValue!)\n      );\n    } else if (hasTag(obj, type, 'geoPointValue')) {\n      assertPresent(obj.geoPointValue, 'geoPointValue');\n      const latitude = obj.geoPointValue!.latitude || 0;\n      const longitude = obj.geoPointValue!.longitude || 0;\n      return new fieldValue.GeoPointValue(new GeoPoint(latitude, longitude));\n    } else if (hasTag(obj, type, 'bytesValue')) {\n      assertPresent(obj.bytesValue, 'bytesValue');\n      const blob = this.fromBlob(obj.bytesValue!);\n      return new fieldValue.BlobValue(blob);\n    } else if (hasTag(obj, type, 'referenceValue')) {\n      assertPresent(obj.referenceValue, 'referenceValue');\n      const resourceName = this.fromResourceName(obj.referenceValue!);\n      const dbId = new DatabaseId(resourceName.get(1), resourceName.get(3));\n      const key = new DocumentKey(\n        this.extractLocalPathFromResourceName(resourceName)\n      );\n      return new fieldValue.RefValue(dbId, key);\n    } else {\n      return fail('Unknown Value proto ' + JSON.stringify(obj));\n    }\n  }\n\n  /** Creates an api.Document from key and fields (but no create/update time) */\n  toMutationDocument(\n    key: DocumentKey,\n    fields: fieldValue.ObjectValue\n  ): api.Document {\n    return {\n      name: this.toName(key),\n      fields: this.toFields(fields)\n    };\n  }\n\n  toDocument(document: Document): api.Document {\n    assert(\n      !document.hasLocalMutations,\n      \"Can't serialize documents with mutations.\"\n    );\n    return {\n      name: this.toName(document.key),\n      fields: this.toFields(document.data),\n      updateTime: this.toTimestamp(document.version.toTimestamp())\n    };\n  }\n\n  fromDocument(document: api.Document): Document {\n    return new Document(\n      this.fromName(document.name!),\n      this.fromVersion(document.updateTime!),\n      this.fromFields(document.fields || {}),\n      { hasLocalMutations: false }\n    );\n  }\n\n  toFields(fields: fieldValue.ObjectValue): { [key: string]: api.Value } {\n    const result: { [key: string]: api.Value } = {};\n    fields.forEach((key, value) => {\n      result[key] = this.toValue(value);\n    });\n    return result;\n  }\n\n  fromFields(object: {}): fieldValue.ObjectValue {\n    // Proto map<string, Value> gets mapped to Object, so cast it.\n    const map = object as { [key: string]: api.Value };\n    let result = fieldValue.ObjectValue.EMPTY;\n    obj.forEach(map, (key, value) => {\n      result = result.set(new FieldPath([key]), this.fromValue(value));\n    });\n    return result;\n  }\n\n  toMapValue(map: fieldValue.ObjectValue): api.MapValue {\n    return {\n      fields: this.toFields(map)\n    };\n  }\n\n  toArrayValue(array: fieldValue.ArrayValue): api.ArrayValue {\n    const result: api.Value[] = [];\n    array.forEach(value => {\n      result.push(this.toValue(value));\n    });\n    return { values: result };\n  }\n\n  private fromFound(doc: api.BatchGetDocumentsResponse): Document {\n    assert(\n      !!doc.found,\n      'Tried to deserialize a found document from a missing document.'\n    );\n    assertPresent(doc.found!.name, 'doc.found.name');\n    assertPresent(doc.found!.updateTime, 'doc.found.updateTime');\n    const key = this.fromName(doc.found!.name!);\n    const version = this.fromVersion(doc.found!.updateTime!);\n    const fields = this.fromFields(doc.found!.fields || {});\n    return new Document(key, version, fields, { hasLocalMutations: false });\n  }\n\n  private fromMissing(result: api.BatchGetDocumentsResponse): NoDocument {\n    assert(\n      !!result.missing,\n      'Tried to deserialize a missing document from a found document.'\n    );\n    assert(\n      !!result.readTime,\n      'Tried to deserialize a missing document without a read time.'\n    );\n    const key = this.fromName(result.missing!);\n    const version = this.fromVersion(result.readTime!);\n    return new NoDocument(key, version);\n  }\n\n  fromMaybeDocument(result: api.BatchGetDocumentsResponse): MaybeDocument {\n    // tslint:disable-next-line:no-any\n    const type = (result as any)['result'];\n    if (hasTag(result, type, 'found')) {\n      return this.fromFound(result);\n    } else if (hasTag(result, type, 'missing')) {\n      return this.fromMissing(result);\n    }\n    return fail('invalid batch get response: ' + JSON.stringify(result));\n  }\n\n  private toWatchTargetChangeState(\n    state: WatchTargetChangeState\n  ): api.TargetChangeTargetChangeType {\n    switch (state) {\n      case WatchTargetChangeState.Added:\n        return 'ADD';\n      case WatchTargetChangeState.Current:\n        return 'CURRENT';\n      case WatchTargetChangeState.NoChange:\n        return 'NO_CHANGE';\n      case WatchTargetChangeState.Removed:\n        return 'REMOVE';\n      case WatchTargetChangeState.Reset:\n        return 'RESET';\n      default:\n        return fail('Unknown WatchTargetChangeState: ' + state);\n    }\n  }\n\n  toTestWatchChange(watchChange: WatchChange): api.ListenResponse {\n    if (watchChange instanceof ExistenceFilterChange) {\n      return {\n        filter: {\n          count: watchChange.existenceFilter.count,\n          targetId: watchChange.targetId\n        }\n      };\n    }\n    if (watchChange instanceof DocumentWatchChange) {\n      if (watchChange.newDoc instanceof Document) {\n        const doc = watchChange.newDoc;\n        return {\n          documentChange: {\n            document: {\n              name: this.toName(doc.key),\n              fields: this.toFields(doc.data),\n              updateTime: this.toVersion(doc.version)\n            },\n            targetIds: watchChange.updatedTargetIds,\n            removedTargetIds: watchChange.removedTargetIds\n          }\n        };\n      } else if (watchChange.newDoc instanceof NoDocument) {\n        const doc = watchChange.newDoc;\n        return {\n          documentDelete: {\n            document: this.toName(doc.key),\n            readTime: this.toVersion(doc.version),\n            removedTargetIds: watchChange.removedTargetIds\n          }\n        };\n      } else if (watchChange.newDoc === null) {\n        return {\n          documentRemove: {\n            document: this.toName(watchChange.key),\n            removedTargetIds: watchChange.removedTargetIds\n          }\n        };\n      }\n    }\n    if (watchChange instanceof WatchTargetChange) {\n      let cause: api.Status | undefined = undefined;\n      if (watchChange.cause) {\n        cause = {\n          code: mapRpcCodeFromCode(watchChange.cause.code),\n          message: watchChange.cause.message\n        };\n      }\n      return {\n        targetChange: {\n          targetChangeType: this.toWatchTargetChangeState(watchChange.state),\n          targetIds: watchChange.targetIds,\n          resumeToken: this.unsafeCastProtoByteString(watchChange.resumeToken),\n          cause\n        }\n      };\n    }\n    return fail('Unrecognized watch change: ' + JSON.stringify(watchChange));\n  }\n\n  fromWatchChange(change: api.ListenResponse): WatchChange {\n    // tslint:disable-next-line:no-any\n    const type = (change as any)['response_type'];\n    let watchChange: WatchChange;\n    if (hasTag(change, type, 'targetChange')) {\n      assertPresent(change.targetChange, 'targetChange');\n      // proto3 default value is unset in JSON (undefined), so use 'NO_CHANGE'\n      // if unset\n      const state = this.fromWatchTargetChangeState(\n        change.targetChange!.targetChangeType || 'NO_CHANGE'\n      );\n      const targetIds: TargetId[] = change.targetChange!.targetIds || [];\n      const resumeToken =\n        change.targetChange!.resumeToken || this.emptyByteString();\n      const causeProto = change.targetChange!.cause;\n      const cause = causeProto && this.fromRpcStatus(causeProto);\n      watchChange = new WatchTargetChange(\n        state,\n        targetIds,\n        resumeToken,\n        cause || null\n      );\n    } else if (hasTag(change, type, 'documentChange')) {\n      assertPresent(change.documentChange, 'documentChange');\n      assertPresent(change.documentChange!.document, 'documentChange.name');\n      assertPresent(\n        change.documentChange!.document!.name,\n        'documentChange.document.name'\n      );\n      assertPresent(\n        change.documentChange!.document!.updateTime,\n        'documentChange.document.updateTime'\n      );\n      const entityChange = change.documentChange!;\n      const key = this.fromName(entityChange.document!.name!);\n      const version = this.fromVersion(entityChange.document!.updateTime!);\n      const fields = this.fromFields(entityChange.document!.fields || {});\n      const doc = new Document(key, version, fields, {\n        hasLocalMutations: false\n      });\n      const updatedTargetIds = entityChange.targetIds || [];\n      const removedTargetIds = entityChange.removedTargetIds || [];\n      watchChange = new DocumentWatchChange(\n        updatedTargetIds,\n        removedTargetIds,\n        doc.key,\n        doc\n      );\n    } else if (hasTag(change, type, 'documentDelete')) {\n      assertPresent(change.documentDelete, 'documentDelete');\n      assertPresent(change.documentDelete!.document, 'documentDelete.document');\n      const docDelete = change.documentDelete!;\n      const key = this.fromName(docDelete.document!);\n      const version = docDelete.readTime\n        ? this.fromVersion(docDelete.readTime)\n        : SnapshotVersion.forDeletedDoc();\n      const doc = new NoDocument(key, version);\n      const removedTargetIds = docDelete.removedTargetIds || [];\n      watchChange = new DocumentWatchChange([], removedTargetIds, doc.key, doc);\n    } else if (hasTag(change, type, 'documentRemove')) {\n      assertPresent(change.documentRemove, 'documentRemove');\n      assertPresent(change.documentRemove!.document, 'documentRemove');\n      const docRemove = change.documentRemove!;\n      const key = this.fromName(docRemove.document!);\n      const removedTargetIds = docRemove.removedTargetIds || [];\n      watchChange = new DocumentWatchChange([], removedTargetIds, key, null);\n    } else if (hasTag(change, type, 'filter')) {\n      // TODO(dimond): implement existence filter parsing with strategy.\n      assertPresent(change.filter, 'filter');\n      assertPresent(change.filter!.targetId, 'filter.targetId');\n      const filter = change.filter;\n      const count = filter!.count || 0;\n      const existenceFilter = new ExistenceFilter(count);\n      const targetId = filter!.targetId!;\n      watchChange = new ExistenceFilterChange(targetId, existenceFilter);\n    } else {\n      return fail('Unknown change type ' + JSON.stringify(change));\n    }\n    return watchChange;\n  }\n\n  fromWatchTargetChangeState(\n    state: api.TargetChangeTargetChangeType\n  ): WatchTargetChangeState {\n    if (state === 'NO_CHANGE') {\n      return WatchTargetChangeState.NoChange;\n    } else if (state === 'ADD') {\n      return WatchTargetChangeState.Added;\n    } else if (state === 'REMOVE') {\n      return WatchTargetChangeState.Removed;\n    } else if (state === 'CURRENT') {\n      return WatchTargetChangeState.Current;\n    } else if (state === 'RESET') {\n      return WatchTargetChangeState.Reset;\n    } else {\n      return fail('Got unexpected TargetChange.state: ' + state);\n    }\n  }\n\n  versionFromListenResponse(change: api.ListenResponse): SnapshotVersion {\n    // We have only reached a consistent snapshot for the entire stream if there\n    // is a read_time set and it applies to all targets (i.e. the list of\n    // targets is empty). The backend is guaranteed to send such responses.\n    // tslint:disable-next-line:no-any\n    const type = (change as any)['response_type'];\n    if (!hasTag(change, type, 'targetChange')) {\n      return SnapshotVersion.MIN;\n    }\n    const targetChange = change.targetChange!;\n    if (targetChange.targetIds && targetChange.targetIds.length) {\n      return SnapshotVersion.MIN;\n    }\n    if (!targetChange.readTime) {\n      return SnapshotVersion.MIN;\n    }\n    return this.fromVersion(targetChange.readTime);\n  }\n\n  toMutation(mutation: Mutation): api.Write {\n    let result: api.Write;\n    if (mutation instanceof SetMutation) {\n      result = {\n        update: this.toMutationDocument(mutation.key, mutation.value)\n      };\n    } else if (mutation instanceof DeleteMutation) {\n      result = { delete: this.toName(mutation.key) };\n    } else if (mutation instanceof PatchMutation) {\n      result = {\n        update: this.toMutationDocument(mutation.key, mutation.data),\n        updateMask: this.toDocumentMask(mutation.fieldMask)\n      };\n    } else if (mutation instanceof TransformMutation) {\n      result = {\n        transform: {\n          document: this.toName(mutation.key),\n          fieldTransforms: mutation.fieldTransforms.map(transform =>\n            this.toFieldTransform(transform)\n          )\n        }\n      };\n    } else {\n      return fail('Unknown mutation type ' + mutation.type);\n    }\n\n    if (!mutation.precondition.isNone) {\n      result.currentDocument = this.toPrecondition(mutation.precondition);\n    }\n\n    return result;\n  }\n\n  fromMutation(proto: api.Write): Mutation {\n    const precondition = proto.currentDocument\n      ? this.fromPrecondition(proto.currentDocument)\n      : Precondition.NONE;\n\n    if (proto.update) {\n      assertPresent(proto.update.name, 'name');\n      const key = this.fromName(proto.update.name!);\n      const value = this.fromFields(proto.update.fields || {});\n      if (proto.updateMask) {\n        const fieldMask = this.fromDocumentMask(proto.updateMask);\n        return new PatchMutation(key, value, fieldMask, precondition);\n      } else {\n        return new SetMutation(key, value, precondition);\n      }\n    } else if (proto.delete) {\n      const key = this.fromName(proto.delete);\n      return new DeleteMutation(key, precondition);\n    } else if (proto.transform) {\n      const key = this.fromName(proto.transform.document!);\n      const fieldTransforms = proto.transform.fieldTransforms!.map(transform =>\n        this.fromFieldTransform(transform)\n      );\n      assert(\n        precondition.exists === true,\n        'Transforms only support precondition \"exists == true\"'\n      );\n      return new TransformMutation(key, fieldTransforms);\n    } else {\n      return fail('unknown mutation proto: ' + JSON.stringify(proto));\n    }\n  }\n\n  private toPrecondition(precondition: Precondition): api.Precondition {\n    assert(!precondition.isNone, \"Can't serialize an empty precondition\");\n    if (precondition.updateTime !== undefined) {\n      return {\n        updateTime: this.toVersion(precondition.updateTime)\n      };\n    } else if (precondition.exists !== undefined) {\n      return { exists: precondition.exists };\n    } else {\n      return fail('Unknown precondition');\n    }\n  }\n\n  private fromPrecondition(precondition: api.Precondition): Precondition {\n    if (precondition.updateTime !== undefined) {\n      return Precondition.updateTime(this.fromVersion(precondition.updateTime));\n    } else if (precondition.exists !== undefined) {\n      return Precondition.exists(precondition.exists);\n    } else {\n      return Precondition.NONE;\n    }\n  }\n\n  private fromWriteResult(proto: api.WriteResult): MutationResult {\n    // NOTE: Deletes don't have an updateTime.\n    const version = proto.updateTime\n      ? this.fromVersion(proto.updateTime)\n      : null;\n    let transformResults: fieldValue.FieldValue[] | null = null;\n    if (proto.transformResults && proto.transformResults.length > 0) {\n      transformResults = proto.transformResults.map(result =>\n        this.fromValue(result)\n      );\n    }\n    return new MutationResult(version, transformResults);\n  }\n\n  fromWriteResults(protos: api.WriteResult[] | undefined): MutationResult[] {\n    return (protos || []).map(proto => this.fromWriteResult(proto));\n  }\n\n  private toFieldTransform(fieldTransform: FieldTransform): api.FieldTransform {\n    assert(\n      fieldTransform.transform instanceof ServerTimestampTransform,\n      'Unknown transform: ' + fieldTransform.transform\n    );\n    return {\n      fieldPath: fieldTransform.field.canonicalString(),\n      setToServerValue: 'REQUEST_TIME'\n    };\n  }\n\n  private fromFieldTransform(proto: api.FieldTransform): FieldTransform {\n    assert(\n      proto.setToServerValue! === 'REQUEST_TIME',\n      'Unknown transform proto: ' + JSON.stringify(proto)\n    );\n    const fieldPath = FieldPath.fromServerFormat(proto.fieldPath!);\n    return new FieldTransform(fieldPath, ServerTimestampTransform.instance);\n  }\n\n  toDocumentsTarget(query: Query): api.DocumentsTarget {\n    return { documents: [this.toQueryPath(query.path)] };\n  }\n\n  fromDocumentsTarget(documentsTarget: api.DocumentsTarget): Query {\n    const count = documentsTarget.documents!.length;\n    assert(\n      count === 1,\n      'DocumentsTarget contained other than 1 document: ' + count\n    );\n    const name = documentsTarget.documents![0];\n    return Query.atPath(this.fromQueryPath(name));\n  }\n\n  toQueryTarget(query: Query): api.QueryTarget {\n    // Dissect the path into parent, collectionId, and optional key filter.\n    const result: api.QueryTarget = { structuredQuery: {} };\n    if (query.path.isEmpty()) {\n      result.parent = this.toQueryPath(ResourcePath.EMPTY_PATH);\n    } else {\n      const path = query.path;\n      assert(\n        path.length % 2 !== 0,\n        'Document queries with filters are not supported.'\n      );\n      result.parent = this.toQueryPath(path.popLast());\n      result.structuredQuery!.from = [{ collectionId: path.lastSegment() }];\n    }\n\n    const where = this.toFilter(query.filters);\n    if (where) {\n      result.structuredQuery!.where = where;\n    }\n\n    const orderBy = this.toOrder(query.orderBy);\n    if (orderBy) {\n      result.structuredQuery!.orderBy = orderBy;\n    }\n\n    const limit = this.toInt32Value(query.limit);\n    if (limit !== undefined) {\n      result.structuredQuery!.limit = limit;\n    }\n\n    if (query.startAt) {\n      result.structuredQuery!.startAt = this.toCursor(query.startAt);\n    }\n    if (query.endAt) {\n      result.structuredQuery!.endAt = this.toCursor(query.endAt);\n    }\n\n    return result;\n  }\n\n  fromQueryTarget(target: api.QueryTarget): Query {\n    let path = this.fromQueryPath(target.parent!);\n\n    const query = target.structuredQuery!;\n    const fromCount = query.from ? query.from.length : 0;\n    if (fromCount > 0) {\n      assert(\n        fromCount === 1,\n        'StructuredQuery.from with more than one collection is not supported.'\n      );\n      const from = query.from![0];\n      path = path.child(from.collectionId!);\n    }\n\n    let filterBy: Filter[] = [];\n    if (query.where) {\n      filterBy = this.fromFilter(query.where);\n    }\n\n    let orderBy: OrderBy[] = [];\n    if (query.orderBy) {\n      orderBy = this.fromOrder(query.orderBy);\n    }\n\n    let limit: number | null = null;\n    if (query.limit) {\n      limit = this.fromInt32Value(query.limit);\n    }\n\n    let startAt: Bound | null = null;\n    if (query.startAt) {\n      startAt = this.fromCursor(query.startAt);\n    }\n\n    let endAt: Bound | null = null;\n    if (query.endAt) {\n      endAt = this.fromCursor(query.endAt);\n    }\n\n    return new Query(path, orderBy, filterBy, limit, startAt, endAt);\n  }\n\n  toListenRequestLabels(\n    queryData: QueryData\n  ): ApiClientObjectMap<string> | null {\n    const value = this.toLabel(queryData.purpose);\n    if (value == null) {\n      return null;\n    } else {\n      return {\n        'goog-listen-tags': value\n      };\n    }\n  }\n\n  private toLabel(purpose: QueryPurpose): string | null {\n    switch (purpose) {\n      case QueryPurpose.Listen:\n        return null;\n      case QueryPurpose.ExistenceFilterMismatch:\n        return 'existence-filter-mismatch';\n      case QueryPurpose.LimboResolution:\n        return 'limbo-document';\n      default:\n        return fail('Unrecognized query purpose: ' + purpose);\n    }\n  }\n\n  toTarget(queryData: QueryData): api.Target {\n    let result: api.Target;\n    const query = queryData.query;\n\n    if (query.isDocumentQuery()) {\n      result = { documents: this.toDocumentsTarget(query) };\n    } else {\n      result = { query: this.toQueryTarget(query) };\n    }\n\n    result.targetId = queryData.targetId;\n\n    if (queryData.resumeToken.length > 0) {\n      result.resumeToken = this.unsafeCastProtoByteString(\n        queryData.resumeToken\n      );\n    }\n\n    return result;\n  }\n\n  private toFilter(filters: Filter[]): api.Filter | undefined {\n    if (filters.length === 0) return;\n    const protos = filters.map(\n      filter =>\n        filter instanceof RelationFilter\n          ? this.toRelationFilter(filter)\n          : this.toUnaryFilter(filter)\n    );\n    if (protos.length === 1) {\n      return protos[0];\n    }\n    return { compositeFilter: { op: 'AND', filters: protos } };\n  }\n\n  private fromFilter(filter: api.Filter | undefined): Filter[] {\n    if (!filter) {\n      return [];\n    } else if (filter.unaryFilter !== undefined) {\n      return [this.fromUnaryFilter(filter)];\n    } else if (filter.fieldFilter !== undefined) {\n      return [this.fromRelationFilter(filter)];\n    } else if (filter.compositeFilter !== undefined) {\n      return filter.compositeFilter.filters!\n        .map(f => this.fromFilter(f))\n        .reduce((accum, current) => accum.concat(current));\n    } else {\n      return fail('Unknown filter: ' + JSON.stringify(filter));\n    }\n  }\n\n  private toOrder(orderBys: OrderBy[]): api.Order[] | undefined {\n    if (orderBys.length === 0) return;\n    return orderBys.map(order => this.toPropertyOrder(order));\n  }\n\n  private fromOrder(orderBys: api.Order[]): OrderBy[] {\n    return orderBys.map(order => this.fromPropertyOrder(order));\n  }\n\n  private toCursor(cursor: Bound): api.Cursor {\n    return {\n      before: cursor.before,\n      values: cursor.position.map(component => this.toValue(component))\n    };\n  }\n\n  private fromCursor(cursor: api.Cursor): Bound {\n    const before = !!cursor.before;\n    const position = cursor.values!.map(component => this.fromValue(component));\n    return new Bound(position, before);\n  }\n\n  // visible for testing\n  toDirection(dir: Direction): api.OrderDirection {\n    return DIRECTIONS[dir.name];\n  }\n\n  // visible for testing\n  fromDirection(dir: api.OrderDirection | undefined): Direction | undefined {\n    switch (dir) {\n      case 'ASCENDING':\n        return Direction.ASCENDING;\n      case 'DESCENDING':\n        return Direction.DESCENDING;\n      default:\n        return undefined;\n    }\n  }\n\n  // visible for testing\n  toOperatorName(op: RelationOp): api.FieldFilterOp {\n    return OPERATORS[op.name];\n  }\n\n  fromOperatorName(op: api.FieldFilterOp): RelationOp {\n    switch (op) {\n      case 'EQUAL':\n        return RelationOp.EQUAL;\n      case 'GREATER_THAN':\n        return RelationOp.GREATER_THAN;\n      case 'GREATER_THAN_OR_EQUAL':\n        return RelationOp.GREATER_THAN_OR_EQUAL;\n      case 'LESS_THAN':\n        return RelationOp.LESS_THAN;\n      case 'LESS_THAN_OR_EQUAL':\n        return RelationOp.LESS_THAN_OR_EQUAL;\n      case 'OPERATOR_UNSPECIFIED':\n        return fail('Unspecified relation');\n      default:\n        return fail('Unknown relation');\n    }\n  }\n\n  toFieldPathReference(path: FieldPath): api.FieldReference {\n    return { fieldPath: path.canonicalString() };\n  }\n\n  fromFieldPathReference(fieldReference: api.FieldReference): FieldPath {\n    return FieldPath.fromServerFormat(fieldReference.fieldPath!);\n  }\n\n  // visible for testing\n  toPropertyOrder(orderBy: OrderBy): api.Order {\n    return {\n      field: this.toFieldPathReference(orderBy.field),\n      direction: this.toDirection(orderBy.dir)\n    };\n  }\n\n  fromPropertyOrder(orderBy: api.Order): OrderBy {\n    return new OrderBy(\n      this.fromFieldPathReference(orderBy.field!),\n      this.fromDirection(orderBy.direction)\n    );\n  }\n\n  // visible for testing\n  toRelationFilter(filter: Filter): api.Filter {\n    if (filter instanceof RelationFilter) {\n      return {\n        fieldFilter: {\n          field: this.toFieldPathReference(filter.field),\n          op: this.toOperatorName(filter.op),\n          value: this.toValue(filter.value)\n        }\n      };\n    } else {\n      return fail('Unrecognized filter: ' + JSON.stringify(filter));\n    }\n  }\n\n  fromRelationFilter(filter: api.Filter): Filter {\n    return new RelationFilter(\n      this.fromFieldPathReference(filter.fieldFilter!.field!),\n      this.fromOperatorName(filter.fieldFilter!.op!),\n      this.fromValue(filter.fieldFilter!.value!)\n    );\n  }\n\n  // visible for testing\n  toUnaryFilter(filter: Filter): api.Filter {\n    if (filter instanceof NanFilter) {\n      return {\n        unaryFilter: {\n          field: this.toFieldPathReference(filter.field),\n          op: 'IS_NAN'\n        }\n      };\n    } else if (filter instanceof NullFilter) {\n      return {\n        unaryFilter: {\n          field: this.toFieldPathReference(filter.field),\n          op: 'IS_NULL'\n        }\n      };\n    } else {\n      return fail('Unrecognized filter: ' + JSON.stringify(filter));\n    }\n  }\n\n  fromUnaryFilter(filter: api.Filter): Filter {\n    switch (filter.unaryFilter!.op!) {\n      case 'IS_NAN':\n        const nanField = this.fromFieldPathReference(\n          filter.unaryFilter!.field!\n        );\n        return new NanFilter(nanField);\n      case 'IS_NULL':\n        const nullField = this.fromFieldPathReference(\n          filter.unaryFilter!.field!\n        );\n        return new NullFilter(nullField);\n      case 'OPERATOR_UNSPECIFIED':\n        return fail('Unspecified filter');\n      default:\n        return fail('Unknown filter');\n    }\n  }\n\n  toDocumentMask(fieldMask: FieldMask): api.DocumentMask {\n    return {\n      fieldPaths: fieldMask.fields.map(field => field.canonicalString())\n    };\n  }\n\n  fromDocumentMask(proto: api.DocumentMask): FieldMask {\n    const paths = proto.fieldPaths || [];\n    const fields = paths.map(path => FieldPath.fromServerFormat(path));\n    return new FieldMask(fields);\n  }\n}\n\n/**\n * Checks for a specific oneof tag in a protocol buffer message.\n *\n * This intentionally accommodates two distinct cases:\n *\n * 1) Messages containing a type tag: these are the format produced by GRPC in\n * return values. These may contain default-value mappings for all tags in the\n * oneof but the type tag specifies which one was actually set.\n *\n * 2) Messages that don't contain a type tag: these are the format required by\n * GRPC as inputs. If we emitted objects with type tags, ProtoBuf.js would\n * choke claiming that the tags aren't fields in the Message.\n *\n * Allowing both formats here makes the serializer able to consume the outputs\n * it produces: for all messages it supports, fromX(toX(value)) == value.\n *\n * Note that case 2 suffers from ambiguity: if multiple tags are present\n * without a type tag then the callers are structured in such a way that the\n * first invocation will win. Since we only parse in this mode when parsing\n * the output of a serialize method this works, but it's not a general\n * solution.\n *\n * Unfortunately there is no general solution here because proto3 makes it\n * impossible to distinguish unset from explicitly set fields: both have the\n * default value for the type. Without the type tag but multiple value tags\n * it's possible to have default values for each tag in the oneof and not be\n * able to know which was actually in effect.\n */\nfunction hasTag(obj: {}, type: string, tag: string): boolean {\n  return type === tag || (!type && tag in obj);\n}\n","(function() {var g,goog=goog||{},k=this;function l(a){return\"string\"==typeof a}function aa(){}\nfunction ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function n(a){return\"array\"==ba(a)}function ca(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function da(a){return\"function\"==ba(a)}function p(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var q=\"closure_uid_\"+(1E9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?r=fa:r=ha;return r.apply(null,arguments)}\nfunction ia(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var t=Date.now||function(){return+new Date};function u(a,b){function c(){}c.prototype=b.prototype;a.H=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Cb=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function ja(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}u(ja,Error);ja.prototype.name=\"CustomError\";function ka(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")}var la=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};function ma(a,b){return a<b?-1:a>b?1:0};function na(a,b){b.unshift(a);ja.call(this,ka.apply(null,b));b.shift()}u(na,ja);na.prototype.name=\"AssertionError\";function oa(a,b){throw new na(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this);this.i=this.i;this.w=this.w}var qa=0,ra={};w.prototype.i=!1;w.prototype.Z=function(){if(!this.i&&(this.i=!0,this.A(),0!=qa)){var a=this[q]||(this[q]=++ea);delete ra[a]}};w.prototype.A=function(){if(this.w)for(;this.w.length;)this.w.shift()()};var sa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(l(a))return l(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ta=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};\nfunction ua(a){a:{var b=va;for(var c=a.length,d=l(a)?a.split(\"\"):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:l(a)?a.charAt(b):a[b]}function wa(a){if(!n(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function xa(a){return Array.prototype.concat.apply([],arguments)}function ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var x;a:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break a}}x=\"\"}function y(a){return-1!=x.indexOf(a)};function Ba(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ca(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Da(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ea(a){var b={},c;for(c in a)b[c]=a[c];return b}var Fa=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Ga(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Fa.length;f++)c=Fa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Ha(a){Ha[\" \"](a);return a}Ha[\" \"]=aa;function Ia(a,b){var c=Ja;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ka=y(\"Opera\"),z=y(\"Trident\")||y(\"MSIE\"),La=y(\"Edge\"),Ma=y(\"Gecko\")&&!(-1!=x.toLowerCase().indexOf(\"webkit\")&&!y(\"Edge\"))&&!(y(\"Trident\")||y(\"MSIE\"))&&!y(\"Edge\"),Na=-1!=x.toLowerCase().indexOf(\"webkit\")&&!y(\"Edge\");function Oa(){var a=k.document;return a?a.documentMode:void 0}var Pa;\na:{var Qa=\"\",Ra=function(){var a=x;if(Ma)return/rv:([^\\);]+)(\\)|;)/.exec(a);if(La)return/Edge\\/([\\d\\.]+)/.exec(a);if(z)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Na)return/WebKit\\/(\\S+)/.exec(a);if(Ka)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();Ra&&(Qa=Ra?Ra[1]:\"\");if(z){var Sa=Oa();if(null!=Sa&&Sa>parseFloat(Qa)){Pa=String(Sa);break a}}Pa=Qa}var Ja={};\nfunction Ta(a){return Ia(a,function(){for(var b=0,c=la(String(Pa)).split(\".\"),d=la(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||\"\",m=d[f]||\"\";do{h=/(\\d*)(\\D*)(.*)/.exec(h)||[\"\",\"\",\"\",\"\"];m=/(\\d*)(\\D*)(.*)/.exec(m)||[\"\",\"\",\"\",\"\"];if(0==h[0].length&&0==m[0].length)break;b=ma(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||ma(0==h[2].length,0==m[2].length)||ma(h[2],m[2]);h=h[3];m=m[3]}while(0==b)}return 0<=b})}var Ua;var Va=k.document;\nUa=Va&&z?Oa()||(\"CSS1Compat\"==Va.compatMode?parseInt(Pa,10):5):void 0;var Wa=Object.freeze||function(a){return a};var Xa=!z||9<=Number(Ua),Ya=z&&!Ta(\"9\"),Za=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},\"passive\",{get:function(){a=!0}});k.addEventListener(\"test\",aa,b);k.removeEventListener(\"test\",aa,b);return a}();function A(a,b){this.type=a;this.a=this.target=b;this.Pa=!0}A.prototype.b=function(){this.Pa=!1};function $a(a,b){A.call(this,a?a.type:\"\");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key=\"\";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType=\"\";this.c=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;if(b=a.relatedTarget){if(Ma){a:{try{Ha(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else\"mouseover\"==c?b=\na.fromElement:\"mouseout\"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||\"\";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=\na.metaKey;this.pointerId=a.pointerId||0;this.pointerType=l(a.pointerType)?a.pointerType:ab[a.pointerType]||\"\";this.c=a;a.defaultPrevented&&this.b()}}u($a,A);var ab=Wa({2:\"touch\",3:\"pen\",4:\"mouse\"});$a.prototype.b=function(){$a.H.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ya)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var bb=\"closure_listenable_\"+(1E6*Math.random()|0);function cb(a){return!(!a||!a[bb])}var db=0;function eb(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.ga=e;this.key=++db;this.Y=this.ca=!1}function fb(a){a.Y=!0;a.listener=null;a.a=null;a.src=null;a.ga=null};function gb(a){this.src=a;this.a={};this.b=0}gb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var h=hb(a,b,d,e);-1<h?(b=a[h],c||(b.ca=!1)):(b=new eb(b,this.src,f,!!d,e),b.ca=c,a.push(b));return b};function ib(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=sa(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(fb(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function jb(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=hb(a,c,d,e));return-1<b?a[b]:null}\nfunction hb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Y&&f.listener==b&&f.capture==!!c&&f.ga==d)return e}return-1};var kb=\"closure_lm_\"+(1E6*Math.random()|0),lb={},mb=0;function nb(a,b,c,d,e){if(d&&d.once)return ob(a,b,c,d,e);if(n(b)){for(var f=0;f<b.length;f++)nb(a,b[f],c,d,e);return null}c=pb(c);return cb(a)?a.aa(b,c,p(d)?!!d.capture:!!d,e):qb(a,b,c,!1,d,e)}\nfunction qb(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var h=p(e)?!!e.capture:!!e,m=rb(a);m||(a[kb]=m=new gb(a));c=m.add(b,c,d,h,f);if(c.a)return c;d=sb();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)Za||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(tb(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error(\"addEventListener and attachEvent are unavailable.\");mb++;return c}\nfunction sb(){var a=ub,b=Xa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ob(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)ob(a,b[f],c,d,e);return null}c=pb(c);return cb(a)?a.Ha(b,c,p(d)?!!d.capture:!!d,e):qb(a,b,c,!0,d,e)}function vb(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)vb(a,b[f],c,d,e);else d=p(d)?!!d.capture:!!d,c=pb(c),cb(a)?a.va(b,c,d,e):a&&(a=rb(a))&&(b=jb(a,b,c,d,e))&&wb(b)}\nfunction wb(a){if(\"number\"!=typeof a&&a&&!a.Y){var b=a.src;if(cb(b))ib(b.c,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(tb(c),d):b.addListener&&b.removeListener&&b.removeListener(d);mb--;(c=rb(b))?(ib(c,a),0==c.b&&(c.src=null,b[kb]=null)):fb(a)}}}function tb(a){return a in lb?lb[a]:lb[a]=\"on\"+a}\nfunction xb(a,b,c,d){var e=!0;if(a=rb(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Y&&(f=yb(f,d),e=e&&!1!==f)}return e}function yb(a,b){var c=a.listener,d=a.ga||a.src;a.ca&&wb(a);return c.call(d,b)}\nfunction ub(a,b){if(a.Y)return!0;if(!Xa){if(!b)a:{b=[\"window\",\"event\"];for(var c=k,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new $a(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=xb(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=xb(d[e],a,!1,b),c=c&&f}return c}return yb(a,\nnew $a(b,this))}function rb(a){a=a[kb];return a instanceof gb?a:null}var zb=\"__closure_events_fn_\"+(1E9*Math.random()>>>0);function pb(a){if(da(a))return a;a[zb]||(a[zb]=function(b){return a.handleEvent(b)});return a[zb]};function B(){w.call(this);this.c=new gb(this);this.P=this;this.K=null}u(B,w);B.prototype[bb]=!0;g=B.prototype;g.addEventListener=function(a,b,c,d){nb(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){vb(this,a,b,c,d)};\ng.dispatchEvent=function(a){var b,c=this.K;if(c)for(b=[];c;c=c.K)b.push(c);c=this.P;var d=a.type||a;if(l(a))a=new A(a,c);else if(a instanceof A)a.target=a.target||c;else{var e=a;a=new A(d,c);Ga(a,e)}e=!0;if(b)for(var f=b.length-1;0<=f;f--){var h=a.a=b[f];e=Ab(h,d,!0,a)&&e}h=a.a=c;e=Ab(h,d,!0,a)&&e;e=Ab(h,d,!1,a)&&e;if(b)for(f=0;f<b.length;f++)h=a.a=b[f],e=Ab(h,d,!1,a)&&e;return e};\ng.A=function(){B.H.A.call(this);if(this.c){var a=this.c,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,fb(d[e]);delete a.a[c];a.b--}}this.K=null};g.aa=function(a,b,c,d){return this.c.add(String(a),b,!1,c,d)};g.Ha=function(a,b,c,d){return this.c.add(String(a),b,!0,c,d)};g.va=function(a,b,c,d){var e=this.c;a=String(a).toString();if(a in e.a){var f=e.a[a];b=hb(f,b,c,d);-1<b&&(fb(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.a[a],e.b--))}};\nfunction Ab(a,b,c,d){b=a.c.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Y&&h.capture==c){var m=h.listener,v=h.ga||h.src;h.ca&&ib(a.c,h);e=!1!==m.call(v,d)&&e}}return e&&0!=d.Pa};function Bb(a){return/^\\s*$/.test(a)?!1:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\"))}function Cb(a){a=String(a);if(Bb(a))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);}function Db(a){var b=[];Eb(new Fb,a,b);return b.join(\"\")}function Fb(){}\nfunction Eb(a,b,c){if(null==b)c.push(\"null\");else{if(\"object\"==typeof b){if(n(b)){var d=b;b=d.length;c.push(\"[\");for(var e=\"\",f=0;f<b;f++)c.push(e),Eb(a,d[f],c),e=\",\";c.push(\"]\");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(\"{\");e=\"\";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],\"function\"!=typeof f&&(c.push(e),Gb(d,c),c.push(\":\"),Eb(a,f,c),e=\",\"));c.push(\"}\");return}}switch(typeof b){case \"string\":Gb(b,c);break;case \"number\":c.push(isFinite(b)&&\n!isNaN(b)?String(b):\"null\");break;case \"boolean\":c.push(String(b));break;case \"function\":c.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof b);}}}var Hb={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},Ib=/\\uffff/.test(\"\\uffff\")?/[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Gb(a,b){b.push('\"',a.replace(Ib,function(a){var b=Hb[a];b||(b=\"\\\\u\"+(a.charCodeAt(0)|65536).toString(16).substr(1),Hb[a]=b);return b}),'\"')};function Jb(a,b){this.c=a;this.f=b;this.b=0;this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};function Kb(){this.b=this.a=null}var Nb=new Jb(function(){return new Lb},function(a){a.reset()});Kb.prototype.add=function(a,b){var c=Nb.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};function Ob(){var a=Pb,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function Lb(){this.next=this.b=this.a=null}Lb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};Lb.prototype.reset=function(){this.next=this.b=this.a=null};function Qb(a){k.setTimeout(function(){throw a;},0)}var Rb;\nfunction Sb(){var a=k.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!y(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host;a=r(function(a){if((\"*\"==d||a.origin==d)&&a.data==\nc)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!y(\"Trident\")&&!y(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.za;c.za=null;a()}};return function(a){d.next={za:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};var Tb;function Ub(){if(-1!=String(k.Promise).indexOf(\"[native code]\")){var a=k.Promise.resolve(void 0);Tb=function(){a.then(Vb)}}else Tb=function(){var a=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y(\"Edge\")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(a)):k.setImmediate(a)}}var Wb=!1,Pb=new Kb;function Vb(){for(var a;a=Ob();){try{a.a.call(a.b)}catch(c){Qb(c)}var b=Nb;b.f(a);100>b.b&&(b.b++,a.next=b.a,b.a=a)}Wb=!1};function Xb(a,b){B.call(this);this.b=a||1;this.a=b||k;this.f=r(this.kb,this);this.g=t()}u(Xb,B);g=Xb.prototype;g.$=!1;g.L=null;g.kb=function(){if(this.$){var a=t()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent(\"tick\"),this.$&&(this.L=this.a.setTimeout(this.f,this.b),this.g=t()))}};g.start=function(){this.$=!0;this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=t())};\nfunction Yb(a){a.$=!1;a.L&&(a.a.clearTimeout(a.L),a.L=null)}g.A=function(){Xb.H.A.call(this);Yb(this);delete this.a};function Zb(a,b,c){if(da(a))c&&(a=r(a,c));else if(a&&\"function\"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error(\"Invalid listener argument\");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)};function $b(a,b,c){w.call(this);this.f=null!=c?r(a,c):a;this.c=b;this.b=r(this.eb,this);this.a=[]}u($b,w);g=$b.prototype;g.ha=!1;g.X=null;g.Xa=function(a){this.a=arguments;this.X?this.ha=!0:ac(this)};g.A=function(){$b.H.A.call(this);this.X&&(k.clearTimeout(this.X),this.X=null,this.ha=!1,this.a=[])};g.eb=function(){this.X=null;this.ha&&(this.ha=!1,ac(this))};function ac(a){a.X=Zb(a.b,a.c);a.f.apply(null,a.a)};function C(a){w.call(this);this.b=a;this.a={}}u(C,w);var bc=[];C.prototype.aa=function(a,b,c,d){n(b)||(b&&(bc[0]=b.toString()),b=bc);for(var e=0;e<b.length;e++){var f=nb(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};\nC.prototype.va=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)this.va(a,b[f],c,d,e);else c=c||this.handleEvent,d=p(d)?!!d.capture:!!d,e=e||this.b||this,c=pb(c),d=!!d,b=cb(a)?jb(a.c,String(b),c,d,e):a?(a=rb(a))?jb(a,b,c,d,e):null:null,b&&(wb(b),delete this.a[b.key])};function cc(a){Ba(a.a,function(a,c){this.a.hasOwnProperty(c)&&wb(a)},a);a.a={}}C.prototype.A=function(){C.H.A.call(this);cc(this)};C.prototype.handleEvent=function(){throw Error(\"EventHandler.handleEvent not implemented\");};function dc(a,b,c){this.reset(a,b,c,void 0,void 0)}dc.prototype.a=null;var ec=0;dc.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||ec++;d||t();delete this.a};function fc(a){this.f=a;this.b=this.c=this.a=null}function D(a,b){this.name=a;this.value=b}D.prototype.toString=function(){return this.name};var gc=new D(\"SEVERE\",1E3),hc=new D(\"WARNING\",900),ic=new D(\"INFO\",800),jc=new D(\"CONFIG\",700),kc=new D(\"FINE\",500);function lc(a){if(a.c)return a.c;if(a.a)return lc(a.a);oa(\"Root logger has no level set.\");return null}fc.prototype.log=function(a,b,c){if(a.value>=lc(this).value)for(da(b)&&(b=b()),a=new dc(a,String(b),this.f),c&&(a.a=c),c=this;c;)c=c.a};\nvar mc={},nc=null;function oc(a){nc||(nc=new fc(\"\"),mc[\"\"]=nc,nc.c=jc);var b;if(!(b=mc[a])){b=new fc(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1);c=oc(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;mc[a]=b}return b};function E(a,b){a&&a.log(hc,b,void 0)}function pc(a,b){a&&a.log(ic,b,void 0)}function F(a,b){a&&a.log(kc,b,void 0)};function qc(){this.a=oc(\"goog.labs.net.webChannel.WebChannelDebug\");this.b=!0}qc.prototype.Ea=function(){this.b=!1};function rc(a,b,c,d,e,f){H(a,function(){if(a.b)if(f){var h=\"\";for(var m=f.split(\"&\"),v=0;v<m.length;v++){var G=m[v].split(\"=\");if(1<G.length){var Z=G[0];G=G[1];var Mb=Z.split(\"_\");h=2<=Mb.length&&\"type\"==Mb[1]?h+(Z+\"=\"+G+\"&\"):h+(Z+\"=redacted&\")}}}else h=null;else h=f;return\"XMLHTTP REQ (\"+d+\") [attempt \"+e+\"]: \"+b+\"\\n\"+c+\"\\n\"+h})}\nfunction sc(a,b,c,d,e,f,h){H(a,function(){return\"XMLHTTP RESP (\"+d+\") [ attempt \"+e+\"]: \"+b+\"\\n\"+c+\"\\n\"+f+\" \"+h})}function tc(a,b,c,d){H(a,function(){return\"XMLHTTP TEXT (\"+b+\"): \"+uc(a,c)+(d?\" \"+d:\"\")})}function vc(a,b){H(a,function(){return\"TIMEOUT: \"+b})}function I(a,b){F(a.a,b)}function wc(a,b,c){(a=a.a)&&a.log(gc,c||\"Exception\",b)}function H(a,b){pc(a.a,b)}function xc(a,b){(a=a.a)&&a.log(gc,b,void 0)}\nfunction uc(a,b){if(!a.b)return b;if(!b)return null;try{var c=JSON.parse(b);if(c)for(var d=0;d<c.length;d++)if(n(c[d])){var e=c[d];if(!(2>e.length)){var f=e[1];if(n(f)&&!(1>f.length)){var h=f[0];if(\"noop\"!=h&&\"stop\"!=h&&\"close\"!=h)for(var m=1;m<f.length;m++)f[m]=\"\"}}}return Db(c)}catch(v){return I(a,\"Exception parsing expected JS array - probably was not JS\"),b}};var yc=new B;function zc(a){A.call(this,\"serverreachability\",a)}u(zc,A);function Ac(a){yc.dispatchEvent(new zc(yc,a))}function Bc(a){A.call(this,\"statevent\",a)}u(Bc,A);function J(a){yc.dispatchEvent(new Bc(yc,a))}function Cc(a){A.call(this,\"timingevent\",a)}u(Cc,A);function Dc(a,b,c){yc.dispatchEvent(new Cc(yc,a,b,c))}function Ec(a,b){if(!da(a))throw Error(\"Fn must not be null and must be a function\");return k.setTimeout(function(){a()},b)};var Fc={NO_ERROR:0,lb:1,sb:2,rb:3,ob:4,qb:5,tb:6,Ra:7,TIMEOUT:8,wb:9};var Gc={nb:\"complete\",Ab:\"success\",Sa:\"error\",Ra:\"abort\",yb:\"ready\",zb:\"readystatechange\",TIMEOUT:\"timeout\",ub:\"incrementaldata\",xb:\"progress\",pb:\"downloadprogress\",Bb:\"uploadprogress\"};function Hc(){}Hc.prototype.a=null;function Ic(a){var b;(b=a.a)||(b={},Jc(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var Kc;function Lc(){}u(Lc,Hc);function Mc(a){return(a=Jc(a))?new ActiveXObject(a):new XMLHttpRequest}function Jc(a){if(!a.b&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}return a.b}Kc=new Lc;function K(a,b,c,d){this.i=a;this.b=b;this.f=c;this.T=d||1;this.N=new C(this);this.S=Nc;a=this.I=new Xb;a.b=Oc;a.L&&a.$?(Yb(a),a.start()):a.L&&Yb(a);this.j=null;this.c=!1;this.m=this.g=this.h=this.K=this.D=this.U=this.w=null;this.u=[];this.a=null;this.F=0;this.l=this.o=null;this.C=-1;this.B=!1;this.P=0;this.J=null;this.M=!1}var Nc=45E3,Oc=250;\nfunction Pc(a,b){switch(a){case 0:return\"Non-200 return code (\"+b+\")\";case 1:return\"XMLHTTP failure (no data)\";case 2:return\"HttpConnection timeout\";default:return\"Unknown error\"}}var Qc={},Rc={};g=K.prototype;g.setTimeout=function(a){this.S=a};function Sc(a,b,c){a.K=1;a.h=Tc(L(b));a.m=c;a.M=!0;Uc(a,null)}function Vc(a,b,c,d){a.K=1;a.h=Tc(L(b));a.m=null;a.M=c;Uc(a,d)}\nfunction Uc(a,b){a.D=t();Wc(a);a.g=L(a.h);Xc(a.g,\"t\",a.T);a.F=0;a.a=a.i.da(a.i.ia()?b:null);0<a.P&&(a.J=new $b(r(a.Qa,a,a.a),a.P));a.N.aa(a.a,\"readystatechange\",a.hb);b=a.j?Ea(a.j):{};a.m?(a.o||(a.o=\"POST\"),b[\"Content-Type\"]=\"application/x-www-form-urlencoded\",a.a.fa(a.g,a.o,a.m,b)):(a.o=\"GET\",a.a.fa(a.g,a.o,null,b));Ac(1);rc(a.b,a.o,a.g,a.f,a.T,a.m)}g.hb=function(a){a=a.target;var b=this.J;b&&3==M(a)?(I(this.b,\"Throttling readystatechange.\"),b.Xa()):this.Qa(a)};\ng.Qa=function(a){try{a==this.a?Yc(this):E(this.b.a,\"Called back with an unexpected xmlhttp\")}catch(c){if(I(this.b,\"Failed call to OnXmlHttpReadyStateChanged_\"),this.a&&this.a.V()){var b=this;wc(this.b,c,function(){return\"ResponseText: \"+b.a.V()})}else wc(this.b,c,\"No response text\")}finally{}};\nfunction Yc(a){var b=M(a.a),c=a.a.Fa(),d=a.a.W();if(!(3>b||3==b&&!Ka&&!a.a.V())){a.B||4!=b||7==c||(8==c||0>=d?Ac(3):Ac(2));Zc(a);var e=a.a.W();a.C=e;(c=a.a.V())||I(a.b,function(){return\"No response text for uri \"+a.g+\" status \"+e});a.c=200==e;sc(a.b,a.o,a.g,a.f,a.T,b,e);a.c?(a.M?($c(a,b,c),Ka&&a.c&&3==b&&ad(a)):(tc(a.b,a.f,c,null),bd(a,c)),4==b&&cd(a),a.c&&!a.B&&(4==b?a.i.ua(a):(a.c=!1,Wc(a)))):(400==e&&0<c.indexOf(\"Unknown SID\")?(a.l=3,J(12),E(a.b.a,\"XMLHTTP Unknown SID (\"+a.f+\")\")):(a.l=0,J(13),\nE(a.b.a,\"XMLHTTP Bad status \"+e+\" (\"+a.f+\")\")),cd(a),dd(a))}}function $c(a,b,c){for(var d=!0;!a.B&&a.F<c.length;){var e=ed(a,c);if(e==Rc){4==b&&(a.l=4,J(14),d=!1);tc(a.b,a.f,null,\"[Incomplete Response]\");break}else if(e==Qc){a.l=4;J(15);tc(a.b,a.f,c,\"[Invalid Chunk]\");d=!1;break}else tc(a.b,a.f,e,null),bd(a,e)}4==b&&0==c.length&&(a.l=1,J(16),d=!1);a.c=a.c&&d;d||(tc(a.b,a.f,c,\"[Invalid Chunked Response]\"),cd(a),dd(a))}\ng.gb=function(){var a=M(this.a),b=this.a.V();this.F<b.length&&(Zc(this),$c(this,a,b),this.c&&4!=a&&Wc(this))};function ad(a){a.N.aa(a.I,\"tick\",a.gb);a.I.start()}function ed(a,b){var c=a.F,d=b.indexOf(\"\\n\",c);if(-1==d)return Rc;c=Number(b.substring(c,d));if(isNaN(c))return Qc;d+=1;if(d+c>b.length)return Rc;b=b.substr(d,c);a.F=d+c;return b}g.cancel=function(){this.B=!0;cd(this)};function Wc(a){a.U=t()+a.S;fd(a,a.S)}\nfunction fd(a,b){if(null!=a.w)throw Error(\"WatchDog timer not null\");a.w=Ec(r(a.fb,a),b)}function Zc(a){a.w&&(k.clearTimeout(a.w),a.w=null)}g.fb=function(){this.w=null;var a=t();0<=a-this.U?(this.c&&xc(this.b,\"Received watchdog timeout even though request loaded successfully\"),vc(this.b,this.g),2!=this.K&&(Ac(3),J(17)),cd(this),this.l=2,dd(this)):(E(this.b.a,\"WatchDog timer called too early\"),fd(this,this.U-a))};function dd(a){a.i.Ja()||a.B||a.i.ua(a)}\nfunction cd(a){Zc(a);var b=a.J;b&&\"function\"==typeof b.Z&&b.Z();a.J=null;Yb(a.I);cc(a.N);a.a&&(b=a.a,a.a=null,b.abort(),b.Z())}function bd(a,b){try{a.i.Ma(a,b),Ac(4)}catch(c){wc(a.b,c,\"Error in httprequest callback\")}};function gd(a){if(a.v&&\"function\"==typeof a.v)return a.v();if(l(a))return a.split(\"\");if(ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ca(a)}\nfunction hd(a,b){if(a.forEach&&\"function\"==typeof a.forEach)a.forEach(b,void 0);else if(ca(a)||l(a))ta(a,b,void 0);else{if(a.O&&\"function\"==typeof a.O)var c=a.O();else if(a.v&&\"function\"==typeof a.v)c=void 0;else if(ca(a)||l(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Da(a);d=gd(a);e=d.length;for(var f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function N(a,b){this.b={};this.a=[];this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof N?(c=a.O(),d=a.v()):(c=Da(a),d=Ca(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}g=N.prototype;g.s=function(){return this.c};g.v=function(){id(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};g.O=function(){id(this);return this.a.concat()};\nfunction jd(a){a.b={};a.a.length=0;a.c=0}function kd(a,b){return O(a.b,b)?(delete a.b[b],a.c--,a.a.length>2*a.c&&id(a),!0):!1}function id(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];O(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){var e={};for(c=b=0;b<a.a.length;)d=a.a[b],O(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}g.get=function(a,b){return O(this.b,a)?this.b[a]:b};g.set=function(a,b){O(this.b,a)||(this.c++,this.a.push(a));this.b[a]=b};\ng.forEach=function(a,b){for(var c=this.O(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};function O(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ld=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function md(a,b){if(a){a=a.split(\"&\");for(var c=0;c<a.length;c++){var d=a[c].indexOf(\"=\"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\\+/g,\" \")):\"\")}}};function P(a,b){this.b=this.j=this.f=\"\";this.i=null;this.g=this.a=\"\";this.h=!1;var c;a instanceof P?(this.h=void 0!==b?b:a.h,nd(this,a.f),this.j=a.j,od(this,a.b),pd(this,a.i),this.a=a.a,qd(this,rd(a.c)),this.g=a.g):a&&(c=String(a).match(ld))?(this.h=!!b,nd(this,c[1]||\"\",!0),this.j=sd(c[2]||\"\"),od(this,c[3]||\"\",!0),pd(this,c[4]),this.a=sd(c[5]||\"\",!0),qd(this,c[6]||\"\",!0),this.g=sd(c[7]||\"\")):(this.h=!!b,this.c=new td(null,this.h))}\nP.prototype.toString=function(){var a=[],b=this.f;b&&a.push(ud(b,vd,!0),\":\");var c=this.b;if(c||\"file\"==b)a.push(\"//\"),(b=this.j)&&a.push(ud(b,vd,!0),\"@\"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),c=this.i,null!=c&&a.push(\":\",String(c));if(c=this.a)this.b&&\"/\"!=c.charAt(0)&&a.push(\"/\"),a.push(ud(c,\"/\"==c.charAt(0)?wd:xd,!0));(c=this.c.toString())&&a.push(\"?\",c);(c=this.g)&&a.push(\"#\",ud(c,yd));return a.join(\"\")};\nP.prototype.resolve=function(a){var b=L(this),c=!!a.f;c?nd(b,a.f):c=!!a.j;c?b.j=a.j:c=!!a.b;c?od(b,a.b):c=null!=a.i;var d=a.a;if(c)pd(b,a.i);else if(c=!!a.a){if(\"/\"!=d.charAt(0))if(this.b&&!this.a)d=\"/\"+d;else{var e=b.a.lastIndexOf(\"/\");-1!=e&&(d=b.a.substr(0,e+1)+d)}e=d;if(\"..\"==e||\".\"==e)d=\"\";else if(-1!=e.indexOf(\"./\")||-1!=e.indexOf(\"/.\")){d=0==e.lastIndexOf(\"/\",0);e=e.split(\"/\");for(var f=[],h=0;h<e.length;){var m=e[h++];\".\"==m?d&&h==e.length&&f.push(\"\"):\"..\"==m?((1<f.length||1==f.length&&\"\"!=\nf[0])&&f.pop(),d&&h==e.length&&f.push(\"\")):(f.push(m),d=!0)}d=f.join(\"/\")}else d=e}c?b.a=d:c=\"\"!==a.c.toString();c?qd(b,rd(a.c)):c=!!a.g;c&&(b.g=a.g);return b};function L(a){return new P(a)}function nd(a,b,c){a.f=c?sd(b,!0):b;a.f&&(a.f=a.f.replace(/:$/,\"\"))}function od(a,b,c){a.b=c?sd(b,!0):b}function pd(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.i=b}else a.i=null}function qd(a,b,c){b instanceof td?(a.c=b,zd(a.c,a.h)):(c||(b=ud(b,Ad)),a.c=new td(b,a.h))}\nfunction Q(a,b,c){a.c.set(b,c)}function Xc(a,b,c){n(c)||(c=[String(c)]);Bd(a.c,b,c)}function Tc(a){Q(a,\"zx\",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36));return a}function Cd(a){return a instanceof P?L(a):new P(a,void 0)}function Dd(a,b,c,d){var e=new P(null,void 0);a&&nd(e,a);b&&od(e,b);c&&pd(e,c);d&&(e.a=d);return e}function sd(a,b){return a?b?decodeURI(a.replace(/%25/g,\"%2525\")):decodeURIComponent(a):\"\"}\nfunction ud(a,b,c){return l(a)?(a=encodeURI(a).replace(b,Ed),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null}function Ed(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)}var vd=/[#\\/\\?@]/g,xd=/[#\\?:]/g,wd=/[#\\?]/g,Ad=/[#\\?@]/g,yd=/#/g;function td(a,b){this.b=this.a=null;this.c=a||null;this.f=!!b}function R(a){a.a||(a.a=new N,a.b=0,a.c&&md(a.c,function(b,c){a.add(decodeURIComponent(b.replace(/\\+/g,\" \")),c)}))}g=td.prototype;g.s=function(){R(this);return this.b};\ng.add=function(a,b){R(this);this.c=null;a=Fd(this,a);var c=this.a.get(a);c||this.a.set(a,c=[]);c.push(b);this.b+=1;return this};function Gd(a,b){R(a);b=Fd(a,b);O(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,kd(a.a,b))}function Hd(a,b){R(a);b=Fd(a,b);return O(a.a.b,b)}g.forEach=function(a,b){R(this);this.a.forEach(function(c,d){ta(c,function(c){a.call(b,c,d,this)},this)},this)};\ng.O=function(){R(this);for(var a=this.a.v(),b=this.a.O(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.v=function(a){R(this);var b=[];if(l(a))Hd(this,a)&&(b=xa(b,this.a.get(Fd(this,a))));else{a=this.a.v();for(var c=0;c<a.length;c++)b=xa(b,a[c])}return b};g.set=function(a,b){R(this);this.c=null;a=Fd(this,a);Hd(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};g.get=function(a,b){a=a?this.v(a):[];return 0<a.length?String(a[0]):b};\nfunction Bd(a,b,c){Gd(a,b);0<c.length&&(a.c=null,a.a.set(Fd(a,b),ya(c)),a.b+=c.length)}g.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var a=[],b=this.a.O(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.v(d);for(var f=0;f<d.length;f++){var h=e;\"\"!==d[f]&&(h+=\"=\"+encodeURIComponent(String(d[f])));a.push(h)}}return this.c=a.join(\"&\")};function rd(a){var b=new td;b.c=a.c;a.a&&(b.a=new N(a.a),b.b=a.b);return b}\nfunction Fd(a,b){b=String(b);a.f&&(b=b.toLowerCase());return b}function zd(a,b){b&&!a.f&&(R(a),a.c=null,a.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Gd(this,b),Bd(this,c,a))},a));a.f=b};function Id(){this.a=t()}var Jd=null;Id.prototype.set=function(a){this.a=a};Id.prototype.reset=function(){this.set(t())};Id.prototype.get=function(){return this.a};function Kd(){Jd||(Jd=new Id)}function Ld(){Jd||(Jd=new Id)}u(Ld,Kd);function Md(){}var Nd={OPEN:\"a\",mb:\"b\",Sa:\"c\",vb:\"d\"};function Od(){A.call(this,\"d\")}u(Od,A);function Pd(){A.call(this,\"c\")}u(Pd,A);function Qd(a,b){this.a=a;this.b=b;this.c=this.i=null;this.h=!1;this.l=null;this.f=-1;this.m=this.g=null}g=Qd.prototype;g.R=null;\nfunction Rd(a){I(a.b,\"TestConnection: starting stage 2\");var b=a.a.I.a;if(null!=b)I(a.b,function(){return\"TestConnection: skipping stage 2, precomputed result is \"+b?\"Buffered\":\"Unbuffered\"}),J(4),b?(J(10),Sd(a.a,a,!1)):(J(11),Sd(a.a,a,!0));else{a.c=new K(a,a.b,void 0,void 0);a.c.j=a.i;var c=Td(a.a,a.g,a.l);J(4);Xc(c,\"TYPE\",\"xmlhttp\");var d=a.a.j,e=a.a.K;d&&e&&Q(c,d,e);Vc(a.c,c,!1,a.g)}}g.da=function(a){return this.a.da(a)};g.abort=function(){this.c&&(this.c.cancel(),this.c=null);this.f=-1};\ng.Ja=function(){return!1};\ng.Ma=function(a,b){this.f=a.C;if(0==this.R){I(this.b,\"TestConnection: Got data for stage 1\");if(!this.a.D&&(a=a.a)){var c=a.a?a.a.getResponseHeader(\"X-Client-Wire-Protocol\"):null;this.m=c?c:null;this.a.j&&((a=a.a?a.a.getResponseHeader(\"X-HTTP-Session-Id\"):null)?this.a.K=a:E(this.b.a,\"Missing X_HTTP_SESSION_ID in the handshake response\"))}if(b){try{var d=this.a.ma.a.parse(b)}catch(e){wc(this.b,e);Ud(this.a,this);return}this.g=d[0]}else I(this.b,\"TestConnection: Null responseText\"),Ud(this.a,this)}else if(1==\nthis.R)if(this.h)J(6);else if(\"11111\"==b){if(J(5),this.h=!0,!z||10<=Number(Ua))this.f=200,this.c.cancel(),I(this.b,\"Test connection succeeded; using streaming connection\"),J(11),Sd(this.a,this,!0)}else J(7),this.h=!1};\ng.ua=function(){this.f=this.c.C;this.c.c?0==this.R?(this.R=1,I(this.b,\"TestConnection: request complete for initial check\"),Rd(this)):1==this.R&&(I(this.b,\"TestConnection: request complete for stage 2\"),this.h?(I(this.b,\"Test connection succeeded; using streaming connection\"),J(11),Sd(this.a,this,!0)):(I(this.b,\"Test connection failed; not using streaming\"),J(10),Sd(this.a,this,!1))):(I(this.b,\"TestConnection: request failed, in state \"+this.R),0==this.R?J(8):1==this.R&&J(9),Ud(this.a,this))};\ng.ia=function(){return this.a.ia()};g.ra=function(){return this.a.ra()};function Vd(){this.a=this.b=null};function S(){this.a=new N}function Wd(a){var b=typeof a;return\"object\"==b&&a||\"function\"==b?\"o\"+(a[q]||(a[q]=++ea)):b.charAt(0)+a}S.prototype.s=function(){return this.a.s()};S.prototype.add=function(a){this.a.set(Wd(a),a)};S.prototype.contains=function(a){a=Wd(a);return O(this.a.b,a)};S.prototype.v=function(){return this.a.v()};function Xd(a,b){this.a=a;this.b=b};function Yd(a){this.g=a||Zd;this.f=k.pa&&k.pa.Ka&&k.pa.Ka()&&k.pa.Ka().Db?this.g:1;this.a=null;1<this.f&&(this.a=new S);this.b=null;this.c=[]}var Zd=10;function $d(a,b){a.a||-1==b.indexOf(\"spdy\")&&-1==b.indexOf(\"quic\")&&-1==b.indexOf(\"h2\")||(a.f=a.g,a.a=new S,a.b&&(ae(a,a.b),a.b=null))}function be(a){return a.b?!0:a.a?a.a.s()>=a.f:!1}function ce(a,b){return a.b?a.b==b:a.a?a.a.contains(b):!1}function ae(a,b){a.a?a.a.add(b):a.b=b}\nfunction de(a,b){a.b&&a.b==b?a.b=null:a.a&&a.a.contains(b)&&kd(a.a.a,Wd(b))}Yd.prototype.cancel=function(){this.c=ee(this);this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.v(),function(a){a.cancel()}),jd(this.a.a))};function ee(a){if(null!=a.b)return a.c.concat(a.b.u);if(null!=a.a&&0!=a.a.a.c){var b=a.c;ta(a.a.v(),function(a){b=b.concat(a.u)});return b}return ya(a.c)}function fe(a,b){a.c=a.c.concat(b)};function ge(){}ge.prototype.stringify=function(a){return k.JSON.stringify(a,void 0)};ge.prototype.parse=function(a){return k.JSON.parse(a,void 0)};function he(){this.a=new ge}function ie(a,b,c){var d=c||\"\";try{hd(a,function(a,c){var e=a;p(a)&&(e=Db(a));b.push(d+c+\"=\"+encodeURIComponent(e))})}catch(e){throw b.push(d+\"type=\"+encodeURIComponent(\"_badmap\")),e;}};function je(a,b){var c=new qc;I(c,\"TestLoadImage: loading \"+a);var d=new Image;d.onload=ia(ke,c,d,\"TestLoadImage: loaded\",!0,b);d.onerror=ia(ke,c,d,\"TestLoadImage: error\",!1,b);d.onabort=ia(ke,c,d,\"TestLoadImage: abort\",!1,b);d.ontimeout=ia(ke,c,d,\"TestLoadImage: timeout\",!1,b);k.setTimeout(function(){if(d.ontimeout)d.ontimeout()},1E4);d.src=a}function ke(a,b,c,d,e){try{I(a,c),b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,e(d)}catch(f){wc(a,f)}};function T(a){B.call(this);this.headers=new N;this.F=a||null;this.f=!1;this.D=this.a=null;this.M=this.u=\"\";this.j=0;this.g=\"\";this.h=this.J=this.o=this.I=!1;this.l=0;this.B=null;this.N=le;this.C=this.m=!1}u(T,B);var le=\"\";T.prototype.b=oc(\"goog.net.XhrIo\");var me=/^https?$/i,ne=[\"POST\",\"PUT\"];g=T.prototype;\ng.fa=function(a,b,c,d){if(this.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.u+\"; newUri=\"+a);b=b?b.toUpperCase():\"GET\";this.u=a;this.g=\"\";this.j=0;this.M=b;this.I=!1;this.f=!0;this.a=this.F?Mc(this.F):Mc(Kc);this.D=this.F?Ic(this.F):Ic(Kc);this.a.onreadystatechange=r(this.La,this);try{F(this.b,U(this,\"Opening Xhr\")),this.J=!0,this.a.open(b,String(a),!0),this.J=!1}catch(f){F(this.b,U(this,\"Error opening Xhr: \"+f.message));oe(this,f);return}a=c||\"\";var e=new N(this.headers);\nd&&hd(d,function(a,b){e.set(b,a)});d=ua(e.O());c=k.FormData&&a instanceof k.FormData;!(0<=sa(ne,b))||d||c||e.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.N&&(this.a.responseType=this.N);\"withCredentials\"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{pe(this),0<this.l&&(this.C=qe(this.a),F(this.b,U(this,\"Will abort after \"+this.l+\"ms if incomplete, xhr2 \"+this.C)),this.C?(this.a.timeout=\nthis.l,this.a.ontimeout=r(this.Ia,this)):this.B=Zb(this.Ia,this.l,this)),F(this.b,U(this,\"Sending request\")),this.o=!0,this.a.send(a),this.o=!1}catch(f){F(this.b,U(this,\"Send error: \"+f.message)),oe(this,f)}};function qe(a){return z&&Ta(9)&&\"number\"==typeof a.timeout&&void 0!==a.ontimeout}function va(a){return\"content-type\"==a.toLowerCase()}\ng.Ia=function(){\"undefined\"!=typeof goog&&this.a&&(this.g=\"Timed out after \"+this.l+\"ms, aborting\",this.j=8,F(this.b,U(this,this.g)),this.dispatchEvent(\"timeout\"),this.abort(8))};function oe(a,b){a.f=!1;a.a&&(a.h=!0,a.a.abort(),a.h=!1);a.g=b;a.j=5;re(a);se(a)}function re(a){a.I||(a.I=!0,a.dispatchEvent(\"complete\"),a.dispatchEvent(\"error\"))}\ng.abort=function(a){this.a&&this.f&&(F(this.b,U(this,\"Aborting\")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=a||7,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),se(this))};g.A=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),se(this,!0));T.H.A.call(this)};g.La=function(){this.i||(this.J||this.o||this.h?te(this):this.cb())};g.cb=function(){te(this)};\nfunction te(a){if(a.f&&\"undefined\"!=typeof goog)if(a.D[1]&&4==M(a)&&2==a.W())F(a.b,U(a,\"Local request error detected and ignored\"));else if(a.o&&4==M(a))Zb(a.La,0,a);else if(a.dispatchEvent(\"readystatechange\"),4==M(a)){F(a.b,U(a,\"Request complete\"));a.f=!1;try{var b=a.W();a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.u).match(ld)[1]||null;if(!f&&k.self&&k.self.location){var h=k.self.location.protocol;\nf=h.substr(0,h.length-1)}e=!me.test(f?f.toLowerCase():\"\")}d=e}d?(a.dispatchEvent(\"complete\"),a.dispatchEvent(\"success\")):(a.j=6,a.g=a.Ga()+\" [\"+a.W()+\"]\",re(a))}finally{se(a)}}}function se(a,b){if(a.a){pe(a);var c=a.a,d=a.D[0]?aa:null;a.a=null;a.D=null;b||a.dispatchEvent(\"ready\");try{c.onreadystatechange=d}catch(e){(a=a.b)&&a.log(gc,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}}function pe(a){a.a&&a.C&&(a.a.ontimeout=null);a.B&&(k.clearTimeout(a.B),a.B=null)}\nfunction M(a){return a.a?a.a.readyState:0}g.W=function(){try{return 2<M(this)?this.a.status:-1}catch(a){return-1}};g.Ga=function(){try{return 2<M(this)?this.a.statusText:\"\"}catch(a){return F(this.b,\"Can not get status: \"+a.message),\"\"}};g.V=function(){try{return this.a?this.a.responseText:\"\"}catch(a){return F(this.b,\"Can not get responseText: \"+a.message),\"\"}};\ng.Ya=function(a){if(this.a){var b=this.a.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));a:{a=b;if(k.JSON)try{var c=k.JSON.parse(a);break a}catch(d){}c=Cb(a)}return c}};g.Fa=function(){return this.j};g.ab=function(){return l(this.g)?this.g:String(this.g)};function U(a,b){return b+\" [\"+a.M+\" \"+a.u+\" \"+a.W()+\"]\"};function ue(a){var b=\"\";Ba(a,function(a,d){b+=d;b+=\":\";b+=a;b+=\"\\r\\n\"});return b}function ve(a,b,c){a:{for(d in c){var d=!1;break a}d=!0}if(d)return a;c=ue(c);if(l(a)){b=encodeURIComponent(String(b));c=null!=c?\"=\"+encodeURIComponent(String(c)):\"\";if(b+=c){c=a.indexOf(\"#\");0>c&&(c=a.length);d=a.indexOf(\"?\");if(0>d||d>c){d=c;var e=\"\"}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+\"&\"+b:b:c;a=a[0]+(a[1]?\"?\"+a[1]:\"\")+a[2]}return a}Q(a,b,c);return a};function we(a){this.ya=0;this.g=[];this.a=new qc;this.I=new Vd;this.ja=this.wa=this.F=this.ka=this.b=this.K=this.j=this.U=this.h=this.M=this.i=null;this.Ua=this.P=0;this.la=this.B=this.o=this.m=this.l=this.f=null;this.u=this.xa=this.N=-1;this.T=this.w=this.C=0;this.S=a&&a.supportsCrossDomainXhr||!1;this.J=\"\";this.c=new Yd(a&&a.concurrentRequestLimit);this.ma=new he;this.D=a&&void 0!==a.backgroundChannelTest?a.backgroundChannelTest:!0;this.Ta=a&&a.fastHandshake||!1;a&&a.Ea&&this.a.Ea()}g=we.prototype;\ng.oa=8;g.G=1;function xe(a){I(a.a,\"disconnect()\");ye(a);if(3==a.G){var b=a.P++,c=L(a.F);Q(c,\"SID\",a.J);Q(c,\"RID\",b);Q(c,\"TYPE\",\"terminate\");ze(a,c);b=new K(a,a.a,b,void 0);b.K=2;b.h=Tc(L(c));c=!1;k.navigator&&k.navigator.sendBeacon&&(c=k.navigator.sendBeacon(b.h.toString(),\"\"));!c&&k.Image&&((new Image).src=b.h,c=!0);c||(b.a=b.i.da(null),b.a.fa(b.h));b.D=t();Wc(b)}Ae(a)}\nfunction ye(a){a.B&&(a.B.abort(),a.B=null);a.b&&(a.b.cancel(),a.b=null);a.m&&(k.clearTimeout(a.m),a.m=null);Be(a);a.c.cancel();a.l&&(k.clearTimeout(a.l),a.l=null)}function Ce(a,b){1E3==a.g.length&&xc(a.a,function(){return\"Already have 1000 queued maps upon queueing \"+Db(b)});a.g.push(new Xd(a.Ua++,b));3==a.G&&De(a)}g.Ja=function(){return 0==this.G};function De(a){be(a.c)||a.l||(a.l=Ec(r(a.Oa,a),0),a.C=0)}\nfunction Ee(a,b){var c=a.c;if((c.b?1:c.a?c.a.s():0)>=a.c.f-(a.l?1:0))return xc(a.a,\"Unexpected retry request is scheduled.\"),!1;if(a.l)return I(a.a,\"Use the retry request that is already scheduled.\"),a.g=b.u.concat(a.g),!0;if(1==a.G||2==a.G||2<=a.C)return!1;I(a.a,\"Going to retry POST\");a.l=Ec(r(a.Oa,a,b),Fe(a,a.C));a.C++;return!0}\ng.Oa=function(a){this.l=null;I(this.a,\"startForwardChannel_\");if(1==this.G)if(a)xc(this.a,\"Not supposed to retry the open\");else{I(this.a,\"open_()\");this.P=Math.floor(1E5*Math.random());a=this.P++;var b=new K(this,this.a,a,void 0),c=this.i;this.M&&(c?(c=Ea(c),Ga(c,this.M)):c=this.M);null===this.h&&(b.j=c);var d=Ge(this,b),e=L(this.F);Q(e,\"RID\",a);Q(e,\"CVER\",21);this.D&&this.j&&Q(e,\"X-HTTP-Session-Id\",this.j);ze(this,e);this.h&&c&&ve(e,this.h,c);ae(this.c,b);this.Ta?(Q(e,\"$req\",d),Sc(b,e,null)):Sc(b,\ne,d);this.G=2}else 3==this.G&&(a?He(this,a):0==this.g.length?I(this.a,\"startForwardChannel_ returned: nothing to send\"):be(this.c)?xc(this.a,\"startForwardChannel_ returned: connection already in progress\"):(He(this),I(this.a,\"startForwardChannel_ finished, sent request\")))};\nfunction He(a,b){var c;b?c=b.f:c=a.P++;var d=L(a.F);Q(d,\"SID\",a.J);Q(d,\"RID\",c);Q(d,\"AID\",a.N);ze(a,d);a.h&&a.i&&ve(d,a.h,a.i);c=new K(a,a.a,c,a.C+1);null===a.h&&(c.j=a.i);b&&(a.g=b.u.concat(a.g));b=Ge(a,c);c.setTimeout(1E4+Math.round(1E4*Math.random()));ae(a.c,c);Sc(c,d,b)}function ze(a,b){a.f&&hd({},function(a,d){Q(b,d,a)})}\nfunction Ge(a,b){var c=Math.min(a.g.length,1E3),d=a.f?r(a.f.Va,a.f,a):null;a:for(var e=a.g,f=-1;;){var h=[\"count=\"+c];-1==f?0<c?(f=e[0].a,h.push(\"ofs=\"+f)):f=0:h.push(\"ofs=\"+f);for(var m=!0,v=0;v<c;v++){var G=e[v].a,Z=e[v].b;G-=f;if(0>G)f=Math.max(0,e[v].a-100),m=!1;else try{ie(Z,h,\"req\"+G+\"_\")}catch(Mb){d&&d(Z)}}if(m){d=h.join(\"&\");break a}}a=a.g.splice(0,c);b.u=a;return d}function Ie(a){if(!a.b&&!a.m){a.T=1;var b=a.Na;Tb||Ub();Wb||(Tb(),Wb=!0);Pb.add(b,a);a.w=0}}\nfunction Je(a){if(a.b||a.m)return xc(a.a,\"Request already in progress\"),!1;if(3<=a.w)return!1;I(a.a,\"Going to retry GET\");a.T++;a.m=Ec(r(a.Na,a),Fe(a,a.w));a.w++;return!0}\ng.Na=function(){this.m=null;I(this.a,\"Creating new HttpRequest\");this.b=new K(this,this.a,\"rpc\",this.T);null===this.h&&(this.b.j=this.i);this.b.P=0;var a=L(this.wa);Q(a,\"RID\",\"rpc\");Q(a,\"SID\",this.J);Q(a,\"CI\",this.la?\"0\":\"1\");Q(a,\"AID\",this.N);ze(this,a);Q(a,\"TYPE\",\"xmlhttp\");this.h&&this.i&&ve(a,this.h,this.i);Vc(this.b,a,!0,this.ja);I(this.a,\"New Request created\")};\nfunction Sd(a,b,c){I(a.a,\"Test Connection Finished\");var d=b.m;d&&$d(a.c,d);a.la=c;a.u=b.f;I(a.a,\"connectChannel_()\");a.F=Ke(a,a.ka);De(a)}function Ud(a,b){I(a.a,\"Test Connection Failed\");a.u=b.f;V(a,2)}\ng.Ma=function(a,b){if(0!=this.G&&(this.b==a||ce(this.c,a)))if(this.u=a.C,ce(this.c,a)&&3==this.G){try{var c=this.ma.a.parse(b)}catch(f){c=null}if(n(c)&&3==c.length)if(b=c,0==b[0])a:if(I(this.a,\"Server claims our backchannel is missing.\"),this.m)I(this.a,\"But we are currently starting the request.\");else{if(this.b)if(this.b.D+3E3<a.D)Be(this),this.b.cancel(),this.b=null;else break a;else E(this.a.a,\"We do not have a BackChannel established\");Je(this);J(18)}else this.xa=b[1],a=this.xa-this.N,0<a&&(b=\nb[2],I(this.a,b+\" bytes (in \"+a+\" arrays) are outstanding on the BackChannel\"),37500>b&&this.la&&0==this.w&&!this.o&&(this.o=Ec(r(this.bb,this),6E3)));else I(this.a,\"Bad POST response data returned\"),V(this,11)}else if(this.b==a&&Be(this),!/^[\\s\\xa0]*$/.test(b))for(b=c=this.ma.a.parse(b),c=0;c<b.length;c++){var d=b[c];this.N=d[0];d=d[1];if(2==this.G)if(\"c\"==d[0]){this.J=d[1];this.ja=d[2];var e=d[3];null!=e&&(this.oa=e,H(this.a,\"VER=\"+this.oa));d=d[4];null!=d&&(this.ya=d,H(this.a,\"SVER=\"+this.ya));\nthis.D&&(d=a.a)&&((e=d.a?d.a.getResponseHeader(\"X-Client-Wire-Protocol\"):null)&&$d(this.c,e),this.j&&((d=d.a?d.a.getResponseHeader(\"X-HTTP-Session-Id\"):null)?(this.K=d,Q(this.F,this.j,d)):E(this.a.a,\"Missing X_HTTP_SESSION_ID in the handshake response\")));this.G=3;this.f&&this.f.Da();this.wa=Td(this,this.ja,this.ka);Ie(this)}else\"stop\"!=d[0]&&\"close\"!=d[0]||V(this,7);else 3==this.G&&(\"stop\"==d[0]||\"close\"==d[0]?\"stop\"==d[0]?V(this,7):xe(this):\"noop\"!=d[0]&&this.f&&this.f.Ca(d),this.w=0)}};\ng.bb=function(){null!=this.o&&(this.o=null,this.b.cancel(),this.b=null,Je(this),J(19))};function Be(a){null!=a.o&&(k.clearTimeout(a.o),a.o=null)}\ng.ua=function(a){I(this.a,\"Request complete\");var b=null;if(this.b==a){Be(this);this.b=null;var c=2}else if(ce(this.c,a))b=a.u,de(this.c,a),c=1;else return;this.u=a.C;if(0!=this.G)if(a.c)1==c?(Dc(a.m?a.m.length:0,t()-a.D,this.C),De(this)):Ie(this);else{var d=a.l;if(3==d||0==d&&0<this.u)I(this.a,\"Not retrying due to error type\");else{var e=this;I(this.a,function(){return\"Maybe retrying, last error: \"+Pc(d,e.u)});if(1==c&&Ee(this,a)||2==c&&Je(this))return;I(this.a,\"Exceeded max number of retries\")}b&&\n0<b.length&&fe(this.c,b);I(this.a,\"Error: HTTP request failed\");switch(d){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}};function Fe(a,b){var c=5E3+Math.floor(1E4*Math.random());a.ra()||(I(a.a,\"Inactive channel\"),c*=2);return c*b}\nfunction V(a,b){H(a.a,\"Error code \"+b);if(2==b){var c=null;a.f&&(c=null);var d=r(a.jb,a);c||(c=new P(\"//www.google.com/images/cleardot.gif\"),k.location&&\"http\"==k.location.protocol||nd(c,\"https\"),Tc(c));je(c.toString(),d)}else J(2);I(a.a,\"HttpChannel: error - \"+b);a.G=0;a.f&&a.f.Ba(b);Ae(a);ye(a)}g.jb=function(a){a?(H(this.a,\"Successfully pinged google.com\"),J(2)):(H(this.a,\"Failed to ping google.com\"),J(1))};\nfunction Ae(a){a.G=0;a.u=-1;if(a.f){var b=ee(a.c);if(0!=b.length||0!=a.g.length)I(a.a,function(){return\"Number of undelivered maps, pending: \"+b.length+\", outgoing: \"+a.g.length}),a.c.c.length=0,ya(a.g),a.g.length=0;a.f.Aa()}}function Ke(a,b){b=Le(a,null,b);I(a.a,\"GetForwardChannelUri: \"+b);return b}function Td(a,b,c){b=Le(a,a.ia()?b:null,c);I(a.a,\"GetBackChannelUri: \"+b);return b}\nfunction Le(a,b,c){var d=Cd(c);if(\"\"!=d.b)b&&od(d,b+\".\"+d.b),pd(d,d.i);else{var e=k.location,f;b?f=b+\".\"+e.hostname:f=e.hostname;d=Dd(e.protocol,f,e.port,c)}a.U&&Ba(a.U,function(a,b){Q(d,b,a)});b=a.j;c=a.K;b&&c&&Q(d,b,c);Q(d,\"VER\",a.oa);ze(a,d);return d}g.da=function(a){if(a&&!this.S)throw Error(\"Can't create secondary domain capable XhrIo object.\");a=new T;a.m=this.S;return a};g.ra=function(){return!!this.f&&!0};g.ia=function(){return this.S};new Ld;function Me(){}g=Me.prototype;g.Da=function(){};\ng.Ca=function(){};g.Ba=function(){};g.Aa=function(){};g.Va=function(){};function Ne(a){for(var b=arguments[0],c=1;c<arguments.length;c++){var d=arguments[c];if(0==d.lastIndexOf(\"/\",0))b=d;else{var e;(e=\"\"==b)||(e=b.length-1,e=0<=e&&b.indexOf(\"/\",e)==e);e?b+=d:b+=\"/\"+d}}return b};function Oe(){if(z&&!(10<=Number(Ua)))throw Error(\"Environmental error: no available transport.\");}Oe.prototype.a=function(a,b){return new W(a,b)};\nfunction W(a,b){B.call(this);this.a=new we(b);this.b=a;this.m=b&&b.testUrl?b.testUrl:Ne(this.b,\"test\");this.f=oc(\"goog.labs.net.webChannel.WebChannelBaseTransport\");this.g=b&&b.messageUrlParams||null;a=b&&b.messageHeaders||null;b&&b.clientProtocolHeaderRequired&&(a?a[\"X-Client-Protocol\"]=\"webchannel\":a={\"X-Client-Protocol\":\"webchannel\"});this.a.i=a;a=b&&b.initMessageHeaders||null;b&&b.messageContentType&&(a?a[\"X-WebChannel-Content-Type\"]=b.messageContentType:a={\"X-WebChannel-Content-Type\":b.messageContentType});\nthis.a.M=a;(a=b&&b.httpHeadersOverwriteParam)&&!/^[\\s\\xa0]*$/.test(a)&&(this.a.h=a);this.l=b&&b.supportsCrossDomainXhr||!1;this.j=b&&b.sendRawJson||!1;(b=b&&b.httpSessionIdParam)&&!/^[\\s\\xa0]*$/.test(b)&&(this.a.j=b,a=this.g,null!==a&&b in a&&(a=this.g,b in a&&delete a[b],E(this.f,\"Ignore httpSessionIdParam also specified with messageUrlParams: \"+b)));this.h=new Pe(this)}u(W,B);g=W.prototype;g.addEventListener=function(a,b,c,d){W.H.addEventListener.call(this,a,b,c,d)};\ng.removeEventListener=function(a,b,c,d){W.H.removeEventListener.call(this,a,b,c,d)};\ng.Za=function(){this.a.f=this.h;this.l&&(this.a.S=!0);var a=this.a,b=this.m,c=this.b,d=this.g||void 0;I(a.a,\"connect()\");J(0);a.ka=c;a.U=d||{};a.D&&(I(a.a,\"connect() bypassed channel-test.\"),a.I.b=[],a.I.a=!1);I(a.a,\"connectTest_()\");a.B=new Qd(a,a.a);null===a.h&&(a.B.i=a.i);c=b;a.h&&a.i&&(c=ve(b,a.h,a.i));a=a.B;a.l=c;b=Ke(a.a,a.l);J(3);c=a.a.I.b;null!=c?(a.g=c[0],a.R=1,Rd(a)):(Xc(b,\"MODE\",\"init\"),!a.a.D&&a.a.j&&Xc(b,\"X-HTTP-Session-Id\",a.a.j),a.c=new K(a,a.b,void 0,void 0),a.c.j=a.i,Vc(a.c,b,!1,\nnull),a.R=0)};g.close=function(){xe(this.a)};g.$a=function(a){if(l(a)){var b={};b.__data__=a;Ce(this.a,b)}else this.j?(b={},b.__data__=Db(a),Ce(this.a,b)):Ce(this.a,a)};g.A=function(){this.a.f=null;delete this.h;xe(this.a);delete this.a;W.H.A.call(this)};function Qe(a){Od.call(this);var b=a.__sm__;if(b){a:{for(var c in b){a=c;break a}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}u(Qe,Od);function Re(){Pd.call(this);this.status=1}u(Re,Pd);\nfunction Pe(a){this.a=a}u(Pe,Me);Pe.prototype.Da=function(){pc(this.a.f,\"WebChannel opened on \"+this.a.b);this.a.dispatchEvent(\"a\")};Pe.prototype.Ca=function(a){this.a.dispatchEvent(new Qe(a))};Pe.prototype.Ba=function(a){pc(this.a.f,\"WebChannel aborted on \"+this.a.b+\" due to channel error: \"+a);this.a.dispatchEvent(new Re(a))};Pe.prototype.Aa=function(){pc(this.a.f,\"WebChannel closed on \"+this.a.b);this.a.dispatchEvent(\"b\")};var Se=ia(function(a,b){function c(){}c.prototype=a.prototype;var d=new c;a.apply(d,Array.prototype.slice.call(arguments,1));return d},Oe);function Te(){this.b=[];this.a=[]}function Ue(a){0==a.b.length&&(a.b=a.a,a.b.reverse(),a.a=[]);return a.b.pop()}Te.prototype.s=function(){return this.b.length+this.a.length};Te.prototype.contains=function(a){return 0<=sa(this.b,a)||0<=sa(this.a,a)};Te.prototype.v=function(){for(var a=[],b=this.b.length-1;0<=b;--b)a.push(this.b[b]);var c=this.a.length;for(b=0;b<c;++b)a.push(this.a[b]);return a};function Ve(a,b){w.call(this);this.h=a||0;this.c=b||10;if(this.h>this.c)throw Error(We);this.a=new Te;this.b=new S;this.g=null;this.ba()}u(Ve,w);var We=\"[goog.structs.Pool] Min can not be greater than max\";g=Ve.prototype;g.ea=function(){var a=t();if(!(null!=this.g&&0>a-this.g)){for(var b;0<this.a.s()&&(b=Ue(this.a),!this.ta(b));)this.ba();!b&&this.s()<this.c&&(b=this.qa());b&&(this.g=a,this.b.add(b));return b}};g.ib=function(a){return kd(this.b.a,Wd(a))?(this.na(a),!0):!1};\ng.na=function(a){kd(this.b.a,Wd(a));this.ta(a)&&this.s()<this.c?this.a.a.push(a):Xe(a)};g.ba=function(){for(var a=this.a;this.s()<this.h;){var b=this.qa();a.a.push(b)}for(;this.s()>this.c&&0<this.a.s();)Xe(Ue(a))};g.qa=function(){return{}};function Xe(a){if(\"function\"==typeof a.Z)a.Z();else for(var b in a)a[b]=null}g.ta=function(a){return\"function\"==typeof a.Wa?a.Wa():!0};g.contains=function(a){return this.a.contains(a)||this.b.contains(a)};g.s=function(){return this.a.s()+this.b.s()};\ng.A=function(){Ve.H.A.call(this);if(0<this.b.s())throw Error(\"[goog.structs.Pool] Objects not released\");delete this.b;for(var a=this.a;0!=a.b.length||0!=a.a.length;)Xe(Ue(a));delete this.a};function Ye(a,b){this.a=a;this.b=b};function Ze(a){this.a=[];if(a)a:{if(a instanceof Ze){var b=a.O();a=a.v();if(0>=this.s()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Ye(b[d],a[d]));break a}}else b=Da(a),a=Ca(a);for(d=0;d<b.length;d++)$e(this,b[d],a[d])}}function $e(a,b,c){var d=a.a;d.push(new Ye(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c}Ze.prototype.v=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};\nZe.prototype.O=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};Ze.prototype.s=function(){return this.a.length};function af(){Ze.call(this)}u(af,Ze);function X(a,b){this.f=new af;Ve.call(this,a,b)}u(X,Ve);g=X.prototype;g.ea=function(a,b){if(!a)return X.H.ea.call(this);$e(this.f,void 0!==b?b:100,a);this.sa()};g.sa=function(){for(var a=this.f;0<a.s();){var b=this.ea();if(b){var c=a,d=c.a,e=d.length;var f=d[0];if(0>=e)f=void 0;else{if(1==e)wa(d);else{d[0]=d.pop();d=0;c=c.a;e=c.length;for(var h=c[d];d<e>>1;){var m=2*d+1,v=2*d+2;m=v<e&&c[v].a<c[m].a?v:m;if(c[m].a>h.a)break;c[d]=c[m];d=m}c[d]=h}f=f.b}f.apply(this,[b])}else break}};\ng.na=function(a){X.H.na.call(this,a);this.sa()};g.ba=function(){X.H.ba.call(this);this.sa()};g.A=function(){X.H.A.call(this);k.clearTimeout(void 0);wa(this.f.a);this.f=null};function Y(a,b,c,d){this.l=a;this.j=!!d;X.call(this,b,c)}u(Y,X);Y.prototype.qa=function(){var a=new T,b=this.l;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.j&&(a.m=!0);return a};Y.prototype.ta=function(a){return!a.i&&!a.a};Oe.prototype.createWebChannel=Oe.prototype.a;W.prototype.send=W.prototype.$a;W.prototype.open=W.prototype.Za;W.prototype.close=W.prototype.close;Fc.NO_ERROR=0;Fc.TIMEOUT=8;Fc.HTTP_ERROR=6;Gc.COMPLETE=\"complete\";Md.EventType=Nd;Nd.OPEN=\"a\";Nd.CLOSE=\"b\";Nd.ERROR=\"c\";Nd.MESSAGE=\"d\";B.prototype.listen=B.prototype.aa;Y.prototype.getObject=Y.prototype.ea;Y.prototype.releaseObject=Y.prototype.ib;T.prototype.listenOnce=T.prototype.Ha;T.prototype.getLastError=T.prototype.ab;T.prototype.getLastErrorCode=T.prototype.Fa;\nT.prototype.getStatus=T.prototype.W;T.prototype.getStatusText=T.prototype.Ga;T.prototype.getResponseJson=T.prototype.Ya;T.prototype.getResponseText=T.prototype.V;T.prototype.getResponseText=T.prototype.V;T.prototype.send=T.prototype.fa;module.exports={createWebChannelTransport:Se,ErrorCode:Fc,EventType:Gc,WebChannel:Md,XhrIoPool:Y};}).call(typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {})\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../util/assert';\nimport { FirestoreError } from '../util/error';\nimport { AnyJs } from '../util/misc';\n\nimport { Stream } from './connection';\n\n/**\n * Provides a simple helper class that implements the Stream interface to\n * bridge to other implementations that are streams but do not implement the\n * interface. The stream callbacks are invoked with the callOn... methods.\n */\nexport class StreamBridge<I, O> implements Stream<I, O> {\n  private wrappedOnOpen: () => void | undefined;\n  private wrappedOnClose: (err?: FirestoreError) => void | undefined;\n  private wrappedOnMessage: (msg: O) => void | undefined;\n\n  private sendFn: (msg: I) => void;\n  private closeFn: () => void;\n\n  constructor(args: { sendFn: (msg: I) => void; closeFn: () => void }) {\n    this.sendFn = args.sendFn;\n    this.closeFn = args.closeFn;\n  }\n\n  onOpen(callback: () => void): void {\n    assert(!this.wrappedOnOpen, 'Called onOpen on stream twice!');\n    this.wrappedOnOpen = callback;\n  }\n\n  onClose(callback: (err?: FirestoreError) => void): void {\n    assert(!this.wrappedOnClose, 'Called onClose on stream twice!');\n    this.wrappedOnClose = callback;\n  }\n\n  onMessage(callback: (msg: O) => void): void {\n    assert(!this.wrappedOnMessage, 'Called onMessage on stream twice!');\n    this.wrappedOnMessage = callback;\n  }\n\n  close(): void {\n    this.closeFn();\n  }\n\n  send(msg: I): void {\n    this.sendFn(msg);\n  }\n\n  callOnOpen(): void {\n    assert(\n      this.wrappedOnOpen !== undefined,\n      'Cannot call onOpen because no callback was set'\n    );\n    this.wrappedOnOpen!();\n  }\n\n  callOnClose(err?: FirestoreError): void {\n    assert(\n      this.wrappedOnClose !== undefined,\n      'Cannot call onClose because no callback was set'\n    );\n    this.wrappedOnClose!(err);\n  }\n\n  callOnMessage(msg: O): void {\n    assert(\n      this.wrappedOnMessage !== undefined,\n      'Cannot call onMessage because no callback was set'\n    );\n    this.wrappedOnMessage!(msg);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ErrorCode,\n  EventType,\n  WebChannel,\n  XhrIoPool,\n  createWebChannelTransport\n} from '@firebase/webchannel-wrapper';\n\nimport { Token } from '../api/credentials';\nimport { DatabaseId, DatabaseInfo } from '../core/database_info';\nimport { SDK_VERSION } from '../core/version';\nimport { Connection, Stream } from '../remote/connection';\nimport {\n  mapCodeFromHttpStatus,\n  mapCodeFromRpcStatus\n} from '../remote/rpc_error';\nimport { StreamBridge } from '../remote/stream_bridge';\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport * as log from '../util/log';\nimport { Rejecter, Resolver } from '../util/promise';\nimport { StringMap } from '../util/types';\n\nconst LOG_TAG = 'Connection';\n\nconst RPC_STREAM_SERVICE = 'google.firestore.v1beta1.Firestore';\nconst RPC_URL_VERSION = 'v1beta1';\n\n/** Maps RPC names to the corresponding REST endpoint name. */\nconst RPC_NAME_REST_MAPPING = {\n  BatchGetDocuments: 'batchGet',\n  Commit: 'commit'\n};\n\n// TODO(b/38203344): The SDK_VERSION is set independently from Firebase because\n// we are doing out-of-band releases. Once we release as part of Firebase, we\n// should use the Firebase version instead.\nconst X_GOOG_API_CLIENT_VALUE = 'gl-js/ fire/' + SDK_VERSION;\n\nconst XHR_TIMEOUT_SECS = 15;\n\nexport class WebChannelConnection implements Connection {\n  private readonly databaseId: DatabaseId;\n  private readonly baseUrl: string;\n  private readonly pool: XhrIoPool;\n\n  constructor(info: DatabaseInfo) {\n    this.databaseId = info.databaseId;\n    this.pool = new XhrIoPool();\n    const proto = info.ssl ? 'https' : 'http';\n    this.baseUrl = proto + '://' + info.host;\n  }\n\n  /**\n   * Modifies the headers for a request, adding any authorization token if\n   * present and any additional headers for the request.\n   */\n  private modifyHeadersForRequest(headers: StringMap, token: Token | null) {\n    if (token) {\n      for (const header in token.authHeaders) {\n        if (token.authHeaders.hasOwnProperty(header)) {\n          headers[header] = token.authHeaders[header];\n        }\n      }\n    }\n    headers['X-Goog-Api-Client'] = X_GOOG_API_CLIENT_VALUE;\n    // This header is used to improve routing and project isolation by the\n    // backend.\n    headers['google-cloud-resource-prefix'] =\n      `projects/${this.databaseId.projectId}/` +\n      `databases/${this.databaseId.database}`;\n  }\n\n  invokeRPC<Req, Resp>(\n    rpcName: string,\n    request: Req,\n    token: Token | null\n  ): Promise<Resp> {\n    const url = this.makeUrl(rpcName);\n\n    return new Promise((resolve: Resolver<Resp>, reject: Rejecter) => {\n      // tslint:disable-next-line:no-any XhrIoPool doesn't have TS typings.\n      this.pool.getObject((xhr: any) => {\n        xhr.listenOnce(EventType.COMPLETE, () => {\n          try {\n            switch (xhr.getLastErrorCode()) {\n              case ErrorCode.NO_ERROR:\n                const json = xhr.getResponseJson() as Resp;\n                log.debug(LOG_TAG, 'XHR received:', JSON.stringify(json));\n                resolve(json);\n                break;\n              case ErrorCode.TIMEOUT:\n                log.debug(LOG_TAG, 'RPC \"' + rpcName + '\" timed out');\n                reject(\n                  new FirestoreError(Code.DEADLINE_EXCEEDED, 'Request time out')\n                );\n                break;\n              case ErrorCode.HTTP_ERROR:\n                const status = xhr.getStatus();\n                log.debug(\n                  LOG_TAG,\n                  'RPC \"' + rpcName + '\" failed with status:',\n                  status,\n                  'response text:',\n                  xhr.getResponseText()\n                );\n                if (status > 0) {\n                  reject(\n                    new FirestoreError(\n                      mapCodeFromHttpStatus(status),\n                      'Server responded with status ' + xhr.getStatusText()\n                    )\n                  );\n                } else {\n                  // If we received an HTTP_ERROR but there's no status code,\n                  // it's most probably a connection issue\n                  log.debug(LOG_TAG, 'RPC \"' + rpcName + '\" failed');\n                  reject(\n                    new FirestoreError(Code.UNAVAILABLE, 'Connection failed.')\n                  );\n                }\n                break;\n              default:\n                fail(\n                  'RPC \"' +\n                    rpcName +\n                    '\" failed with unanticipated ' +\n                    'webchannel error ' +\n                    xhr.getLastErrorCode() +\n                    ': ' +\n                    xhr.getLastError() +\n                    ', giving up.'\n                );\n            }\n          } finally {\n            log.debug(LOG_TAG, 'RPC \"' + rpcName + '\" completed.');\n            this.pool.releaseObject(xhr);\n          }\n        });\n\n        const requestString = JSON.stringify(request);\n        log.debug(LOG_TAG, 'XHR sending: ', url + ' ' + requestString);\n        // Content-Type: text/plain will avoid preflight requests which might\n        // mess with CORS and redirects by proxies. If we add custom headers\n        // we will need to change this code to potentially use the\n        // $httpOverwrite parameter supported by ESF to avoid\n        // triggering preflight requests.\n        const headers: StringMap = { 'Content-Type': 'text/plain' };\n\n        this.modifyHeadersForRequest(headers, token);\n\n        xhr.send(url, 'POST', requestString, headers, XHR_TIMEOUT_SECS);\n      });\n    });\n  }\n\n  invokeStreamingRPC<Req, Resp>(\n    rpcName: string,\n    request: Req,\n    token: Token | null\n  ): Promise<Resp[]> {\n    // The REST API automatically aggregates all of the streamed results, so we\n    // can just use the normal invoke() method.\n    return this.invokeRPC<Req, Resp[]>(rpcName, request, token);\n  }\n\n  openStream<Req, Resp>(\n    rpcName: string,\n    token: Token | null\n  ): Stream<Req, Resp> {\n    const urlParts = [\n      this.baseUrl,\n      '/',\n      RPC_STREAM_SERVICE,\n      '/',\n      rpcName,\n      '/channel'\n    ];\n    const webchannelTransport = createWebChannelTransport();\n    const request = {\n      // Background channel test avoids the initial two test calls and decreases\n      // initial cold start time.\n      // TODO(dimond): wenboz@ mentioned this might affect use with proxies and\n      // we should monitor closely for any reports.\n      backgroundChannelTest: true,\n      // Required for backend stickiness, routing behavior is based on this\n      // parameter.\n      httpSessionIdParam: 'gsessionid',\n      initMessageHeaders: {},\n      // Send our custom headers as a '$httpHeaders=' url param to avoid CORS\n      // preflight round-trip. This is formally defined here:\n      // https://github.com/google/closure-library/blob/b0e1815b13fb92a46d7c9b3c30de5d6a396a3245/closure/goog/net/rpc/httpcors.js#L40\n      httpHeadersOverwriteParam: '$httpHeaders',\n      sendRawJson: true,\n      supportsCrossDomainXhr: true\n    };\n    this.modifyHeadersForRequest(request.initMessageHeaders, token);\n    const url = urlParts.join('');\n    log.debug(LOG_TAG, 'Creating WebChannel: ' + url + ' ' + request);\n    // tslint:disable-next-line:no-any Because listen isn't defined on it.\n    const channel = webchannelTransport.createWebChannel(url, request) as any;\n\n    // WebChannel supports sending the first message with the handshake - saving\n    // a network round trip. However, it will have to call send in the same\n    // JS event loop as open. In order to enforce this, we delay actually\n    // opening the WebChannel until send is called. Whether we have called\n    // open is tracked with this variable.\n    let opened = false;\n\n    // A flag to determine whether the stream was closed (by us or through an\n    // error/close event) to avoid delivering multiple close events or sending\n    // on a closed stream\n    let closed = false;\n\n    const streamBridge = new StreamBridge<Req, Resp>({\n      sendFn: (msg: Req) => {\n        if (!closed) {\n          if (!opened) {\n            log.debug(LOG_TAG, 'Opening WebChannel transport.');\n            channel.open();\n            opened = true;\n          }\n          log.debug(LOG_TAG, 'WebChannel sending:', msg);\n          channel.send(msg);\n        } else {\n          log.debug(LOG_TAG, 'Not sending because WebChannel is closed:', msg);\n        }\n      },\n      closeFn: () => channel.close()\n    });\n\n    // Closure events are guarded and exceptions are swallowed, so catch any\n    // exception and rethrow using a setTimeout so they become visible again.\n    // Note that eventually this function could go away if we are confident\n    // enough the code is exception free.\n    const unguardedEventListen = <T>(\n      type: WebChannel.EventType,\n      fn: (param?: T) => void\n    ) => {\n      // TODO(dimond): closure typing seems broken because WebChannel does\n      // not implement goog.events.Listenable\n      channel.listen(type, (param?: T) => {\n        try {\n          fn(param);\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          }, 0);\n        }\n      });\n    };\n\n    unguardedEventListen(WebChannel.EventType.OPEN, () => {\n      if (!closed) {\n        log.debug(LOG_TAG, 'WebChannel transport opened.');\n      }\n    });\n\n    unguardedEventListen(WebChannel.EventType.CLOSE, () => {\n      if (!closed) {\n        closed = true;\n        log.debug(LOG_TAG, 'WebChannel transport closed');\n        streamBridge.callOnClose();\n      }\n    });\n\n    unguardedEventListen<Error>(WebChannel.EventType.ERROR, err => {\n      if (!closed) {\n        closed = true;\n        log.debug(LOG_TAG, 'WebChannel transport errored:', err);\n        streamBridge.callOnClose(\n          new FirestoreError(\n            Code.UNAVAILABLE,\n            'The operation could not be completed'\n          )\n        );\n      }\n    });\n\n    // WebChannel delivers message events as array. If batching is not enabled\n    // (it's off by default) each message will be delivered alone, resulting in\n    // a single element array.\n    type WebChannelResponse = { data: Resp[] };\n\n    unguardedEventListen<WebChannelResponse>(\n      WebChannel.EventType.MESSAGE,\n      msg => {\n        if (!closed) {\n          const msgData = msg.data[0];\n          assert(!!msgData, 'Got a webchannel message without data.');\n          // TODO(b/35143891): There is a bug in One Platform that caused errors\n          // (and only errors) to be wrapped in an extra array. To be forward\n          // compatible with the bug we need to check either condition. The latter\n          // can be removed once the fix has been rolled out.\n          const error =\n            // tslint:disable-next-line:no-any msgData.error is not typed.\n            (msgData as any).error || (msgData[0] && msgData[0].error);\n          if (error) {\n            log.debug(LOG_TAG, 'WebChannel received error:', error);\n            // error.status will be a string like 'OK' or 'NOT_FOUND'.\n            const status: string = error.status;\n            let code = mapCodeFromRpcStatus(status);\n            let message = error.message;\n            if (code === undefined) {\n              code = Code.INTERNAL;\n              message =\n                'Unknown error status: ' +\n                status +\n                ' with message ' +\n                error.message;\n            }\n            // Mark closed so no further events are propagated\n            closed = true;\n            streamBridge.callOnClose(new FirestoreError(code, message));\n            channel.close();\n          } else {\n            log.debug(LOG_TAG, 'WebChannel received:', msgData);\n            streamBridge.callOnMessage(msgData);\n          }\n        }\n      }\n    );\n\n    setTimeout(() => {\n      // Technically we could/should wait for the WebChannel opened event,\n      // but because we want to send the first message with the WebChannel\n      // handshake we pretend the channel opened here (asynchronously), and\n      // then delay the actual open until the first message is sent.\n      streamBridge.callOnOpen();\n    }, 0);\n    return streamBridge;\n  }\n\n  // visible for testing\n  makeUrl(rpcName: string): string {\n    const urlRpcName = RPC_NAME_REST_MAPPING[rpcName];\n    assert(urlRpcName !== undefined, 'Unknown REST mapping for: ' + rpcName);\n    const url = [this.baseUrl, '/', RPC_URL_VERSION];\n    url.push('/projects/');\n    url.push(this.databaseId.projectId);\n\n    url.push('/databases/');\n    url.push(this.databaseId.database);\n    url.push('/documents');\n\n    url.push(':');\n    url.push(urlRpcName);\n    return url.join('');\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DatabaseId, DatabaseInfo } from '../core/database_info';\nimport { Platform } from '../platform/platform';\nimport { Connection } from '../remote/connection';\nimport { JsonProtoSerializer } from '../remote/serializer';\n\nimport { WebChannelConnection } from './webchannel_connection';\nimport { AnyJs } from '../util/misc';\n\nexport class BrowserPlatform implements Platform {\n  readonly base64Available: boolean;\n\n  readonly emptyByteString = '';\n\n  constructor() {\n    this.base64Available = typeof atob !== 'undefined';\n  }\n\n  loadConnection(databaseInfo: DatabaseInfo): Promise<Connection> {\n    return Promise.resolve(new WebChannelConnection(databaseInfo));\n  }\n\n  newSerializer(databaseId: DatabaseId): JsonProtoSerializer {\n    return new JsonProtoSerializer(databaseId, { useProto3Json: true });\n  }\n\n  formatJSON(value: AnyJs): string {\n    return JSON.stringify(value);\n  }\n\n  atob(encoded: string): string {\n    return atob(encoded);\n  }\n\n  btoa(raw: string): string {\n    return btoa(raw);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PlatformSupport } from '../platform/platform';\nimport { BrowserPlatform } from './browser_platform';\n\n/**\n * This code needs to run before Firestore is used. This can be achieved in\n * several ways:\n *   1) Through the JSCompiler compiling this code and then (automatically)\n *      executing it before exporting the Firestore symbols.\n *   2) Through importing this module first in a Firestore main module\n */\nPlatformSupport.setPlatform(new BrowserPlatform());\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\n\nimport { FieldPath as InternalFieldPath } from '../model/path';\nimport { Code, FirestoreError } from '../util/error';\nimport {\n  invalidClassError,\n  validateArgType,\n  validateNamedArrayAtLeastNumberOfElements\n} from '../util/input_validation';\n\n// The objects that are a part of this API are exposed to third-parties as\n// compiled javascript so we want to flag our private members with a leading\n// underscore to discourage their use.\n// tslint:disable:strip-private-property-underscore\n\n/**\n * A FieldPath refers to a field in a document. The path may consist of a single\n * field name (referring to a top-level field in the document), or a list of\n * field names (referring to a nested field in the document).\n */\nexport class FieldPath implements firestore.FieldPath {\n  /** Internal representation of a Firestore field path. */\n  _internalPath: InternalFieldPath;\n\n  /**\n   * Creates a FieldPath from the provided field names. If more than one field\n   * name is provided, the path will point to a nested field in a document.\n   *\n   * @param fieldNames A list of field names.\n   */\n  constructor(...fieldNames: string[]) {\n    validateNamedArrayAtLeastNumberOfElements(\n      'FieldPath',\n      fieldNames,\n      'fieldNames',\n      1\n    );\n\n    for (let i = 0; i < fieldNames.length; ++i) {\n      validateArgType('FieldPath', 'string', i, fieldNames[i]);\n      if (fieldNames[i].length === 0) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          `Invalid field name at argument $(i + 1). ` +\n            'Field names must not be empty.'\n        );\n      }\n    }\n\n    this._internalPath = new InternalFieldPath(fieldNames);\n  }\n\n  /**\n   * Internal Note: The backend doesn't technically support querying by\n   * document ID. Instead it queries by the entire document name (full path\n   * included), but in the cases we currently support documentId(), the net\n   * effect is the same.\n   */\n  private static readonly _DOCUMENT_ID = new FieldPath(\n    InternalFieldPath.keyField().canonicalString()\n  );\n\n  static documentId(): FieldPath {\n    return FieldPath._DOCUMENT_ID;\n  }\n\n  isEqual(other: firestore.FieldPath): boolean {\n    if (!(other instanceof FieldPath)) {\n      throw invalidClassError('isEqual', 'FieldPath', 1, other);\n    }\n    return this._internalPath.isEqual(other._internalPath);\n  }\n}\n\n/**\n * Matches any characters in a field path string that are reserved.\n */\nconst RESERVED = new RegExp('[~\\\\*/\\\\[\\\\]]');\n\n/**\n * Parses a field path string into a FieldPath, treating dots as separators.\n */\nexport function fromDotSeparatedString(path: string): FieldPath {\n  const found = path.search(RESERVED);\n  if (found >= 0) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Invalid field path (${path}). Paths must not contain ` +\n        `'~', '*', '/', '[', or ']'`\n    );\n  }\n  try {\n    return new FieldPath(...path.split('.'));\n  } catch (e) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Invalid field path (${path}). Paths must not be empty, ` +\n        `begin with '.', end with '.', or contain '..'`\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * BatchID is a locally assigned ID for a batch of mutations that have been\n * applied.\n */\nexport type BatchId = number;\n\n/**\n * A locally-assigned ID used to refer to a target being watched via the\n * Watch service.\n */\nexport type TargetId = number;\n\n// TODO(b/35918695): In GRPC / node, tokens are Uint8Array. In WebChannel,\n// they're strings. We should probably (de-)serialize to a common internal type.\nexport type ProtoByteString = Uint8Array | string;\n\n/**\n * Describes the online state of the Firestore client. Note that this does not\n * indicate whether or not the remote store is trying to connect or not. This is\n * primarily used by the View / EventManager code to change their behavior while\n * offline (e.g. get() calls shouldn't wait for data from the server and\n * snapshot events should set metadata.isFromCache=true).\n */\nexport enum OnlineState {\n  /**\n   * The Firestore client is in an unknown online state. This means the client\n   * is either not actively trying to establish a connection or it is currently\n   * trying to establish a connection, but it has not succeeded or failed yet.\n   * Higher-level components should not operate in offline mode.\n   */\n  Unknown,\n\n  /**\n   * The client is connected and the connections are healthy. This state is\n   * reached after a successful connection and there has been at least one\n   * successful message received from the backends.\n   */\n  Healthy,\n\n  /**\n   * The client is either trying to establish a connection but failing, or it\n   * has been explicitly marked offline via a call to disableNetwork().\n   * Higher-level components should operate in offline mode.\n   */\n  Failed\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Document } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { DocumentSet } from '../model/document_set';\nimport { fail } from '../util/assert';\nimport { SortedMap } from '../util/sorted_map';\n\nimport { Query } from './query';\n\nexport enum ChangeType {\n  Added,\n  Removed,\n  Modified,\n  Metadata\n}\n\nexport interface DocumentViewChange {\n  type: ChangeType;\n  doc: Document;\n}\n\nexport enum SyncState {\n  Local,\n  Synced\n}\n\n/**\n * DocumentChangeSet keeps track of a set of changes to docs in a query, merging\n * duplicate events for the same doc.\n */\nexport class DocumentChangeSet {\n  private changeMap = new SortedMap<DocumentKey, DocumentViewChange>(\n    DocumentKey.comparator\n  );\n\n  constructor() {}\n\n  track(change: DocumentViewChange) {\n    const key = change.doc.key;\n    const oldChange = this.changeMap.get(key);\n    if (!oldChange) {\n      this.changeMap = this.changeMap.insert(key, change);\n      return;\n    }\n\n    // Merge the new change with the existing change.\n    if (\n      change.type !== ChangeType.Added &&\n      oldChange.type === ChangeType.Metadata\n    ) {\n      this.changeMap = this.changeMap.insert(key, change);\n    } else if (\n      change.type === ChangeType.Metadata &&\n      oldChange.type !== ChangeType.Removed\n    ) {\n      this.changeMap = this.changeMap.insert(key, {\n        type: oldChange.type,\n        doc: change.doc\n      });\n    } else if (\n      change.type === ChangeType.Modified &&\n      oldChange.type === ChangeType.Modified\n    ) {\n      this.changeMap = this.changeMap.insert(key, {\n        type: ChangeType.Modified,\n        doc: change.doc\n      });\n    } else if (\n      change.type === ChangeType.Modified &&\n      oldChange.type === ChangeType.Added\n    ) {\n      this.changeMap = this.changeMap.insert(key, {\n        type: ChangeType.Added,\n        doc: change.doc\n      });\n    } else if (\n      change.type === ChangeType.Removed &&\n      oldChange.type === ChangeType.Added\n    ) {\n      this.changeMap = this.changeMap.remove(key);\n    } else if (\n      change.type === ChangeType.Removed &&\n      oldChange.type === ChangeType.Modified\n    ) {\n      this.changeMap = this.changeMap.insert(key, {\n        type: ChangeType.Removed,\n        doc: oldChange.doc\n      });\n    } else if (\n      change.type === ChangeType.Added &&\n      oldChange.type === ChangeType.Removed\n    ) {\n      this.changeMap = this.changeMap.insert(key, {\n        type: ChangeType.Modified,\n        doc: change.doc\n      });\n    } else {\n      // This includes these cases, which don't make sense:\n      // Added->Added\n      // Removed->Removed\n      // Modified->Added\n      // Removed->Modified\n      // Metadata->Added\n      // Removed->Metadata\n      fail(\n        'unsupported combination of changes: ' +\n          JSON.stringify(change) +\n          ' after ' +\n          JSON.stringify(oldChange)\n      );\n    }\n  }\n\n  getChanges(): DocumentViewChange[] {\n    const changes: DocumentViewChange[] = [];\n    this.changeMap.inorderTraversal(\n      (key: DocumentKey, change: DocumentViewChange) => {\n        changes.push(change);\n      }\n    );\n    return changes;\n  }\n}\n\nexport class ViewSnapshot {\n  constructor(\n    readonly query: Query,\n    readonly docs: DocumentSet,\n    readonly oldDocs: DocumentSet,\n    readonly docChanges: DocumentViewChange[],\n    readonly fromCache: boolean,\n    readonly hasPendingWrites: boolean,\n    readonly syncStateChanged: boolean\n  ) {}\n\n  isEqual(other: ViewSnapshot): boolean {\n    if (\n      this.fromCache !== other.fromCache ||\n      this.hasPendingWrites !== other.hasPendingWrites ||\n      this.syncStateChanged !== other.syncStateChanged ||\n      !this.query.isEqual(other.query) ||\n      !this.docs.isEqual(other.docs) ||\n      !this.oldDocs.isEqual(other.oldDocs)\n    ) {\n      return false;\n    }\n    const changes: DocumentViewChange[] = this.docChanges;\n    const otherChanges: DocumentViewChange[] = other.docChanges;\n    if (changes.length !== otherChanges.length) {\n      return false;\n    }\n    for (let i = 0; i < changes.length; i++) {\n      if (\n        changes[i].type !== otherChanges[i].type ||\n        !changes[i].doc.isEqual(otherChanges[i].doc)\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../util/assert';\nimport { SortedMap } from '../util/sorted_map';\n\nimport { documentMap } from './collections';\nimport { Document } from './document';\nimport { DocumentComparator } from './document_comparator';\nimport { DocumentKey } from './document_key';\n\n/**\n * DocumentSet is an immutable (copy-on-write) collection that holds documents\n * in order specified by the provided comparator. We always add a document key\n * comparator on top of what is provided to guarantee document equality based on\n * the key.\n */\n\nexport class DocumentSet {\n  /**\n   * Returns an empty copy of the existing DocumentSet, using the same\n   * comparator.\n   */\n  static emptySet(oldSet: DocumentSet): DocumentSet {\n    return new DocumentSet(oldSet.comparator);\n  }\n\n  private comparator: DocumentComparator;\n  private keyedMap: SortedMap<DocumentKey, Document>;\n  private sortedSet: SortedMap<Document, null>;\n\n  /** The default ordering is by key if the comparator is omitted */\n  constructor(comp?: DocumentComparator) {\n    // We are adding document key comparator to the end as it's the only\n    // guaranteed unique property of a document.\n    if (comp) {\n      this.comparator = (d1: Document, d2: Document) =>\n        comp(d1, d2) || DocumentKey.comparator(d1.key, d2.key);\n    } else {\n      this.comparator = (d1: Document, d2: Document) =>\n        DocumentKey.comparator(d1.key, d2.key);\n    }\n\n    this.keyedMap = documentMap();\n    this.sortedSet = new SortedMap<Document, null>(this.comparator);\n  }\n\n  has(key: DocumentKey): boolean {\n    return this.keyedMap.get(key) != null;\n  }\n\n  get(key: DocumentKey): Document | null {\n    return this.keyedMap.get(key);\n  }\n\n  first(): Document | null {\n    return this.sortedSet.minKey();\n  }\n\n  last(): Document | null {\n    return this.sortedSet.maxKey();\n  }\n\n  isEmpty(): boolean {\n    return this.sortedSet.isEmpty();\n  }\n\n  /**\n   * Returns previous document or null if it's a first doc.\n   *\n   * @param key A key that MUST be present in the DocumentSet.\n   */\n  prevDoc(key: DocumentKey): Document | null {\n    assert(\n      this.has(key),\n      'Trying to get a previous document to non-existing key: ' + key\n    );\n    const doc = this.keyedMap.get(key);\n    return this.sortedSet.getPredecessorKey(doc!);\n  }\n\n  /**\n   * Returns the index of the provided key in the document set, or -1 if the\n   * document key is not present in the set;\n   */\n  indexOf(key: DocumentKey): number {\n    const doc = this.keyedMap.get(key);\n    return doc ? this.sortedSet.indexOf(doc) : -1;\n  }\n\n  get size(): number {\n    return this.sortedSet.size;\n  }\n\n  /** Iterates documents in order defined by \"comparator\" */\n  forEach(cb: (doc: Document) => void): void {\n    this.sortedSet.inorderTraversal((k, v) => {\n      cb(k);\n      return false;\n    });\n  }\n\n  /** Inserts or updates a document with the same key */\n  add(doc: Document): DocumentSet {\n    // First remove the element if we have it.\n    const set = this.delete(doc.key);\n    return set.copy(\n      set.keyedMap.insert(doc.key, doc),\n      set.sortedSet.insert(doc, null)\n    );\n  }\n\n  /** Deletes a document with a given key */\n  delete(key: DocumentKey): DocumentSet {\n    const doc = this.get(key);\n    if (!doc) {\n      return this;\n    }\n\n    return this.copy(this.keyedMap.remove(key), this.sortedSet.remove(doc));\n  }\n\n  isEqual(other: DocumentSet | null | undefined): boolean {\n    if (!(other instanceof DocumentSet)) return false;\n    if (this.size !== other.size) return false;\n\n    const thisIt = this.sortedSet.getIterator();\n    const otherIt = other.sortedSet.getIterator();\n    while (thisIt.hasNext()) {\n      const thisDoc = thisIt.getNext().key;\n      const otherDoc = otherIt.getNext().key;\n      if (!thisDoc.isEqual(otherDoc)) return false;\n    }\n    return true;\n  }\n\n  toString(): string {\n    const docStrings: string[] = [];\n    this.forEach(doc => {\n      docStrings.push(doc.toString());\n    });\n    if (docStrings.length === 0) {\n      return 'DocumentSet ()';\n    } else {\n      return 'DocumentSet (\\n  ' + docStrings.join('  \\n') + '\\n)';\n    }\n  }\n\n  private copy(\n    keyedMap: SortedMap<DocumentKey, Document>,\n    sortedSet: SortedMap<Document, null>\n  ): DocumentSet {\n    const newSet = new DocumentSet();\n    newSet.comparator = this.comparator;\n    newSet.keyedMap = keyedMap;\n    newSet.sortedSet = sortedSet;\n    return newSet;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Equatable } from './misc';\nimport * as objUtil from './obj';\n\ntype Entry<K, V> = [K, V];\n\n/**\n * A map implementation that uses objects as keys. Objects must implement the\n * Equatable interface and must be immutable. Entries in the map are stored\n * together with the key being produced from the mapKeyFn. This map\n * automatically handles collisions of keys.\n */\nexport class ObjectMap<KeyType extends Equatable<KeyType>, ValueType> {\n  /**\n   * The inner map for a key -> value pair. Due to the possibility of\n   * collisions we keep a list of entries that we do a linear search through\n   * to find an actual match. Note that collisions should be rare, so we still\n   * expect near constant time lookups in practice.\n   */\n  private inner: {\n    [canonicalId: string]: Array<Entry<KeyType, ValueType>>;\n  } = {};\n\n  constructor(private mapKeyFn: (key: KeyType) => string) {}\n\n  /** Get a value for this key, or undefined if it does not exist. */\n  get(key: KeyType): ValueType | undefined {\n    const id = this.mapKeyFn(key);\n    const matches = this.inner[id];\n    if (matches === undefined) {\n      return undefined;\n    }\n    for (const [otherKey, value] of matches) {\n      if (otherKey.isEqual(key)) {\n        return value;\n      }\n    }\n    return undefined;\n  }\n\n  has(key: KeyType): boolean {\n    return this.get(key) !== undefined;\n  }\n\n  /** Put this key and value in the map. */\n  set(key: KeyType, value: ValueType): void {\n    const id = this.mapKeyFn(key);\n    const matches = this.inner[id];\n    if (matches === undefined) {\n      this.inner[id] = [[key, value]];\n      return;\n    }\n    for (let i = 0; i < matches.length; i++) {\n      if (matches[i][0].isEqual(key)) {\n        matches[i] = [key, value];\n        return;\n      }\n    }\n    matches.push([key, value]);\n  }\n\n  /**\n   * Remove this key from the map. Returns a boolean if anything was deleted.\n   */\n  delete(key: KeyType): boolean {\n    const id = this.mapKeyFn(key);\n    const matches = this.inner[id];\n    if (matches === undefined) {\n      return false;\n    }\n    for (let i = 0; i < matches.length; i++) {\n      if (matches[i][0].isEqual(key)) {\n        if (matches.length === 1) {\n          delete this.inner[id];\n        } else {\n          matches.splice(i, 1);\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  forEach(fn: (key: KeyType, val: ValueType) => void): void {\n    objUtil.forEach(this.inner, (_, entries) => {\n      for (const [k, v] of entries) {\n        fn(k, v);\n      }\n    });\n  }\n\n  isEmpty(): boolean {\n    return objUtil.isEmpty(this.inner);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from './query';\nimport { SyncEngine } from './sync_engine';\nimport { OnlineState, TargetId } from './types';\nimport { DocumentViewChange } from './view_snapshot';\nimport { ChangeType, ViewSnapshot } from './view_snapshot';\nimport { DocumentSet } from '../model/document_set';\nimport { assert } from '../util/assert';\nimport { EventHandler } from '../util/misc';\nimport * as obj from '../util/obj';\nimport { ObjectMap } from '../util/obj_map';\n\n/**\n * Holds the listeners and the last received ViewSnapshot for a query being\n * tracked by EventManager.\n */\nclass QueryListenersInfo {\n  viewSnap: ViewSnapshot | null;\n  targetId: TargetId;\n  listeners: QueryListener[] = [];\n}\n\n/**\n * Interface for handling events from the EventManager.\n */\nexport interface Observer<T> {\n  next: EventHandler<T>;\n  error: EventHandler<Error>;\n}\n\n/**\n * EventManager is responsible for mapping queries to query event emitters.\n * It handles \"fan-out\". -- Identical queries will re-use the same watch on the\n * backend.\n */\nexport class EventManager {\n  private queries = new ObjectMap<Query, QueryListenersInfo>(q =>\n    q.canonicalId()\n  );\n\n  private onlineState: OnlineState = OnlineState.Unknown;\n\n  constructor(private syncEngine: SyncEngine) {\n    this.syncEngine.subscribe(\n      this.onChange.bind(this),\n      this.onError.bind(this)\n    );\n  }\n\n  listen(listener: QueryListener): Promise<TargetId> {\n    const query = listener.query;\n    let firstListen = false;\n\n    let queryInfo = this.queries.get(query);\n    if (!queryInfo) {\n      firstListen = true;\n      queryInfo = new QueryListenersInfo();\n      this.queries.set(query, queryInfo);\n    }\n    queryInfo.listeners.push(listener);\n\n    listener.applyOnlineStateChange(this.onlineState);\n\n    if (queryInfo.viewSnap) listener.onViewSnapshot(queryInfo.viewSnap);\n\n    if (firstListen) {\n      return this.syncEngine.listen(query).then(targetId => {\n        queryInfo!.targetId = targetId;\n        return targetId;\n      });\n    } else {\n      return Promise.resolve(queryInfo.targetId);\n    }\n  }\n\n  unlisten(listener: QueryListener): Promise<void> {\n    const query = listener.query;\n    let lastListen = false;\n\n    const queryInfo = this.queries.get(query);\n    if (queryInfo) {\n      const i = queryInfo.listeners.indexOf(listener);\n      if (i >= 0) {\n        queryInfo.listeners.splice(i, 1);\n        lastListen = queryInfo.listeners.length === 0;\n      }\n    }\n\n    if (lastListen) {\n      this.queries.delete(query);\n      return this.syncEngine.unlisten(query);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  onChange(viewSnaps: ViewSnapshot[]): void {\n    for (const viewSnap of viewSnaps) {\n      const query = viewSnap.query;\n      const queryInfo = this.queries.get(query);\n      if (queryInfo) {\n        for (const listener of queryInfo.listeners) {\n          listener.onViewSnapshot(viewSnap);\n        }\n        queryInfo.viewSnap = viewSnap;\n      }\n    }\n  }\n\n  onError(query: Query, error: Error): void {\n    const queryInfo = this.queries.get(query);\n    if (queryInfo) {\n      for (const listener of queryInfo.listeners) {\n        listener.onError(error);\n      }\n    }\n\n    // Remove all listeners. NOTE: We don't need to call syncEngine.unlisten()\n    // after an error.\n    this.queries.delete(query);\n  }\n\n  applyOnlineStateChange(onlineState: OnlineState): void {\n    this.onlineState = onlineState;\n    this.queries.forEach((_, queryInfo) => {\n      for (const listener of queryInfo.listeners) {\n        listener.applyOnlineStateChange(onlineState);\n      }\n    });\n  }\n}\n\nexport interface ListenOptions {\n  /** Raise events when only metadata of documents changes */\n  readonly includeDocumentMetadataChanges?: boolean;\n\n  /** Raise events when only metadata of the query changes */\n  readonly includeQueryMetadataChanges?: boolean;\n\n  /**\n   * Wait for a sync with the server when online, but still raise events while\n   * offline.\n   */\n  readonly waitForSyncWhenOnline?: boolean;\n}\n\n/**\n * QueryListener takes a series of internal view snapshots and determines\n * when to raise the event.\n *\n * It uses an Observer to dispatch events.\n */\nexport class QueryListener {\n  /**\n   * Initial snapshots (e.g. from cache) may not be propagated to the wrapped\n   * observer. This flag is set to true once we've actually raised an event.\n   */\n  private raisedInitialEvent = false;\n\n  private options: ListenOptions;\n\n  private snap: ViewSnapshot;\n\n  private onlineState: OnlineState = OnlineState.Unknown;\n\n  constructor(\n    readonly query: Query,\n    private queryObserver: Observer<ViewSnapshot>,\n    options?: ListenOptions\n  ) {\n    this.options = options || {};\n  }\n\n  onViewSnapshot(snap: ViewSnapshot): void {\n    assert(\n      snap.docChanges.length > 0 || snap.syncStateChanged,\n      'We got a new snapshot with no changes?'\n    );\n\n    if (!this.options.includeDocumentMetadataChanges) {\n      // Remove the metadata only changes.\n      const docChanges: DocumentViewChange[] = [];\n      for (const docChange of snap.docChanges) {\n        if (docChange.type !== ChangeType.Metadata) {\n          docChanges.push(docChange);\n        }\n      }\n      snap = new ViewSnapshot(\n        snap.query,\n        snap.docs,\n        snap.oldDocs,\n        docChanges,\n        snap.fromCache,\n        snap.hasPendingWrites,\n        snap.syncStateChanged\n      );\n    }\n\n    if (!this.raisedInitialEvent) {\n      if (this.shouldRaiseInitialEvent(snap, this.onlineState)) {\n        this.raiseInitialEvent(snap);\n      }\n    } else if (this.shouldRaiseEvent(snap)) {\n      this.queryObserver.next(snap);\n    }\n\n    this.snap = snap;\n  }\n\n  onError(error: Error): void {\n    this.queryObserver.error(error);\n  }\n\n  applyOnlineStateChange(onlineState: OnlineState): void {\n    this.onlineState = onlineState;\n    if (\n      this.snap &&\n      !this.raisedInitialEvent &&\n      this.shouldRaiseInitialEvent(this.snap, onlineState)\n    ) {\n      this.raiseInitialEvent(this.snap);\n    }\n  }\n\n  private shouldRaiseInitialEvent(\n    snap: ViewSnapshot,\n    onlineState: OnlineState\n  ): boolean {\n    assert(\n      !this.raisedInitialEvent,\n      'Determining whether to raise first event but already had first event'\n    );\n\n    // Always raise the first event when we're synced\n    if (!snap.fromCache) {\n      return true;\n    }\n\n    // NOTE: We consider OnlineState.Unknown as online (it should become Failed\n    // or Online if we wait long enough).\n    const maybeOnline = onlineState !== OnlineState.Failed;\n    // Don't raise the event if we're online, aren't synced yet (checked\n    // above) and are waiting for a sync.\n    if (this.options.waitForSyncWhenOnline && maybeOnline) {\n      assert(\n        snap.fromCache,\n        'Waiting for sync, but snapshot is not from cache'\n      );\n      return false;\n    }\n\n    // Raise data from cache if we have any documents or we are offline\n    return !snap.docs.isEmpty() || onlineState === OnlineState.Failed;\n  }\n\n  private shouldRaiseEvent(snap: ViewSnapshot): boolean {\n    // We don't need to handle includeDocumentMetadataChanges here because\n    // the Metadata only changes have already been stripped out if needed.\n    // At this point the only changes we will see are the ones we should\n    // propagate.\n    if (snap.docChanges.length > 0) {\n      return true;\n    }\n\n    const hasPendingWritesChanged =\n      this.snap && this.snap.hasPendingWrites !== snap.hasPendingWrites;\n    if (snap.syncStateChanged || hasPendingWritesChanged) {\n      return this.options.includeQueryMetadataChanges === true;\n    }\n\n    // Generally we should have hit one of the cases above, but it's possible\n    // to get here if there were only metadata docChanges and they got\n    // stripped out.\n    return false;\n  }\n\n  private raiseInitialEvent(snap: ViewSnapshot): void {\n    assert(\n      !this.raisedInitialEvent,\n      'Trying to raise initial events for second time'\n    );\n    snap = new ViewSnapshot(\n      snap.query,\n      snap.docs,\n      DocumentSet.emptySet(snap.docs),\n      QueryListener.getInitialViewChanges(snap),\n      snap.fromCache,\n      snap.hasPendingWrites,\n      true\n    );\n    this.raisedInitialEvent = true;\n    this.queryObserver.next(snap);\n  }\n\n  /** Returns changes as if all documents in the snap were added. */\n  private static getInitialViewChanges(\n    snap: ViewSnapshot\n  ): DocumentViewChange[] {\n    const result: DocumentViewChange[] = [];\n    snap.docs.forEach(doc => {\n      result.push({ type: ChangeType.Added, doc });\n    });\n    return result;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fail } from '../util/assert';\n\nexport type FulfilledHandler<T, R> =\n  | ((result: T) => R | PersistencePromise<R>)\n  | null;\nexport type RejectedHandler<R> =\n  | ((reason: Error) => R | PersistencePromise<R>)\n  | null;\nexport type Resolver<T> = (value?: T) => void;\nexport type Rejector = (error: Error) => void;\n\n/**\n * PersistencePromise<> is essentially a re-implementation of Promise<> except\n * it has a .next() method instead of .then() and .next() and .catch() callbacks\n * are executed synchronously when a PersistencePromise resolves rather than\n * asynchronously (Promise<> implementations use setImmediate() or similar).\n *\n * This is necessary to interoperate with IndexedDB which will automatically\n * commit transactions if control is returned to the event loop without\n * synchronously initiating another operation on the transaction.\n *\n * NOTE: .then() and .catch() only allow a single consumer, unlike normal\n * Promises.\n */\nexport class PersistencePromise<T> {\n  // NOTE: next/catchCallback will always point to our own wrapper functions,\n  // not the user's raw next() or catch() callbacks.\n  // tslint:disable-next-line:no-any Accept any result type for the next call in the Promise chain.\n  private nextCallback: FulfilledHandler<T, any> = null;\n  // tslint:disable-next-line:no-any Accept any result type for the error handler.\n  private catchCallback: RejectedHandler<any> = null;\n\n  // When the operation resolves, we'll set result or error and mark isDone.\n  private result: T | undefined = undefined;\n  private error: Error | undefined = undefined;\n  private isDone = false;\n\n  // Set to true when .then() or .catch() are called and prevents additional\n  // chaining.\n  private callbackAttached = false;\n\n  constructor(callback: (resolve: Resolver<T>, reject: Rejector) => void) {\n    callback(\n      value => {\n        this.isDone = true;\n        this.result = value;\n        if (this.nextCallback) {\n          // value should be defined unless T is Void, but we can't express\n          // that in the type system.\n          this.nextCallback(value!);\n        }\n      },\n      error => {\n        this.isDone = true;\n        this.error = error;\n        if (this.catchCallback) {\n          this.catchCallback(error);\n        }\n      }\n    );\n  }\n\n  catch<R>(\n    fn: (error: Error) => R | PersistencePromise<R>\n  ): PersistencePromise<R> {\n    return this.next(undefined, fn);\n  }\n\n  next<R>(\n    nextFn?: FulfilledHandler<T, R>,\n    catchFn?: RejectedHandler<R>\n  ): PersistencePromise<R> {\n    if (this.callbackAttached) {\n      fail('Called next() or catch() twice for PersistencePromise');\n    }\n    this.callbackAttached = true;\n    if (this.isDone) {\n      if (!this.error) {\n        return this.wrapSuccess(nextFn, this.result!);\n      } else {\n        return this.wrapFailure(catchFn, this.error);\n      }\n    } else {\n      return new PersistencePromise<R>((resolve, reject) => {\n        this.nextCallback = (value: T) => {\n          this.wrapSuccess(nextFn, value).next(resolve, reject);\n        };\n        this.catchCallback = (error: Error) => {\n          this.wrapFailure(catchFn, error).next(resolve, reject);\n        };\n      });\n    }\n  }\n\n  toPromise(): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.next(resolve, reject);\n    });\n  }\n\n  private wrapUserFunction<R>(\n    fn: () => R | PersistencePromise<R>\n  ): PersistencePromise<R> {\n    try {\n      const result = fn();\n      if (result instanceof PersistencePromise) {\n        return result;\n      } else {\n        return PersistencePromise.resolve(result);\n      }\n    } catch (e) {\n      return PersistencePromise.reject<R>(e);\n    }\n  }\n\n  private wrapSuccess<R>(\n    nextFn: FulfilledHandler<T, R> | undefined,\n    value: T\n  ): PersistencePromise<R> {\n    if (nextFn) {\n      return this.wrapUserFunction(() => nextFn(value));\n    } else {\n      // If there's no nextFn, then R must be the same as T but we\n      // can't express that in the type system.\n      // tslint:disable-next-line:no-any\n      return PersistencePromise.resolve<R>(value as any);\n    }\n  }\n\n  private wrapFailure<R>(\n    catchFn: RejectedHandler<R> | undefined,\n    error: Error\n  ): PersistencePromise<R> {\n    if (catchFn) {\n      return this.wrapUserFunction(() => catchFn(error));\n    } else {\n      return PersistencePromise.reject<R>(error);\n    }\n  }\n\n  static resolve(): PersistencePromise<void>;\n  static resolve<R>(result: R): PersistencePromise<R>;\n  static resolve<R>(result?: R): PersistencePromise<R | void> {\n    return new PersistencePromise<R>((resolve, reject) => {\n      resolve(result);\n    });\n  }\n\n  static reject<R>(error: Error): PersistencePromise<R> {\n    return new PersistencePromise<R>((resolve, reject) => {\n      reject(error);\n    });\n  }\n\n  static waitFor(\n    // tslint:disable-next-line:no-any Accept all Promise types in waitFor().\n    all: Array<PersistencePromise<any>>\n  ): PersistencePromise<void> {\n    return all.reduce((promise, nextPromise, idx) => {\n      return promise.next(() => {\n        return nextPromise;\n      });\n    }, PersistencePromise.resolve());\n  }\n\n  static map<R>(all: Array<PersistencePromise<R>>): PersistencePromise<R[]> {\n    const results: R[] = [];\n    let first = true;\n    // initial is ignored, so we can cheat on the type.\n    // tslint:disable-next-line:no-any\n    const initial = PersistencePromise.resolve<R>(null as any);\n    return all\n      .reduce((promise, nextPromise) => {\n        return promise.next(result => {\n          if (!first) {\n            results.push(result);\n          }\n          first = false;\n          return nextPromise;\n        });\n      }, initial)\n      .next(result => {\n        results.push(result);\n        return results;\n      });\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DocumentKeySet, documentKeySet } from '../model/collections';\nimport { DocumentKey } from '../model/document_key';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { GarbageSource } from './garbage_source';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\n\n/**\n * A garbage collector implementation that eagerly collects documents as soon as\n * they're no longer referenced in any of its registered GarbageSources.\n *\n * This implementation keeps track of a set of keys that are potentially garbage\n * without keeping an exact reference count. During collectGarbage, the\n * collector verifies that all potential garbage keys actually have no\n * references by consulting its list of garbage sources.\n */\nexport class EagerGarbageCollector implements GarbageCollector {\n  readonly isEager = true;\n\n  /**\n   * The garbage collectible sources to double-check during garbage collection.\n   */\n  private sources: GarbageSource[] = [];\n\n  /**\n   * A set of potentially garbage keys.\n   * PORTING NOTE: This would be a mutable set if Javascript had one.\n   */\n  private potentialGarbage: DocumentKeySet = documentKeySet();\n\n  addGarbageSource(garbageSource: GarbageSource): void {\n    this.sources.push(garbageSource);\n    garbageSource.setGarbageCollector(this);\n  }\n\n  removeGarbageSource(garbageSource: GarbageSource): void {\n    this.sources.splice(this.sources.indexOf(garbageSource), 1);\n    garbageSource.setGarbageCollector(null);\n  }\n\n  addPotentialGarbageKey(key: DocumentKey): void {\n    this.potentialGarbage = this.potentialGarbage.add(key);\n  }\n\n  collectGarbage(\n    txn: PersistenceTransaction | null\n  ): PersistencePromise<DocumentKeySet> {\n    const promises: Array<PersistencePromise<void>> = [];\n    let garbageKeys = documentKeySet();\n\n    this.potentialGarbage.forEach(key => {\n      const hasRefsPromise = this.documentHasAnyReferences(txn, key);\n      promises.push(\n        hasRefsPromise.next(hasRefs => {\n          // If there are no references, get the key.\n          if (!hasRefs) {\n            garbageKeys = garbageKeys.add(key);\n          }\n          return PersistencePromise.resolve();\n        })\n      );\n    });\n\n    // Clear locally retained potential keys and returned confirmed garbage.\n    this.potentialGarbage = documentKeySet();\n    return PersistencePromise.waitFor(promises).next(() => garbageKeys);\n  }\n\n  documentHasAnyReferences(\n    txn: PersistenceTransaction | null,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    const initial = PersistencePromise.resolve(false);\n    return this.sources\n      .map(source => () => source.containsKey(txn, key))\n      .reduce<PersistencePromise<boolean>>((promise, nextPromise) => {\n        return promise.next(result => {\n          if (result) {\n            return PersistencePromise.resolve(true);\n          } else {\n            return nextPromise();\n          }\n        });\n      }, initial);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { ChangeType, ViewSnapshot } from '../core/view_snapshot';\nimport { documentKeySet, DocumentKeySet } from '../model/collections';\n\n/**\n * A set of changes to what documents are currently in view and out of view for\n * a given query. These changes are sent to the LocalStore by the View (via\n * the SyncEngine) and are used to pin / unpin documents as appropriate.\n */\nexport class LocalViewChanges {\n  constructor(\n    readonly query: Query,\n    readonly addedKeys: DocumentKeySet,\n    readonly removedKeys: DocumentKeySet\n  ) {}\n\n  static fromSnapshot(viewSnapshot: ViewSnapshot): LocalViewChanges {\n    let addedKeys = documentKeySet();\n    let removedKeys = documentKeySet();\n\n    for (const docChange of viewSnapshot.docChanges) {\n      switch (docChange.type) {\n        case ChangeType.Added:\n          addedKeys = addedKeys.add(docChange.doc.key);\n          break;\n        case ChangeType.Removed:\n          removedKeys = removedKeys.add(docChange.doc.key);\n          break;\n        default:\n        // do nothing\n      }\n    }\n\n    return new LocalViewChanges(viewSnapshot.query, addedKeys, removedKeys);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BatchId, TargetId } from '../core/types';\nimport { documentKeySet, DocumentKeySet } from '../model/collections';\nimport { DocumentKey } from '../model/document_key';\nimport { assert } from '../util/assert';\nimport { primitiveComparator } from '../util/misc';\nimport { SortedSet } from '../util/sorted_set';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { GarbageSource } from './garbage_source';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\n\n/**\n * A collection of references to a document from some kind of numbered entity\n * (either a target ID or batch ID). As references are added to or removed from\n * the set corresponding events are emitted to a registered garbage collector.\n *\n * Each reference is represented by a DocumentReference object. Each of them\n * contains enough information to uniquely identify the reference. They are all\n * stored primarily in a set sorted by key. A document is considered garbage if\n * there's no references in that set (this can be efficiently checked thanks to\n * sorting by key).\n *\n * ReferenceSet also keeps a secondary set that contains references sorted by\n * IDs. This one is used to efficiently implement removal of all references by\n * some target ID.\n */\nexport class ReferenceSet implements GarbageSource {\n  // A set of outstanding references to a document sorted by key.\n  private refsByKey = new SortedSet(DocReference.compareByKey);\n\n  // A set of outstanding references to a document sorted by target id.\n  private refsByTarget = new SortedSet(DocReference.compareByTargetId);\n\n  /** Keeps track of keys that have references */\n  private garbageCollector: GarbageCollector | null = null;\n\n  /** Returns true if the reference set contains no references. */\n  isEmpty(): boolean {\n    return this.refsByKey.isEmpty();\n  }\n\n  /** Adds a reference to the given document key for the given ID. */\n  addReference(key: DocumentKey, id: TargetId | BatchId): void {\n    const ref = new DocReference(key, id);\n    this.refsByKey = this.refsByKey.add(ref);\n    this.refsByTarget = this.refsByTarget.add(ref);\n  }\n\n  /** Add references to the given document keys for the given ID. */\n  addReferences(keys: DocumentKeySet, id: TargetId | BatchId): void {\n    keys.forEach(key => this.addReference(key, id));\n  }\n\n  /**\n   * Removes a reference to the given document key for the given\n   * ID.\n   */\n  removeReference(key: DocumentKey, id: TargetId | BatchId): void {\n    this.removeRef(new DocReference(key, id));\n  }\n\n  removeReferences(keys: DocumentKeySet, id: TargetId | BatchId): void {\n    keys.forEach(key => this.removeReference(key, id));\n  }\n\n  /**\n   * Clears all references with a given ID. Calls removeRef() for each key\n   * removed.\n   */\n  removeReferencesForId(id: TargetId | BatchId): void {\n    const emptyKey = DocumentKey.EMPTY;\n    const startRef = new DocReference(emptyKey, id);\n    const endRef = new DocReference(emptyKey, id + 1);\n    this.refsByTarget.forEachInRange([startRef, endRef], ref => {\n      this.removeRef(ref);\n    });\n  }\n\n  removeAllReferences(): void {\n    this.refsByKey.forEach(ref => this.removeRef(ref));\n  }\n\n  private removeRef(ref: DocReference): void {\n    this.refsByKey = this.refsByKey.delete(ref);\n    this.refsByTarget = this.refsByTarget.delete(ref);\n    if (this.garbageCollector !== null) {\n      this.garbageCollector.addPotentialGarbageKey(ref.key);\n    }\n  }\n\n  referencesForId(id: TargetId | BatchId): DocumentKeySet {\n    const emptyKey = DocumentKey.EMPTY;\n    const startRef = new DocReference(emptyKey, id);\n    const endRef = new DocReference(emptyKey, id + 1);\n    let keys = documentKeySet();\n    this.refsByTarget.forEachInRange([startRef, endRef], ref => {\n      keys = keys.add(ref.key);\n    });\n    return keys;\n  }\n\n  setGarbageCollector(garbageCollector: GarbageCollector | null): void {\n    this.garbageCollector = garbageCollector;\n  }\n\n  containsKey(\n    txn: PersistenceTransaction | null,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    const ref = new DocReference(key, 0);\n    const firstRef = this.refsByKey.firstAfterOrEqual(ref);\n    return PersistencePromise.resolve(\n      firstRef !== null && key.isEqual(firstRef.key)\n    );\n  }\n}\n\nexport class DocReference {\n  constructor(\n    public key: DocumentKey,\n    public targetOrBatchId: TargetId | BatchId\n  ) {}\n\n  /** Compare by key then by ID */\n  static compareByKey(left: DocReference, right: DocReference): number {\n    return (\n      DocumentKey.comparator(left.key, right.key) ||\n      primitiveComparator(left.targetOrBatchId, right.targetOrBatchId)\n    );\n  }\n\n  /** Compare by ID then by key */\n  static compareByTargetId(left: DocReference, right: DocReference): number {\n    return (\n      primitiveComparator(left.targetOrBatchId, right.targetOrBatchId) ||\n      DocumentKey.comparator(left.key, right.key)\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TargetId } from './types';\n\nconst RESERVED_BITS = 1;\n\nenum GeneratorIds {\n  LocalStore = 0,\n  SyncEngine = 1\n}\n\n/**\n * TargetIdGenerator generates monotonically increasing integer IDs. There are\n * separate generators for different scopes. While these generators will operate\n * independently of each other, they are scoped, such that no two generators\n * will ever produce the same ID. This is useful, because sometimes the backend\n * may group IDs from separate parts of the client into the same ID space.\n */\nexport class TargetIdGenerator {\n  private previousId: TargetId;\n\n  constructor(private generatorId: number, initAfter: TargetId = 0) {\n    // Replace the generator part of initAfter with this generator's ID.\n    const afterWithoutGenerator = (initAfter >> RESERVED_BITS) << RESERVED_BITS;\n    const afterGenerator = initAfter - afterWithoutGenerator;\n    if (afterGenerator >= generatorId) {\n      // For example, if:\n      //   this.generatorId = 0b0000\n      //   after = 0b1011\n      //   afterGenerator = 0b0001\n      // Then:\n      //   previous = 0b1010\n      //   next = 0b1100\n      this.previousId = afterWithoutGenerator | this.generatorId;\n    } else {\n      // For example, if:\n      //   this.generatorId = 0b0001\n      //   after = 0b1010\n      //   afterGenerator = 0b0000\n      // Then:\n      //   previous = 0b1001\n      //   next = 0b1011\n      this.previousId =\n        (afterWithoutGenerator | this.generatorId) - (1 << RESERVED_BITS);\n    }\n  }\n\n  next(): TargetId {\n    this.previousId += 1 << RESERVED_BITS;\n    return this.previousId;\n  }\n\n  static forLocalStore(initAfter: TargetId = 0): TargetIdGenerator {\n    return new TargetIdGenerator(GeneratorIds.LocalStore, initAfter);\n  }\n\n  static forSyncEngine(): TargetIdGenerator {\n    return new TargetIdGenerator(GeneratorIds.SyncEngine);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  documentKeySet,\n  DocumentKeySet,\n  MaybeDocumentMap\n} from '../model/collections';\nimport { Document, MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { DocumentSet } from '../model/document_set';\nimport {\n  CurrentStatusUpdate,\n  ResetMapping,\n  TargetChange,\n  UpdateMapping\n} from '../remote/remote_event';\nimport { assert, fail } from '../util/assert';\n\nimport { Query } from './query';\nimport { OnlineState } from './types';\nimport {\n  ChangeType,\n  DocumentChangeSet,\n  SyncState,\n  ViewSnapshot\n} from './view_snapshot';\n\nexport type LimboDocumentChange = AddedLimboDocument | RemovedLimboDocument;\nexport class AddedLimboDocument {\n  constructor(public key: DocumentKey) {}\n}\nexport class RemovedLimboDocument {\n  constructor(public key: DocumentKey) {}\n}\n\n/** The result of applying a set of doc changes to a view. */\nexport interface ViewDocumentChanges {\n  /** The new set of docs that should be in the view. */\n  documentSet: DocumentSet;\n  /** The diff of these docs with the previous set of docs. */\n  changeSet: DocumentChangeSet;\n  /**\n   * Whether the set of documents passed in was not sufficient to calculate the\n   * new state of the view and there needs to be another pass based on the\n   * local cache.\n   */\n  needsRefill: boolean;\n\n  mutatedKeys: DocumentKeySet;\n}\n\nexport interface ViewChange {\n  snapshot?: ViewSnapshot;\n  limboChanges: LimboDocumentChange[];\n}\n\n/**\n * View is responsible for computing the final merged truth of what docs are in\n * a query. It gets notified of local and remote changes to docs, and applies\n * the query filters and limits to determine the most correct possible results.\n */\nexport class View {\n  private syncState: SyncState | null = null;\n  /**\n   * A flag whether the view is current with the backend. A view is considered\n   * current after it has seen the current flag from the backend and did not\n   * lose consistency within the watch stream (e.g. because of an existence\n   * filter mismatch).\n   */\n  private current = false;\n  private documentSet: DocumentSet;\n  /** Documents in the view but not in the remote target */\n  private limboDocuments = documentKeySet();\n  /** Document Keys that have local changes */\n  private mutatedKeys = documentKeySet();\n\n  constructor(\n    private query: Query,\n    /** Documents included in the remote target */\n    private syncedDocuments: DocumentKeySet\n  ) {\n    this.documentSet = new DocumentSet(query.docComparator.bind(query));\n  }\n\n  /**\n   * Iterates over a set of doc changes, applies the query limit, and computes\n   * what the new results should be, what the changes were, and whether we may\n   * need to go back to the local cache for more results. Does not make any\n   * changes to the view.\n   * @param docChanges The doc changes to apply to this view.\n   * @param previousChanges If this is being called with a refill, then start\n   *        with this set of docs and changes instead of the current view.\n   * @return a new set of docs, changes, and refill flag.\n   */\n  computeDocChanges(\n    docChanges: MaybeDocumentMap,\n    previousChanges?: ViewDocumentChanges\n  ): ViewDocumentChanges {\n    const changeSet = previousChanges\n      ? previousChanges.changeSet\n      : new DocumentChangeSet();\n    const oldDocumentSet = previousChanges\n      ? previousChanges.documentSet\n      : this.documentSet;\n    let newMutatedKeys = previousChanges\n      ? previousChanges.mutatedKeys\n      : this.mutatedKeys;\n    let newDocumentSet = oldDocumentSet;\n    let needsRefill = false;\n\n    // Track the last doc in a (full) limit. This is necessary, because some\n    // update (a delete, or an update moving a doc past the old limit) might\n    // mean there is some other document in the local cache that either should\n    // come (1) between the old last limit doc and the new last document, in the\n    // case of updates, or (2) after the new last document, in the case of\n    // deletes. So we keep this doc at the old limit to compare the updates to.\n    //\n    // Note that this should never get used in a refill (when previousChanges is\n    // set), because there will only be adds -- no deletes or updates.\n    const lastDocInLimit =\n      this.query.hasLimit() && oldDocumentSet.size === this.query.limit\n        ? oldDocumentSet.last()\n        : null;\n\n    docChanges.inorderTraversal(\n      (key: DocumentKey, newMaybeDoc: MaybeDocument) => {\n        const oldDoc = oldDocumentSet.get(key);\n        let newDoc = newMaybeDoc instanceof Document ? newMaybeDoc : null;\n        if (newDoc) {\n          assert(\n            key.isEqual(newDoc.key),\n            'Mismatching keys found in document changes: ' +\n              key +\n              ' != ' +\n              newDoc.key\n          );\n          newDoc = this.query.matches(newDoc) ? newDoc : null;\n        }\n        if (newDoc) {\n          newDocumentSet = newDocumentSet.add(newDoc);\n          if (newDoc.hasLocalMutations) {\n            newMutatedKeys = newMutatedKeys.add(key);\n          } else {\n            newMutatedKeys = newMutatedKeys.delete(key);\n          }\n        } else {\n          newDocumentSet = newDocumentSet.delete(key);\n          newMutatedKeys = newMutatedKeys.delete(key);\n        }\n\n        // Calculate change\n        if (oldDoc && newDoc) {\n          const docsEqual = oldDoc.data.isEqual(newDoc.data);\n          if (\n            !docsEqual ||\n            oldDoc.hasLocalMutations !== newDoc.hasLocalMutations\n          ) {\n            // only report a change if document actually changed\n            if (docsEqual) {\n              changeSet.track({ type: ChangeType.Metadata, doc: newDoc });\n            } else {\n              changeSet.track({ type: ChangeType.Modified, doc: newDoc });\n            }\n\n            if (\n              lastDocInLimit &&\n              this.query.docComparator(newDoc, lastDocInLimit) > 0\n            ) {\n              // This doc moved from inside the limit to after the limit.\n              // That means there may be some doc in the local cache that's\n              // actually less than this one.\n              needsRefill = true;\n            }\n          }\n        } else if (!oldDoc && newDoc) {\n          changeSet.track({ type: ChangeType.Added, doc: newDoc });\n        } else if (oldDoc && !newDoc) {\n          changeSet.track({ type: ChangeType.Removed, doc: oldDoc });\n          if (lastDocInLimit) {\n            // A doc was removed from a full limit query. We'll need to\n            // requery from the local cache to see if we know about some other\n            // doc that should be in the results.\n            needsRefill = true;\n          }\n        }\n      }\n    );\n    if (this.query.hasLimit()) {\n      // TODO(klimt): Make DocumentSet size be constant time.\n      while (newDocumentSet.size > this.query.limit!) {\n        const oldDoc = newDocumentSet.last();\n        newDocumentSet = newDocumentSet.delete(oldDoc!.key);\n        changeSet.track({ type: ChangeType.Removed, doc: oldDoc! });\n      }\n    }\n    assert(\n      !needsRefill || !previousChanges,\n      'View was refilled using docs that themselves needed refilling.'\n    );\n    return {\n      documentSet: newDocumentSet,\n      changeSet,\n      needsRefill,\n      mutatedKeys: newMutatedKeys\n    };\n  }\n\n  /**\n   * Updates the view with the given ViewDocumentChanges and updates limbo docs\n   * and sync state from the given (optional) target change.\n   * @param docChanges The set of changes to make to the view's docs.\n   * @param targetChange A target change to apply for computing limbo docs and\n   *        sync state.\n   * @return A new ViewChange with the given docs, changes, and sync state.\n   */\n  applyChanges(\n    docChanges: ViewDocumentChanges,\n    targetChange?: TargetChange\n  ): ViewChange {\n    assert(!docChanges.needsRefill, 'Cannot apply changes that need a refill');\n    const oldDocs = this.documentSet;\n    this.documentSet = docChanges.documentSet;\n    this.mutatedKeys = docChanges.mutatedKeys;\n    // Sort changes based on type and query comparator\n    const changes = docChanges.changeSet.getChanges();\n    changes.sort((c1, c2) => {\n      return (\n        compareChangeType(c1.type, c2.type) ||\n        this.query.docComparator(c1.doc, c2.doc)\n      );\n    });\n\n    const limboChanges = this.applyTargetChange(targetChange);\n    const synced = this.limboDocuments.size === 0 && this.current;\n    const newSyncState = synced ? SyncState.Synced : SyncState.Local;\n    const syncStateChanged = newSyncState !== this.syncState;\n    this.syncState = newSyncState;\n\n    if (changes.length === 0 && !syncStateChanged) {\n      // no changes\n      return { limboChanges };\n    } else {\n      const snap: ViewSnapshot = new ViewSnapshot(\n        this.query,\n        docChanges.documentSet,\n        oldDocs,\n        changes,\n        newSyncState === SyncState.Local,\n        !docChanges.mutatedKeys.isEmpty(),\n        syncStateChanged\n      );\n      return {\n        snapshot: snap,\n        limboChanges\n      };\n    }\n  }\n\n  /**\n   * Applies an OnlineState change to the view, potentially generating a\n   * ViewChange if the view's syncState changes as a result.\n   */\n  applyOnlineStateChange(onlineState: OnlineState): ViewChange {\n    if (this.current && onlineState === OnlineState.Failed) {\n      // If we're offline, set `current` to false and then call applyChanges()\n      // to refresh our syncState and generate a ViewChange as appropriate. We\n      // are guaranteed to get a new TargetChange that sets `current` back to\n      // true once the client is back online.\n      this.current = false;\n      return this.applyChanges({\n        documentSet: this.documentSet,\n        changeSet: new DocumentChangeSet(),\n        mutatedKeys: this.mutatedKeys,\n        needsRefill: false\n      });\n    } else {\n      // No effect, just return a no-op ViewChange.\n      return { limboChanges: [] };\n    }\n  }\n\n  /**\n   * Returns whether the doc for the given key should be in limbo.\n   */\n  private shouldBeInLimbo(key: DocumentKey): boolean {\n    // If the remote end says it's part of this query, it's not in limbo.\n    if (this.syncedDocuments.has(key)) {\n      return false;\n    }\n    // The local store doesn't think it's a result, so it shouldn't be in limbo.\n    if (!this.documentSet.has(key)) {\n      return false;\n    }\n    // If there are local changes to the doc, they might explain why the server\n    // doesn't know that it's part of the query. So don't put it in limbo.\n    // TODO(klimt): Ideally, we would only consider changes that might actually\n    // affect this specific query.\n    if (this.documentSet.get(key)!.hasLocalMutations) {\n      return false;\n    }\n    // Everything else is in limbo.\n    return true;\n  }\n\n  /**\n   * Updates syncedDocuments, current, and limbo docs based on the given change.\n   * Returns the list of changes to which docs are in limbo.\n   */\n  private applyTargetChange(\n    targetChange?: TargetChange\n  ): LimboDocumentChange[] {\n    if (targetChange) {\n      const targetMapping = targetChange.mapping;\n      if (targetMapping instanceof ResetMapping) {\n        this.syncedDocuments = targetMapping.documents;\n      } else if (targetMapping instanceof UpdateMapping) {\n        this.syncedDocuments = targetMapping.applyToKeySet(\n          this.syncedDocuments\n        );\n      }\n\n      switch (targetChange.currentStatusUpdate) {\n        case CurrentStatusUpdate.MarkCurrent:\n          this.current = true;\n          break;\n        case CurrentStatusUpdate.MarkNotCurrent:\n          this.current = false;\n          break;\n        case CurrentStatusUpdate.None:\n          break;\n        default:\n          fail(\n            'Unknown current status update: ' + targetChange.currentStatusUpdate\n          );\n      }\n    }\n\n    // Recompute the set of limbo docs.\n    // TODO(klimt): Do this incrementally so that it's not quadratic when\n    // updating many documents.\n    const oldLimboDocuments = this.limboDocuments;\n    this.limboDocuments = documentKeySet();\n    if (this.current) {\n      this.documentSet.forEach(doc => {\n        if (this.shouldBeInLimbo(doc.key)) {\n          this.limboDocuments = this.limboDocuments.add(doc.key);\n        }\n      });\n    }\n\n    // Diff the new limbo docs with the old limbo docs.\n    const changes: LimboDocumentChange[] = [];\n    oldLimboDocuments.forEach(key => {\n      if (!this.limboDocuments.has(key)) {\n        changes.push(new RemovedLimboDocument(key));\n      }\n    });\n    this.limboDocuments.forEach(key => {\n      if (!oldLimboDocuments.has(key)) {\n        changes.push(new AddedLimboDocument(key));\n      }\n    });\n    return changes;\n  }\n}\n\nfunction compareChangeType(c1: ChangeType, c2: ChangeType): number {\n  const order = (change: ChangeType) => {\n    switch (change) {\n      case ChangeType.Added:\n        return 1;\n      case ChangeType.Modified:\n        return 2;\n      case ChangeType.Metadata:\n        // A metadata change is converted to a modified change at the public\n        // api layer.  Since we sort by document key and then change type,\n        // metadata and modified changes must be sorted equivalently.\n        return 2;\n      case ChangeType.Removed:\n        return 0;\n      default:\n        return fail('Unknown ChangeType: ' + change);\n    }\n  };\n\n  return order(c1) - order(c2);\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { EagerGarbageCollector } from '../local/eager_garbage_collector';\nimport { LocalStore } from '../local/local_store';\nimport { LocalViewChanges } from '../local/local_view_changes';\nimport { QueryData, QueryPurpose } from '../local/query_data';\nimport { ReferenceSet } from '../local/reference_set';\nimport { MaybeDocumentMap } from '../model/collections';\nimport { MaybeDocument, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { Mutation } from '../model/mutation';\nimport { MutationBatchResult } from '../model/mutation_batch';\nimport { CurrentStatusUpdate, RemoteEvent } from '../remote/remote_event';\nimport { RemoteStore } from '../remote/remote_store';\nimport { RemoteSyncer } from '../remote/remote_syncer';\nimport { assert, fail } from '../util/assert';\nimport { FirestoreError } from '../util/error';\nimport * as log from '../util/log';\nimport { AnyJs, primitiveComparator } from '../util/misc';\nimport * as objUtils from '../util/obj';\nimport { ObjectMap } from '../util/obj_map';\nimport { Deferred } from '../util/promise';\nimport { SortedMap } from '../util/sorted_map';\nimport { isNullOrUndefined } from '../util/types';\n\nimport { Query } from './query';\nimport { SnapshotVersion } from './snapshot_version';\nimport { TargetIdGenerator } from './target_id_generator';\nimport { Transaction } from './transaction';\nimport { BatchId, OnlineState, ProtoByteString, TargetId } from './types';\nimport {\n  AddedLimboDocument,\n  LimboDocumentChange,\n  RemovedLimboDocument,\n  View,\n  ViewDocumentChanges\n} from './view';\nimport { ViewSnapshot } from './view_snapshot';\n\nconst LOG_TAG = 'SyncEngine';\n\nexport type ViewHandler = (viewSnaps: ViewSnapshot[]) => void;\nexport type ErrorHandler = (query: Query, error: Error) => void;\n\n/**\n * QueryView contains all of the data that SyncEngine needs to keep track of for\n * a particular query.\n */\nclass QueryView {\n  constructor(\n    /**\n     * The query itself.\n     */\n    public query: Query,\n    /**\n     * The target number created by the client that is used in the watch\n     * stream to identify this query.\n     */\n    public targetId: TargetId,\n    /**\n     * An identifier from the datastore backend that indicates the last state\n     * of the results that was received. This can be used to indicate where\n     * to continue receiving new doc changes for the query.\n     */\n    public resumeToken: ProtoByteString,\n    /**\n     * The view is responsible for computing the final merged truth of what\n     * docs are in the query. It gets notified of local and remote changes,\n     * and applies the query filters and limits to determine the most correct\n     * possible results.\n     */\n    public view: View\n  ) {}\n}\n\n/**\n * SyncEngine is the central controller in the client SDK architecture. It is\n * the glue code between the EventManager, LocalStore, and RemoteStore. Some of\n * SyncEngine's responsibilities include:\n * 1. Coordinating client requests and remote events between the EventManager\n *    and the local and remote data stores.\n * 2. Managing a View object for each query, providing the unified view between\n *    the local and remote data stores.\n * 3. Notifying the RemoteStore when the LocalStore has new mutations in its\n *    queue that need sending to the backend.\n *\n * The SyncEngine’s methods should only ever be called by methods running in the\n * global async queue.\n */\nexport class SyncEngine implements RemoteSyncer {\n  private viewHandler: ViewHandler | null = null;\n  private errorHandler: ErrorHandler | null = null;\n\n  private queryViewsByQuery = new ObjectMap<Query, QueryView>(q =>\n    q.canonicalId()\n  );\n  private queryViewsByTarget: { [targetId: number]: QueryView } = {};\n  private limboTargetsByKey = new SortedMap<DocumentKey, TargetId>(\n    DocumentKey.comparator\n  );\n  private limboKeysByTarget: { [targetId: number]: DocumentKey } = {};\n  private limboDocumentRefs = new ReferenceSet();\n  private limboCollector = new EagerGarbageCollector();\n  /** Stores user completion handlers, indexed by User and BatchId. */\n  private mutationUserCallbacks = {} as {\n    [uidKey: string]: SortedMap<BatchId, Deferred<void>>;\n  };\n  private targetIdGenerator = TargetIdGenerator.forSyncEngine();\n\n  constructor(\n    private localStore: LocalStore,\n    private remoteStore: RemoteStore,\n    private currentUser: User\n  ) {}\n\n  /** Subscribes view and error handler. Can be called only once. */\n  subscribe(viewHandler: ViewHandler, errorHandler: ErrorHandler): void {\n    assert(\n      viewHandler !== null && errorHandler !== null,\n      'View and error handlers cannot be null'\n    );\n    assert(\n      this.viewHandler === null && this.errorHandler === null,\n      'SyncEngine already has a subscriber.'\n    );\n    this.viewHandler = viewHandler;\n    this.errorHandler = errorHandler;\n    this.limboCollector.addGarbageSource(this.limboDocumentRefs);\n  }\n\n  /**\n   * Initiates the new listen, resolves promise when listen enqueued to the\n   * server. All the subsequent view snapshots or errors are sent to the\n   * subscribed handlers. Returns the targetId of the query.\n   */\n  listen(query: Query): Promise<TargetId> {\n    this.assertSubscribed('listen()');\n    assert(\n      !this.queryViewsByQuery.has(query),\n      'We already listen to the query: ' + query\n    );\n\n    return this.localStore.allocateQuery(query).then(queryData => {\n      return this.localStore\n        .executeQuery(query)\n        .then(docs => {\n          return this.localStore\n            .remoteDocumentKeys(queryData.targetId)\n            .then(remoteKeys => {\n              const view = new View(query, remoteKeys);\n              const viewDocChanges = view.computeDocChanges(docs);\n              const viewChange = view.applyChanges(viewDocChanges);\n              assert(\n                viewChange.limboChanges.length === 0,\n                'View returned limbo docs before target ack from the server.'\n              );\n              assert(\n                !!viewChange.snapshot,\n                'applyChanges for new view should always return a snapshot'\n              );\n\n              const data = new QueryView(\n                query,\n                queryData.targetId,\n                queryData.resumeToken,\n                view\n              );\n              this.queryViewsByQuery.set(query, data);\n              this.queryViewsByTarget[queryData.targetId] = data;\n              this.viewHandler!([viewChange.snapshot!]);\n              this.remoteStore.listen(queryData);\n            });\n        })\n        .then(() => {\n          return queryData.targetId;\n        });\n    });\n  }\n\n  /** Stops listening to the query. */\n  unlisten(query: Query): Promise<void> {\n    this.assertSubscribed('unlisten()');\n\n    const queryView = this.queryViewsByQuery.get(query)!;\n    assert(!!queryView, 'Trying to unlisten on query not found:' + query);\n\n    return this.localStore.releaseQuery(query).then(() => {\n      this.remoteStore.unlisten(queryView.targetId);\n      return this.removeAndCleanupQuery(queryView).then(() => {\n        return this.localStore.collectGarbage();\n      });\n    });\n  }\n\n  /**\n   * Initiates the write of local mutation batch which involves adding the\n   * writes to the mutation queue, notifying the remote store about new\n   * mutations and raising events for any changes this write caused.\n   *\n   * The promise returned by this call is resolved when the above steps\n   * have completed, *not* when the write was acked by the backend. The\n   * userCallback is resolved once the write was acked/rejected by the\n   * backend (or failed locally for any other reason).\n   */\n  write(batch: Mutation[], userCallback: Deferred<void>): Promise<void> {\n    this.assertSubscribed('write()');\n    return this.localStore\n      .localWrite(batch)\n      .then(result => {\n        this.addMutationCallback(result.batchId, userCallback);\n        return this.emitNewSnapsAndNotifyLocalStore(result.changes);\n      })\n      .then(() => {\n        return this.remoteStore.fillWritePipeline();\n      });\n  }\n\n  // TODO(klimt): Wrap the given error in a standard Firestore error object.\n  private wrapUpdateFunctionError(error: AnyJs): AnyJs {\n    return error;\n  }\n\n  /**\n   * Takes an updateFunction in which a set of reads and writes can be performed\n   * atomically. In the updateFunction, the client can read and write values\n   * using the supplied transaction object. After the updateFunction, all\n   * changes will be committed. If some other client has changed any of the data\n   * referenced, then the updateFunction will be called again. If the\n   * updateFunction still fails after the given number of retries, then the\n   * transaction will be rejection.\n   *\n   * The transaction object passed to the updateFunction contains methods for\n   * accessing documents and collections. Unlike other datastore access, data\n   * accessed with the transaction will not reflect local changes that have not\n   * been committed. For this reason, it is required that all reads are\n   * performed before any writes. Transactions must be performed while online.\n   *\n   * The promise returned is resolved when the transaction is fully committed.\n   */\n  runTransaction<T>(\n    updateFunction: (transaction: Transaction) => Promise<T>,\n    retries = 5\n  ): Promise<T> {\n    assert(retries >= 0, 'Got negative number of retries for transaction.');\n    const transaction = this.remoteStore.createTransaction();\n    const wrappedUpdateFunction = () => {\n      try {\n        const userPromise = updateFunction(transaction);\n        if (\n          isNullOrUndefined(userPromise) ||\n          !userPromise.catch ||\n          !userPromise.then\n        ) {\n          return Promise.reject<T>(\n            Error('Transaction callback must return a Promise')\n          );\n        }\n        return userPromise.catch(e => {\n          return Promise.reject<T>(this.wrapUpdateFunctionError(e));\n        });\n      } catch (e) {\n        return Promise.reject<T>(this.wrapUpdateFunctionError(e));\n      }\n    };\n    return wrappedUpdateFunction().then(result => {\n      return transaction\n        .commit()\n        .then(() => {\n          return result;\n        })\n        .catch(error => {\n          if (retries === 0) {\n            return Promise.reject<T>(error);\n          }\n          // TODO(klimt): Put in a retry delay?\n          return this.runTransaction(updateFunction, retries - 1);\n        });\n    });\n  }\n\n  applyRemoteEvent(remoteEvent: RemoteEvent): Promise<void> {\n    this.assertSubscribed('applyRemoteEvent()');\n\n    // Make sure limbo documents are deleted if there were no results\n    objUtils.forEachNumber(\n      remoteEvent.targetChanges,\n      (targetId, targetChange) => {\n        const limboKey = this.limboKeysByTarget[targetId];\n        if (\n          limboKey &&\n          targetChange.currentStatusUpdate ===\n            CurrentStatusUpdate.MarkCurrent &&\n          !remoteEvent.documentUpdates.get(limboKey)\n        ) {\n          // When listening to a query the server responds with a snapshot\n          // containing documents matching the query and a current marker\n          // telling us we're now in sync. It's possible for these to arrive\n          // as separate remote events or as a single remote event.\n          // For a document query, there will be no documents sent in the\n          // response if the document doesn't exist.\n          //\n          // If the snapshot arrives separately from the current marker,\n          // we handle it normally and updateTrackedLimbos will resolve the\n          // limbo status of the document, removing it from limboDocumentRefs.\n          // This works because clients only initiate limbo resolution when\n          // a target is current and because all current targets are\n          // always at a consistent snapshot.\n          //\n          // However, if the document doesn't exist and the current marker\n          // arrives, the document is not present in the snapshot and our\n          // normal view handling would consider the document to remain in\n          // limbo indefinitely because there are no updates to the document.\n          // To avoid this, we specially handle this just this case here:\n          // synthesizing a delete.\n          //\n          // TODO(dimond): Ideally we would have an explicit lookup query\n          // instead resulting in an explicit delete message and we could\n          // remove this special logic.\n          remoteEvent.addDocumentUpdate(\n            new NoDocument(limboKey, remoteEvent.snapshotVersion)\n          );\n        }\n      }\n    );\n\n    return this.localStore.applyRemoteEvent(remoteEvent).then(changes => {\n      return this.emitNewSnapsAndNotifyLocalStore(changes, remoteEvent);\n    });\n  }\n\n  /**\n   * Applies an OnlineState change to the sync engine and notifies any views of\n   * the change.\n   */\n  applyOnlineStateChange(onlineState: OnlineState) {\n    const newViewSnapshots = [] as ViewSnapshot[];\n    this.queryViewsByQuery.forEach((query, queryView) => {\n      const viewChange = queryView.view.applyOnlineStateChange(onlineState);\n      assert(\n        viewChange.limboChanges.length === 0,\n        'OnlineState should not affect limbo documents.'\n      );\n      if (viewChange.snapshot) {\n        newViewSnapshots.push(viewChange.snapshot);\n      }\n    });\n    this.viewHandler(newViewSnapshots);\n  }\n\n  rejectListen(targetId: TargetId, err: FirestoreError): Promise<void> {\n    this.assertSubscribed('rejectListens()');\n    const limboKey = this.limboKeysByTarget[targetId];\n    if (limboKey) {\n      // Since this query failed, we won't want to manually unlisten to it.\n      // So go ahead and remove it from bookkeeping.\n      this.limboTargetsByKey = this.limboTargetsByKey.remove(limboKey);\n      delete this.limboKeysByTarget[targetId];\n\n      // TODO(klimt): We really only should do the following on permission\n      // denied errors, but we don't have the cause code here.\n\n      // It's a limbo doc. Create a synthetic event saying it was deleted.\n      // This is kind of a hack. Ideally, we would have a method in the local\n      // store to purge a document. However, it would be tricky to keep all of\n      // the local store's invariants with another method.\n      let docMap = new SortedMap<DocumentKey, MaybeDocument>(\n        DocumentKey.comparator\n      );\n      docMap = docMap.insert(\n        limboKey,\n        new NoDocument(limboKey, SnapshotVersion.forDeletedDoc())\n      );\n      const event = new RemoteEvent(SnapshotVersion.MIN, {}, docMap);\n      return this.applyRemoteEvent(event);\n    } else {\n      const queryView = this.queryViewsByTarget[targetId];\n      assert(!!queryView, 'Unknown targetId: ' + targetId);\n      return this.localStore.releaseQuery(queryView.query).then(() => {\n        return this.removeAndCleanupQuery(queryView).then(() => {\n          this.errorHandler!(queryView.query, err);\n        });\n      });\n    }\n  }\n\n  applySuccessfulWrite(\n    mutationBatchResult: MutationBatchResult\n  ): Promise<void> {\n    this.assertSubscribed('applySuccessfulWrite()');\n\n    // The local store may or may not be able to apply the write result and\n    // raise events immediately (depending on whether the watcher is caught\n    // up), so we raise user callbacks first so that they consistently happen\n    // before listen events.\n    this.processUserCallback(\n      mutationBatchResult.batch.batchId,\n      /*error=*/ null\n    );\n\n    return this.localStore\n      .acknowledgeBatch(mutationBatchResult)\n      .then(changes => {\n        return this.emitNewSnapsAndNotifyLocalStore(changes);\n      });\n  }\n\n  rejectFailedWrite(batchId: BatchId, error: FirestoreError): Promise<void> {\n    this.assertSubscribed('rejectFailedWrite()');\n\n    // The local store may or may not be able to apply the write result and\n    // raise events immediately (depending on whether the watcher is caught up),\n    // so we raise user callbacks first so that they consistently happen before\n    // listen events.\n    this.processUserCallback(batchId, error);\n\n    return this.localStore.rejectBatch(batchId).then(changes => {\n      return this.emitNewSnapsAndNotifyLocalStore(changes);\n    });\n  }\n\n  private addMutationCallback(\n    batchId: BatchId,\n    callback: Deferred<void>\n  ): void {\n    let newCallbacks = this.mutationUserCallbacks[this.currentUser.toKey()];\n    if (!newCallbacks) {\n      newCallbacks = new SortedMap<BatchId, Deferred<void>>(\n        primitiveComparator\n      );\n    }\n    newCallbacks = newCallbacks.insert(batchId, callback);\n    this.mutationUserCallbacks[this.currentUser.toKey()] = newCallbacks;\n  }\n\n  /**\n   * Resolves or rejects the user callback for the given batch and then discards\n   * it.\n   */\n  private processUserCallback(batchId: BatchId, error: Error | null): void {\n    let newCallbacks = this.mutationUserCallbacks[this.currentUser.toKey()];\n\n    // NOTE: Mutations restored from persistence won't have callbacks, so it's\n    // okay for there to be no callback for this ID.\n    if (newCallbacks) {\n      const callback = newCallbacks.get(batchId);\n      if (callback) {\n        assert(\n          batchId === newCallbacks.minKey(),\n          'Mutation callbacks processed out-of-order?'\n        );\n        if (error) {\n          callback.reject(error);\n        } else {\n          callback.resolve();\n        }\n        newCallbacks = newCallbacks.remove(batchId);\n      }\n      this.mutationUserCallbacks[this.currentUser.toKey()] = newCallbacks;\n    }\n  }\n\n  private removeAndCleanupQuery(queryView: QueryView): Promise<void> {\n    this.queryViewsByQuery.delete(queryView.query);\n    delete this.queryViewsByTarget[queryView.targetId];\n\n    this.limboDocumentRefs.removeReferencesForId(queryView.targetId);\n    return this.gcLimboDocuments();\n  }\n\n  private updateTrackedLimbos(\n    targetId: TargetId,\n    limboChanges: LimboDocumentChange[]\n  ): Promise<void> {\n    for (const limboChange of limboChanges) {\n      if (limboChange instanceof AddedLimboDocument) {\n        this.limboDocumentRefs.addReference(limboChange.key, targetId);\n        this.trackLimboChange(limboChange);\n      } else if (limboChange instanceof RemovedLimboDocument) {\n        log.debug(LOG_TAG, 'Document no longer in limbo: ' + limboChange.key);\n        this.limboDocumentRefs.removeReference(limboChange.key, targetId);\n      } else {\n        fail('Unknown limbo change: ' + JSON.stringify(limboChange));\n      }\n    }\n    return this.gcLimboDocuments();\n  }\n\n  private trackLimboChange(limboChange: AddedLimboDocument): void {\n    const key = limboChange.key;\n    if (!this.limboTargetsByKey.get(key)) {\n      log.debug(LOG_TAG, 'New document in limbo: ' + key);\n      const limboTargetId = this.targetIdGenerator.next();\n      const query = Query.atPath(key.path);\n      this.limboKeysByTarget[limboTargetId] = key;\n      this.remoteStore.listen(\n        new QueryData(query, limboTargetId, QueryPurpose.Listen)\n      );\n      this.limboTargetsByKey = this.limboTargetsByKey.insert(\n        key,\n        limboTargetId\n      );\n    }\n  }\n\n  private gcLimboDocuments(): Promise<void> {\n    // HACK: We can use a null transaction here, because we know that the\n    // reference set is entirely within memory and doesn't need a store engine.\n    return this.limboCollector\n      .collectGarbage(null)\n      .next(keys => {\n        keys.forEach(key => {\n          const limboTargetId = this.limboTargetsByKey.get(key);\n          if (limboTargetId === null) {\n            // This target already got removed, because the query failed.\n            return;\n          }\n          this.remoteStore.unlisten(limboTargetId);\n          this.limboTargetsByKey = this.limboTargetsByKey.remove(key);\n          delete this.limboKeysByTarget[limboTargetId];\n        });\n      })\n      .toPromise();\n  }\n\n  // Visible for testing\n  currentLimboDocs(): SortedMap<DocumentKey, TargetId> {\n    return this.limboTargetsByKey;\n  }\n\n  private emitNewSnapsAndNotifyLocalStore(\n    changes: MaybeDocumentMap,\n    remoteEvent?: RemoteEvent\n  ): Promise<void> {\n    const newSnaps: ViewSnapshot[] = [];\n    const docChangesInAllViews: LocalViewChanges[] = [];\n    const queriesProcessed: Array<Promise<void>> = [];\n\n    this.queryViewsByQuery.forEach((_, queryView) => {\n      queriesProcessed.push(\n        Promise.resolve()\n          .then(() => {\n            const viewDocChanges = queryView.view.computeDocChanges(changes);\n            if (!viewDocChanges.needsRefill) {\n              return viewDocChanges;\n            }\n            // The query has a limit and some docs were removed, so we need\n            // to re-run the query against the local store to make sure we\n            // didn't lose any good docs that had been past the limit.\n            return this.localStore.executeQuery(queryView.query).then(docs => {\n              return queryView.view.computeDocChanges(docs, viewDocChanges);\n            });\n          })\n          .then((viewDocChanges: ViewDocumentChanges) => {\n            const targetChange =\n              remoteEvent && remoteEvent.targetChanges[queryView.targetId];\n            const viewChange = queryView.view.applyChanges(\n              viewDocChanges,\n              targetChange\n            );\n            return this.updateTrackedLimbos(\n              queryView.targetId,\n              viewChange.limboChanges\n            ).then(() => {\n              if (viewChange.snapshot) {\n                newSnaps.push(viewChange.snapshot);\n                const docChanges = LocalViewChanges.fromSnapshot(\n                  viewChange.snapshot\n                );\n                docChangesInAllViews.push(docChanges);\n              }\n            });\n          })\n      );\n    });\n\n    return Promise.all(queriesProcessed)\n      .then(() => {\n        this.viewHandler!(newSnaps);\n        return this.localStore.notifyLocalViewChanges(docChangesInAllViews);\n      })\n      .then(() => {\n        return this.localStore.collectGarbage();\n      });\n  }\n\n  private assertSubscribed(fnName: string): void {\n    assert(\n      this.viewHandler !== null && this.errorHandler !== null,\n      'Trying to call ' + fnName + ' before calling subscribe().'\n    );\n  }\n\n  handleUserChange(user: User): Promise<void> {\n    this.currentUser = user;\n    return this.localStore\n      .handleUserChange(user)\n      .then(changes => {\n        return this.emitNewSnapsAndNotifyLocalStore(changes);\n      })\n      .then(() => {\n        return this.remoteStore.handleUserChange(user);\n      });\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Timestamp } from '../core/timestamp';\nimport { BatchId, ProtoByteString } from '../core/types';\nimport {\n  documentKeySet,\n  DocumentKeySet,\n  DocumentVersionMap,\n  documentVersionMap\n} from './collections';\nimport { MaybeDocument } from './document';\nimport { DocumentKey } from './document_key';\nimport { Mutation, MutationResult } from './mutation';\nimport { assert } from '../util/assert';\nimport * as misc from '../util/misc';\n\nexport const BATCHID_UNKNOWN = -1;\n\n/**\n * A batch of mutations that will be sent as one unit to the backend.\n */\nexport class MutationBatch {\n  constructor(\n    public batchId: BatchId,\n    public localWriteTime: Timestamp,\n    public mutations: Mutation[]\n  ) {}\n\n  /**\n   * Applies all the mutations in this MutationBatch to the specified document\n   * to create a new remote document\n   *\n   * @param docKey The key of the document to apply mutations to.\n   * @param maybeDoc The document to apply mutations to.\n   * @param batchResult The result of applying the MutationBatch to the\n   * backend.\n   */\n  applyToRemoteDocument(\n    docKey: DocumentKey,\n    maybeDoc: MaybeDocument | null,\n    batchResult: MutationBatchResult\n  ): MaybeDocument | null {\n    if (maybeDoc) {\n      assert(\n        maybeDoc.key.isEqual(docKey),\n        `applyToRemoteDocument: key ${docKey} should match maybeDoc key\n        ${maybeDoc.key}`\n      );\n    }\n\n    const mutationResults = batchResult.mutationResults;\n    assert(\n      mutationResults.length === this.mutations.length,\n      `Mismatch between mutations length\n      (${this.mutations.length}) and mutation results length\n      (${mutationResults.length}).`\n    );\n\n    for (let i = 0; i < this.mutations.length; i++) {\n      const mutation = this.mutations[i];\n      if (mutation.key.isEqual(docKey)) {\n        const mutationResult = mutationResults[i];\n        maybeDoc = mutation.applyToRemoteDocument(maybeDoc, mutationResult);\n      }\n    }\n    return maybeDoc;\n  }\n\n  /**\n   * Computes the local view of a document given all the mutations in this\n   * batch.\n   *\n   * @param docKey The key of the document to apply mutations to.\n   * @param maybeDoc The document to apply mutations to.\n   */\n  applyToLocalView(\n    docKey: DocumentKey,\n    maybeDoc: MaybeDocument | null\n  ): MaybeDocument | null {\n    if (maybeDoc) {\n      assert(\n        maybeDoc.key.isEqual(docKey),\n        `applyToLocalDocument: key ${docKey} should match maybeDoc key\n        ${maybeDoc.key}`\n      );\n    }\n    const baseDoc = maybeDoc;\n\n    for (let i = 0; i < this.mutations.length; i++) {\n      const mutation = this.mutations[i];\n      if (mutation.key.isEqual(docKey)) {\n        maybeDoc = mutation.applyToLocalView(\n          maybeDoc,\n          baseDoc,\n          this.localWriteTime\n        );\n      }\n    }\n    return maybeDoc;\n  }\n\n  keys(): DocumentKeySet {\n    let keySet = documentKeySet();\n\n    for (const mutation of this.mutations) {\n      keySet = keySet.add(mutation.key);\n    }\n    return keySet;\n  }\n\n  isEqual(other: MutationBatch): boolean {\n    return (\n      this.batchId === other.batchId &&\n      misc.arrayEquals(this.mutations, other.mutations)\n    );\n  }\n\n  /**\n   * Returns true if this mutation batch has already been removed from the\n   * mutation queue.\n   *\n   * Note that not all implementations of the MutationQueue necessarily use\n   * tombstones as part of their implementation and generally speaking no code\n   * outside the mutation queues should really care about this.\n   */\n  isTombstone(): boolean {\n    return this.mutations.length === 0;\n  }\n\n  /** Converts this batch into a tombstone */\n  toTombstone(): MutationBatch {\n    return new MutationBatch(this.batchId, this.localWriteTime, []);\n  }\n}\n\n/** The result of applying a mutation batch to the backend. */\nexport class MutationBatchResult {\n  private constructor(\n    readonly batch: MutationBatch,\n    readonly commitVersion: SnapshotVersion,\n    readonly mutationResults: MutationResult[],\n    readonly streamToken: ProtoByteString,\n    /**\n     * A pre-computed mapping from each mutated document to the resulting\n     * version.\n     */\n    readonly docVersions: DocumentVersionMap\n  ) {}\n\n  /**\n   * Creates a new MutationBatchResult for the given batch and results. There\n   * must be one result for each mutation in the batch. This static factory\n   * caches a document=>version mapping (docVersions).\n   */\n  static from(\n    batch: MutationBatch,\n    commitVersion: SnapshotVersion,\n    results: MutationResult[],\n    streamToken: ProtoByteString\n  ) {\n    assert(\n      batch.mutations.length === results.length,\n      'Mutations sent ' +\n        batch.mutations.length +\n        ' must equal results received ' +\n        results.length\n    );\n\n    let versionMap = documentVersionMap();\n    const mutations = batch.mutations;\n    for (let i = 0; i < mutations.length; i++) {\n      let version = results[i].version;\n      if (version === null) {\n        // deletes don't have a version, so we substitute the commitVersion\n        // of the entire batch.\n        version = commitVersion;\n      }\n\n      versionMap = versionMap.insert(mutations[i].key, version);\n    }\n\n    return new MutationBatchResult(\n      batch,\n      commitVersion,\n      results,\n      streamToken,\n      versionMap\n    );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ResourcePath } from '../model/path';\nimport { assert, fail } from '../util/assert';\n\n/**\n * Helpers for dealing with resource paths stored in IndexedDB.\n *\n * Resource paths in their canonical string form do not sort as the server\n * sorts them. Specifically the server splits paths into segments first and then\n * sorts, putting end-of-segment before any character. In a UTF-8 string\n * encoding the slash ('/') that denotes the end-of-segment naturally comes\n * after other characters so the intent here is to encode the path delimiters in\n * such a way that the resulting strings sort naturally.\n *\n * Resource paths are also used for prefix scans so it's important to\n * distinguish whole segments from any longer segments of which they might be a\n * prefix. For example, it's important to make it possible to scan documents in\n * a collection \"foo\" without encountering documents in a collection \"foobar\".\n *\n * Separate from the concerns about resource path ordering and separation,\n * On Android, SQLite imposes additional restrictions since it does not handle\n * keys with embedded NUL bytes particularly well. Rather than change the\n * implementation we keep the encoding identical to keep the ports similar.\n *\n * Taken together this means resource paths when encoded for storage in\n * IndexedDB have the following characteristics:\n *\n *   * Segment separators (\"/\") sort before everything else.\n *   * All paths have a trailing separator.\n *   * NUL bytes do not exist in the output, since IndexedDB doesn't treat them\n * well.\n *\n * Therefore resource paths are encoded into string form using the following\n * rules:\n *\n *   * '\\x01' is used as an escape character.\n *   * Path separators are encoded as \"\\x01\\x01\"\n *   * NUL bytes are encoded as \"\\x01\\x10\"\n *   * '\\x01' is encoded as \"\\x01\\x11\"\n *\n * This encoding leaves some room between path separators and the NUL byte\n * just in case we decide to support integer document ids after all.\n *\n * Note that characters treated specially by the backend ('.', '/', and '~')\n * are not treated specially here. This class assumes that any unescaping of\n * resource path strings into actual ResourcePath objects will handle these\n * characters there.\n */\nexport type EncodedResourcePath = string;\n\nconst escapeChar = '\\u0001';\nconst encodedSeparatorChar = '\\u0001';\nconst encodedNul = '\\u0010';\nconst encodedEscape = '\\u0011';\n\n/**\n * Encodes a resource path into a IndexedDb-compatible string form.\n */\nexport function encode(path: ResourcePath): EncodedResourcePath {\n  let result = '';\n  for (let i = 0; i < path.length; i++) {\n    if (result.length > 0) {\n      result = encodeSeparator(result);\n    }\n    result = encodeSegment(path.get(i), result);\n  }\n  return encodeSeparator(result);\n}\n\n/** Encodes a single segment of a resource path into the given result */\nfunction encodeSegment(segment: string, resultBuf: string) {\n  let result = resultBuf;\n  const length = segment.length;\n  for (let i = 0; i < length; i++) {\n    const c = segment.charAt(i);\n    switch (c) {\n      case '\\0':\n        result += escapeChar + encodedNul;\n        break;\n      case escapeChar:\n        result += escapeChar + encodedEscape;\n        break;\n      default:\n        result += c;\n    }\n  }\n  return result;\n}\n\n/** Encodes a path separator into the given result */\nfunction encodeSeparator(result: string): string {\n  return result + escapeChar + encodedSeparatorChar;\n}\n\n/**\n * Decodes the given IndexedDb-compatible string form of a resource path into\n * a ResourcePath instance. Note that this method is not suitable for use with\n * decoding resource names from the server; those are One Platform format\n * strings.\n */\nexport function decode(path: EncodedResourcePath): ResourcePath {\n  // Event the empty path must encode as a path of at least length 2. A path\n  // with exactly 2 must be the empty path.\n  const length = path.length;\n  assert(length >= 2, 'Invalid path ' + path);\n  if (length === 2) {\n    assert(\n      path.charAt(0) === escapeChar && path.charAt(1) === encodedSeparatorChar,\n      'Non-empty path ' + path + ' had length 2'\n    );\n    return ResourcePath.EMPTY_PATH;\n  }\n\n  // Escape characters cannot exist past the second-to-last position in the\n  // source value.\n  const lastReasonableEscapeIndex = length - 2;\n\n  const segments: string[] = [];\n  let segmentBuilder = '';\n\n  for (let start = 0; start < length; ) {\n    // The last two characters of a valid encoded path must be a separator, so\n    // there must be an end to this segment.\n    const end = path.indexOf(escapeChar, start);\n    if (end < 0 || end > lastReasonableEscapeIndex) {\n      fail('Invalid encoded resource path: \"' + path + '\"');\n    }\n\n    const next = path.charAt(end + 1);\n    switch (next) {\n      case encodedSeparatorChar:\n        const currentPiece = path.substring(start, end);\n        let segment;\n        if (segmentBuilder.length === 0) {\n          // Avoid copying for the common case of a segment that excludes \\0\n          // and \\001\n          segment = currentPiece;\n        } else {\n          segmentBuilder += currentPiece;\n          segment = segmentBuilder;\n          segmentBuilder = '';\n        }\n        segments.push(segment);\n        break;\n      case encodedNul:\n        segmentBuilder += path.substring(start, end);\n        segmentBuilder += '\\0';\n        break;\n      case encodedEscape:\n        // The escape character can be used in the output to encode itself.\n        segmentBuilder += path.substring(start, end + 1);\n        break;\n      default:\n        fail('Invalid encoded resource path: \"' + path + '\"');\n    }\n\n    start = end + 2;\n  }\n\n  return new ResourcePath(segments);\n}\n\n/**\n * Computes the prefix successor of the given path, computed by encode above.\n * A prefix successor is the first key that cannot be prefixed by the given\n * path. It's useful for defining the end of a prefix scan such that all keys\n * in the scan have the same prefix.\n *\n * Note that this is not a general prefix successor implementation, which is\n * tricky to get right with Strings, given that they encode down to UTF-8.\n * Instead this relies on the fact that all paths encoded by this class are\n * always terminated with a separator, and so a successor can always be\n * cheaply computed by incrementing the last character of the path.\n */\nexport function prefixSuccessor(path: EncodedResourcePath) {\n  const c = path.charCodeAt(path.length - 1);\n  // TODO(mcg): this really should be a general thing, but not worth it right\n  // now\n  assert(c === 1, 'successor may only operate on paths generated by encode');\n  return path.substring(0, path.length - 1) + String.fromCharCode(c + 1);\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { BatchId } from '../core/types';\nimport { TargetId } from '../core/types';\nimport { ResourcePath } from '../model/path';\nimport { assert } from '../util/assert';\n\nimport { encode, EncodedResourcePath } from './encoded_resource_path';\n\nexport const SCHEMA_VERSION = 1;\n\n/** Performs database creation and (in the future) upgrades between versions. */\nexport function createOrUpgradeDb(db: IDBDatabase, oldVersion: number): void {\n  assert(oldVersion === 0, 'Unexpected upgrade from version ' + oldVersion);\n\n  db.createObjectStore(DbMutationQueue.store, {\n    keyPath: DbMutationQueue.keyPath\n  });\n\n  // TODO(mikelehen): Get rid of \"as any\" if/when TypeScript fixes their\n  // types. https://github.com/Microsoft/TypeScript/issues/14322\n  db.createObjectStore(\n    DbMutationBatch.store,\n    // tslint:disable-next-line:no-any\n    { keyPath: DbMutationBatch.keyPath as any }\n  );\n\n  const targetDocumentsStore = db.createObjectStore(\n    DbTargetDocument.store,\n    // tslint:disable-next-line:no-any\n    { keyPath: DbTargetDocument.keyPath as any }\n  );\n  targetDocumentsStore.createIndex(\n    DbTargetDocument.documentTargetsIndex,\n    DbTargetDocument.documentTargetsKeyPath,\n    { unique: true }\n  );\n\n  const targetStore = db.createObjectStore(DbTarget.store, {\n    keyPath: DbTarget.keyPath\n  });\n  // NOTE: This is unique only because the TargetId is the suffix.\n  targetStore.createIndex(\n    DbTarget.queryTargetsIndexName,\n    DbTarget.queryTargetsKeyPath,\n    { unique: true }\n  );\n\n  // NOTE: keys for these stores are specified explicitly rather than using a\n  // keyPath.\n  db.createObjectStore(DbDocumentMutation.store);\n  db.createObjectStore(DbRemoteDocument.store);\n  db.createObjectStore(DbOwner.store);\n  db.createObjectStore(DbTargetGlobal.store);\n}\n\n/**\n * Wrapper class to store timestamps (seconds and nanos) in IndexedDb objects.\n */\nexport class DbTimestamp {\n  constructor(public seconds: number, public nanos: number) {}\n}\n\n// The key for the singleton object in the 'owner' store is 'owner'.\nexport type DbOwnerKey = 'owner';\n\n/**\n * A singleton object to be stored in the 'owner' store in IndexedDb.\n *\n * A given database can be owned by a single tab at a given time. That tab\n * must validate that it is still the owner before every write operation and\n * should regularly write an updated timestamp to prevent other tabs from\n * \"stealing\" ownership of the db.\n */\nexport class DbOwner {\n  /** Name of the IndexedDb object store. */\n  static store = 'owner';\n\n  constructor(public ownerId: string, public leaseTimestampMs: number) {}\n}\n\n/** Object keys in the 'mutationQueues' store are userId strings. */\nexport type DbMutationQueueKey = string;\n\n/**\n * An object to be stored in the 'mutationQueues' store in IndexedDb.\n *\n * Each user gets a single queue of MutationBatches to apply to the server.\n * DbMutationQueue tracks the metadata about the queue.\n */\nexport class DbMutationQueue {\n  /** Name of the IndexedDb object store.  */\n  static store = 'mutationQueues';\n\n  /** Keys are automatically assigned via the userId property. */\n  static keyPath = 'userId';\n\n  constructor(\n    /**\n     * The normalized user ID to which this queue belongs.\n     */\n    public userId: string,\n    /**\n     * An identifier for the highest numbered batch that has been acknowledged\n     * by the server. All MutationBatches in this queue with batchIds less\n     * than or equal to this value are considered to have been acknowledged by\n     * the server.\n     */\n    public lastAcknowledgedBatchId: number,\n    /**\n     * A stream token that was previously sent by the server.\n     *\n     * See StreamingWriteRequest in datastore.proto for more details about\n     * usage.\n     *\n     * After sending this token, earlier tokens may not be used anymore so\n     * only a single stream token is retained.\n     */\n    public lastStreamToken: string\n  ) {}\n}\n\n/** keys in the 'mutations' object store are [userId, batchId] pairs. */\nexport type DbMutationBatchKey = [string, BatchId];\n\n/**\n * An object to be stored in the 'mutations' store in IndexedDb.\n *\n * Represents a batch of user-level mutations intended to be sent to the server\n * in a single write. Each user-level batch gets a separate DbMutationBatch\n * with a new batchId.\n */\nexport class DbMutationBatch {\n  /** Name of the IndexedDb object store.  */\n  static store = 'mutations';\n\n  /** Keys are automatically assigned via the userId, batchId properties. */\n  static keyPath = ['userId', 'batchId'];\n\n  constructor(\n    /**\n     * The normalized user ID to which this batch belongs.\n     */\n    public userId: string,\n    /**\n     * An identifier for this batch, allocated by the mutation queue in a\n     * monotonically increasing manner.\n     */\n    public batchId: BatchId,\n    /**\n     * The local write time of the batch, stored as milliseconds since the\n     * epoch.\n     */\n    public localWriteTimeMs: number,\n    /**\n     * A list of mutations to apply. All mutations will be applied atomically.\n     *\n     * Mutations are serialized via JsonProtoSerializer.toMutation().\n     */\n    public mutations: api.Write[]\n  ) {}\n}\n\n/**\n * The key for a db document mutation, which is made up of a userID, path, and\n * batchId. Note that the path must be serialized into a form that indexedDB can\n * sort.\n */\nexport type DbDocumentMutationKey = [string, EncodedResourcePath, BatchId];\n\n/**\n * An object to be stored in the 'documentMutations' store in IndexedDb.\n *\n * A manually maintained index of all the mutation batches that affect a given\n * document key. The rows in this table are references based on the contents of\n * DbMutationBatch.mutations.\n */\nexport class DbDocumentMutation {\n  static store = 'documentMutations';\n\n  /**\n   * Creates a [userId] key for use in the DbDocumentMutations index to iterate\n   * over all of a user's document mutations.\n   */\n  static prefixForUser(userId: string): [string] {\n    return [userId];\n  }\n\n  /**\n   * Creates a [userId, encodedPath] key for use in the DbDocumentMutations\n   * index to iterate over all at document mutations for a given path or lower.\n   */\n  static prefixForPath(\n    userId: string,\n    path: ResourcePath\n  ): [string, EncodedResourcePath] {\n    return [userId, encode(path)];\n  }\n\n  /**\n   * Creates a full index key of [userId, encodedPath, batchId] for inserting\n   * and deleting into the DbDocumentMutations index.\n   */\n  static key(\n    userId: string,\n    path: ResourcePath,\n    batchId: BatchId\n  ): DbDocumentMutationKey {\n    return [userId, encode(path), batchId];\n  }\n\n  /**\n   * Because we store all the useful information for this store in the key,\n   * there is no useful information to store as the value. The raw (unencoded)\n   * path cannot be stored because IndexedDb doesn't store prototype\n   * information.\n   */\n  static PLACEHOLDER = new DbDocumentMutation();\n\n  private constructor() {}\n}\n\n/**\n * A key in the 'remoteDocuments' object store is a string array containing the\n * segments that make up the path.\n */\nexport type DbRemoteDocumentKey = string[];\n\n/**\n * Represents the known absence of a document at a particular version.\n * Stored in IndexedDb as part of a DbRemoteDocument object.\n */\nexport class DbNoDocument {\n  constructor(public path: string[], public readTime: DbTimestamp) {}\n}\n\n/**\n * An object to be stored in the 'remoteDocuments' store in IndexedDb. It\n * represents either a cached document (if it exists) or a cached \"no-document\"\n * (if it is known to not exist).\n *\n * Note: This is the persisted equivalent of a MaybeDocument and could perhaps\n * be made more general if necessary.\n */\nexport class DbRemoteDocument {\n  static store = 'remoteDocuments';\n\n  constructor(\n    /**\n     * Set to an instance of a DbNoDocument if it is known that no document\n     * exists.\n     */\n    public noDocument: DbNoDocument | null,\n    /**\n     * Set to an instance of a Document if there's a cached version of the\n     * document.\n     */\n    public document: api.Document | null\n  ) {}\n}\n\n/**\n * A key in the 'targets' object store is a targetId of the query.\n */\nexport type DbTargetKey = TargetId;\n\n/**\n * The persisted type for a query nested with in the 'targets' store in\n * IndexedDb. We use the proto definitions for these two kinds of queries in\n * order to avoid writing extra serialization logic.\n */\nexport type DbQuery = api.QueryTarget | api.DocumentsTarget;\n\n/**\n * An object to be stored in the 'targets' store in IndexedDb.\n *\n * This is based on and should be kept in sync with the proto used in the iOS\n * client.\n *\n * Each query the client listens to against the server is tracked on disk so\n * that the query can be efficiently resumed on restart.\n */\nexport class DbTarget {\n  static store = 'targets';\n\n  /** Keys are automatically assigned via the targetId property. */\n  static keyPath = 'targetId';\n\n  /** The name of the queryTargets index. */\n  static queryTargetsIndexName = 'queryTargetsIndex';\n\n  /**\n   * The index of all canonicalIds to the targets that they match. This is not\n   * a unique mapping because canonicalId does not promise a unique name for all\n   * possible queries, so we append the targetId to make the mapping unique.\n   */\n  static queryTargetsKeyPath = ['canonicalId', 'targetId'];\n\n  constructor(\n    /**\n     * An auto-generated sequential numeric identifier for the query.\n     *\n     * Queries are stored using their canonicalId as the key, but these\n     * canonicalIds can be quite long so we additionally assign a unique\n     * queryId which can be used by referenced data structures (e.g.\n     * indexes) to minimize the on-disk cost.\n     */\n    public targetId: TargetId,\n    /**\n     * The canonical string representing this query. This is not unique.\n     */\n    public canonicalId: string,\n    /**\n     * The last readTime received from the Watch Service for this query.\n     *\n     * This is the same value as TargetChange.read_time in the protos.\n     */\n    public readTime: DbTimestamp,\n    /**\n     * An opaque, server-assigned token that allows watching a query to be\n     * resumed after disconnecting without retransmitting all the data\n     * that matches the query. The resume token essentially identifies a\n     * point in time from which the server should resume sending results.\n     *\n     * This is related to the snapshotVersion in that the resumeToken\n     * effectively also encodes that value, but the resumeToken is opaque\n     * and sometimes encodes additional information.\n     *\n     * A consequence of this is that the resumeToken should be used when\n     * asking the server to reason about where this client is in the watch\n     * stream, but the client should use the snapshotVersion for its own\n     * purposes.\n     *\n     * This is the same value as TargetChange.resume_token in the protos.\n     */\n    public resumeToken: string,\n    /**\n     * A sequence number representing the last time this query was\n     * listened to, used for garbage collection purposes.\n     *\n     * Conventionally this would be a timestamp value, but device-local\n     * clocks are unreliable and they must be able to create new listens\n     * even while disconnected. Instead this should be a monotonically\n     * increasing number that's incremented on each listen call.\n     *\n     * This is different from the queryId since the queryId is an\n     * immutable identifier assigned to the Query on first use while\n     * lastListenSequenceNumber is updated every time the query is\n     * listened to.\n     */\n    public lastListenSequenceNumber: number,\n    /**\n     * The query for this target.\n     *\n     * Because canonical ids are not unique we must store the actual query. We\n     * use the proto to have an object we can persist without having to\n     * duplicate translation logic to and from a `Query` object.\n     */\n    public query: DbQuery\n  ) {}\n}\n\n/**\n * The key for a DbTargetDocument, containing a targetId and an encoded resource\n * path.\n */\nexport type DbTargetDocumentKey = [TargetId, EncodedResourcePath];\n\n/**\n * An object representing an association between a target and a document.\n * Stored in the targetDocument object store to store the documents tracked by a\n * particular target.\n */\nexport class DbTargetDocument {\n  /** Name of the IndexedDb object store.  */\n  static store = 'targetDocuments';\n\n  /** Keys are automatically assigned via the targetId, path properties. */\n  static keyPath = ['targetId', 'path'];\n\n  /** The index name for the reverse index. */\n  static documentTargetsIndex = 'documentTargetsIndex';\n\n  /** We also need to create the reverse index for these properties. */\n  static documentTargetsKeyPath = ['path', 'targetId'];\n\n  constructor(\n    /**\n     * The targetId identifying a target.\n     */\n    public targetId: TargetId,\n    /**\n     * The path to the document, as encoded in the key.\n     */\n    public path: EncodedResourcePath\n  ) {}\n}\n\n/**\n * The type to represent the single allowed key for the DbTargetGlobal store.\n */\nexport type DbTargetGlobalKey = typeof DbTargetGlobal.key;\n\n/**\n * A record of global state tracked across all Targets, tracked separately\n * to avoid the need for extra indexes.\n *\n * This should be kept in-sync with the proto used in the iOS client.\n */\nexport class DbTargetGlobal {\n  /**\n   * The key string used for the single object that exists in the\n   * DbTargetGlobal store.\n   */\n  static key = 'targetGlobalKey';\n  static store = 'targetGlobal';\n\n  constructor(\n    /**\n     * The highest numbered target id across all targets.\n     *\n     * See DbTarget.targetId.\n     */\n    public highestTargetId: TargetId,\n    /**\n     * The highest numbered lastListenSequenceNumber across all targets.\n     *\n     * See DbTarget.lastListenSequenceNumber.\n     */\n    public highestListenSequenceNumber: number,\n    /**\n     * A global snapshot version representing the last consistent snapshot we\n     * received from the backend. This is monotonically increasing and any\n     * snapshots received from the backend prior to this version (e.g. for\n     * targets resumed with a resumeToken) should be suppressed (buffered)\n     * until the backend has caught up to this snapshot version again. This\n     * prevents our cache from ever going backwards in time.\n     */\n    public lastRemoteSnapshotVersion: DbTimestamp\n  ) {}\n}\n\n/**\n * The list of all IndexedDB stored used by the SDK. This is used when creating\n * transactions so that access across all stores is done atomically.\n */\nexport const ALL_STORES = [\n  DbMutationQueue.store,\n  DbMutationBatch.store,\n  DbDocumentMutation.store,\n  DbRemoteDocument.store,\n  DbTarget.store,\n  DbOwner.store,\n  DbTargetGlobal.store,\n  DbTargetDocument.store\n];\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert } from '../util/assert';\nimport { debug } from '../util/log';\nimport { AnyDuringMigration } from '../util/misc';\n\nimport { PersistencePromise } from './persistence_promise';\n\nconst LOG_TAG = 'SimpleDb';\n\n/**\n * Provides a wrapper around IndexedDb with a simplified interface that uses\n * Promise-like return values to chain operations. Real promises cannot be used\n * since .then() continuations are executed asynchronously (e.g. via\n * .setImmediate), which would cause IndexedDB to end the transaction.\n * See PersistencePromise for more details.\n */\nexport class SimpleDb {\n  /** Opens the specified database, creating or upgrading it if necessary. */\n  static openOrCreate(\n    name: string,\n    version: number,\n    runUpgrade: (db: IDBDatabase, oldVersion: number) => void\n  ): Promise<SimpleDb> {\n    assert(\n      SimpleDb.isAvailable(),\n      'IndexedDB not supported in current environment.'\n    );\n    debug(LOG_TAG, 'Opening database:', name);\n    return new PersistencePromise<SimpleDb>((resolve, reject) => {\n      // TODO(mikelehen): Investigate browser compatibility.\n      // https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB\n      // suggests IE9 and older WebKit browsers handle upgrade\n      // differently.\n      const request = window.indexedDB.open(name, version);\n\n      request.onsuccess = (event: Event) => {\n        const db = (event.target as IDBOpenDBRequest).result;\n        resolve(new SimpleDb(db));\n      };\n\n      request.onerror = (event: ErrorEvent) => {\n        reject((event.target as IDBOpenDBRequest).error);\n      };\n\n      request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n        debug(\n          LOG_TAG,\n          'Database \"' + name + '\" requires upgrade from version:',\n          event.oldVersion\n        );\n        // TODO(mikelehen): If/when we need to do an actual data\n        // migration, we'll want to wrap db in a SimpleDb and have the\n        // runUpgrade function return a PersistencePromise, since we'll\n        // likely need to do async reads and writes. For now we're\n        // cheating and just passing the raw IndexedDB in, since\n        // createObjectStore(), etc. are synchronous.\n        const db = (event.target as IDBOpenDBRequest).result;\n        runUpgrade(db, event.oldVersion);\n      };\n    }).toPromise();\n  }\n\n  /** Deletes the specified database. */\n  static delete(name: string): Promise<void> {\n    debug(LOG_TAG, 'Removing database:', name);\n    return wrapRequest<void>(window.indexedDB.deleteDatabase(name)).toPromise();\n  }\n\n  /** Returns true if IndexedDB is available in the current environment. */\n  static isAvailable(): boolean {\n    if (typeof window === 'undefined' || window.indexedDB == null) {\n      return false;\n    }\n    // We extensively use indexed array values and compound keys,\n    // which IE and Edge do not support. However, they still have indexedDB\n    // defined on the window, so we need to check for them here and make sure\n    // to return that persistence is not enabled for those browsers.\n    // For tracking support of this feature, see here:\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/status/indexeddbarraysandmultientrysupport/\n\n    // Check the UA string to find out the browser.\n    const ua = window.navigator.userAgent;\n\n    // IE 10\n    // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n\n    // IE 11\n    // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n\n    // Edge\n    // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,\n    // like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n\n    if (\n      ua.indexOf('MSIE ') > 0 ||\n      ua.indexOf('Trident/') > 0 ||\n      ua.indexOf('Edge/') > 0\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  constructor(private db: IDBDatabase) {}\n\n  runTransaction<T>(\n    mode: 'readonly' | 'readwrite',\n    objectStores: string[],\n    transactionFn: (transaction: SimpleDbTransaction) => PersistencePromise<T>\n  ): Promise<T> {\n    const transaction = new SimpleDbTransaction(this.db, mode, objectStores);\n    const transactionFnResult = transactionFn(transaction)\n      .catch(error => {\n        // Abort the transaction if there was an\n        // error.\n        transaction.abort();\n        return PersistencePromise.reject(error);\n      })\n      .toPromise();\n\n    // Wait for the transaction to complete (i.e. IndexedDb's onsuccess event to\n    // fire), but still return the original transactionFnResult back to the\n    // caller.\n    return transaction.completionPromise.then(\n      () => transactionFnResult\n    ) as AnyDuringMigration;\n  }\n\n  close() {\n    this.db.close();\n  }\n}\n\n/**\n * A controller for iterating over a key range or index. It allows an iterate\n * callback to delete the currently-referenced object, or jump to a new key\n * within the key range or index.\n */\nexport class IterationController {\n  private shouldStop = false;\n  private nextKey: IDBValidKey | IDBKeyRange | null = null;\n\n  constructor(private dbCursor: IDBCursorWithValue) {}\n\n  get isDone(): boolean {\n    return this.shouldStop;\n  }\n\n  get skipToKey(): IDBValidKey | IDBKeyRange | null {\n    return this.nextKey;\n  }\n\n  set cursor(value: IDBCursorWithValue) {\n    this.dbCursor = value;\n  }\n\n  /**\n   * This function can be called to stop iteration at any point.\n   */\n  done(): void {\n    this.shouldStop = true;\n  }\n\n  /**\n   * This function can be called to skip to that next key, which could be\n   * an index or a primary key.\n   */\n  skip(key: IDBValidKey | IDBKeyRange): void {\n    this.nextKey = key;\n  }\n\n  /**\n   * Delete the current cursor value from the object store.\n   *\n   * NOTE: You CANNOT do this with a keysOnly query.\n   */\n  delete(): PersistencePromise<void> {\n    return wrapRequest<void>(this.dbCursor.delete());\n  }\n}\n\n/**\n * Callback used with iterate() method.\n */\nexport type IterateCallback<KeyType, ValueType> = (\n  key: KeyType,\n  value: ValueType,\n  control: IterationController\n) => void | PersistencePromise<void>;\n\n/** Options available to the iterate() method. */\nexport interface IterateOptions {\n  /** Index to iterate over (else primary keys will be iterated) */\n  index?: string;\n\n  /** IndxedDB Range to iterate over (else entire store will be iterated) */\n  range?: IDBKeyRange;\n\n  /** If true, values aren't read while iterating. */\n  keysOnly?: boolean;\n\n  /** If true, iterate over the store in reverse. */\n  reverse?: boolean;\n}\n\n/**\n * Wraps an IDBTransaction and exposes a store() method to get a handle to a\n * specific object store.\n */\nexport class SimpleDbTransaction {\n  private transaction: IDBTransaction;\n  private aborted = false;\n\n  /**\n   * A promise that resolves with the result of the IndexedDb transaction.\n   *\n   * Note: A transaction explicitly aborted via abort() is considered successful\n   * and this promise will resolve as successful.\n   */\n  readonly completionPromise: Promise<void>;\n\n  constructor(db: IDBDatabase, mode: string, objectStoresNames: string[]) {\n    this.transaction = db.transaction(\n      objectStoresNames,\n      mode as AnyDuringMigration\n    );\n\n    this.completionPromise = new Promise<void>((resolve, reject) => {\n      // We consider aborting to be \"normal\" and just resolve the promise.\n      // May need to revisit if/when we actually need to abort transactions.\n      this.transaction.onabort = this.transaction.oncomplete = event => {\n        resolve();\n      };\n      this.transaction.onerror = (event: Event) => {\n        reject((event.target as IDBRequest).error);\n      };\n    });\n  }\n\n  abort(): void {\n    if (!this.aborted) {\n      debug(LOG_TAG, 'Aborting transaction.');\n      this.aborted = true;\n      this.transaction.abort();\n    }\n  }\n\n  /**\n   * Returns a SimpleDbStore<KeyType, ValueType> for the specified store. All\n   * operations performed on the SimpleDbStore happen within the context of this\n   * transaction and it cannot be used anymore once the transaction is\n   * completed.\n   *\n   * Note that we can't actually enforce that the KeyType and ValueType are\n   * correct, but they allow type safety through the rest of the consuming code.\n   */\n  store<KeyType extends IDBValidKey, ValueType>(\n    storeName: string\n  ): SimpleDbStore<KeyType, ValueType> {\n    const store = this.transaction.objectStore(storeName);\n    assert(!!store, 'Object store not part of transaction: ' + storeName);\n    return new SimpleDbStore<KeyType, ValueType>(store);\n  }\n}\n\n/**\n * A wrapper around an IDBObjectStore providing an API that:\n *\n * 1) Has generic KeyType / ValueType parameters to provide strongly-typed\n * methods for acting against the object store.\n * 2) Deals with IndexedDB's onsuccess / onerror event callbacks, making every\n * method return a PersistencePromise instead.\n * 3) Provides a higher-level API to avoid needing to do excessive wrapping of\n * intermediate IndexedDB types (IDBCursorWithValue, etc.)\n */\nexport class SimpleDbStore<KeyType extends IDBValidKey, ValueType> {\n  constructor(private store: IDBObjectStore) {}\n\n  /**\n   * Writes a value into the Object Store.\n   *\n   * @param key Optional explicit key to use when writing the object, else the\n   * key will be auto-assigned (e.g. via the defined keyPath for the store).\n   * @param value The object to write.\n   */\n  put(value: ValueType): PersistencePromise<void>;\n  put(key: KeyType, value: ValueType): PersistencePromise<void>;\n  put(\n    keyOrValue: KeyType | ValueType,\n    value?: ValueType\n  ): PersistencePromise<void> {\n    let request;\n    if (value !== undefined) {\n      debug(LOG_TAG, 'PUT', this.store.name, keyOrValue, value);\n      request = this.store.put(value, keyOrValue as KeyType);\n    } else {\n      debug(LOG_TAG, 'PUT', this.store.name, '<auto-key>', keyOrValue);\n      request = this.store.put(keyOrValue as ValueType);\n    }\n    return wrapRequest<void>(request);\n  }\n\n  /**\n   * Gets the object with the specified key from the specified store, or null\n   * if no object exists with the specified key.\n   *\n   * @key The key of the object to get.\n   * @return The object with the specified key or null if no object exists.\n   */\n  get(key: KeyType): PersistencePromise<ValueType | null> {\n    const request = this.store.get(key);\n    // tslint:disable-next-line:no-any We're doing an unsafe cast to ValueType.\n    return wrapRequest<any>(request).next(result => {\n      // Normalize nonexistence to null.\n      if (result === undefined) {\n        result = null;\n      }\n      debug(LOG_TAG, 'GET', this.store.name, key, result);\n      return result;\n    });\n  }\n\n  delete(key: KeyType | IDBKeyRange): PersistencePromise<void> {\n    debug(LOG_TAG, 'DELETE', this.store.name, key);\n    const request = this.store.delete(key);\n    return wrapRequest<void>(request);\n  }\n\n  loadAll(): PersistencePromise<ValueType[]>;\n  loadAll(range: IDBKeyRange): PersistencePromise<ValueType[]>;\n  loadAll(index: string, range: IDBKeyRange): PersistencePromise<ValueType[]>;\n  loadAll(\n    indexOrRange?: string | IDBKeyRange,\n    range?: IDBKeyRange\n  ): PersistencePromise<ValueType[]> {\n    const cursor = this.cursor(this.options(indexOrRange, range));\n    const results: ValueType[] = [];\n    return this.iterateCursor(cursor, (key, value) => {\n      results.push(value);\n    }).next(() => {\n      return results;\n    });\n  }\n\n  deleteAll(): PersistencePromise<void>;\n  deleteAll(range: IDBKeyRange): PersistencePromise<void>;\n  deleteAll(index: string, range: IDBKeyRange): PersistencePromise<void>;\n  deleteAll(\n    indexOrRange?: string | IDBKeyRange,\n    range?: IDBKeyRange\n  ): PersistencePromise<void> {\n    debug(LOG_TAG, 'DELETE ALL', this.store.name);\n    const options = this.options(indexOrRange, range);\n    options.keysOnly = false;\n    const cursor = this.cursor(options);\n    return this.iterateCursor(cursor, (key, value, control) => {\n      // NOTE: Calling delete() on a cursor is documented as more efficient than\n      // calling delete() on an object store with a single key\n      // (https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/delete),\n      // however, this requires us *not* to use a keysOnly cursor\n      // (https://developer.mozilla.org/en-US/docs/Web/API/IDBCursor/delete). We\n      // may want to compare the performance of each method.\n      return control.delete();\n    });\n  }\n\n  /**\n   * Iterates over keys and values in an object store.\n   *\n   * @param options Options specifying how to iterate the objects in the store.\n   * @param callback will be called for each iterated object. Iteration can be\n   * canceled at any point by calling the doneFn passed to the callback.\n   * The callback can return a PersistencePromise if it performs async\n   * operations but note that iteration will continue without waiting for them\n   * to complete.\n   * @returns A PersistencePromise that resolves once all PersistencePromises\n   * returned by callbacks resolve.\n   */\n  iterate(\n    callback: IterateCallback<KeyType, ValueType>\n  ): PersistencePromise<void>;\n  iterate(\n    options: IterateOptions,\n    callback: IterateCallback<KeyType, ValueType>\n  ): PersistencePromise<void>;\n  iterate(\n    optionsOrCallback: IterateOptions | IterateCallback<KeyType, ValueType>,\n    callback?: IterateCallback<KeyType, ValueType>\n  ): PersistencePromise<void> {\n    let options;\n    if (!callback) {\n      options = {};\n      callback = optionsOrCallback as IterateCallback<KeyType, ValueType>;\n    } else {\n      options = optionsOrCallback;\n    }\n    const cursor = this.cursor(options);\n    return this.iterateCursor(cursor, callback);\n  }\n\n  private iterateCursor(\n    cursorRequest: IDBRequest,\n    fn: IterateCallback<KeyType, ValueType>\n  ): PersistencePromise<void> {\n    const results: Array<PersistencePromise<void>> = [];\n    return new PersistencePromise((resolve, reject) => {\n      cursorRequest.onerror = (event: Event) => {\n        reject((event.target as IDBRequest).error);\n      };\n      cursorRequest.onsuccess = (event: Event) => {\n        const cursor: IDBCursorWithValue = (event.target as IDBRequest).result;\n        if (!cursor) {\n          resolve();\n          return;\n        }\n        const controller = new IterationController(cursor);\n        const userResult = fn(cursor.primaryKey, cursor.value, controller);\n        if (userResult instanceof PersistencePromise) {\n          results.push(userResult);\n        }\n        if (controller.isDone) {\n          resolve();\n        } else if (controller.skipToKey === null) {\n          cursor.continue();\n        } else {\n          cursor.continue(controller.skipToKey);\n        }\n      };\n    }).next(() => {\n      return PersistencePromise.waitFor(results);\n    });\n  }\n\n  private options(\n    indexOrRange?: string | IDBKeyRange,\n    range?: IDBKeyRange\n  ): IterateOptions {\n    let indexName: string | undefined = undefined;\n    if (indexOrRange !== undefined) {\n      if (typeof indexOrRange === 'string') {\n        indexName = indexOrRange;\n      } else {\n        assert(\n          range === undefined,\n          '3rd argument must not be defined if 2nd is a range.'\n        );\n        range = indexOrRange;\n      }\n    }\n    return { index: indexName, range };\n  }\n\n  private cursor(options: IterateOptions): IDBRequest {\n    let direction = 'next';\n    if (options.reverse) {\n      direction = 'prev';\n    }\n    if (options.index) {\n      const index = this.store.index(options.index);\n      if (options.keysOnly) {\n        return index.openKeyCursor(\n          options.range,\n          direction as AnyDuringMigration\n        );\n      } else {\n        return index.openCursor(options.range, direction as AnyDuringMigration);\n      }\n    } else {\n      return this.store.openCursor(\n        options.range,\n        direction as AnyDuringMigration\n      );\n    }\n  }\n}\n\n/**\n * Wraps an IDBRequest in a PersistencePromise, using the onsuccess / onerror\n * handlers to resolve / reject the PersistencePromise as appropriate.\n */\nfunction wrapRequest<R>(request: IDBRequest): PersistencePromise<R> {\n  return new PersistencePromise<R>((resolve, reject) => {\n    request.onsuccess = (event: Event) => {\n      const result = (event.target as IDBRequest).result;\n      resolve(result);\n    };\n\n    request.onerror = (event: Event) => {\n      reject((event.target as IDBRequest).error);\n    };\n  });\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { Query } from '../core/query';\nimport { Timestamp } from '../core/timestamp';\nimport { BatchId, ProtoByteString } from '../core/types';\nimport { DocumentKey } from '../model/document_key';\nimport { Mutation } from '../model/mutation';\nimport { BATCHID_UNKNOWN, MutationBatch } from '../model/mutation_batch';\nimport { ResourcePath } from '../model/path';\nimport { assert, fail } from '../util/assert';\nimport { immediatePredecessor, primitiveComparator } from '../util/misc';\nimport { SortedSet } from '../util/sorted_set';\n\nimport * as EncodedResourcePath from './encoded_resource_path';\nimport { GarbageCollector } from './garbage_collector';\nimport {\n  DbDocumentMutation,\n  DbDocumentMutationKey,\n  DbMutationBatch,\n  DbMutationBatchKey,\n  DbMutationQueue,\n  DbMutationQueueKey\n} from './indexeddb_schema';\nimport { LocalSerializer } from './local_serializer';\nimport { MutationQueue } from './mutation_queue';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { SimpleDbStore, SimpleDbTransaction } from './simple_db';\n\n/** A mutation queue for a specific user, backed by IndexedDB. */\nexport class IndexedDbMutationQueue implements MutationQueue {\n  /**\n   * Next value to use when assigning sequential IDs to each mutation batch.\n   *\n   * NOTE: There can only be one IndexedDbMutationQueue for a given db at a\n   * time, hence it is safe to track nextBatchID as an instance-level property.\n   * Should we ever relax this constraint we'll need to revisit this.\n   */\n  private nextBatchId: BatchId;\n\n  /**\n   * A write-through cache copy of the metadata describing the current queue.\n   */\n  private metadata: DbMutationQueue;\n\n  private garbageCollector: GarbageCollector | null = null;\n\n  constructor(\n    /**\n     * The normalized userId (e.g. null UID => \"\" userId) used to store /\n     * retrieve mutations.\n     */\n    private userId: string,\n    private serializer: LocalSerializer\n  ) {}\n\n  /**\n   * Creates a new mutation queue for the given user.\n   * @param user The user for which to create a mutation queue.\n   * @param serializer The serializer to use when persisting to IndexedDb.\n   */\n  static forUser(user: User, serializer: LocalSerializer) {\n    // TODO(mcg): Figure out what constraints there are on userIDs\n    // In particular, are there any reserved characters? are empty ids allowed?\n    // For the moment store these together in the same mutations table assuming\n    // that empty userIDs aren't allowed.\n    assert(user.uid !== '', 'UserID must not be an empty string.');\n    const userId = user.isUnauthenticated() ? '' : user.uid!;\n    return new IndexedDbMutationQueue(userId, serializer);\n  }\n\n  start(transaction: PersistenceTransaction): PersistencePromise<void> {\n    return IndexedDbMutationQueue.loadNextBatchIdFromDb(transaction)\n      .next(nextBatchId => {\n        this.nextBatchId = nextBatchId;\n        return mutationQueuesStore(transaction).get(this.userId);\n      })\n      .next((metadata: DbMutationQueue | null) => {\n        if (!metadata) {\n          metadata = new DbMutationQueue(\n            this.userId,\n            BATCHID_UNKNOWN,\n            /*lastStreamToken=*/ ''\n          );\n        }\n        this.metadata = metadata;\n\n        // On restart, nextBatchId may end up lower than\n        // lastAcknowledgedBatchId since it's computed from the queue\n        // contents, and there may be no mutations in the queue. In this\n        // case, we need to reset lastAcknowledgedBatchId (which is safe\n        // since the queue must be empty).\n        if (this.metadata.lastAcknowledgedBatchId >= this.nextBatchId) {\n          return this.checkEmpty(transaction).next(empty => {\n            assert(\n              empty,\n              'Reset nextBatchID is only possible when the queue is empty'\n            );\n\n            this.metadata.lastAcknowledgedBatchId = BATCHID_UNKNOWN;\n            return mutationQueuesStore(transaction).put(this.metadata);\n          });\n        } else {\n          return PersistencePromise.resolve();\n        }\n      });\n  }\n\n  /**\n   * Returns one larger than the largest batch ID that has been stored. If there\n   * are no mutations returns 0. Note that batch IDs are global.\n   */\n  static loadNextBatchIdFromDb(\n    txn: PersistenceTransaction\n  ): PersistencePromise<BatchId> {\n    let maxBatchId = BATCHID_UNKNOWN;\n    return mutationsStore(txn)\n      .iterate({ reverse: true }, (key, batch, control) => {\n        const [userId, batchId] = key;\n        if (batchId > maxBatchId) {\n          maxBatchId = batch.batchId;\n        }\n\n        if (userId === '') {\n          // We can't compute a predecessor for the empty string, since it\n          // is lexographically first. That also means that no other\n          // userIds can come before this one, so we can just exit early.\n          control.done();\n        } else {\n          const nextUser = immediatePredecessor(userId);\n          control.skip([nextUser]);\n        }\n      })\n      .next(() => maxBatchId + 1);\n  }\n\n  checkEmpty(transaction: PersistenceTransaction): PersistencePromise<boolean> {\n    let empty = true;\n    const range = IDBKeyRange.bound(\n      this.keyForBatchId(Number.NEGATIVE_INFINITY),\n      this.keyForBatchId(Number.POSITIVE_INFINITY)\n    );\n    return mutationsStore(transaction)\n      .iterate({ range }, (key, value, control) => {\n        empty = false;\n        control.done();\n      })\n      .next(() => empty);\n  }\n\n  getNextBatchId(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<BatchId> {\n    return PersistencePromise.resolve(this.nextBatchId);\n  }\n\n  getHighestAcknowledgedBatchId(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<BatchId> {\n    return PersistencePromise.resolve(this.metadata.lastAcknowledgedBatchId);\n  }\n\n  acknowledgeBatch(\n    transaction: PersistenceTransaction,\n    batch: MutationBatch,\n    streamToken: ProtoByteString\n  ): PersistencePromise<void> {\n    const batchId = batch.batchId;\n    assert(\n      batchId > this.metadata.lastAcknowledgedBatchId,\n      'Mutation batchIDs must be acknowledged in order'\n    );\n\n    this.metadata.lastAcknowledgedBatchId = batchId;\n    this.metadata.lastStreamToken = validateStreamToken(streamToken);\n\n    return mutationQueuesStore(transaction).put(this.metadata);\n  }\n\n  getLastStreamToken(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<ProtoByteString> {\n    return PersistencePromise.resolve(this.metadata.lastStreamToken);\n  }\n\n  setLastStreamToken(\n    transaction: PersistenceTransaction,\n    streamToken: ProtoByteString\n  ): PersistencePromise<void> {\n    this.metadata.lastStreamToken = validateStreamToken(streamToken);\n    return mutationQueuesStore(transaction).put(this.metadata);\n  }\n\n  addMutationBatch(\n    transaction: PersistenceTransaction,\n    localWriteTime: Timestamp,\n    mutations: Mutation[]\n  ): PersistencePromise<MutationBatch> {\n    const batchId = this.nextBatchId;\n    this.nextBatchId++;\n    const batch = new MutationBatch(batchId, localWriteTime, mutations);\n\n    const dbBatch = this.serializer.toDbMutationBatch(this.userId, batch);\n\n    return mutationsStore(transaction)\n      .put(dbBatch)\n      .next(() => {\n        const promises: Array<PersistencePromise<void>> = [];\n        for (const mutation of mutations) {\n          const encodedPath = EncodedResourcePath.encode(mutation.key.path);\n          const indexKey = DbDocumentMutation.key(\n            this.userId,\n            mutation.key.path,\n            batchId\n          );\n          documentMutationsStore(transaction).put(\n            indexKey,\n            DbDocumentMutation.PLACEHOLDER\n          );\n        }\n        return PersistencePromise.waitFor(promises);\n      })\n      .next(() => {\n        return batch;\n      });\n  }\n\n  lookupMutationBatch(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch | null> {\n    return mutationsStore(transaction)\n      .get(this.keyForBatchId(batchId))\n      .next(\n        dbBatch =>\n          dbBatch ? this.serializer.fromDbMutationBatch(dbBatch) : null\n      );\n  }\n\n  getNextMutationBatchAfterBatchId(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch | null> {\n    const range = IDBKeyRange.lowerBound(this.keyForBatchId(batchId + 1));\n    let foundBatch: MutationBatch | null = null;\n    return mutationsStore(transaction)\n      .iterate({ range }, (key, dbBatch, control) => {\n        if (dbBatch.userId === this.userId) {\n          assert(\n            dbBatch.batchId > batchId,\n            'Should have found mutation after ' + batchId\n          );\n          foundBatch = this.serializer.fromDbMutationBatch(dbBatch);\n        }\n        control.done();\n      })\n      .next(() => foundBatch);\n  }\n\n  getAllMutationBatches(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<MutationBatch[]> {\n    const range = IDBKeyRange.bound(\n      this.keyForBatchId(BATCHID_UNKNOWN),\n      this.keyForBatchId(Number.POSITIVE_INFINITY)\n    );\n    return mutationsStore(transaction)\n      .loadAll(range)\n      .next(dbBatches =>\n        dbBatches.map(dbBatch => this.serializer.fromDbMutationBatch(dbBatch))\n      );\n  }\n\n  getAllMutationBatchesThroughBatchId(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch[]> {\n    const range = IDBKeyRange.bound(\n      this.keyForBatchId(BATCHID_UNKNOWN),\n      this.keyForBatchId(batchId)\n    );\n    return mutationsStore(transaction)\n      .loadAll(range)\n      .next(dbBatches =>\n        dbBatches.map(dbBatch => this.serializer.fromDbMutationBatch(dbBatch))\n      );\n  }\n\n  getAllMutationBatchesAffectingDocumentKey(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<MutationBatch[]> {\n    // Scan the document-mutation index starting with a prefix starting with\n    // the given documentKey.\n    const indexPrefix = DbDocumentMutation.prefixForPath(\n      this.userId,\n      documentKey.path\n    );\n    const indexStart = IDBKeyRange.lowerBound(indexPrefix);\n\n    const results: MutationBatch[] = [];\n    return documentMutationsStore(transaction)\n      .iterate({ range: indexStart }, (indexKey, _, control) => {\n        const [userID, encodedPath, batchID] = indexKey;\n\n        // Only consider rows matching exactly the specific key of\n        // interest. Note that because we order by path first, and we\n        // order terminators before path separators, we'll encounter all\n        // the index rows for documentKey contiguously. In particular, all\n        // the rows for documentKey will occur before any rows for\n        // documents nested in a subcollection beneath documentKey so we\n        // can stop as soon as we hit any such row.\n        const path = EncodedResourcePath.decode(encodedPath);\n        if (userID !== this.userId || !documentKey.path.isEqual(path)) {\n          control.done();\n          return;\n        }\n        const mutationKey = this.keyForBatchId(batchID);\n        // Look up the mutation batch in the store.\n        // PORTING NOTE: because iteration is callback driven in the web,\n        // we just look up the key instead of keeping an open iterator\n        // like iOS.\n        return mutationsStore(transaction)\n          .get(mutationKey)\n          .next(dbBatch => {\n            if (dbBatch === null) {\n              fail(\n                'Dangling document-mutation reference found: ' +\n                  indexKey +\n                  ' which points to ' +\n                  mutationKey\n              );\n            }\n            results.push(this.serializer.fromDbMutationBatch(dbBatch!));\n          });\n      })\n      .next(() => results);\n  }\n\n  getAllMutationBatchesAffectingQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<MutationBatch[]> {\n    assert(\n      !query.isDocumentQuery(),\n      \"Document queries shouldn't go down this path\"\n    );\n\n    const queryPath = query.path;\n    const immediateChildrenLength = queryPath.length + 1;\n\n    // TODO(mcg): Actually implement a single-collection query\n    //\n    // This is actually executing an ancestor query, traversing the whole\n    // subtree below the collection which can be horrifically inefficient for\n    // some structures. The right way to solve this is to implement the full\n    // value index, but that's not in the cards in the near future so this is\n    // the best we can do for the moment.\n    //\n    // Since we don't yet index the actual properties in the mutations, our\n    // current approach is to just return all mutation batches that affect\n    // documents in the collection being queried.\n    const indexPrefix = DbDocumentMutation.prefixForPath(\n      this.userId,\n      queryPath\n    );\n    const encodedQueryPath = indexPrefix[1];\n    const indexStart = IDBKeyRange.lowerBound(indexPrefix);\n\n    // Collect up unique batchIDs encountered during a scan of the index. Use a\n    // SortedSet to accumulate batch IDs so they can be traversed in order in a\n    // scan of the main table.\n    let uniqueBatchIDs = new SortedSet<BatchId>(primitiveComparator);\n    return documentMutationsStore(transaction)\n      .iterate({ range: indexStart }, (indexKey, _, control) => {\n        const [userID, encodedPath, batchID] = indexKey;\n        const path = EncodedResourcePath.decode(encodedPath);\n        if (userID !== this.userId || !queryPath.isPrefixOf(path)) {\n          control.done();\n          return;\n        }\n        // Rows with document keys more than one segment longer than the\n        // query path can't be matches. For example, a query on 'rooms'\n        // can't match the document /rooms/abc/messages/xyx.\n        // TODO(mcg): we'll need a different scanner when we implement\n        // ancestor queries.\n        if (path.length !== immediateChildrenLength) {\n          return;\n        }\n        uniqueBatchIDs = uniqueBatchIDs.add(batchID);\n      })\n      .next(() => {\n        const results: MutationBatch[] = [];\n        const promises: Array<PersistencePromise<void>> = [];\n        // TODO(rockwood): Implement this using iterate.\n        uniqueBatchIDs.forEach(batchID => {\n          const mutationKey = this.keyForBatchId(batchID);\n          promises.push(\n            mutationsStore(transaction)\n              .get(mutationKey)\n              .next(mutation => {\n                if (mutation === null) {\n                  fail(\n                    'Dangling document-mutation reference found, ' +\n                      'which points to ' +\n                      mutationKey\n                  );\n                }\n                results.push(this.serializer.fromDbMutationBatch(mutation!));\n              })\n          );\n        });\n        return PersistencePromise.waitFor(promises).next(() => results);\n      });\n  }\n\n  removeMutationBatches(\n    transaction: PersistenceTransaction,\n    batches: MutationBatch[]\n  ): PersistencePromise<void> {\n    const txn = mutationsStore(transaction);\n    const indexTxn = documentMutationsStore(transaction);\n    const promises: Array<PersistencePromise<void>> = [];\n\n    for (const batch of batches) {\n      const range = IDBKeyRange.only(this.keyForBatchId(batch.batchId));\n      let numDeleted = 0;\n      const removePromise = txn.iterate({ range }, (key, value, control) => {\n        numDeleted++;\n        return control.delete();\n      });\n      promises.push(\n        removePromise.next(() => {\n          assert(\n            numDeleted === 1,\n            'Dangling document-mutation reference found: Missing batch ' +\n              batch.batchId\n          );\n        })\n      );\n      for (const mutation of batch.mutations) {\n        const indexKey = DbDocumentMutation.key(\n          this.userId,\n          mutation.key.path,\n          batch.batchId\n        );\n        promises.push(indexTxn.delete(indexKey));\n        if (this.garbageCollector !== null) {\n          this.garbageCollector.addPotentialGarbageKey(mutation.key);\n        }\n      }\n    }\n    return PersistencePromise.waitFor(promises);\n  }\n\n  performConsistencyCheck(\n    txn: PersistenceTransaction\n  ): PersistencePromise<void> {\n    return this.checkEmpty(txn).next(empty => {\n      if (!empty) {\n        return PersistencePromise.resolve();\n      }\n\n      // Verify that there are no entries in the documentMutations index if\n      // the queue is empty.\n      const startRange = IDBKeyRange.lowerBound(\n        DbDocumentMutation.prefixForUser(this.userId)\n      );\n      const danglingMutationReferences: ResourcePath[] = [];\n      return documentMutationsStore(txn)\n        .iterate({ range: startRange }, (key, _, control) => {\n          const userID = key[0];\n          if (userID !== this.userId) {\n            control.done();\n            return;\n          } else {\n            const path = EncodedResourcePath.decode(key[1]);\n            danglingMutationReferences.push(path);\n          }\n        })\n        .next(() => {\n          assert(\n            danglingMutationReferences.length === 0,\n            'Document leak -- detected dangling mutation references when queue is empty. Dangling keys: ' +\n              danglingMutationReferences.map(p => p.canonicalString())\n          );\n        });\n    });\n  }\n\n  setGarbageCollector(gc: GarbageCollector | null): void {\n    this.garbageCollector = gc;\n  }\n\n  containsKey(\n    txn: PersistenceTransaction,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    const indexKey = DbDocumentMutation.prefixForPath(this.userId, key.path);\n    const encodedPath = indexKey[1];\n    const startRange = IDBKeyRange.lowerBound(indexKey);\n    let containsKey = false;\n    return documentMutationsStore(txn)\n      .iterate({ range: startRange, keysOnly: true }, (key, _, control) => {\n        const [userID, keyPath, batchID] = key;\n        if (userID === this.userId && keyPath === encodedPath) {\n          containsKey = true;\n        }\n        control.done();\n      })\n      .next(() => containsKey);\n  }\n\n  /**\n   * Creates a [userId, batchId] key for use with the DbMutationQueue object\n   * store.\n   */\n  private keyForBatchId(batchId: BatchId): DbMutationBatchKey {\n    return [this.userId, batchId];\n  }\n}\n\nfunction validateStreamToken(token: ProtoByteString): string {\n  assert(\n    typeof token === 'string',\n    'Persisting non-string stream token not supported.'\n  );\n  return token as string;\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the mutations object store.\n */\nfunction mutationsStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbMutationBatchKey, DbMutationBatch> {\n  return getStore<DbMutationBatchKey, DbMutationBatch>(\n    txn,\n    DbMutationBatch.store\n  );\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the mutationQueues object store.\n */\nfunction documentMutationsStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbDocumentMutationKey, DbDocumentMutation> {\n  return getStore<DbDocumentMutationKey, DbDocumentMutation>(\n    txn,\n    DbDocumentMutation.store\n  );\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the mutationQueues object store.\n */\nfunction mutationQueuesStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbMutationQueueKey, DbMutationQueue> {\n  return getStore<DbMutationQueueKey, DbMutationQueue>(\n    txn,\n    DbMutationQueue.store\n  );\n}\n\n/**\n * Helper to get a typed SimpleDbStore from a transaction.\n */\nfunction getStore<KeyType extends IDBValidKey, ValueType>(\n  txn: PersistenceTransaction,\n  store: string\n): SimpleDbStore<KeyType, ValueType> {\n  if (txn instanceof SimpleDbTransaction) {\n    return txn.store<KeyType, ValueType>(store);\n  } else {\n    return fail('Invalid transaction object provided!');\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Timestamp } from '../core/timestamp';\nimport { TargetId } from '../core/types';\nimport { DocumentKeySet, documentKeySet } from '../model/collections';\nimport { DocumentKey } from '../model/document_key';\nimport { assert, fail } from '../util/assert';\nimport { immediateSuccessor } from '../util/misc';\n\nimport * as EncodedResourcePath from './encoded_resource_path';\nimport { GarbageCollector } from './garbage_collector';\nimport {\n  DbQuery,\n  DbTarget,\n  DbTargetDocument,\n  DbTargetDocumentKey,\n  DbTargetGlobal,\n  DbTargetGlobalKey,\n  DbTargetKey,\n  DbTimestamp\n} from './indexeddb_schema';\nimport { LocalSerializer } from './local_serializer';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { QueryCache } from './query_cache';\nimport { QueryData } from './query_data';\nimport { SimpleDbStore, SimpleDbTransaction } from './simple_db';\n\nexport class IndexedDbQueryCache implements QueryCache {\n  constructor(private serializer: LocalSerializer) {}\n\n  /**\n   * The last received snapshot version. We store this seperately from the\n   * metadata to avoid the extra conversion to/from DbTimestamp.\n   */\n  private lastRemoteSnapshotVersion = SnapshotVersion.MIN;\n\n  /**\n   * A cached copy of the metadata for the query cache.\n   */\n  private metadata = new DbTargetGlobal(\n    /*highestTargetId=*/ 0,\n    /*lastListenSequenceNumber=*/ 0,\n    SnapshotVersion.MIN.toTimestamp()\n  );\n\n  /** The garbage collector to notify about potential garbage keys. */\n  private garbageCollector: GarbageCollector | null = null;\n\n  start(transaction: PersistenceTransaction): PersistencePromise<void> {\n    return globalTargetStore(transaction)\n      .get(DbTargetGlobal.key)\n      .next(metadata => {\n        if (metadata !== null) {\n          this.metadata = metadata;\n          const lastSavedVersion = metadata.lastRemoteSnapshotVersion;\n          this.lastRemoteSnapshotVersion = SnapshotVersion.fromTimestamp(\n            new Timestamp(lastSavedVersion.seconds, lastSavedVersion.nanos)\n          );\n        }\n        return PersistencePromise.resolve();\n      });\n  }\n\n  getHighestTargetId(): TargetId {\n    return this.metadata.highestTargetId;\n  }\n\n  getLastRemoteSnapshotVersion(): SnapshotVersion {\n    return this.lastRemoteSnapshotVersion;\n  }\n\n  setLastRemoteSnapshotVersion(\n    transaction: PersistenceTransaction,\n    snapshotVersion: SnapshotVersion\n  ): PersistencePromise<void> {\n    this.lastRemoteSnapshotVersion = snapshotVersion;\n    this.metadata.lastRemoteSnapshotVersion = snapshotVersion.toTimestamp();\n    return globalTargetStore(transaction).put(\n      DbTargetGlobal.key,\n      this.metadata\n    );\n  }\n\n  addQueryData(\n    transaction: PersistenceTransaction,\n    queryData: QueryData\n  ): PersistencePromise<void> {\n    const targetId = queryData.targetId;\n    const addedQueryPromise = targetsStore(transaction).put(\n      this.serializer.toDbTarget(queryData)\n    );\n    if (targetId > this.metadata.highestTargetId) {\n      this.metadata.highestTargetId = targetId;\n      return addedQueryPromise.next(() =>\n        globalTargetStore(transaction).put(DbTargetGlobal.key, this.metadata)\n      );\n    } else {\n      return addedQueryPromise;\n    }\n  }\n\n  removeQueryData(\n    transaction: PersistenceTransaction,\n    queryData: QueryData\n  ): PersistencePromise<void> {\n    return this.removeMatchingKeysForTargetId(\n      transaction,\n      queryData.targetId\n    ).next(() => {\n      targetsStore(transaction).delete(queryData.targetId);\n    });\n  }\n\n  getQueryData(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<QueryData | null> {\n    // Iterating by the canonicalId may yield more than one result because\n    // canonicalId values are not required to be unique per target. This query\n    // depends on the queryTargets index to be efficent.\n    const canonicalId = query.canonicalId();\n    const range = IDBKeyRange.bound(\n      [canonicalId, Number.NEGATIVE_INFINITY],\n      [canonicalId, Number.POSITIVE_INFINITY]\n    );\n    let result: QueryData | null = null;\n    return targetsStore(transaction)\n      .iterate(\n        { range, index: DbTarget.queryTargetsIndexName },\n        (key, value, control) => {\n          const found = this.serializer.fromDbTarget(value);\n          // After finding a potential match, check that the query is\n          // actually equal to the requested query.\n          if (query.isEqual(found.query)) {\n            result = found;\n            control.done();\n          }\n        }\n      )\n      .next(() => result);\n  }\n\n  addMatchingKeys(\n    txn: PersistenceTransaction,\n    keys: DocumentKeySet,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    // PORTING NOTE: The reverse index (documentsTargets) is maintained by\n    // Indexeddb.\n    const promises: Array<PersistencePromise<void>> = [];\n    const store = documentTargetStore(txn);\n    keys.forEach(key => {\n      const path = EncodedResourcePath.encode(key.path);\n      promises.push(store.put(new DbTargetDocument(targetId, path)));\n    });\n    return PersistencePromise.waitFor(promises);\n  }\n\n  removeMatchingKeys(\n    txn: PersistenceTransaction,\n    keys: DocumentKeySet,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    // PORTING NOTE: The reverse index (documentsTargets) is maintained by\n    // IndexedDb.\n    const promises: Array<PersistencePromise<void>> = [];\n    const store = documentTargetStore(txn);\n    keys.forEach(key => {\n      const path = EncodedResourcePath.encode(key.path);\n      promises.push(store.delete([targetId, path]));\n      if (this.garbageCollector !== null) {\n        this.garbageCollector.addPotentialGarbageKey(key);\n      }\n    });\n    return PersistencePromise.waitFor(promises);\n  }\n\n  removeMatchingKeysForTargetId(\n    txn: PersistenceTransaction,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    const store = documentTargetStore(txn);\n    const range = IDBKeyRange.bound(\n      [targetId],\n      [targetId + 1],\n      /*lowerOpen=*/ false,\n      /*upperOpen=*/ true\n    );\n    return this.notifyGCForRemovedKeys(txn, range).next(() =>\n      store.delete(range)\n    );\n  }\n\n  private notifyGCForRemovedKeys(\n    txn: PersistenceTransaction,\n    range: IDBKeyRange\n  ): PersistencePromise<void> {\n    const store = documentTargetStore(txn);\n    if (this.garbageCollector !== null && this.garbageCollector.isEager) {\n      // In order to generate garbage events properly, we need to read these\n      // keys before deleting.\n      return store.iterate({ range, keysOnly: true }, (key, _, control) => {\n        const path = EncodedResourcePath.decode(key[1]);\n        const docKey = new DocumentKey(path);\n        // Paranoid assertion in case the the collector is set to null\n        // during the iteration.\n        assert(\n          this.garbageCollector !== null,\n          'GarbageCollector for query cache set to null during key removal.'\n        );\n        this.garbageCollector!.addPotentialGarbageKey(docKey);\n      });\n    } else {\n      return PersistencePromise.resolve();\n    }\n  }\n\n  getMatchingKeysForTargetId(\n    txn: PersistenceTransaction,\n    targetId: TargetId\n  ): PersistencePromise<DocumentKeySet> {\n    const promises: Array<PersistencePromise<void>> = [];\n    const range = IDBKeyRange.bound(\n      [targetId],\n      [targetId + 1],\n      /*lowerOpen=*/ false,\n      /*upperOpen=*/ true\n    );\n    const store = documentTargetStore(txn);\n    let result = documentKeySet();\n\n    return store\n      .iterate({ range, keysOnly: true }, (key, _, control) => {\n        const path = EncodedResourcePath.decode(key[1]);\n        const docKey = new DocumentKey(path);\n        result = result.add(docKey);\n      })\n      .next(() => result);\n  }\n\n  setGarbageCollector(gc: GarbageCollector | null): void {\n    this.garbageCollector = gc;\n  }\n\n  containsKey(\n    txn: PersistenceTransaction | null,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    assert(\n      txn !== null,\n      'Persistence Transaction cannot be null for query cache containsKey'\n    );\n    const path = EncodedResourcePath.encode(key.path);\n    const range = IDBKeyRange.bound(\n      [path],\n      [immediateSuccessor(path)],\n      /*lowerOpen=*/ false,\n      /*upperOpen=*/ true\n    );\n    let count = 0;\n    return documentTargetStore(txn!)\n      .iterate(\n        {\n          index: DbTargetDocument.documentTargetsIndex,\n          keysOnly: true,\n          range\n        },\n        (key, _, control) => {\n          count++;\n          control.done();\n        }\n      )\n      .next(() => count > 0);\n  }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the queries object store.\n */\nfunction targetsStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbTargetKey, DbTarget> {\n  return getStore<DbTargetKey, DbTarget>(txn, DbTarget.store);\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the target globals object store.\n */\nfunction globalTargetStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbTargetGlobalKey, DbTargetGlobal> {\n  return getStore<DbTargetGlobalKey, DbTargetGlobal>(txn, DbTargetGlobal.store);\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the document target object store.\n */\nfunction documentTargetStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbTargetDocumentKey, DbTargetDocument> {\n  return getStore<DbTargetDocumentKey, DbTargetDocument>(\n    txn,\n    DbTargetDocument.store\n  );\n}\n\n/**\n * Helper to get a typed SimpleDbStore from a transaction.\n */\nfunction getStore<KeyType extends IDBValidKey, ValueType>(\n  txn: PersistenceTransaction,\n  store: string\n): SimpleDbStore<KeyType, ValueType> {\n  if (txn instanceof SimpleDbTransaction) {\n    return txn.store<KeyType, ValueType>(store);\n  } else {\n    return fail('Invalid transaction object provided!');\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { DocumentMap, documentMap } from '../model/collections';\nimport { Document, MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { fail } from '../util/assert';\n\nimport { DbRemoteDocument, DbRemoteDocumentKey } from './indexeddb_schema';\nimport { LocalSerializer } from './local_serializer';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { RemoteDocumentCache } from './remote_document_cache';\nimport { SimpleDbStore, SimpleDbTransaction } from './simple_db';\n\nexport class IndexedDbRemoteDocumentCache implements RemoteDocumentCache {\n  constructor(private serializer: LocalSerializer) {}\n\n  addEntry(\n    transaction: PersistenceTransaction,\n    maybeDocument: MaybeDocument\n  ): PersistencePromise<void> {\n    return remoteDocumentsStore(transaction).put(\n      dbKey(maybeDocument.key),\n      this.serializer.toDbRemoteDocument(maybeDocument)\n    );\n  }\n\n  removeEntry(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<void> {\n    return remoteDocumentsStore(transaction).delete(dbKey(documentKey));\n  }\n\n  getEntry(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<MaybeDocument | null> {\n    return remoteDocumentsStore(transaction)\n      .get(dbKey(documentKey))\n      .next(dbRemoteDoc => {\n        return dbRemoteDoc\n          ? this.serializer.fromDbRemoteDocument(dbRemoteDoc)\n          : null;\n      });\n  }\n\n  getDocumentsMatchingQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<DocumentMap> {\n    let results = documentMap();\n\n    // Documents are ordered by key, so we can use a prefix scan to narrow down\n    // the documents we need to match the query against.\n    const startKey = query.path.toArray();\n    const range = IDBKeyRange.lowerBound(startKey);\n    return remoteDocumentsStore(transaction)\n      .iterate({ range }, (key, dbRemoteDoc, control) => {\n        const maybeDoc = this.serializer.fromDbRemoteDocument(dbRemoteDoc);\n        if (!query.path.isPrefixOf(maybeDoc.key.path)) {\n          control.done();\n        } else if (maybeDoc instanceof Document && query.matches(maybeDoc)) {\n          results = results.insert(maybeDoc.key, maybeDoc);\n        }\n      })\n      .next(() => results);\n  }\n}\n\n/**\n * Helper to get a typed SimpleDbStore for the remoteDocuments object store.\n */\nfunction remoteDocumentsStore(\n  txn: PersistenceTransaction\n): SimpleDbStore<DbRemoteDocumentKey, DbRemoteDocument> {\n  if (txn instanceof SimpleDbTransaction) {\n    return txn.store<DbRemoteDocumentKey, DbRemoteDocument>(\n      DbRemoteDocument.store\n    );\n  } else {\n    return fail('Invalid transaction object provided!');\n  }\n}\n\nfunction dbKey(docKey: DocumentKey): DbRemoteDocumentKey {\n  return docKey.path.toArray();\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Timestamp } from '../core/timestamp';\nimport { Document, MaybeDocument, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { MutationBatch } from '../model/mutation_batch';\nimport { JsonProtoSerializer } from '../remote/serializer';\nimport { assert, fail } from '../util/assert';\n\nimport {\n  DbMutationBatch,\n  DbNoDocument,\n  DbQuery,\n  DbRemoteDocument,\n  DbTarget,\n  DbTimestamp\n} from './indexeddb_schema';\nimport { QueryData, QueryPurpose } from './query_data';\n\n/** Serializer for values stored in the LocalStore. */\nexport class LocalSerializer {\n  constructor(private remoteSerializer: JsonProtoSerializer) {}\n\n  /** Decodes a remote document from storage locally to a Document. */\n  fromDbRemoteDocument(remoteDoc: DbRemoteDocument): MaybeDocument {\n    if (remoteDoc.document) {\n      return this.remoteSerializer.fromDocument(remoteDoc.document);\n    } else if (remoteDoc.noDocument) {\n      const key = DocumentKey.fromSegments(remoteDoc.noDocument.path);\n      const readTime = remoteDoc.noDocument.readTime;\n      const timestamp = new Timestamp(readTime.seconds, readTime.nanos);\n      return new NoDocument(key, SnapshotVersion.fromTimestamp(timestamp));\n    } else {\n      return fail('Unexpected DbRemoteDocument');\n    }\n  }\n\n  /** Encodes a document for storage locally. */\n  toDbRemoteDocument(maybeDoc: MaybeDocument): DbRemoteDocument {\n    if (maybeDoc instanceof Document) {\n      const doc = this.remoteSerializer.toDocument(maybeDoc);\n      return new DbRemoteDocument(null, doc);\n    } else {\n      const path = maybeDoc.key.path.toArray();\n      const timestamp = maybeDoc.version.toTimestamp();\n      const readTime = new DbTimestamp(timestamp.seconds, timestamp.nanos);\n      return new DbRemoteDocument(new DbNoDocument(path, readTime), null);\n    }\n  }\n\n  /** Encodes a batch of mutations into a DbMutationBatch for local storage. */\n  toDbMutationBatch(userId: string, batch: MutationBatch): DbMutationBatch {\n    const serializedMutations = batch.mutations.map(m =>\n      this.remoteSerializer.toMutation(m)\n    );\n    return new DbMutationBatch(\n      userId,\n      batch.batchId,\n      batch.localWriteTime.toEpochMilliseconds(),\n      serializedMutations\n    );\n  }\n\n  /** Decodes a DbMutationBatch into a MutationBatch */\n  fromDbMutationBatch(dbBatch: DbMutationBatch): MutationBatch {\n    const mutations = dbBatch.mutations.map(m =>\n      this.remoteSerializer.fromMutation(m)\n    );\n    const timestamp = Timestamp.fromEpochMilliseconds(dbBatch.localWriteTimeMs);\n    return new MutationBatch(dbBatch.batchId, timestamp, mutations);\n  }\n\n  /** Decodes a DbTarget into QueryData */\n  fromDbTarget(dbTarget: DbTarget): QueryData {\n    const readTime = new Timestamp(\n      dbTarget.readTime.seconds,\n      dbTarget.readTime.nanos\n    );\n    const version = SnapshotVersion.fromTimestamp(readTime);\n    let query: Query;\n    if (isDocumentQuery(dbTarget.query)) {\n      query = this.remoteSerializer.fromDocumentsTarget(dbTarget.query);\n    } else {\n      query = this.remoteSerializer.fromQueryTarget(dbTarget.query);\n    }\n    return new QueryData(\n      query,\n      dbTarget.targetId,\n      QueryPurpose.Listen,\n      version,\n      dbTarget.resumeToken\n    );\n  }\n\n  /** Encodes QueryData into a DbTarget for storage locally. */\n  toDbTarget(queryData: QueryData): DbTarget {\n    assert(\n      QueryPurpose.Listen === queryData.purpose,\n      'Only queries with purpose ' +\n        QueryPurpose.Listen +\n        ' may be stored, got ' +\n        queryData.purpose\n    );\n    const timestamp = queryData.snapshotVersion.toTimestamp();\n    const dbTimestamp = new DbTimestamp(timestamp.seconds, timestamp.nanos);\n    let queryProto: DbQuery;\n    if (queryData.query.isDocumentQuery()) {\n      queryProto = this.remoteSerializer.toDocumentsTarget(queryData.query);\n    } else {\n      queryProto = this.remoteSerializer.toQueryTarget(queryData.query);\n    }\n    assert(\n      typeof queryData.resumeToken === 'string',\n      'Persisting non-string resume token not supported.'\n    );\n    const resumeToken = queryData.resumeToken as string;\n\n    // lastListenSequenceNumber is always 0 until we do real GC.\n    return new DbTarget(\n      queryData.targetId,\n      queryData.query.canonicalId(),\n      dbTimestamp,\n      resumeToken,\n      0,\n      queryProto\n    );\n  }\n}\n\n/**\n * A helper function for figuring out what kind of query has been stored.\n */\nfunction isDocumentQuery(dbQuery: DbQuery): dbQuery is api.DocumentsTarget {\n  return (dbQuery as api.DocumentsTarget).documents !== undefined;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { DatabaseInfo } from '../core/database_info';\nimport { JsonProtoSerializer } from '../remote/serializer';\nimport { assert } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport * as log from '../util/log';\nimport { AutoId } from '../util/misc';\n\nimport { IndexedDbMutationQueue } from './indexeddb_mutation_queue';\nimport { IndexedDbQueryCache } from './indexeddb_query_cache';\nimport { IndexedDbRemoteDocumentCache } from './indexeddb_remote_document_cache';\nimport { ALL_STORES, DbOwner, DbOwnerKey } from './indexeddb_schema';\nimport { createOrUpgradeDb, SCHEMA_VERSION } from './indexeddb_schema';\nimport { LocalSerializer } from './local_serializer';\nimport { MutationQueue } from './mutation_queue';\nimport { Persistence } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { QueryCache } from './query_cache';\nimport { RemoteDocumentCache } from './remote_document_cache';\nimport { SimpleDb, SimpleDbTransaction } from './simple_db';\n\nconst LOG_TAG = 'IndexedDbPersistence';\n\n/** If the owner lease is older than 5 seconds, try to take ownership. */\nconst OWNER_LEASE_MAX_AGE_MS = 5000;\n/** Refresh the owner lease every 4 seconds while owner. */\nconst OWNER_LEASE_REFRESH_INTERVAL_MS = 4000;\n\n/** LocalStorage location to indicate a zombied ownerId (see class comment). */\nconst ZOMBIE_OWNER_LOCALSTORAGE_SUFFIX = 'zombiedOwnerId';\n/** Error when the owner lease cannot be acquired or is lost. */\nconst EXISTING_OWNER_ERROR_MSG =\n  'There is another tab open with offline' +\n  ' persistence enabled. Only one such tab is allowed at a time. The' +\n  ' other tab must be closed or persistence must be disabled.';\nconst UNSUPPORTED_PLATFORM_ERROR_MSG =\n  'This platform is either missing' +\n  ' IndexedDB or is known to have an incomplete implementation. Offline' +\n  ' persistence has been disabled.';\n\n/**\n * An IndexedDB-backed instance of Persistence. Data is stored persistently\n * across sessions.\n *\n * Currently the Firestore SDK only supports a single consumer of the database,\n * but browsers obviously support multiple tabs. IndexedDbPersistence ensures a\n * single consumer of the database via an \"owner lease\" stored in the database.\n *\n * On startup, IndexedDbPersistence assigns itself a random \"ownerId\" and writes\n * it to a special \"owner\" object in the database (if no entry exists already or\n * the current entry is expired). This owner lease is then verified inside every\n * transaction to ensure the lease has not been lost.\n *\n * If a tab opts not to acquire the owner lease (because there's an existing\n * non-expired owner) or loses the owner lease, IndexedDbPersistence enters a\n * failed state and all subsequent operations will automatically fail.\n *\n * The current owner regularly refreshes the owner lease with new timestamps to\n * prevent newly-opened tabs from taking over ownership.\n *\n * Additionally there is an optimization so that when a tab is closed, the owner\n * lease is released immediately (this is especially important to make sure that\n * a refreshed tab is able to immediately re-acquire the owner lease).\n * Unfortunately, IndexedDB cannot be reliably used in window.unload since it is\n * an asynchronous API. So in addition to attempting to give up the lease,\n * the owner writes its ownerId to a \"zombiedOwnerId\" entry in LocalStorage\n * which acts as an indicator that another tab should go ahead and take the\n * owner lease immediately regardless of the current lease timestamp.\n */\nexport class IndexedDbPersistence implements Persistence {\n  /**\n   * The name of the main (and currently only) IndexedDB database. this name is\n   * appended to the prefix provided to the IndexedDbPersistence constructor.\n   */\n  static MAIN_DATABASE = 'main';\n\n  private simpleDb: SimpleDb;\n  private started: boolean;\n  private dbName: string;\n  private localStoragePrefix: string;\n  private ownerId: string = this.generateOwnerId();\n\n  /**\n   * Set to an Error object if we encounter an unrecoverable error. All further\n   * transactions will be failed with this error.\n   */\n  private persistenceError: Error | null;\n  /** The setInterval() handle tied to refreshing the owner lease. */\n  // tslint:disable-next-line:no-any setTimeout() type differs on browser / node\n  private ownerLeaseRefreshHandle: any;\n  /** Our window.unload handler, if registered. */\n  private windowUnloadHandler: (() => void) | null;\n\n  private serializer: LocalSerializer;\n\n  constructor(prefix: string, serializer: JsonProtoSerializer) {\n    this.dbName = prefix + IndexedDbPersistence.MAIN_DATABASE;\n    this.serializer = new LocalSerializer(serializer);\n    this.localStoragePrefix = prefix;\n  }\n\n  start(): Promise<void> {\n    if (!IndexedDbPersistence.isAvailable()) {\n      this.persistenceError = new FirestoreError(\n        Code.UNIMPLEMENTED,\n        UNSUPPORTED_PLATFORM_ERROR_MSG\n      );\n      return Promise.reject(this.persistenceError);\n    }\n\n    assert(!this.started, 'IndexedDbPersistence double-started!');\n    this.started = true;\n\n    return SimpleDb.openOrCreate(this.dbName, SCHEMA_VERSION, createOrUpgradeDb)\n      .then(db => {\n        this.simpleDb = db;\n      })\n      .then(() => this.tryAcquireOwnerLease())\n      .then(() => {\n        this.scheduleOwnerLeaseRefreshes();\n        this.attachWindowUnloadHook();\n      });\n  }\n\n  shutdown(): Promise<void> {\n    assert(this.started, 'IndexedDbPersistence shutdown without start!');\n    this.started = false;\n    this.detachWindowUnloadHook();\n    this.stopOwnerLeaseRefreshes();\n    return this.releaseOwnerLease().then(() => {\n      this.simpleDb.close();\n    });\n  }\n\n  getMutationQueue(user: User): MutationQueue {\n    return IndexedDbMutationQueue.forUser(user, this.serializer);\n  }\n\n  getQueryCache(): QueryCache {\n    return new IndexedDbQueryCache(this.serializer);\n  }\n\n  getRemoteDocumentCache(): RemoteDocumentCache {\n    return new IndexedDbRemoteDocumentCache(this.serializer);\n  }\n\n  runTransaction<T>(\n    action: string,\n    operation: (transaction: SimpleDbTransaction) => PersistencePromise<T>\n  ): Promise<T> {\n    if (this.persistenceError) {\n      return Promise.reject(this.persistenceError);\n    }\n\n    log.debug(LOG_TAG, 'Starting transaction:', action);\n\n    // Do all transactions as readwrite against all object stores, since we\n    // are the only reader/writer.\n    return this.simpleDb.runTransaction('readwrite', ALL_STORES, txn => {\n      // Verify that we still have the owner lease as part of every transaction.\n      return this.ensureOwnerLease(txn).next(() => operation(txn));\n    });\n  }\n\n  static isAvailable(): boolean {\n    return SimpleDb.isAvailable();\n  }\n\n  /**\n   * Generates a string used as a prefix when storing data in IndexedDB and\n   * LocalStorage.\n   */\n  static buildStoragePrefix(databaseInfo: DatabaseInfo): string {\n    // Use two different prefix formats:\n    //\n    //   * firestore / persistenceKey / projectID . databaseID / ...\n    //   * firestore / persistenceKey / projectID / ...\n    //\n    // projectIDs are DNS-compatible names and cannot contain dots\n    // so there's no danger of collisions.\n    let database = databaseInfo.databaseId.projectId;\n    if (!databaseInfo.databaseId.isDefaultDatabase) {\n      database += '.' + databaseInfo.databaseId.database;\n    }\n\n    return 'firestore/' + databaseInfo.persistenceKey + '/' + database + '/';\n  }\n\n  /**\n   * Acquires the owner lease if there's no valid owner. Else returns a rejected\n   * promise.\n   */\n  private tryAcquireOwnerLease(): Promise<void> {\n    // NOTE: Don't use this.runTransaction, since it requires us to already\n    // have the lease.\n    return this.simpleDb.runTransaction('readwrite', [DbOwner.store], txn => {\n      const store = txn.store<DbOwnerKey, DbOwner>(DbOwner.store);\n      return store.get('owner').next(dbOwner => {\n        if (!this.validOwner(dbOwner)) {\n          const newDbOwner = new DbOwner(this.ownerId, Date.now());\n          log.debug(\n            LOG_TAG,\n            'No valid owner. Acquiring owner lease. Current owner:',\n            dbOwner,\n            'New owner:',\n            newDbOwner\n          );\n          return store.put('owner', newDbOwner);\n        } else {\n          log.debug(\n            LOG_TAG,\n            'Valid owner already. Failing. Current owner:',\n            dbOwner\n          );\n          this.persistenceError = new FirestoreError(\n            Code.FAILED_PRECONDITION,\n            EXISTING_OWNER_ERROR_MSG\n          );\n          return PersistencePromise.reject<void>(this.persistenceError);\n        }\n      });\n    });\n  }\n\n  /** Checks the owner lease and deletes it if we are the current owner. */\n  private releaseOwnerLease(): Promise<void> {\n    // NOTE: Don't use this.runTransaction, since it requires us to already\n    // have the lease.\n    return this.simpleDb.runTransaction('readwrite', [DbOwner.store], txn => {\n      const store = txn.store<DbOwnerKey, DbOwner>(DbOwner.store);\n      return store.get('owner').next(dbOwner => {\n        if (dbOwner !== null && dbOwner.ownerId === this.ownerId) {\n          log.debug(LOG_TAG, 'Releasing owner lease.');\n          return store.delete('owner');\n        } else {\n          return PersistencePromise.resolve();\n        }\n      });\n    });\n  }\n\n  /**\n   * Checks the owner lease and returns a rejected promise if we are not the\n   * current owner. This should be included in every transaction to guard\n   * against losing the owner lease.\n   */\n  private ensureOwnerLease(txn: SimpleDbTransaction): PersistencePromise<void> {\n    const store = txn.store<DbOwnerKey, DbOwner>(DbOwner.store);\n    return store.get('owner').next(dbOwner => {\n      if (dbOwner === null || dbOwner.ownerId !== this.ownerId) {\n        this.persistenceError = new FirestoreError(\n          Code.FAILED_PRECONDITION,\n          EXISTING_OWNER_ERROR_MSG\n        );\n        return PersistencePromise.reject<void>(this.persistenceError);\n      } else {\n        return PersistencePromise.resolve();\n      }\n    });\n  }\n\n  /**\n   * Returns true if the provided owner exists, has a recent timestamp, and\n   * isn't zombied.\n   *\n   * NOTE: To determine if the owner is zombied, this method reads from\n   * LocalStorage which could be mildly expensive.\n   */\n  private validOwner(dbOwner: DbOwner | null): boolean {\n    const now = Date.now();\n    const minAcceptable = now - OWNER_LEASE_MAX_AGE_MS;\n    const maxAcceptable = now;\n    if (dbOwner === null) {\n      return false; // no owner.\n    } else if (dbOwner.leaseTimestampMs < minAcceptable) {\n      return false; // owner lease has expired.\n    } else if (dbOwner.leaseTimestampMs > maxAcceptable) {\n      log.error(\n        'Persistence owner-lease is in the future. Discarding.',\n        dbOwner\n      );\n      return false;\n    } else if (dbOwner.ownerId === this.getZombiedOwnerId()) {\n      return false; // owner's tab closed.\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Schedules a recurring timer to update the owner lease timestamp to prevent\n   * other tabs from taking the lease.\n   */\n  private scheduleOwnerLeaseRefreshes(): void {\n    // NOTE: This doesn't need to be scheduled on the async queue and doing so\n    // would increase the chances of us not refreshing on time if the queue is\n    // backed up for some reason.\n    this.ownerLeaseRefreshHandle = setInterval(() => {\n      const txResult = this.runTransaction('Refresh owner timestamp', txn => {\n        // NOTE: We don't need to validate the current owner contents, since\n        // runTransaction does that automatically.\n        const store = txn.store<DbOwnerKey, DbOwner>(DbOwner.store);\n        return store.put('owner', new DbOwner(this.ownerId, Date.now()));\n      });\n\n      txResult.catch(reason => {\n        // Probably means we lost the lease. Report the error and stop trying to\n        // refresh the lease.\n        log.error(reason);\n        this.stopOwnerLeaseRefreshes();\n      });\n    }, OWNER_LEASE_REFRESH_INTERVAL_MS);\n  }\n\n  private stopOwnerLeaseRefreshes(): void {\n    if (this.ownerLeaseRefreshHandle) {\n      clearInterval(this.ownerLeaseRefreshHandle);\n      this.ownerLeaseRefreshHandle = null;\n    }\n  }\n\n  /**\n   * Attaches a window.unload handler that will synchronously write our\n   * ownerId to a \"zombie owner id\" location in localstorage. This can be used\n   * by tabs trying to acquire the lease to determine that the lease should be\n   * acquired immediately even if the timestamp is recent. This is particularly\n   * important for the refresh case (so the tab correctly re-acquires the owner\n   * lease). LocalStorage is used for this rather than IndexedDb because it is\n   * a synchronous API and so can be used reliably from an unload handler.\n   */\n  private attachWindowUnloadHook(): void {\n    this.windowUnloadHandler = () => {\n      // Record that we're zombied.\n      this.setZombiedOwnerId(this.ownerId);\n\n      // Attempt graceful shutdown (including releasing our owner lease), but\n      // there's no guarantee it will complete.\n      this.shutdown();\n    };\n    window.addEventListener('unload', this.windowUnloadHandler);\n  }\n\n  private detachWindowUnloadHook(): void {\n    if (this.windowUnloadHandler) {\n      window.removeEventListener('unload', this.windowUnloadHandler);\n      this.windowUnloadHandler = null;\n    }\n  }\n\n  /**\n   * Returns any recorded \"zombied owner\" (i.e. a previous owner that became\n   * zombied due to their tab closing) from LocalStorage, or null if no such\n   * record exists.\n   */\n  private getZombiedOwnerId(): string | null {\n    try {\n      const zombiedOwnerId = window.localStorage.getItem(\n        this.zombiedOwnerLocalStorageKey()\n      );\n      log.debug(LOG_TAG, 'Zombied ownerID from LocalStorage:', zombiedOwnerId);\n      return zombiedOwnerId;\n    } catch (e) {\n      // Gracefully handle if LocalStorage isn't available / working.\n      log.error('Failed to get zombie owner id.', e);\n      return null;\n    }\n  }\n\n  /**\n   * Records a zombied owner (an owner that had its tab closed) in LocalStorage\n   * or, if passed null, deletes any recorded zombied owner.\n   */\n  private setZombiedOwnerId(zombieOwnerId: string | null) {\n    try {\n      if (zombieOwnerId === null) {\n        window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey());\n      } else {\n        window.localStorage.setItem(\n          this.zombiedOwnerLocalStorageKey(),\n          zombieOwnerId\n        );\n      }\n    } catch (e) {\n      // Gracefully handle if LocalStorage isn't available / working.\n      log.error('Failed to set zombie owner id.', e);\n    }\n  }\n\n  private zombiedOwnerLocalStorageKey(): string {\n    return this.localStoragePrefix + ZOMBIE_OWNER_LOCALSTORAGE_SUFFIX;\n  }\n\n  private generateOwnerId(): string {\n    // For convenience, just use an AutoId.\n    return AutoId.newId();\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport {\n  documentKeySet,\n  DocumentKeySet,\n  DocumentMap,\n  documentMap,\n  MaybeDocumentMap,\n  maybeDocumentMap\n} from '../model/collections';\nimport { Document, MaybeDocument, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { ResourcePath } from '../model/path';\nimport { fail } from '../util/assert';\n\nimport { MutationQueue } from './mutation_queue';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { RemoteDocumentCache } from './remote_document_cache';\n\n/**\n * A readonly view of the local state of all documents we're tracking (i.e. we\n * have a cached version in remoteDocumentCache or local mutations for the\n * document). The view is computed by applying the mutations in the\n * MutationQueue to the RemoteDocumentCache.\n */\nexport class LocalDocumentsView {\n  constructor(\n    private remoteDocumentCache: RemoteDocumentCache,\n    private mutationQueue: MutationQueue\n  ) {}\n\n  /**\n   * Get the local view of the document identified by `key`.\n   *\n   * @return Local view of the document or null if we don't have any cached\n   * state for it.\n   */\n  getDocument(\n    transaction: PersistenceTransaction,\n    key: DocumentKey\n  ): PersistencePromise<MaybeDocument | null> {\n    return this.remoteDocumentCache\n      .getEntry(transaction, key)\n      .next(remoteDoc => {\n        return this.computeLocalDocument(transaction, key, remoteDoc);\n      });\n  }\n\n  /**\n   * Gets the local view of the documents identified by `keys`.\n   *\n   * If we don't have cached state for a document in `keys`, a NoDocument will\n   * be stored for that key in the resulting set.\n   */\n  getDocuments(\n    transaction: PersistenceTransaction,\n    keys: DocumentKeySet\n  ): PersistencePromise<MaybeDocumentMap> {\n    const promises = [] as Array<PersistencePromise<void>>;\n    let results = maybeDocumentMap();\n    keys.forEach(key => {\n      promises.push(\n        this.getDocument(transaction, key).next(maybeDoc => {\n          // TODO(http://b/32275378): Don't conflate missing / deleted.\n          if (!maybeDoc) {\n            maybeDoc = new NoDocument(key, SnapshotVersion.forDeletedDoc());\n          }\n          results = results.insert(key, maybeDoc);\n        })\n      );\n    });\n    return PersistencePromise.waitFor(promises).next(() => results);\n  }\n\n  /** Performs a query against the local view of all documents. */\n  getDocumentsMatchingQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<DocumentMap> {\n    if (DocumentKey.isDocumentKey(query.path)) {\n      return this.getDocumentsMatchingDocumentQuery(transaction, query.path);\n    } else {\n      return this.getDocumentsMatchingCollectionQuery(transaction, query);\n    }\n  }\n\n  private getDocumentsMatchingDocumentQuery(\n    transaction: PersistenceTransaction,\n    docPath: ResourcePath\n  ): PersistencePromise<DocumentMap> {\n    // Just do a simple document lookup.\n    return this.getDocument(transaction, new DocumentKey(docPath)).next(\n      maybeDoc => {\n        let result = documentMap();\n        if (maybeDoc instanceof Document) {\n          result = result.insert(maybeDoc.key, maybeDoc);\n        }\n        return result;\n      }\n    );\n  }\n\n  private getDocumentsMatchingCollectionQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<DocumentMap> {\n    // Query the remote documents and overlay mutations.\n    // TODO(mikelehen): There may be significant overlap between the mutations\n    // affecting these remote documents and the\n    // getAllMutationBatchesAffectingQuery() mutations. Consider optimizing.\n    let results: DocumentMap;\n    return this.remoteDocumentCache\n      .getDocumentsMatchingQuery(transaction, query)\n      .next(queryResults => {\n        return this.computeLocalDocuments(transaction, queryResults);\n      })\n      .next(promisedResults => {\n        results = promisedResults;\n        // Now use the mutation queue to discover any other documents that may\n        // match the query after applying mutations.\n        return this.mutationQueue.getAllMutationBatchesAffectingQuery(\n          transaction,\n          query\n        );\n      })\n      .next(matchingMutationBatches => {\n        let matchingKeys = documentKeySet();\n        for (const batch of matchingMutationBatches) {\n          for (const mutation of batch.mutations) {\n            // TODO(mikelehen): PERF: Check if this mutation actually\n            // affects the query to reduce work.\n            if (!results.get(mutation.key)) {\n              matchingKeys = matchingKeys.add(mutation.key);\n            }\n          }\n        }\n\n        // Now add in the results for the matchingKeys.\n        const promises = [] as Array<PersistencePromise<void>>;\n        matchingKeys.forEach(key => {\n          promises.push(\n            this.getDocument(transaction, key).next(doc => {\n              if (doc instanceof Document) {\n                results = results.insert(doc.key, doc);\n              }\n            })\n          );\n        });\n        return PersistencePromise.waitFor(promises);\n      })\n      .next(() => {\n        // Finally, filter out any documents that don't actually match\n        // the query.\n        results.forEach((key, doc) => {\n          if (!query.matches(doc)) {\n            results = results.remove(key);\n          }\n        });\n\n        return results;\n      });\n  }\n\n  /**\n   * Takes a remote document and applies local mutations to generate the local\n   * view of the document.\n   * @param transaction The transaction in which to perform any persistence\n   *     operations.\n   * @param documentKey The key of the document (necessary when remoteDocument\n   *     is null).\n   * @param document The base remote document to apply mutations to or null.\n   */\n  private computeLocalDocument(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey,\n    document: MaybeDocument | null\n  ): PersistencePromise<MaybeDocument | null> {\n    return this.mutationQueue\n      .getAllMutationBatchesAffectingDocumentKey(transaction, documentKey)\n      .next(batches => {\n        for (const batch of batches) {\n          document = batch.applyToLocalView(documentKey, document);\n        }\n        return document;\n      });\n  }\n\n  /**\n   * Takes a set of remote documents and applies local mutations to generate the\n   * local view of the documents.\n   * @param transaction The transaction in which to perform any persistence\n   *     operations.\n   * @param documents The base remote documents to apply mutations to.\n   * @return The local view of the documents.\n   */\n  private computeLocalDocuments(\n    transaction: PersistenceTransaction,\n    documents: DocumentMap\n  ): PersistencePromise<DocumentMap> {\n    const promises = [] as Array<PersistencePromise<void>>;\n    documents.forEach((key, doc) => {\n      promises.push(\n        this.computeLocalDocument(transaction, key, doc).next(mutatedDoc => {\n          if (mutatedDoc instanceof Document) {\n            documents = documents.insert(mutatedDoc.key, mutatedDoc);\n          } else if (mutatedDoc instanceof NoDocument) {\n            documents = documents.remove(mutatedDoc.key);\n          } else {\n            fail('Unknown MaybeDocument: ' + mutatedDoc);\n          }\n        })\n      );\n    });\n    return PersistencePromise.waitFor(promises).next(() => documents);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MaybeDocumentMap, maybeDocumentMap } from '../model/collections';\nimport { MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { assert } from '../util/assert';\n\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { RemoteDocumentCache } from './remote_document_cache';\n\n/**\n * An in-memory buffer of entries to be written to a RemoteDocumentCache.\n * It can be used to batch up a set of changes to be written to the cache, but\n * additionally supports reading entries back with the `getEntry()` method,\n * falling back to the underlying RemoteDocumentCache if no entry is\n * buffered.\n *\n * NOTE: This class was introduced in iOS to work around a limitation in\n * LevelDB. Given IndexedDb has full transaction support with\n * read-your-own-writes capability, this class is not technically needed, but\n * has been preserved as a convenience and to aid portability.\n */\nexport class RemoteDocumentChangeBuffer {\n  private changes: MaybeDocumentMap | null = maybeDocumentMap();\n\n  constructor(private remoteDocumentCache: RemoteDocumentCache) {}\n\n  /** Buffers a `RemoteDocumentCache.addEntry()` call. */\n  addEntry(maybeDocument: MaybeDocument): void {\n    const changes = this.assertChanges();\n    this.changes = changes.insert(maybeDocument.key, maybeDocument);\n  }\n\n  // NOTE: removeEntry() is not presently necessary and so is omitted.\n\n  /**\n   * Looks up an entry in the cache. The buffered changes will first be checked,\n   * and if no buffered change applies, this will forward to\n   * `RemoteDocumentCache.getEntry()`.\n   *\n   * @param transaction The transaction in which to perform any persistence\n   *     operations.\n   * @param documentKey The key of the entry to look up.\n   * @return The cached Document or NoDocument entry, or null if we have nothing\n   * cached.\n   */\n  getEntry(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<MaybeDocument | null> {\n    const changes = this.assertChanges();\n\n    const bufferedEntry = changes.get(documentKey);\n    if (bufferedEntry) {\n      return PersistencePromise.resolve(bufferedEntry);\n    } else {\n      return this.remoteDocumentCache.getEntry(transaction, documentKey);\n    }\n  }\n\n  /**\n   * Applies buffered changes to the underlying RemoteDocumentCache, using\n   * the provided transaction.\n   */\n  apply(transaction: PersistenceTransaction): PersistencePromise<void> {\n    const changes = this.assertChanges();\n\n    const promises: Array<PersistencePromise<void>> = [];\n    changes.forEach((key, maybeDoc) => {\n      promises.push(this.remoteDocumentCache.addEntry(transaction, maybeDoc));\n    });\n\n    // We should not be used to buffer any more changes.\n    this.changes = null;\n\n    return PersistencePromise.waitFor(promises);\n  }\n\n  /** Helper to assert this.changes is not null and return it. */\n  private assertChanges(): MaybeDocumentMap {\n    assert(this.changes !== null, 'Changes have already been applied.');\n    return this.changes!;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { TargetIdGenerator } from '../core/target_id_generator';\nimport { Timestamp } from '../core/timestamp';\nimport { BatchId, ProtoByteString, TargetId } from '../core/types';\nimport {\n  DocumentKeySet,\n  documentKeySet,\n  DocumentMap,\n  MaybeDocumentMap\n} from '../model/collections';\nimport { MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { Mutation } from '../model/mutation';\nimport {\n  BATCHID_UNKNOWN,\n  MutationBatch,\n  MutationBatchResult\n} from '../model/mutation_batch';\nimport {\n  RemoteEvent,\n  ResetMapping,\n  TargetChange,\n  UpdateMapping\n} from '../remote/remote_event';\nimport { assert, fail } from '../util/assert';\nimport * as log from '../util/log';\nimport * as objUtils from '../util/obj';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { LocalDocumentsView } from './local_documents_view';\nimport { LocalViewChanges } from './local_view_changes';\nimport { MutationQueue } from './mutation_queue';\nimport { Persistence, PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { QueryCache } from './query_cache';\nimport { QueryData, QueryPurpose } from './query_data';\nimport { ReferenceSet } from './reference_set';\nimport { RemoteDocumentCache } from './remote_document_cache';\nimport { RemoteDocumentChangeBuffer } from './remote_document_change_buffer';\n\nconst LOG_TAG = 'LocalStore';\n\n/** The result of a write to the local store. */\nexport interface LocalWriteResult {\n  batchId: BatchId;\n  changes: MaybeDocumentMap;\n}\n\n/**\n * Local storage in the Firestore client. Coordinates persistence components\n * like the mutation queue and remote document cache to present a\n * latency-compensated view of stored data.\n *\n * The LocalStore is responsible for accepting mutations from the Sync Engine.\n * Writes from the client are put into a queue as provisional Mutations until\n * they are processed by the RemoteStore and confirmed as having been written\n * to the server.\n *\n * The local store provides the local version of documents that have been\n * modified locally. It maintains the constraint:\n *\n *   LocalDocument = RemoteDocument + Active(LocalMutations)\n *\n * (Active mutations are those that are enqueued and have not been previously\n * acknowledged or rejected).\n *\n * The RemoteDocument (\"ground truth\") state is provided via the\n * applyChangeBatch method. It will be some version of a server-provided\n * document OR will be a server-provided document PLUS acknowledged mutations:\n *\n *   RemoteDocument' = RemoteDocument + Acknowledged(LocalMutations)\n *\n * Note that this \"dirty\" version of a RemoteDocument will not be identical to a\n * server base version, since it has LocalMutations added to it pending getting\n * an authoritative copy from the server.\n *\n * Since LocalMutations can be rejected by the server, we have to be able to\n * revert a LocalMutation that has already been applied to the LocalDocument\n * (typically done by replaying all remaining LocalMutations to the\n * RemoteDocument to re-apply).\n *\n * The LocalStore is responsible for the garbage collection of the documents it\n * contains. For now, it every doc referenced by a view, the mutation queue, or\n * the RemoteStore.\n *\n * It also maintains the persistence of mapping queries to resume tokens and\n * target ids. It needs to know this data about queries to properly know what\n * docs it would be allowed to garbage collect.\n *\n * The LocalStore must be able to efficiently execute queries against its local\n * cache of the documents, to provide the initial set of results before any\n * remote changes have been received.\n *\n * Note: In TypeScript, most methods return Promises since the implementation\n * may rely on fetching data from IndexedDB which is async.\n * These Promises will only be rejected on an I/O error or other internal\n * (unexpected) failure (e.g. failed assert) and always represent an\n * unrecoverable error (should be caught / reported by the async_queue).\n */\nexport class LocalStore {\n  /**\n   * The set of all mutations that have been sent but not yet been applied to\n   * the backend.\n   */\n  private mutationQueue: MutationQueue;\n\n  /** The set of all cached remote documents. */\n  private remoteDocuments: RemoteDocumentCache;\n\n  /**\n   * The \"local\" view of all documents (layering mutationQueue on top of\n   * remoteDocumentCache).\n   */\n  private localDocuments: LocalDocumentsView;\n\n  /**\n   * The set of document references maintained by any local views.\n   */\n  private localViewReferences = new ReferenceSet();\n\n  /** Maps a query to the data about that query. */\n  private queryCache: QueryCache;\n\n  /** Maps a targetID to data about its query. */\n  private targetIds = {} as { [targetId: number]: QueryData };\n\n  /** Used to generate targetIDs for queries tracked locally. */\n  private targetIdGenerator = TargetIdGenerator.forLocalStore();\n\n  /**\n   * A heldBatchResult is a mutation batch result (from a write acknowledgement)\n   * that arrived before the watch stream got notified of a snapshot that\n   * includes the write. So we \"hold\" it until the watch stream catches up. It\n   * ensures that the local write remains visible (latency compensation) and\n   * doesn't temporarily appear reverted because the watch stream is slower than\n   * the write stream and so wasn't reflecting it.\n   *\n   * NOTE: Eventually we want to move this functionality into the remote store.\n   */\n  private heldBatchResults: MutationBatchResult[] = [];\n\n  constructor(\n    /** Manages our in-memory or durable persistence. */\n    private persistence: Persistence,\n    initialUser: User,\n    /**\n     * The garbage collector collects documents that should no longer be\n     * cached (e.g. if they are no longer retained by the above reference sets\n     * and the garbage collector is performing eager collection).\n     */\n    private garbageCollector: GarbageCollector\n  ) {\n    this.mutationQueue = persistence.getMutationQueue(initialUser);\n    this.remoteDocuments = persistence.getRemoteDocumentCache();\n    this.queryCache = persistence.getQueryCache();\n    this.localDocuments = new LocalDocumentsView(\n      this.remoteDocuments,\n      this.mutationQueue\n    );\n    this.garbageCollector.addGarbageSource(this.localViewReferences);\n    this.garbageCollector.addGarbageSource(this.queryCache);\n    this.garbageCollector.addGarbageSource(this.mutationQueue);\n  }\n\n  /** Performs any initial startup actions required by the local store. */\n  start(): Promise<void> {\n    return this.persistence.runTransaction('Start LocalStore', txn => {\n      return this.startMutationQueue(txn).next(() => this.startQueryCache(txn));\n    });\n  }\n\n  /**\n   * Tells the LocalStore that the currently authenticated user has changed.\n   *\n   * In response the local store switches the mutation queue to the new user and\n   * returns any resulting document changes.\n   */\n  handleUserChange(user: User): Promise<MaybeDocumentMap> {\n    return this.persistence.runTransaction('Handle user change', txn => {\n      // Swap out the mutation queue, grabbing the pending mutation batches\n      // before and after.\n      let oldBatches: MutationBatch[];\n      return this.mutationQueue\n        .getAllMutationBatches(txn)\n        .next(promisedOldBatches => {\n          oldBatches = promisedOldBatches;\n\n          this.garbageCollector.removeGarbageSource(this.mutationQueue);\n          this.mutationQueue = this.persistence.getMutationQueue(user);\n          this.garbageCollector.addGarbageSource(this.mutationQueue);\n          return this.startMutationQueue(txn);\n        })\n        .next(() => {\n          // Recreate our LocalDocumentsView using the new\n          // MutationQueue.\n          this.localDocuments = new LocalDocumentsView(\n            this.remoteDocuments,\n            this.mutationQueue\n          );\n          return this.mutationQueue.getAllMutationBatches(txn);\n        })\n        .next(newBatches => {\n          // Union the old/new changed keys.\n          let changedKeys = documentKeySet();\n          for (const batches of [oldBatches, newBatches]) {\n            for (const batch of batches) {\n              for (const mutation of batch.mutations) {\n                changedKeys = changedKeys.add(mutation.key);\n              }\n            }\n          }\n\n          // Return the set of all (potentially) changed documents as the\n          // result of the user change.\n          return this.localDocuments.getDocuments(txn, changedKeys);\n        });\n    });\n  }\n\n  private startQueryCache(\n    txn: PersistenceTransaction\n  ): PersistencePromise<void> {\n    return this.queryCache.start(txn).next(() => {\n      const targetId = this.queryCache.getHighestTargetId();\n      this.targetIdGenerator = TargetIdGenerator.forLocalStore(targetId);\n    });\n  }\n\n  private startMutationQueue(\n    txn: PersistenceTransaction\n  ): PersistencePromise<void> {\n    return this.mutationQueue\n      .start(txn)\n      .next(() => {\n        // If we have any leftover mutation batch results from a prior run,\n        // just drop them.\n        // TODO(http://b/33446471): We probably need to repopulate\n        // heldBatchResults or similar instead, but that is not\n        // straightforward since we're not persisting the write ack versions.\n        this.heldBatchResults = [];\n        return this.mutationQueue.getHighestAcknowledgedBatchId(txn);\n      })\n      .next(highestAck => {\n        // TODO(mikelehen): This is the only usage of\n        // getAllMutationBatchesThroughBatchId(). Consider removing it in\n        // favor of a getAcknowledgedBatches() method.\n        if (highestAck !== BATCHID_UNKNOWN) {\n          return this.mutationQueue.getAllMutationBatchesThroughBatchId(\n            txn,\n            highestAck\n          );\n        } else {\n          return PersistencePromise.resolve([]);\n        }\n      })\n      .next(ackedBatches => {\n        if (ackedBatches.length > 0) {\n          return this.mutationQueue.removeMutationBatches(txn, ackedBatches);\n        } else {\n          return PersistencePromise.resolve();\n        }\n      });\n  }\n\n  /* Accept locally generated Mutations and commit them to storage. */\n  localWrite(mutations: Mutation[]): Promise<LocalWriteResult> {\n    return this.persistence.runTransaction('Locally write mutations', txn => {\n      let batch: MutationBatch;\n      const localWriteTime = Timestamp.now();\n      return this.mutationQueue\n        .addMutationBatch(txn, localWriteTime, mutations)\n        .next(promisedBatch => {\n          batch = promisedBatch;\n          // TODO(koss): This is doing an N^2 update by replaying ALL the\n          // mutations on each document (instead of just the ones added) in\n          // this batch.\n          const keys = batch.keys();\n          return this.localDocuments.getDocuments(txn, keys);\n        })\n        .next((changedDocuments: MaybeDocumentMap) => {\n          return { batchId: batch.batchId, changes: changedDocuments };\n        });\n    });\n  }\n\n  /**\n   * Acknowledge the given batch.\n   *\n   * On the happy path when a batch is acknowledged, the local store will\n   *\n   *  + remove the batch from the mutation queue;\n   *  + apply the changes to the remote document cache;\n   *  + recalculate the latency compensated view implied by those changes (there\n   *    may be mutations in the queue that affect the documents but haven't been\n   *    acknowledged yet); and\n   *  + give the changed documents back the sync engine\n   *\n   * @returns The resulting (modified) documents.\n   */\n  acknowledgeBatch(\n    batchResult: MutationBatchResult\n  ): Promise<MaybeDocumentMap> {\n    return this.persistence.runTransaction('Acknowledge batch', txn => {\n      let affected: DocumentKeySet;\n      return this.mutationQueue\n        .acknowledgeBatch(txn, batchResult.batch, batchResult.streamToken)\n        .next(() => {\n          if (this.shouldHoldBatchResult(batchResult.commitVersion)) {\n            this.heldBatchResults.push(batchResult);\n            affected = documentKeySet();\n            return PersistencePromise.resolve();\n          } else {\n            const documentBuffer = new RemoteDocumentChangeBuffer(\n              this.remoteDocuments\n            );\n            return this.releaseBatchResults(\n              txn,\n              [batchResult],\n              documentBuffer\n            ).next(promisedAffectedKeys => {\n              affected = promisedAffectedKeys;\n              return documentBuffer.apply(txn);\n            });\n          }\n        })\n        .next(() => {\n          return this.mutationQueue.performConsistencyCheck(txn);\n        })\n        .next(() => {\n          return this.localDocuments.getDocuments(txn, affected);\n        });\n    });\n  }\n\n  /**\n   * Remove mutations from the MutationQueue for the specified batch;\n   * LocalDocuments will be recalculated.\n   *\n   * @returns The resulting modified documents.\n   */\n  rejectBatch(batchId: BatchId): Promise<MaybeDocumentMap> {\n    return this.persistence.runTransaction('Reject batch', txn => {\n      let toReject: MutationBatch;\n      let affectedKeys: DocumentKeySet;\n      return this.mutationQueue\n        .lookupMutationBatch(txn, batchId)\n        .next((promisedToReject: MutationBatch | null) => {\n          assert(\n            promisedToReject != null,\n            'Attempt to reject nonexistent batch!'\n          );\n          toReject = promisedToReject!;\n\n          return this.mutationQueue\n            .getHighestAcknowledgedBatchId(txn)\n            .next(lastAcked => {\n              assert(\n                batchId > lastAcked,\n                \"Acknowledged batches can't be rejected.\"\n              );\n              return toReject;\n            });\n        })\n        .next(() => {\n          return this.removeMutationBatch(txn, toReject);\n        })\n        .next(promisedAffectedKeys => {\n          affectedKeys = promisedAffectedKeys;\n          return this.mutationQueue.performConsistencyCheck(txn);\n        })\n        .next(() => {\n          return this.localDocuments.getDocuments(txn, affectedKeys);\n        });\n    });\n  }\n\n  /** Returns the last recorded stream token for the current user. */\n  getLastStreamToken(): Promise<ProtoByteString> {\n    return this.persistence.runTransaction('Get last stream token', txn => {\n      return this.mutationQueue.getLastStreamToken(txn);\n    });\n  }\n\n  /**\n   * Sets the stream token for the current user without acknowledging any\n   * mutation batch. This is usually only useful after a stream handshake or in\n   * response to an error that requires clearing the stream token.\n   */\n  setLastStreamToken(streamToken: ProtoByteString): Promise<void> {\n    return this.persistence.runTransaction('Set last stream token', txn => {\n      return this.mutationQueue.setLastStreamToken(txn, streamToken);\n    });\n  }\n\n  /**\n   * Returns the last consistent snapshot processed (used by the RemoteStore to\n   * determine whether to buffer incoming snapshots from the backend).\n   */\n  getLastRemoteSnapshotVersion(): SnapshotVersion {\n    return this.queryCache.getLastRemoteSnapshotVersion();\n  }\n\n  /**\n   * Update the \"ground-state\" (remote) documents. We assume that the remote\n   * event reflects any write batches that have been acknowledged or rejected\n   * (i.e. we do not re-apply local mutations to updates from this event).\n   *\n   * LocalDocuments are re-calculated if there are remaining mutations in the\n   * queue.\n   */\n  applyRemoteEvent(remoteEvent: RemoteEvent): Promise<MaybeDocumentMap> {\n    const documentBuffer = new RemoteDocumentChangeBuffer(this.remoteDocuments);\n    return this.persistence.runTransaction('Apply remote event', txn => {\n      const promises = [] as Array<PersistencePromise<void>>;\n      objUtils.forEachNumber(\n        remoteEvent.targetChanges,\n        (targetId: TargetId, change: TargetChange) => {\n          // Do not ref/unref unassigned targetIds - it may lead to leaks.\n          let queryData = this.targetIds[targetId];\n          if (!queryData) return;\n\n          const mapping: UpdateMapping | ResetMapping = change.mapping;\n          if (mapping) {\n            // First make sure that all references are deleted\n            if (mapping instanceof ResetMapping) {\n              promises.push(\n                this.queryCache\n                  .removeMatchingKeysForTargetId(txn, targetId)\n                  .next(() => {\n                    return this.queryCache.addMatchingKeys(\n                      txn,\n                      mapping.documents,\n                      targetId\n                    );\n                  })\n              );\n            } else if (mapping instanceof UpdateMapping) {\n              promises.push(\n                this.queryCache\n                  .removeMatchingKeys(txn, mapping.removedDocuments, targetId)\n                  .next(() => {\n                    return this.queryCache.addMatchingKeys(\n                      txn,\n                      mapping.addedDocuments,\n                      targetId\n                    );\n                  })\n              );\n            } else {\n              return fail('Unknown mapping type: ' + JSON.stringify(mapping));\n            }\n          }\n\n          // Update the resume token if the change includes one. Don't clear\n          // any preexisting value.\n          const resumeToken = change.resumeToken;\n          if (resumeToken.length > 0) {\n            queryData = queryData.update({\n              resumeToken,\n              snapshotVersion: change.snapshotVersion\n            });\n            this.targetIds[targetId] = queryData;\n            promises.push(this.queryCache.addQueryData(txn, queryData));\n          }\n        }\n      );\n\n      let changedDocKeys = documentKeySet();\n      remoteEvent.documentUpdates.forEach((key, doc) => {\n        changedDocKeys = changedDocKeys.add(key);\n        promises.push(\n          documentBuffer.getEntry(txn, key).next(existingDoc => {\n            // Make sure we don't apply an old document version to the remote\n            // cache, though we make an exception for SnapshotVersion.MIN which\n            // can happen for manufactured events (e.g. in the case of a limbo\n            // document resolution failing).\n            if (\n              existingDoc == null ||\n              doc.version.isEqual(SnapshotVersion.MIN) ||\n              doc.version.compareTo(existingDoc.version) >= 0\n            ) {\n              documentBuffer.addEntry(doc);\n            } else {\n              log.debug(\n                LOG_TAG,\n                'Ignoring outdated watch update for ',\n                key,\n                '. Current version:',\n                existingDoc.version,\n                ' Watch version:',\n                doc.version\n              );\n            }\n\n            // The document might be garbage because it was unreferenced by\n            // everything. Make sure to mark it as garbage if it is...\n            this.garbageCollector.addPotentialGarbageKey(key);\n          })\n        );\n      });\n\n      // HACK: The only reason we allow a null snapshot version is so that we\n      // can synthesize remote events when we get permission denied errors while\n      // trying to resolve the state of a locally cached document that is in\n      // limbo.\n      const lastRemoteVersion = this.queryCache.getLastRemoteSnapshotVersion();\n      const remoteVersion = remoteEvent.snapshotVersion;\n      if (!remoteVersion.isEqual(SnapshotVersion.MIN)) {\n        assert(\n          remoteVersion.compareTo(lastRemoteVersion) >= 0,\n          'Watch stream reverted to previous snapshot?? ' +\n            remoteVersion +\n            ' < ' +\n            lastRemoteVersion\n        );\n        promises.push(\n          this.queryCache.setLastRemoteSnapshotVersion(txn, remoteVersion)\n        );\n      }\n\n      let releasedWriteKeys: DocumentKeySet;\n      return PersistencePromise.waitFor(promises)\n        .next(() => this.releaseHeldBatchResults(txn, documentBuffer))\n        .next(promisedReleasedWriteKeys => {\n          releasedWriteKeys = promisedReleasedWriteKeys;\n          return documentBuffer.apply(txn);\n        })\n        .next(() => {\n          return this.localDocuments.getDocuments(\n            txn,\n            changedDocKeys.unionWith(releasedWriteKeys)\n          );\n        });\n    });\n  }\n\n  /**\n   * Notify local store of the changed views to locally pin documents.\n   */\n  notifyLocalViewChanges(viewChanges: LocalViewChanges[]): Promise<void> {\n    return this.persistence.runTransaction('Notify local view changes', txn => {\n      const promises = [] as Array<PersistencePromise<void>>;\n      for (const view of viewChanges) {\n        promises.push(\n          this.queryCache\n            .getQueryData(txn, view.query)\n            .next((queryData: QueryData | null) => {\n              assert(\n                queryData !== null,\n                'Local view changes contain unallocated query.'\n              );\n              const targetId = queryData!.targetId;\n              this.localViewReferences.addReferences(view.addedKeys, targetId);\n              this.localViewReferences.removeReferences(\n                view.removedKeys,\n                targetId\n              );\n            })\n        );\n      }\n      return PersistencePromise.waitFor(promises);\n    });\n  }\n\n  /**\n   * Gets the mutation batch after the passed in batchId in the mutation queue\n   * or null if empty.\n   * @param afterBatchId If provided, the batch to search after.\n   * @returns The next mutation or null if there wasn't one.\n   */\n  nextMutationBatch(afterBatchId?: BatchId): Promise<MutationBatch | null> {\n    return this.persistence.runTransaction('Get next mutation batch', txn => {\n      if (afterBatchId === undefined) {\n        afterBatchId = BATCHID_UNKNOWN;\n      }\n      return this.mutationQueue.getNextMutationBatchAfterBatchId(\n        txn,\n        afterBatchId\n      );\n    });\n  }\n\n  /**\n   * Read the current value of a Document with a given key or null if not\n   * found - used for testing.\n   */\n  readDocument(key: DocumentKey): Promise<MaybeDocument | null> {\n    return this.persistence.runTransaction('read document', txn => {\n      return this.localDocuments.getDocument(txn, key);\n    });\n  }\n\n  /**\n   * Assigns the given query an internal ID so that its results can be pinned so\n   * they don't get GC'd. A query must be allocated in the local store before\n   * the store can be used to manage its view.\n   */\n  allocateQuery(query: Query): Promise<QueryData> {\n    return this.persistence.runTransaction('Allocate query', txn => {\n      let queryData: QueryData;\n      return this.queryCache\n        .getQueryData(txn, query)\n        .next((cached: QueryData | null) => {\n          if (cached) {\n            // This query has been listened to previously, so reuse the\n            // previous targetID.\n            // TODO(mcg): freshen last accessed date?\n            queryData = cached;\n            return PersistencePromise.resolve();\n          } else {\n            const targetId = this.targetIdGenerator.next();\n            queryData = new QueryData(query, targetId, QueryPurpose.Listen);\n            return this.queryCache.addQueryData(txn, queryData);\n          }\n        })\n        .next(() => {\n          assert(\n            !this.targetIds[queryData.targetId],\n            'Tried to allocate an already allocated query: ' + query\n          );\n          this.targetIds[queryData.targetId] = queryData;\n          return queryData;\n        });\n    });\n  }\n\n  /** Unpin all the documents associated with the given query. */\n  releaseQuery(query: Query): Promise<void> {\n    return this.persistence.runTransaction('Release query', txn => {\n      return this.queryCache\n        .getQueryData(txn, query)\n        .next((queryData: QueryData | null) => {\n          assert(\n            queryData != null,\n            'Tried to release nonexistent query: ' + query\n          );\n          this.localViewReferences.removeReferencesForId(queryData!.targetId);\n          delete this.targetIds[queryData!.targetId];\n          if (this.garbageCollector.isEager) {\n            return this.queryCache.removeQueryData(txn, queryData!);\n          } else {\n            return PersistencePromise.resolve();\n          }\n        })\n        .next(() => {\n          // If this was the last watch target, then we won't get any more\n          // watch snapshots, so we should release any held batch results.\n          if (objUtils.isEmpty(this.targetIds)) {\n            const documentBuffer = new RemoteDocumentChangeBuffer(\n              this.remoteDocuments\n            );\n            return this.releaseHeldBatchResults(txn, documentBuffer).next(\n              () => {\n                documentBuffer.apply(txn);\n              }\n            );\n          } else {\n            return PersistencePromise.resolve();\n          }\n        });\n    });\n  }\n\n  /**\n   * Runs the specified query against all the documents in the local store and\n   * returns the results.\n   */\n  executeQuery(query: Query): Promise<DocumentMap> {\n    return this.persistence.runTransaction('Execute query', txn => {\n      return this.localDocuments.getDocumentsMatchingQuery(txn, query);\n    });\n  }\n\n  /**\n   * Returns the keys of the documents that are associated with the given\n   * target id in the remote table.\n   */\n  remoteDocumentKeys(targetId: TargetId): Promise<DocumentKeySet> {\n    return this.persistence.runTransaction('Remote document keys', txn => {\n      return this.queryCache.getMatchingKeysForTargetId(txn, targetId);\n    });\n  }\n\n  /**\n   * Collect garbage if necessary.\n   * Should be called periodically by Sync Engine to recover resources. The\n   * implementation must guarantee that GC won't happen in other places than\n   * this method call.\n   */\n  collectGarbage(): Promise<void> {\n    // Call collectGarbage regardless of whether isGCEnabled so the referenceSet\n    // doesn't continue to accumulate the garbage keys.\n    return this.persistence.runTransaction('Garbage collection', txn => {\n      return this.garbageCollector.collectGarbage(txn).next(garbage => {\n        const promises = [] as Array<PersistencePromise<void>>;\n        garbage.forEach(key => {\n          promises.push(this.remoteDocuments.removeEntry(txn, key));\n        });\n        return PersistencePromise.waitFor(promises);\n      });\n    });\n  }\n\n  private releaseHeldBatchResults(\n    txn: PersistenceTransaction,\n    documentBuffer: RemoteDocumentChangeBuffer\n  ): PersistencePromise<DocumentKeySet> {\n    const toRelease: MutationBatchResult[] = [];\n    for (const batchResult of this.heldBatchResults) {\n      if (!this.isRemoteUpToVersion(batchResult.commitVersion)) {\n        break;\n      }\n      toRelease.push(batchResult);\n    }\n\n    if (toRelease.length === 0) {\n      return PersistencePromise.resolve(documentKeySet());\n    } else {\n      this.heldBatchResults.splice(0, toRelease.length);\n      return this.releaseBatchResults(txn, toRelease, documentBuffer);\n    }\n  }\n\n  private isRemoteUpToVersion(version: SnapshotVersion): boolean {\n    // If there are no watch targets, then we won't get remote snapshots, and\n    // we are always \"up-to-date.\"\n    const lastRemoteVersion = this.queryCache.getLastRemoteSnapshotVersion();\n    return (\n      version.compareTo(lastRemoteVersion) <= 0 ||\n      objUtils.isEmpty(this.targetIds)\n    );\n  }\n\n  private shouldHoldBatchResult(version: SnapshotVersion): boolean {\n    // Check if watcher isn't up to date or prior results are already held.\n    return (\n      !this.isRemoteUpToVersion(version) || this.heldBatchResults.length > 0\n    );\n  }\n\n  private releaseBatchResults(\n    txn: PersistenceTransaction,\n    batchResults: MutationBatchResult[],\n    documentBuffer: RemoteDocumentChangeBuffer\n  ): PersistencePromise<DocumentKeySet> {\n    let promiseChain = PersistencePromise.resolve();\n    for (const batchResult of batchResults) {\n      promiseChain = promiseChain.next(() =>\n        this.applyWriteToRemoteDocuments(txn, batchResult, documentBuffer)\n      );\n    }\n    return promiseChain.next(() => {\n      return this.removeMutationBatches(\n        txn,\n        batchResults.map(result => result.batch)\n      );\n    });\n  }\n\n  private removeMutationBatch(\n    txn: PersistenceTransaction,\n    batch: MutationBatch\n  ): PersistencePromise<DocumentKeySet> {\n    return this.removeMutationBatches(txn, [batch]);\n  }\n\n  /** Removes all the mutation batches named in the given array. */\n  private removeMutationBatches(\n    txn: PersistenceTransaction,\n    batches: MutationBatch[]\n  ): PersistencePromise<DocumentKeySet> {\n    let affectedDocs = documentKeySet();\n    for (const batch of batches) {\n      for (const mutation of batch.mutations) {\n        const key = mutation.key;\n        affectedDocs = affectedDocs.add(key);\n      }\n    }\n\n    return this.mutationQueue\n      .removeMutationBatches(txn, batches)\n      .next(() => affectedDocs);\n  }\n\n  private applyWriteToRemoteDocuments(\n    txn: PersistenceTransaction,\n    batchResult: MutationBatchResult,\n    documentBuffer: RemoteDocumentChangeBuffer\n  ): PersistencePromise<void> {\n    const batch = batchResult.batch;\n    const docKeys = batch.keys();\n    let promiseChain = PersistencePromise.resolve();\n    docKeys.forEach(docKey => {\n      promiseChain = promiseChain\n        .next(() => {\n          return documentBuffer.getEntry(txn, docKey);\n        })\n        .next((remoteDoc: MaybeDocument | null) => {\n          let doc = remoteDoc;\n          const ackVersion = batchResult.docVersions.get(docKey);\n          assert(\n            ackVersion !== null,\n            'ackVersions should contain every doc in the write.'\n          );\n          if (!doc || doc.version.compareTo(ackVersion!) < 0) {\n            doc = batch.applyToRemoteDocument(docKey, doc, batchResult);\n            if (!doc) {\n              assert(\n                !remoteDoc,\n                'Mutation batch ' +\n                  batch +\n                  ' applied to document ' +\n                  remoteDoc +\n                  ' resulted in null'\n              );\n            } else {\n              documentBuffer.addEntry(doc);\n            }\n          }\n        });\n    });\n    return promiseChain;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { Timestamp } from '../core/timestamp';\nimport { BatchId, ProtoByteString } from '../core/types';\nimport { DocumentKey } from '../model/document_key';\nimport { Mutation } from '../model/mutation';\nimport { BATCHID_UNKNOWN, MutationBatch } from '../model/mutation_batch';\nimport { emptyByteString } from '../platform/platform';\nimport { assert } from '../util/assert';\nimport { primitiveComparator } from '../util/misc';\nimport { SortedSet } from '../util/sorted_set';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { MutationQueue } from './mutation_queue';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { DocReference } from './reference_set';\n\nexport class MemoryMutationQueue implements MutationQueue {\n  /**\n   * The set of all mutations that have been sent but not yet been applied to\n   * the backend.\n   */\n  private mutationQueue: MutationBatch[] = [];\n\n  /** Next value to use when assigning sequential IDs to each mutation batch. */\n  private nextBatchId: BatchId = 1;\n\n  /** The highest acknowledged mutation in the queue. */\n  private highestAcknowledgedBatchId: BatchId = BATCHID_UNKNOWN;\n\n  /** The last received stream token from the server, used to acknowledge which\n   * responses the client has processed. Stream tokens are opaque checkpoint\n   * markers whose only real value is their inclusion in the next request.\n   */\n  private lastStreamToken: ProtoByteString = emptyByteString();\n\n  /** The garbage collector to notify about potential garbage keys. */\n  private garbageCollector: GarbageCollector | null = null;\n\n  /** An ordered mapping between documents and the mutations batch IDs. */\n  private batchesByDocumentKey = new SortedSet(DocReference.compareByKey);\n\n  start(transaction: PersistenceTransaction): PersistencePromise<void> {\n    // NOTE: The queue may be shutdown / started multiple times, since we\n    // maintain the queue for the duration of the app session in case a user\n    // logs out / back in. To behave like the LevelDB-backed MutationQueue (and\n    // accommodate tests that expect as much), we reset nextBatchId and\n    // highestAcknowledgedBatchId if the queue is empty.\n    if (this.mutationQueue.length === 0) {\n      this.nextBatchId = 1;\n      this.highestAcknowledgedBatchId = BATCHID_UNKNOWN;\n    }\n    assert(\n      this.highestAcknowledgedBatchId < this.nextBatchId,\n      'highestAcknowledgedBatchId must be less than the nextBatchId'\n    );\n    return PersistencePromise.resolve();\n  }\n\n  checkEmpty(transaction: PersistenceTransaction): PersistencePromise<boolean> {\n    return PersistencePromise.resolve(this.mutationQueue.length === 0);\n  }\n\n  getNextBatchId(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<BatchId> {\n    return PersistencePromise.resolve(this.nextBatchId);\n  }\n\n  getHighestAcknowledgedBatchId(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<BatchId> {\n    return PersistencePromise.resolve(this.highestAcknowledgedBatchId);\n  }\n\n  acknowledgeBatch(\n    transaction: PersistenceTransaction,\n    batch: MutationBatch,\n    streamToken: ProtoByteString\n  ): PersistencePromise<void> {\n    const batchId = batch.batchId;\n    assert(\n      batchId > this.highestAcknowledgedBatchId,\n      'Mutation batchIDs must be acknowledged in order'\n    );\n\n    const batchIndex = this.indexOfExistingBatchId(batchId, 'acknowledged');\n\n    // Verify that the batch in the queue is the one to be acknowledged.\n    const check = this.mutationQueue[batchIndex];\n    assert(\n      batchId === check.batchId,\n      'Queue ordering failure: expected batch ' +\n        batchId +\n        ', got batch ' +\n        check.batchId\n    );\n    assert(\n      !check.isTombstone(),\n      \"Can't acknowledge a previously removed batch\"\n    );\n\n    this.highestAcknowledgedBatchId = batchId;\n    this.lastStreamToken = streamToken;\n    return PersistencePromise.resolve();\n  }\n\n  getLastStreamToken(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<ProtoByteString> {\n    return PersistencePromise.resolve(this.lastStreamToken);\n  }\n\n  setLastStreamToken(\n    transaction: PersistenceTransaction,\n    streamToken: ProtoByteString\n  ): PersistencePromise<void> {\n    this.lastStreamToken = streamToken;\n    return PersistencePromise.resolve();\n  }\n\n  addMutationBatch(\n    transaction: PersistenceTransaction,\n    localWriteTime: Timestamp,\n    mutations: Mutation[]\n  ): PersistencePromise<MutationBatch> {\n    assert(mutations.length !== 0, 'Mutation batches should not be empty');\n\n    const batchId = this.nextBatchId;\n    this.nextBatchId++;\n\n    if (this.mutationQueue.length > 0) {\n      const prior = this.mutationQueue[this.mutationQueue.length - 1];\n      assert(\n        prior.batchId < batchId,\n        'Mutation batchIDs must be monotonically increasing order'\n      );\n    }\n\n    const batch = new MutationBatch(batchId, localWriteTime, mutations);\n    this.mutationQueue.push(batch);\n\n    // Track references by document key.\n    for (const mutation of mutations) {\n      this.batchesByDocumentKey = this.batchesByDocumentKey.add(\n        new DocReference(mutation.key, batchId)\n      );\n    }\n\n    return PersistencePromise.resolve(batch);\n  }\n\n  lookupMutationBatch(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch | null> {\n    return PersistencePromise.resolve(this.findMutationBatch(batchId));\n  }\n\n  getNextMutationBatchAfterBatchId(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch | null> {\n    const size = this.mutationQueue.length;\n\n    // All batches with batchId <= this.highestAcknowledgedBatchId have been\n    // acknowledged so the first unacknowledged batch after batchID will have a\n    // batchID larger than both of these values.\n    batchId = Math.max(batchId + 1, this.highestAcknowledgedBatchId);\n\n    // The requested batchId may still be out of range so normalize it to the\n    // start of the queue.\n    const rawIndex = this.indexOfBatchId(batchId);\n    let index = rawIndex < 0 ? 0 : rawIndex;\n\n    // Finally return the first non-tombstone batch.\n    for (; index < size; index++) {\n      const batch = this.mutationQueue[index];\n      if (!batch.isTombstone()) {\n        return PersistencePromise.resolve(batch);\n      }\n    }\n    return PersistencePromise.resolve(null);\n  }\n\n  getAllMutationBatches(\n    transaction: PersistenceTransaction\n  ): PersistencePromise<MutationBatch[]> {\n    return PersistencePromise.resolve(\n      this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length)\n    );\n  }\n\n  getAllMutationBatchesThroughBatchId(\n    transaction: PersistenceTransaction,\n    batchId: BatchId\n  ): PersistencePromise<MutationBatch[]> {\n    const count = this.mutationQueue.length;\n\n    let endIndex = this.indexOfBatchId(batchId);\n    if (endIndex < 0) {\n      endIndex = 0;\n    } else if (endIndex >= count) {\n      endIndex = count;\n    } else {\n      // The endIndex is in the queue so increment to pull everything in the\n      // queue including it.\n      endIndex++;\n    }\n\n    return PersistencePromise.resolve(\n      this.getAllLiveMutationBatchesBeforeIndex(endIndex)\n    );\n  }\n\n  getAllMutationBatchesAffectingDocumentKey(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<MutationBatch[]> {\n    const start = new DocReference(documentKey, 0);\n    const end = new DocReference(documentKey, Number.POSITIVE_INFINITY);\n    const result: MutationBatch[] = [];\n    this.batchesByDocumentKey.forEachInRange([start, end], ref => {\n      assert(\n        documentKey.isEqual(ref.key),\n        \"Should only iterate over a single key's batches\"\n      );\n      const batch = this.findMutationBatch(ref.targetOrBatchId);\n      assert(\n        batch !== null,\n        'Batches in the index must exist in the main table'\n      );\n      result.push(batch!);\n    });\n\n    return PersistencePromise.resolve(result);\n  }\n\n  getAllMutationBatchesAffectingQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<MutationBatch[]> {\n    // Use the query path as a prefix for testing if a document matches the\n    // query.\n    const prefix = query.path;\n    const immediateChildrenPathLength = prefix.length + 1;\n\n    // Construct a document reference for actually scanning the index. Unlike\n    // the prefix the document key in this reference must have an even number of\n    // segments. The empty segment can be used a suffix of the query path\n    // because it precedes all other segments in an ordered traversal.\n    let startPath = prefix;\n    if (!DocumentKey.isDocumentKey(startPath)) {\n      startPath = startPath.child('');\n    }\n\n    const start = new DocReference(new DocumentKey(startPath), 0);\n\n    // Find unique batchIDs referenced by all documents potentially matching the\n    // query.\n    let uniqueBatchIDs = new SortedSet<number>(primitiveComparator);\n\n    this.batchesByDocumentKey.forEachWhile(ref => {\n      const rowKeyPath = ref.key.path;\n      if (!prefix.isPrefixOf(rowKeyPath)) {\n        return false;\n      } else {\n        // Rows with document keys more than one segment longer than the query\n        // path can't be matches. For example, a query on 'rooms' can't match\n        // the document /rooms/abc/messages/xyx.\n        // TODO(mcg): we'll need a different scanner when we implement\n        // ancestor queries.\n        if (rowKeyPath.length === immediateChildrenPathLength) {\n          uniqueBatchIDs = uniqueBatchIDs.add(ref.targetOrBatchId);\n        }\n        return true;\n      }\n    }, start);\n\n    // Construct an array of matching batches, sorted by batchID to ensure that\n    // multiple mutations affecting the same document key are applied in order.\n    const result: MutationBatch[] = [];\n    uniqueBatchIDs.forEach(batchId => {\n      const batch = this.findMutationBatch(batchId);\n      if (batch !== null) {\n        result.push(batch);\n      }\n    });\n    return PersistencePromise.resolve(result);\n  }\n\n  removeMutationBatches(\n    transaction: PersistenceTransaction,\n    batches: MutationBatch[]\n  ): PersistencePromise<void> {\n    const batchCount = batches.length;\n    assert(batchCount > 0, 'Should not remove mutations when none exist.');\n\n    const firstBatchId = batches[0].batchId;\n    const queueCount = this.mutationQueue.length;\n\n    // Find the position of the first batch for removal. This need not be the\n    // first entry in the queue.\n    const startIndex = this.indexOfExistingBatchId(firstBatchId, 'removed');\n    assert(\n      this.mutationQueue[startIndex].batchId === firstBatchId,\n      'Removed batches must exist in the queue'\n    );\n\n    // Check that removed batches are contiguous (while excluding tombstones).\n    let batchIndex = 1;\n    let queueIndex = startIndex + 1;\n    while (batchIndex < batchCount && queueIndex < queueCount) {\n      const batch = this.mutationQueue[queueIndex];\n      if (batch.isTombstone()) {\n        queueIndex++;\n        continue;\n      }\n\n      assert(\n        batch.batchId === batches[batchIndex].batchId,\n        'Removed batches must be contiguous in the queue'\n      );\n      batchIndex++;\n      queueIndex++;\n    }\n\n    // Only actually remove batches if removing at the front of the queue.\n    // Previously rejected batches may have left tombstones in the queue, so\n    // expand the removal range to include any tombstones.\n    if (startIndex === 0) {\n      for (; queueIndex < queueCount; queueIndex++) {\n        const batch = this.mutationQueue[queueIndex];\n        if (!batch.isTombstone()) {\n          break;\n        }\n      }\n      const length = queueIndex - startIndex;\n      this.mutationQueue.splice(startIndex, length);\n    } else {\n      // Mark the tombstones\n      for (let i = startIndex; i < queueIndex; i++) {\n        this.mutationQueue[i] = this.mutationQueue[i].toTombstone();\n      }\n    }\n\n    let references = this.batchesByDocumentKey;\n    for (const batch of batches) {\n      const batchId = batch.batchId;\n      for (const mutation of batch.mutations) {\n        const key = mutation.key;\n        if (this.garbageCollector !== null) {\n          this.garbageCollector.addPotentialGarbageKey(key);\n        }\n\n        const ref = new DocReference(key, batchId);\n        references = references.delete(ref);\n      }\n    }\n    this.batchesByDocumentKey = references;\n    return PersistencePromise.resolve();\n  }\n\n  setGarbageCollector(garbageCollector: GarbageCollector | null): void {\n    this.garbageCollector = garbageCollector;\n  }\n\n  containsKey(\n    txn: PersistenceTransaction,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    const ref = new DocReference(key, 0);\n    const firstRef = this.batchesByDocumentKey.firstAfterOrEqual(ref);\n    return PersistencePromise.resolve(key.isEqual(firstRef && firstRef.key));\n  }\n\n  performConsistencyCheck(\n    txn: PersistenceTransaction\n  ): PersistencePromise<void> {\n    if (this.mutationQueue.length === 0) {\n      assert(\n        this.batchesByDocumentKey.isEmpty(),\n        'Document leak -- detected dangling mutation references when queue is empty.'\n      );\n    }\n    return PersistencePromise.resolve();\n  }\n\n  /**\n   * A private helper that collects all the mutations batches in the queue up to\n   * but not including the given endIndex. All tombstones in the queue are\n   * excluded.\n   */\n  private getAllLiveMutationBatchesBeforeIndex(\n    endIndex: number\n  ): MutationBatch[] {\n    const result: MutationBatch[] = [];\n\n    for (let i = 0; i < endIndex; i++) {\n      const batch = this.mutationQueue[i];\n      if (!batch.isTombstone()) {\n        result.push(batch);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Finds the index of the given batchId in the mutation queue and asserts that\n   * the resulting index is within the bounds of the queue.\n   *\n   * @param batchId The batchId to search for\n   * @param action A description of what the caller is doing, phrased in passive\n   * form (e.g. \"acknowledged\" in a routine that acknowledges batches).\n   */\n  private indexOfExistingBatchId(batchId: BatchId, action: string): number {\n    const index = this.indexOfBatchId(batchId);\n    assert(\n      index >= 0 && index < this.mutationQueue.length,\n      'Batches must exist to be ' + action\n    );\n    return index;\n  }\n\n  /**\n   * Finds the index of the given batchId in the mutation queue. This operation\n   * is O(1).\n   *\n   * @return The computed index of the batch with the given batchId, based on\n   * the state of the queue. Note this index can be negative if the requested\n   * batchId has already been remvoed from the queue or past the end of the\n   * queue if the batchId is larger than the last added batch.\n   */\n  private indexOfBatchId(batchId: BatchId): number {\n    if (this.mutationQueue.length === 0) {\n      // As an index this is past the end of the queue\n      return 0;\n    }\n\n    // Examine the front of the queue to figure out the difference between the\n    // batchId and indexes in the array. Note that since the queue is ordered\n    // by batchId, if the first batch has a larger batchId then the requested\n    // batchId doesn't exist in the queue.\n    const firstBatchId = this.mutationQueue[0].batchId;\n    return batchId - firstBatchId;\n  }\n\n  /**\n   * A version of lookupMutationBatch that doesn't return a promise, this makes\n   * other functions that uses this code easier to read and more efficent.\n   */\n  private findMutationBatch(batchId: BatchId): MutationBatch | null {\n    const index = this.indexOfBatchId(batchId);\n    if (index < 0 || index >= this.mutationQueue.length) {\n      return null;\n    }\n\n    const batch = this.mutationQueue[index];\n    assert(batch.batchId === batchId, 'If found batch must match');\n    return batch.isTombstone() ? null : batch;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { TargetId } from '../core/types';\nimport { DocumentKeySet } from '../model/collections';\nimport { DocumentKey } from '../model/document_key';\nimport { ObjectMap } from '../util/obj_map';\nimport { SortedSet } from '../util/sorted_set';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { QueryCache } from './query_cache';\nimport { QueryData } from './query_data';\nimport { ReferenceSet } from './reference_set';\n\nexport class MemoryQueryCache implements QueryCache {\n  /**\n   * Maps a query to the data about that query\n   */\n  private queries = new ObjectMap<Query, QueryData>(q => q.canonicalId());\n\n  /** The last received snapshot version. */\n  private lastRemoteSnapshotVersion = SnapshotVersion.MIN;\n  /** The highest numbered target ID encountered. */\n  private highestTargetId: TargetId = 0;\n  /**\n   * A ordered bidirectional mapping between documents and the remote target\n   * IDs.\n   */\n  private references = new ReferenceSet();\n\n  start(transaction: PersistenceTransaction): PersistencePromise<void> {\n    // Nothing to do.\n    return PersistencePromise.resolve();\n  }\n\n  getLastRemoteSnapshotVersion(): SnapshotVersion {\n    return this.lastRemoteSnapshotVersion;\n  }\n\n  getHighestTargetId(): TargetId {\n    return this.highestTargetId;\n  }\n\n  setLastRemoteSnapshotVersion(\n    transaction: PersistenceTransaction,\n    snapshotVersion: SnapshotVersion\n  ): PersistencePromise<void> {\n    this.lastRemoteSnapshotVersion = snapshotVersion;\n    return PersistencePromise.resolve();\n  }\n\n  addQueryData(\n    transaction: PersistenceTransaction,\n    queryData: QueryData\n  ): PersistencePromise<void> {\n    this.queries.set(queryData.query, queryData);\n    const targetId = queryData.targetId;\n    if (targetId > this.highestTargetId) {\n      this.highestTargetId = targetId;\n    }\n    return PersistencePromise.resolve();\n  }\n\n  removeQueryData(\n    transaction: PersistenceTransaction,\n    queryData: QueryData\n  ): PersistencePromise<void> {\n    this.queries.delete(queryData.query);\n    this.references.removeReferencesForId(queryData.targetId);\n    return PersistencePromise.resolve();\n  }\n\n  getQueryData(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<QueryData | null> {\n    const queryData = this.queries.get(query) || null;\n    return PersistencePromise.resolve(queryData);\n  }\n\n  addMatchingKeys(\n    txn: PersistenceTransaction,\n    keys: DocumentKeySet,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    this.references.addReferences(keys, targetId);\n    return PersistencePromise.resolve();\n  }\n\n  removeMatchingKeys(\n    txn: PersistenceTransaction,\n    keys: DocumentKeySet,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    this.references.removeReferences(keys, targetId);\n    return PersistencePromise.resolve();\n  }\n\n  removeMatchingKeysForTargetId(\n    txn: PersistenceTransaction,\n    targetId: TargetId\n  ): PersistencePromise<void> {\n    this.references.removeReferencesForId(targetId);\n    return PersistencePromise.resolve();\n  }\n\n  getMatchingKeysForTargetId(\n    txn: PersistenceTransaction,\n    targetId: TargetId\n  ): PersistencePromise<DocumentKeySet> {\n    const matchingKeys = this.references.referencesForId(targetId);\n    return PersistencePromise.resolve(matchingKeys);\n  }\n\n  setGarbageCollector(gc: GarbageCollector | null): void {\n    this.references.setGarbageCollector(gc);\n  }\n\n  containsKey(\n    txn: PersistenceTransaction | null,\n    key: DocumentKey\n  ): PersistencePromise<boolean> {\n    return this.references.containsKey(txn, key);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Query } from '../core/query';\nimport {\n  DocumentMap,\n  documentMap,\n  maybeDocumentMap\n} from '../model/collections';\nimport { Document, MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { DocumentSet } from '../model/document_set';\n\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { RemoteDocumentCache } from './remote_document_cache';\n\nexport class MemoryRemoteDocumentCache implements RemoteDocumentCache {\n  private docs = maybeDocumentMap();\n\n  addEntry(\n    transaction: PersistenceTransaction,\n    maybeDocument: MaybeDocument\n  ): PersistencePromise<void> {\n    this.docs = this.docs.insert(maybeDocument.key, maybeDocument);\n    return PersistencePromise.resolve();\n  }\n\n  removeEntry(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<void> {\n    this.docs = this.docs.remove(documentKey);\n    return PersistencePromise.resolve();\n  }\n\n  getEntry(\n    transaction: PersistenceTransaction,\n    documentKey: DocumentKey\n  ): PersistencePromise<MaybeDocument | null> {\n    return PersistencePromise.resolve(this.docs.get(documentKey));\n  }\n\n  getDocumentsMatchingQuery(\n    transaction: PersistenceTransaction,\n    query: Query\n  ): PersistencePromise<DocumentMap> {\n    let results = documentMap();\n\n    // Documents are ordered by key, so we can use a prefix scan to narrow down\n    // the documents we need to match the query against.\n    const prefix = new DocumentKey(query.path.child(''));\n    const iterator = this.docs.getIteratorFrom(prefix);\n    while (iterator.hasNext()) {\n      const { key, value: maybeDoc } = iterator.getNext();\n      if (!query.path.isPrefixOf(key.path)) {\n        break;\n      }\n      if (maybeDoc instanceof Document && query.matches(maybeDoc)) {\n        results = results.insert(maybeDoc.key, maybeDoc);\n      }\n    }\n    return PersistencePromise.resolve(results);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { assert } from '../util/assert';\nimport { debug } from '../util/log';\n\nimport { MemoryMutationQueue } from './memory_mutation_queue';\nimport { MemoryQueryCache } from './memory_query_cache';\nimport { MemoryRemoteDocumentCache } from './memory_remote_document_cache';\nimport { MutationQueue } from './mutation_queue';\nimport { Persistence, PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\nimport { QueryCache } from './query_cache';\nimport { RemoteDocumentCache } from './remote_document_cache';\n\nconst LOG_TAG = 'MemoryPersistence';\n\n/**\n * A memory-backed instance of Persistence. Data is stored only in RAM and\n * not persisted across sessions.\n */\nexport class MemoryPersistence implements Persistence {\n  /**\n   * Note that these are retained here to make it easier to write tests\n   * affecting both the in-memory and IndexedDB-backed persistence layers. Tests\n   * can create a new LocalStore wrapping this Persistence instance and this\n   * will make the in-memory persistence layer behave as if it were actually\n   * persisting values.\n   */\n  private mutationQueues: { [user: string]: MutationQueue } = {};\n  private remoteDocumentCache = new MemoryRemoteDocumentCache();\n  private queryCache = new MemoryQueryCache();\n\n  private started = false;\n\n  start(): Promise<void> {\n    assert(!this.started, 'MemoryPersistence double-started!');\n    this.started = true;\n    // No durable state to read on startup.\n    return Promise.resolve();\n  }\n\n  shutdown(): Promise<void> {\n    // No durable state to ensure is closed on shutdown.\n    assert(this.started, 'MemoryPersistence shutdown without start!');\n    this.started = false;\n    return Promise.resolve();\n  }\n\n  getMutationQueue(user: User): MutationQueue {\n    let queue = this.mutationQueues[user.toKey()];\n    if (!queue) {\n      queue = new MemoryMutationQueue();\n      this.mutationQueues[user.toKey()] = queue;\n    }\n    return queue;\n  }\n\n  getQueryCache(): QueryCache {\n    return this.queryCache;\n  }\n\n  getRemoteDocumentCache(): RemoteDocumentCache {\n    return this.remoteDocumentCache;\n  }\n\n  runTransaction<T>(\n    action: string,\n    operation: (transaction: PersistenceTransaction) => PersistencePromise<T>\n  ): Promise<T> {\n    debug(LOG_TAG, 'Starting transaction:', action);\n    return operation(new MemoryPersistenceTransaction()).toPromise();\n  }\n}\n\n/** Dummy class since memory persistence doesn't actually use transactions. */\nclass MemoryPersistenceTransaction implements PersistenceTransaction {}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DocumentKeySet, documentKeySet } from '../model/collections';\nimport { DocumentKey } from '../model/document_key';\n\nimport { GarbageCollector } from './garbage_collector';\nimport { GarbageSource } from './garbage_source';\nimport { PersistenceTransaction } from './persistence';\nimport { PersistencePromise } from './persistence_promise';\n\n/**\n * A garbage collector implementation that does absolutely nothing. It ignores\n * all addGarbageSource and addPotentialGarbageKey messages and and never\n * produces any garbage.\n */\nexport class NoOpGarbageCollector implements GarbageCollector {\n  readonly isEager = false;\n\n  addGarbageSource(garbageSource: GarbageSource): void {\n    // Not tracking garbage so don't track sources.\n  }\n\n  removeGarbageSource(garbageSource: GarbageSource): void {\n    // Not tracking garbage so don't track sources.\n  }\n\n  addPotentialGarbageKey(key: DocumentKey): void {\n    // Not tracking garbage so ignore.\n  }\n\n  collectGarbage(\n    txn: PersistenceTransaction | null\n  ): PersistencePromise<DocumentKeySet> {\n    return PersistencePromise.resolve(documentKeySet());\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnyDuringMigration } from './misc';\n\nexport interface Resolver<R> {\n  (value?: R | Promise<R>): void;\n}\n\nexport interface Rejecter {\n  (reason?: Error): void;\n}\n\nexport class Deferred<R> {\n  promise: Promise<R>;\n  resolve: Resolver<R>;\n  reject: Rejecter;\n\n  constructor() {\n    this.promise = new Promise((resolve: Resolver<R>, reject: Rejecter) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n}\n\n/**\n * Takes an array of values and sequences them using the promise (or value)\n * returned by the supplied callback. The callback for each item is called\n * after the promise is resolved for the previous item.\n * The function returns a promise which is resolved after the promise for\n * the last item is resolved.\n */\nexport function sequence<T, R>(\n  values: T[],\n  fn: (value: T, result?: R) => R | Promise<R>,\n  initialValue?: R\n): Promise<R> {\n  let result = Promise.resolve(initialValue);\n  values.forEach(value => {\n    result = result.then(lastResult => fn(value, lastResult));\n  });\n  return result as AnyDuringMigration;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as log from '../util/log';\nimport { Deferred } from '../util/promise';\n\nconst LOG_TAG = 'ExponentialBackoff';\n\n/**\n * A helper for running delayed tasks following an exponential backoff curve\n * between attempts.\n *\n * Each delay is made up of a \"base\" delay which follows the exponential\n * backoff curve, and a +/- 50% \"jitter\" that is calculated and added to the\n * base delay. This prevents clients from accidentally synchronizing their\n * delays causing spikes of load to the backend.\n */\nexport class ExponentialBackoff {\n  private currentBaseMs: number;\n\n  constructor(\n    /**\n     * The initial delay (used as the base delay on the first retry attempt).\n     * Note that jitter will still be applied, so the actual delay could be as\n     * little as 0.5*initialDelayMs.\n     */\n    private readonly initialDelayMs: number,\n    /**\n     * The multiplier to use to determine the extended base delay after each\n     * attempt.\n     */\n    private readonly backoffFactor: number,\n    /**\n     * The maximum base delay after which no further backoff is performed.\n     * Note that jitter will still be applied, so the actual delay could be as\n     * much as 1.5*maxDelayMs.\n     */\n    private readonly maxDelayMs: number\n  ) {\n    this.reset();\n  }\n\n  /**\n   * Resets the backoff delay.\n   *\n   * The very next backoffAndWait() will have no delay. If it is called again\n   * (i.e. due to an error), initialDelayMs (plus jitter) will be used, and\n   * subsequent ones will increase according to the backoffFactor.\n   */\n  reset(): void {\n    this.currentBaseMs = 0;\n  }\n\n  /**\n   * Resets the backoff delay to the maximum delay (e.g. for use after a\n   * RESOURCE_EXHAUSTED error).\n   */\n  resetToMax(): void {\n    this.currentBaseMs = this.maxDelayMs;\n  }\n\n  /**\n   * Returns a promise that resolves after currentDelayMs, and increases the\n   * delay for any subsequent attempts.\n   */\n  backoffAndWait(): Promise<void> {\n    const def = new Deferred<void>();\n\n    // First schedule using the current base (which may be 0 and should be\n    // honored as such).\n    const delayWithJitterMs = this.currentBaseMs + this.jitterDelayMs();\n    if (this.currentBaseMs > 0) {\n      log.debug(\n        LOG_TAG,\n        `Backing off for ${delayWithJitterMs} ms ` +\n          `(base delay: ${this.currentBaseMs} ms)`\n      );\n    }\n    setTimeout(() => {\n      def.resolve();\n    }, delayWithJitterMs);\n\n    // Apply backoff factor to determine next delay and ensure it is within\n    // bounds.\n    this.currentBaseMs *= this.backoffFactor;\n    if (this.currentBaseMs < this.initialDelayMs) {\n      this.currentBaseMs = this.initialDelayMs;\n    }\n    if (this.currentBaseMs > this.maxDelayMs) {\n      this.currentBaseMs = this.maxDelayMs;\n    }\n\n    return def.promise;\n  }\n\n  /** Returns a random value in the range [-currentBaseMs/2, currentBaseMs/2] */\n  private jitterDelayMs(): number {\n    return (Math.random() - 0.5) * this.currentBaseMs;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { CredentialsProvider, Token } from '../api/credentials';\nimport { DatabaseInfo } from '../core/database_info';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { ProtoByteString, TargetId } from '../core/types';\nimport { QueryData } from '../local/query_data';\nimport { Mutation, MutationResult } from '../model/mutation';\nimport { assert } from '../util/assert';\nimport { AsyncQueue } from '../util/async_queue';\nimport { Code, FirestoreError } from '../util/error';\nimport * as log from '../util/log';\n\nimport { ExponentialBackoff } from './backoff';\nimport { Connection, Stream } from './connection';\nimport { JsonProtoSerializer } from './serializer';\nimport { WatchChange } from './watch_change';\nimport { isNullOrUndefined } from '../util/types';\n\nconst LOG_TAG = 'PersistentStream';\n\n// The generated proto interfaces for these class are missing the database\n// field. So we add it here.\n// TODO(b/36015800): Remove this once the api generator is fixed.\ninterface ListenRequest extends api.ListenRequest {\n  database?: string;\n}\nexport interface WriteRequest extends api.WriteRequest {\n  database?: string;\n}\n\nenum PersistentStreamState {\n  /**\n   * The streaming RPC is not running and there's no error condition.\n   * Calling `start` will start the stream immediately without backoff.\n   * While in this state isStarted will return false.\n   */\n  Initial,\n\n  /**\n   * The stream is starting, and is waiting for an auth token to attach to\n   * the initial request. While in this state, isStarted will return\n   * true but isOpen will return false.\n   */\n  Auth,\n\n  /**\n   * The streaming RPC is up and running. Requests and responses can flow\n   * freely. Both isStarted and isOpen will return true.\n   */\n  Open,\n\n  /**\n   * The stream encountered an error. The next start attempt will back off.\n   * While in this state isStarted() will return false.\n   *\n   */\n  Error,\n\n  /**\n   * An in-between state after an error where the stream is waiting before\n   * re-starting. After\n   * waiting is complete, the stream will try to open. While in this\n   * state isStarted() will return YES but isOpen will return false.\n   */\n  Backoff,\n\n  /**\n   * The stream has been explicitly stopped; no further events will be emitted.\n   */\n  Stopped\n}\n\n/**\n * Provides a common interface that is shared by the listeners for stream\n * events by the concrete implementation classes.\n */\nexport interface PersistentStreamListener {\n  /**\n   * Called after the stream was established and can accept outgoing\n   * messages\n   */\n  onOpen: () => Promise<void>;\n  /**\n   * Called after the stream has closed. If there was an error, the\n   * FirestoreError will be set.\n   */\n  onClose: (err?: FirestoreError) => Promise<void>;\n}\n\n/**\n * Initial backoff time in milliseconds after an error.\n * Set to 1s according to https://cloud.google.com/apis/design/errors.\n */\nconst BACKOFF_INITIAL_DELAY_MS = 1000;\n\n/** Maximum backoff time in milliseconds */\nconst BACKOFF_MAX_DELAY_MS = 60 * 1000;\n\nconst BACKOFF_FACTOR = 1.5;\n\n/** The time a stream stays open after it is marked idle. */\nconst IDLE_TIMEOUT_MS = 60 * 1000;\n\n/**\n * A PersistentStream is an abstract base class that represents a streaming RPC\n * to the Firestore backend. It's built on top of the connections own support\n * for streaming RPCs, and adds several critical features for our clients:\n *\n *   - Exponential backoff on failure\n *   - Authentication via CredentialsProvider\n *   - Dispatching all callbacks into the shared worker queue\n *\n * Subclasses of PersistentStream implement serialization of models to and\n * from the JSON representation of the protocol buffers for a specific\n * streaming RPC.\n *\n * ## Starting and Stopping\n *\n * Streaming RPCs are stateful and need to be `start`ed before messages can\n * be sent and received. The PersistentStream will call the onOpen function\n * of the listener once the stream is ready to accept requests.\n *\n * Should a `start` fail, PersistentStream will call the registered\n * onClose with a FirestoreError indicating what went wrong.\n *\n * A PersistentStream can be started and stopped repeatedly.\n *\n * Generic types:\n *  SendType: The type of the outgoing message of the underlying\n *    connection stream\n *  ReceiveType: The type of the incoming message of the underlying\n *    connection stream\n *  ListenerType: The type of the listener that will be used for callbacks\n */\nexport abstract class PersistentStream<\n  SendType,\n  ReceiveType,\n  ListenerType extends PersistentStreamListener\n> {\n  private state: PersistentStreamState;\n  private idle = false;\n  private stream: Stream<SendType, ReceiveType> | null = null;\n\n  protected backoff: ExponentialBackoff;\n\n  protected listener: ListenerType | null = null;\n\n  constructor(\n    private queue: AsyncQueue,\n    protected connection: Connection,\n    private credentialsProvider: CredentialsProvider,\n    // Used for faster retries in testing\n    initialBackoffDelay?: number\n  ) {\n    this.backoff = new ExponentialBackoff(\n      initialBackoffDelay ? initialBackoffDelay : BACKOFF_INITIAL_DELAY_MS,\n      BACKOFF_FACTOR,\n      BACKOFF_MAX_DELAY_MS\n    );\n    this.state = PersistentStreamState.Initial;\n  }\n\n  /**\n   * Returns true if `start` has been called and no error has occurred. True\n   * indicates the stream is open or in the process of opening (which\n   * encompasses respecting backoff, getting auth tokens, and starting the\n   * actual RPC). Use `isOpen` to determine if the stream is open and ready for\n   * outbound requests.\n   */\n  isStarted(): boolean {\n    return (\n      this.state === PersistentStreamState.Backoff ||\n      this.state === PersistentStreamState.Auth ||\n      this.state === PersistentStreamState.Open\n    );\n  }\n\n  /**\n   * Returns true if the underlying RPC is open (the openHandler has been\n   * called) and the stream is ready for outbound requests.\n   */\n  isOpen(): boolean {\n    return this.state === PersistentStreamState.Open;\n  }\n\n  /**\n   * Starts the RPC. Only allowed if isStarted returns false. The stream is\n   * not immediately ready for use: onOpen will be invoked when the RPC is ready\n   * for outbound requests, at which point isOpen will return true.\n   *\n   *  When start returns, isStarted will return true.\n   */\n  start(listener: ListenerType): void {\n    if (this.state === PersistentStreamState.Error) {\n      this.performBackoff(listener);\n      return;\n    }\n\n    assert(this.state === PersistentStreamState.Initial, 'Already started');\n    this.listener = listener;\n    this.auth();\n  }\n\n  /**\n   * Stops the RPC. This call is idempotent and allowed regardless of the\n   * current isStarted state.\n   *\n   * When stop returns, isStarted and isOpen will both return false.\n   */\n  stop(): void {\n    if (this.isStarted()) {\n      this.close(PersistentStreamState.Stopped);\n    }\n  }\n\n  /**\n   * After an error the stream will usually back off on the next attempt to\n   * start it. If the error warrants an immediate restart of the stream, the\n   * sender can use this to indicate that the receiver should not back off.\n   *\n   * Each error will call the onClose function. That function can decide to\n   * inhibit backoff if required.\n   */\n  inhibitBackoff(): void {\n    assert(!this.isStarted(), 'Can only inhibit backoff in a stopped state');\n\n    this.state = PersistentStreamState.Initial;\n    this.backoff.reset();\n  }\n\n  /**\n   * Initializes the idle timer. If no write takes place within one minute, the\n   * WebChannel stream will be closed.\n   */\n  markIdle(): void {\n    this.idle = true;\n    this.queue\n      .schedule(() => {\n        return this.handleIdleCloseTimer();\n      }, IDLE_TIMEOUT_MS)\n      .catch((err: FirestoreError) => {\n        // When the AsyncQueue gets drained during testing, pending Promises\n        // (including these idle checks) will get rejected. We special-case\n        // these cancelled idle checks to make sure that these specific Promise\n        // rejections are not considered unhandled.\n        assert(\n          err.code === Code.CANCELLED,\n          `Received unexpected error in idle timeout closure. Expected CANCELLED, but was: ${\n            err\n          }`\n        );\n      });\n  }\n\n  /** Sends a message to the underlying stream. */\n  protected sendRequest(msg: SendType): void {\n    this.cancelIdleCheck();\n    this.stream!.send(msg);\n  }\n\n  /** Called by the idle timer when the stream should close due to inactivity. */\n  private handleIdleCloseTimer(): Promise<void> {\n    if (this.isOpen() && this.idle) {\n      // When timing out an idle stream there's no reason to force the stream into backoff when\n      // it restarts so set the stream state to Initial instead of Error.\n      return this.close(PersistentStreamState.Initial);\n    }\n    return Promise.resolve();\n  }\n\n  /** Marks the stream as active again. */\n  private cancelIdleCheck() {\n    this.idle = false;\n  }\n\n  /**\n   * Closes the stream and cleans up as necessary:\n   *\n   * * closes the underlying GRPC stream;\n   * * calls the onClose handler with the given 'error';\n   * * sets internal stream state to 'finalState';\n   * * adjusts the backoff timer based on the error\n   *\n   * A new stream can be opened by calling `start` unless `finalState` is set to\n   * `PersistentStreamState.Stopped`.\n   *\n   * @param finalState the intended state of the stream after closing.\n   * @param error the error the connection was closed with.\n   */\n  private close(\n    finalState: PersistentStreamState,\n    error?: FirestoreError\n  ): Promise<void> {\n    assert(\n      finalState === PersistentStreamState.Error || isNullOrUndefined(error),\n      \"Can't provide an error when not in an error state.\"\n    );\n\n    this.cancelIdleCheck();\n\n    if (finalState !== PersistentStreamState.Error) {\n      // If this is an intentional close ensure we don't delay our next connection attempt.\n      this.backoff.reset();\n    } else if (error && error.code === Code.RESOURCE_EXHAUSTED) {\n      // Log the error. (Probably either 'quota exceeded' or 'max queue length reached'.)\n      log.error(error.toString());\n      log.error(\n        'Using maximum backoff delay to prevent overloading the backend.'\n      );\n      this.backoff.resetToMax();\n    }\n\n    // Clean up the underlying stream because we are no longer interested in events.\n    if (this.stream !== null) {\n      this.tearDown();\n      this.stream.close();\n      this.stream = null;\n    }\n\n    // This state must be assigned before calling onClose() to allow the callback to\n    // inhibit backoff or otherwise manipulate the state in its non-started state.\n    this.state = finalState;\n    const listener = this.listener!;\n\n    // Clear the listener to avoid bleeding of events from the underlying streams.\n    this.listener = null;\n\n    // If the caller explicitly requested a stream stop, don't notify them of a closing stream (it\n    // could trigger undesirable recovery logic, etc.).\n    if (finalState !== PersistentStreamState.Stopped) {\n      return listener.onClose(error);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  /**\n   * Can be overridden to perform additional cleanup before the stream is closed.\n   * Calling super.tearDown() is not required.\n   */\n  protected tearDown(): void {}\n\n  /**\n   * Used by subclasses to start the concrete RPC and return the underlying\n   * connection stream.\n   */\n  protected abstract startRpc(\n    token: Token | null\n  ): Stream<SendType, ReceiveType>;\n\n  /**\n   * Called after the stream has received a message. The function will be\n   * called on the right queue and must return a Promise.\n   * @param message The message received from the stream.\n   */\n  protected abstract onMessage(message: ReceiveType): Promise<void>;\n\n  private auth(): void {\n    assert(\n      this.state === PersistentStreamState.Initial,\n      'Must be in initial state to auth'\n    );\n\n    this.state = PersistentStreamState.Auth;\n\n    this.credentialsProvider.getToken(/*forceRefresh=*/ false).then(\n      token => {\n        // Normally we'd have to schedule the callback on the AsyncQueue.\n        // However, the following calls are safe to be called outside the\n        // AsyncQueue since they don't chain asynchronous calls\n        this.startStream(token);\n      },\n      (error: Error) => {\n        this.queue.schedule(() => {\n          if (this.state !== PersistentStreamState.Stopped) {\n            // Stream can be stopped while waiting for authorization.\n            const rpcError = new FirestoreError(\n              Code.UNKNOWN,\n              'Fetching auth token failed: ' + error.message\n            );\n            return this.handleStreamClose(rpcError);\n          } else {\n            return Promise.resolve();\n          }\n        });\n      }\n    );\n  }\n\n  private startStream(token: Token | null): void {\n    if (this.state === PersistentStreamState.Stopped) {\n      // Stream can be stopped while waiting for authorization.\n      return;\n    }\n\n    assert(\n      this.state === PersistentStreamState.Auth,\n      'Trying to start stream in a non-auth state'\n    );\n    // Helper function to dispatch to AsyncQueue and make sure that any\n    // close will seem instantaneous and events are prevented from being\n    // raised after the close call\n    const dispatchIfStillActive = (\n      stream: Stream<SendType, ReceiveType>,\n      fn: () => Promise<void>\n    ) => {\n      this.queue.schedule(() => {\n        // Only raise events if the stream instance has not changed\n        if (this.stream === stream) {\n          return fn();\n        } else {\n          return Promise.resolve();\n        }\n      });\n    };\n\n    // Only start stream if listener has not changed\n    if (this.listener !== null) {\n      const currentStream = this.startRpc(token);\n      this.stream = currentStream;\n      this.stream.onOpen(() => {\n        dispatchIfStillActive(currentStream, () => {\n          assert(\n            this.state === PersistentStreamState.Auth,\n            'Expected stream to be in state auth, but was ' + this.state\n          );\n          this.state = PersistentStreamState.Open;\n          return this.listener!.onOpen();\n        });\n      });\n      this.stream.onClose((error: FirestoreError) => {\n        dispatchIfStillActive(currentStream, () => {\n          return this.handleStreamClose(error);\n        });\n      });\n      this.stream.onMessage((msg: ReceiveType) => {\n        dispatchIfStillActive(currentStream, () => {\n          return this.onMessage(msg);\n        });\n      });\n    }\n  }\n\n  private performBackoff(listener: ListenerType): void {\n    assert(\n      this.state === PersistentStreamState.Error,\n      'Should only perform backoff in an error case'\n    );\n    this.state = PersistentStreamState.Backoff;\n\n    this.backoff.backoffAndWait().then(() => {\n      // Backoff does not run on the AsyncQueue, so we need to reschedule to\n      // make sure the queue blocks\n      this.queue.schedule(() => {\n        if (this.state === PersistentStreamState.Stopped) {\n          // Stream can be stopped while waiting for backoff to complete.\n          return Promise.resolve();\n        }\n\n        this.state = PersistentStreamState.Initial;\n        this.start(listener);\n        assert(this.isStarted(), 'PersistentStream should have started');\n        return Promise.resolve();\n      });\n    });\n  }\n\n  private handleStreamClose(error?: FirestoreError): Promise<void> {\n    assert(this.isStarted(), \"Can't handle server close on non-started stream\");\n    log.debug(LOG_TAG, `close with error: ${error}`);\n\n    this.stream = null;\n\n    // In theory the stream could close cleanly, however, in our current model\n    // we never expect this to happen because if we stop a stream ourselves,\n    // this callback will never be called. To prevent cases where we retry\n    // without a backoff accidentally, we set the stream to error in all cases.\n    return this.close(PersistentStreamState.Error, error);\n  }\n}\n\n/** Listener for the PersistentWatchStream */\nexport interface WatchStreamListener extends PersistentStreamListener {\n  /**\n   * Called on a watchChange. The snapshot parameter will be MIN if the watch\n   * change did not have a snapshot associated with it.\n   */\n  onWatchChange: (\n    watchChange: WatchChange,\n    snapshot: SnapshotVersion\n  ) => Promise<void>;\n}\n\n/**\n * A PersistentStream that implements the Listen RPC.\n *\n * Once the Listen stream has called the openHandler, any number of listen and\n * unlisten calls calls can be sent to control what changes will be sent from\n * the server for ListenResponses.\n */\nexport class PersistentListenStream extends PersistentStream<\n  api.ListenRequest,\n  api.ListenResponse,\n  WatchStreamListener\n> {\n  constructor(\n    private databaseInfo: DatabaseInfo,\n    queue: AsyncQueue,\n    connection: Connection,\n    credentials: CredentialsProvider,\n    private serializer: JsonProtoSerializer,\n    initialBackoffDelay?: number\n  ) {\n    super(queue, connection, credentials, initialBackoffDelay);\n  }\n\n  protected startRpc(\n    token: Token | null\n  ): Stream<api.ListenRequest, api.ListenResponse> {\n    return this.connection.openStream<api.ListenRequest, api.ListenResponse>(\n      'Listen',\n      token\n    );\n  }\n\n  protected onMessage(watchChangeProto: api.ListenResponse): Promise<void> {\n    // A successful response means the stream is healthy\n    this.backoff.reset();\n\n    const watchChange = this.serializer.fromWatchChange(watchChangeProto);\n    const snapshot = this.serializer.versionFromListenResponse(\n      watchChangeProto\n    );\n    return this.listener!.onWatchChange(watchChange, snapshot);\n  }\n\n  /**\n   * Registers interest in the results of the given query. If the query\n   * includes a resumeToken it will be included in the request. Results that\n   * affect the query will be streamed back as WatchChange messages that\n   * reference the targetId.\n   */\n  watch(queryData: QueryData): void {\n    const request: ListenRequest = {};\n    request.database = this.serializer.encodedDatabaseId;\n    request.addTarget = this.serializer.toTarget(queryData);\n\n    const labels = this.serializer.toListenRequestLabels(queryData);\n    if (labels) {\n      request.labels = labels;\n    }\n\n    this.sendRequest(request);\n  }\n\n  /**\n   * Unregisters interest in the results of the query associated with the\n   * given targetId.\n   */\n  unwatch(targetId: TargetId): void {\n    const request: ListenRequest = {};\n    request.database = this.serializer.encodedDatabaseId;\n    request.removeTarget = targetId;\n    this.sendRequest(request);\n  }\n}\n\n/** Listener for the PersistentWriteStream */\nexport interface WriteStreamListener extends PersistentStreamListener {\n  /**\n   * Called by the PersistentWriteStream upon a successful handshake response\n   * from the server, which is the receiver's cue to send any pending writes.\n   */\n  onHandshakeComplete: () => Promise<void>;\n\n  /**\n   * Called by the PersistentWriteStream upon receiving a StreamingWriteResponse\n   * from the server that contains a mutation result.\n   */\n  onMutationResult: (\n    commitVersion: SnapshotVersion,\n    results: MutationResult[]\n  ) => Promise<void>;\n}\n\n/**\n * A Stream that implements the Write RPC.\n *\n * The Write RPC requires the caller to maintain special streamToken\n * state in between calls, to help the server understand which responses the\n * client has processed by the time the next request is made. Every response\n * will contain a streamToken; this value must be passed to the next\n * request.\n *\n * After calling start() on this stream, the next request must be a handshake,\n * containing whatever streamToken is on hand. Once a response to this\n * request is received, all pending mutations may be submitted. When\n * submitting multiple batches of mutations at the same time, it's\n * okay to use the same streamToken for the calls to writeMutations.\n *\n * TODO(b/33271235): Use proto types\n */\nexport class PersistentWriteStream extends PersistentStream<\n  api.WriteRequest,\n  api.WriteResponse,\n  WriteStreamListener\n> {\n  private handshakeComplete_ = false;\n\n  constructor(\n    private databaseInfo: DatabaseInfo,\n    queue: AsyncQueue,\n    connection: Connection,\n    credentials: CredentialsProvider,\n    private serializer: JsonProtoSerializer,\n    initialBackoffDelay?: number\n  ) {\n    super(queue, connection, credentials, initialBackoffDelay);\n  }\n\n  /**\n   * The last received stream token from the server, used to acknowledge which\n   * responses the client has processed. Stream tokens are opaque checkpoint\n   * markers whose only real value is their inclusion in the next request.\n   *\n   * PersistentWriteStream manages propagating this value from responses to the\n   * next request.\n   */\n  lastStreamToken: ProtoByteString;\n\n  /**\n   * Tracks whether or not a handshake has been successfully exchanged and\n   * the stream is ready to accept mutations.\n   */\n  get handshakeComplete(): boolean {\n    return this.handshakeComplete_;\n  }\n\n  // Override of PersistentStream.start\n  start(listener: WriteStreamListener): void {\n    this.handshakeComplete_ = false;\n    super.start(listener);\n  }\n\n  protected tearDown() {\n    if (this.handshakeComplete_) {\n      this.writeMutations([]);\n    }\n  }\n\n  protected startRpc(\n    token: Token | null\n  ): Stream<api.WriteRequest, api.WriteResponse> {\n    return this.connection.openStream<api.WriteRequest, api.WriteResponse>(\n      'Write',\n      token\n    );\n  }\n\n  protected onMessage(responseProto: api.WriteResponse): Promise<void> {\n    // Always capture the last stream token.\n    assert(\n      !!responseProto.streamToken,\n      'Got a write response without a stream token'\n    );\n    this.lastStreamToken = responseProto.streamToken!;\n\n    if (!this.handshakeComplete_) {\n      // The first response is always the handshake response\n      assert(\n        !responseProto.writeResults || responseProto.writeResults.length === 0,\n        'Got mutation results for handshake'\n      );\n      this.handshakeComplete_ = true;\n      return this.listener!.onHandshakeComplete();\n    } else {\n      // A successful first write response means the stream is healthy,\n      // Note, that we could consider a successful handshake healthy, however,\n      // the write itself might be causing an error we want to back off from.\n      this.backoff.reset();\n\n      const results = this.serializer.fromWriteResults(\n        responseProto.writeResults\n      );\n      const commitVersion = this.serializer.fromVersion(\n        responseProto.commitTime!\n      );\n      return this.listener!.onMutationResult(commitVersion, results);\n    }\n  }\n\n  /**\n   * Sends an initial streamToken to the server, performing the handshake\n   * required to make the StreamingWrite RPC work. Subsequent\n   * calls should wait until onHandshakeComplete was called.\n   */\n  writeHandshake(): void {\n    assert(this.isOpen(), 'Writing handshake requires an opened stream');\n    assert(!this.handshakeComplete_, 'Handshake already completed');\n    // TODO(dimond): Support stream resumption. We intentionally do not set the\n    // stream token on the handshake, ignoring any stream token we might have.\n    const request: WriteRequest = {};\n    request.database = this.serializer.encodedDatabaseId;\n    this.sendRequest(request);\n  }\n\n  /** Sends a group of mutations to the Firestore backend to apply. */\n  writeMutations(mutations: Mutation[]): void {\n    assert(this.isOpen(), 'Writing mutations requires an opened stream');\n    assert(\n      this.handshakeComplete_,\n      'Handshake must be complete before writing mutations'\n    );\n    assert(\n      this.lastStreamToken.length > 0,\n      'Trying to write mutation without a token'\n    );\n\n    const request: WriteRequest = {\n      // Protos are typed with string, but we support UInt8Array on Node\n      // tslint:disable-next-line:no-any\n      streamToken: this.lastStreamToken as any,\n      writes: mutations.map(mutation => this.serializer.toMutation(mutation))\n    };\n\n    this.sendRequest(request);\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '../protos/firestore_proto_api';\nimport { CredentialsProvider } from '../api/credentials';\nimport { DatabaseInfo } from '../core/database_info';\nimport { maybeDocumentMap } from '../model/collections';\nimport { MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { Mutation, MutationResult } from '../model/mutation';\nimport { assert } from '../util/assert';\nimport { AsyncQueue } from '../util/async_queue';\n\nimport { Connection } from './connection';\nimport {\n  PersistentListenStream,\n  PersistentWriteStream,\n  WatchStreamListener,\n  WriteStreamListener\n} from './persistent_stream';\nimport { JsonProtoSerializer } from './serializer';\n\n// The generated proto interfaces for these class are missing the database\n// field. So we add it here.\n// TODO(b/36015800): Remove this once the api generator is fixed.\ninterface BatchGetDocumentsRequest extends api.BatchGetDocumentsRequest {\n  database?: string;\n}\ninterface CommitRequest extends api.CommitRequest {\n  database?: string;\n}\n\n/**\n * Datastore is a wrapper around the external Google Cloud Datastore grpc API,\n * which provides an interface that is more convenient for the rest of the\n * client SDK architecture to consume.\n */\nexport class Datastore {\n  constructor(\n    private databaseInfo: DatabaseInfo,\n    private queue: AsyncQueue,\n    private connection: Connection,\n    private credentials: CredentialsProvider,\n    private serializer: JsonProtoSerializer,\n    private initialBackoffDelay?: number\n  ) {}\n\n  newPersistentWriteStream(): PersistentWriteStream {\n    return new PersistentWriteStream(\n      this.databaseInfo,\n      this.queue,\n      this.connection,\n      this.credentials,\n      this.serializer,\n      this.initialBackoffDelay\n    );\n  }\n\n  newPersistentWatchStream(): PersistentListenStream {\n    return new PersistentListenStream(\n      this.databaseInfo,\n      this.queue,\n      this.connection,\n      this.credentials,\n      this.serializer,\n      this.initialBackoffDelay\n    );\n  }\n\n  commit(mutations: Mutation[]): Promise<MutationResult[]> {\n    const params: CommitRequest = {\n      database: this.serializer.encodedDatabaseId,\n      writes: mutations.map(m => this.serializer.toMutation(m))\n    };\n    return this.invokeRPC<CommitRequest, api.CommitResponse>(\n      'Commit',\n      params\n    ).then(response => {\n      return this.serializer.fromWriteResults(response.writeResults);\n    });\n  }\n\n  lookup(keys: DocumentKey[]): Promise<MaybeDocument[]> {\n    const params: BatchGetDocumentsRequest = {\n      database: this.serializer.encodedDatabaseId,\n      documents: keys.map(k => this.serializer.toName(k))\n    };\n    return this.invokeStreamingRPC<\n      BatchGetDocumentsRequest,\n      api.BatchGetDocumentsResponse\n    >('BatchGetDocuments', params).then(response => {\n      let docs = maybeDocumentMap();\n      response.forEach(proto => {\n        const doc = this.serializer.fromMaybeDocument(proto);\n        docs = docs.insert(doc.key, doc);\n      });\n      const result: MaybeDocument[] = [];\n      keys.forEach(key => {\n        const doc = docs.get(key);\n        assert(!!doc, 'Missing entity in write response for ' + key);\n        result.push(doc!);\n      });\n      return result;\n    });\n  }\n\n  /** Gets an auth token and invokes the provided RPC. */\n  private invokeRPC<Req, Resp>(rpcName: string, request: Req): Promise<Resp> {\n    // TODO(mikelehen): Retry (with backoff) on token failures?\n    return this.credentials.getToken(/*forceRefresh=*/ false).then(token => {\n      return this.connection.invokeRPC<Req, Resp>(rpcName, request, token);\n    });\n  }\n\n  /** Gets an auth token and invokes the provided RPC with streamed results. */\n  private invokeStreamingRPC<Req, Resp>(\n    rpcName: string,\n    request: Req\n  ): Promise<Resp[]> {\n    // TODO(mikelehen): Retry (with backoff) on token failures?\n    return this.credentials.getToken(/*forceRefresh=*/ false).then(token => {\n      return this.connection.invokeStreamingRPC<Req, Resp>(\n        rpcName,\n        request,\n        token\n      );\n    });\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ParsedSetData, ParsedUpdateData } from '../api/user_data_converter';\nimport { SnapshotVersion } from './snapshot_version';\nimport { documentVersionMap } from '../model/collections';\nimport { NoDocument } from '../model/document';\nimport { MaybeDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { DeleteMutation, Mutation, Precondition } from '../model/mutation';\nimport { Datastore } from '../remote/datastore';\nimport { Code, FirestoreError } from '../util/error';\n\n/**\n * Internal transaction object responsible for accumulating the mutations to\n * perform and the base versions for any documents read.\n */\nexport class Transaction {\n  // The version of each document that was read during this transaction.\n  private readVersions = documentVersionMap();\n  private mutations: Mutation[] = [];\n  private committed = false;\n\n  constructor(private datastore: Datastore) {}\n\n  private recordVersion(doc: MaybeDocument) {\n    let docVersion = doc.version;\n    if (doc instanceof NoDocument) {\n      // For deleted docs, we must use baseVersion 0 when we overwrite them.\n      docVersion = SnapshotVersion.forDeletedDoc();\n    }\n    const existingVersion = this.readVersions.get(doc.key);\n    if (existingVersion !== null) {\n      if (!docVersion.isEqual(existingVersion)) {\n        // This transaction will fail no matter what.\n        throw new FirestoreError(\n          Code.ABORTED,\n          'Document version changed between two reads.'\n        );\n      }\n    } else {\n      this.readVersions = this.readVersions.insert(doc.key, docVersion);\n    }\n  }\n\n  lookup(keys: DocumentKey[]): Promise<MaybeDocument[]> {\n    if (this.committed) {\n      return Promise.reject<MaybeDocument[]>(\n        'Transaction has already completed.'\n      );\n    }\n    if (this.mutations.length > 0) {\n      return Promise.reject<MaybeDocument[]>(\n        'Transactions lookups are invalid after writes.'\n      );\n    }\n    return this.datastore.lookup(keys).then(docs => {\n      docs.forEach(doc => this.recordVersion(doc));\n      return docs;\n    });\n  }\n\n  private write(mutations: Mutation[]) {\n    if (this.committed) {\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        'Transaction has already completed.'\n      );\n    }\n    this.mutations = this.mutations.concat(mutations);\n  }\n\n  /**\n   * Returns the version of this document when it was read in this transaction,\n   * as a precondition, or no precondition if it was not read.\n   */\n  private precondition(key: DocumentKey): Precondition {\n    const version = this.readVersions.get(key);\n    if (version) {\n      return Precondition.updateTime(version);\n    } else {\n      return Precondition.NONE;\n    }\n  }\n\n  /**\n   * Returns the precondition for a document if the operation is an update.\n   */\n  private preconditionForUpdate(key: DocumentKey): Precondition {\n    const version = this.readVersions.get(key);\n    if (version && version.isEqual(SnapshotVersion.forDeletedDoc())) {\n      // The document doesn't exist, so fail the transaction.\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        \"Can't update a document that doesn't exist.\"\n      );\n    } else if (version) {\n      // Document exists, base precondition on document update time.\n      return Precondition.updateTime(version);\n    } else {\n      // Document was not read, so we just use the preconditions for a blind\n      // update.\n      return Precondition.exists(true);\n    }\n  }\n\n  set(key: DocumentKey, data: ParsedSetData) {\n    this.write(data.toMutations(key, this.precondition(key)));\n  }\n\n  update(key: DocumentKey, data: ParsedUpdateData) {\n    this.write(data.toMutations(key, this.preconditionForUpdate(key)));\n  }\n\n  delete(key: DocumentKey) {\n    this.write([new DeleteMutation(key, this.precondition(key))]);\n    // Since the delete will be applied before all following writes, we need to\n    // ensure that the precondition for the next write will be exists: false.\n    this.readVersions = this.readVersions.insert(\n      key,\n      SnapshotVersion.forDeletedDoc()\n    );\n  }\n\n  commit(): Promise<void> {\n    let unwritten = this.readVersions;\n    // For each mutation, note that the doc was written.\n    this.mutations.forEach(mutation => {\n      unwritten = unwritten.remove(mutation.key);\n    });\n    if (!unwritten.isEmpty()) {\n      return Promise.reject(\n        Error('Every document read in a transaction must also be written.')\n      );\n    }\n    return this.datastore.commit(this.mutations).then(() => {\n      this.committed = true;\n    });\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { DatabaseInfo } from '../core/database_info';\nimport { SnapshotVersion } from '../core/snapshot_version';\nimport { Transaction } from '../core/transaction';\nimport { BatchId, OnlineState, TargetId } from '../core/types';\nimport { LocalStore } from '../local/local_store';\nimport { QueryData, QueryPurpose } from '../local/query_data';\nimport { NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport { MutationResult } from '../model/mutation';\nimport {\n  BATCHID_UNKNOWN,\n  MutationBatch,\n  MutationBatchResult\n} from '../model/mutation_batch';\nimport { emptyByteString } from '../platform/platform';\nimport { assert } from '../util/assert';\nimport { AsyncQueue } from '../util/async_queue';\nimport { Code, FirestoreError } from '../util/error';\nimport * as log from '../util/log';\nimport * as objUtils from '../util/obj';\n\nimport { Datastore } from './datastore';\nimport { ExistenceFilter } from './existence_filter';\nimport {\n  PersistentListenStream,\n  PersistentWriteStream\n} from './persistent_stream';\nimport { ResetMapping, UpdateMapping } from './remote_event';\nimport { RemoteSyncer } from './remote_syncer';\nimport { isPermanentError } from './rpc_error';\nimport {\n  WatchChange,\n  WatchChangeAggregator,\n  WatchTargetChange,\n  WatchTargetChangeState\n} from './watch_change';\n\nconst LOG_TAG = 'RemoteStore';\n\n// TODO(b/35853402): Negotiate this with the stream.\nconst MAX_PENDING_WRITES = 10;\n\n// The RemoteStore notifies an onlineStateHandler with OnlineState.Failed if we\n// fail to connect to the backend. This subsequently triggers get() requests to\n// fail or use cached data, etc. Unfortunately, our connections have\n// historically been subject to various transient failures. So we wait for\n// multiple failures before notifying the onlineStateHandler.\nconst ONLINE_ATTEMPTS_BEFORE_FAILURE = 2;\n\n/**\n * RemoteStore - An interface to remotely stored data, basically providing a\n * wrapper around the Datastore that is more reliable for the rest of the\n * system.\n *\n * RemoteStore is responsible for maintaining the connection to the server.\n * - maintaining a list of active listens.\n * - reconnecting when the connection is dropped.\n * - resuming all the active listens on reconnect.\n *\n * RemoteStore handles all incoming events from the Datastore.\n * - listening to the watch stream and repackaging the events as RemoteEvents\n * - notifying SyncEngine of any changes to the active listens.\n *\n * RemoteStore takes writes from other components and handles them reliably.\n * - pulling pending mutations from LocalStore and sending them to Datastore.\n * - retrying mutations that failed because of network problems.\n * - acking mutations to the SyncEngine once they are accepted or rejected.\n */\nexport class RemoteStore {\n  private pendingWrites: MutationBatch[] = [];\n  private lastBatchSeen: BatchId = BATCHID_UNKNOWN;\n\n  /**\n   * A mapping of watched targets that the client cares about tracking and the\n   * user has explicitly called a 'listen' for this target.\n   *\n   * These targets may or may not have been sent to or acknowledged by the\n   * server. On re-establishing the listen stream, these targets should be sent\n   * to the server. The targets removed with unlistens are removed eagerly\n   * without waiting for confirmation from the listen stream.\n   */\n  private listenTargets: { [targetId: number]: QueryData } = {};\n\n  /**\n   * A mapping of targetId to pending acks needed.\n   *\n   * If a targetId is present in this map, then we're waiting for watch to\n   * acknowledge a removal or addition of the target. If a target is not in this\n   * mapping, and it's in the listenTargets map, then we consider the target to\n   * be active.\n   *\n   * We increment the count here every time we issue a request over the stream\n   * to watch or unwatch. We then decrement the count every time we get a target\n   * added or target removed message from the server. Once the count is equal to\n   * 0 we know that the client and server are in the same state (once this state\n   * is reached the targetId is removed from the map to free the memory).\n   */\n  private pendingTargetResponses: { [targetId: number]: number } = {};\n\n  private accumulatedWatchChanges: WatchChange[] = [];\n\n  private watchStream: PersistentListenStream = null;\n  private writeStream: PersistentWriteStream = null;\n\n  /**\n   * The online state of the watch stream. The state is set to healthy if and\n   * only if there are messages received by the backend.\n   */\n  private watchStreamOnlineState = OnlineState.Unknown;\n\n  /** A count of consecutive failures to open the stream. */\n  private watchStreamFailures = 0;\n\n  /** Whether the client should fire offline warning. */\n  private shouldWarnOffline = true;\n\n  constructor(\n    /**\n     * The local store, used to fill the write pipeline with outbound\n     * mutations and resolve existence filter mismatches.\n     */\n    private localStore: LocalStore,\n    /** The client-side proxy for interacting with the backend. */\n    private datastore: Datastore,\n    private onlineStateHandler: (onlineState: OnlineState) => void\n  ) {}\n\n  /** SyncEngine to notify of watch and write events. */\n  syncEngine: RemoteSyncer;\n\n  /**\n   * Starts up the remote store, creating streams, restoring state from\n   * LocalStore, etc.\n   */\n  start(): Promise<void> {\n    return this.enableNetwork();\n  }\n\n  /**\n   * Updates our OnlineState to the new state, updating local state\n   * and notifying the onlineStateHandler as appropriate. Idempotent.\n   */\n  private updateOnlineState(newState: OnlineState): void {\n    if (newState !== this.watchStreamOnlineState) {\n      if (newState === OnlineState.Healthy) {\n        // We've connected to watch at least once. Don't warn the developer about\n        // being offline going forward.\n        this.shouldWarnOffline = false;\n      } else if (newState === OnlineState.Unknown) {\n        // The state is set to unknown when a healthy stream is closed (e.g. due to\n        // a token timeout) or when we have no active listens and therefore there's\n        // no need to start the stream. Assuming there is (possibly in the future)\n        // an active listen, then we will eventually move to state Online or Failed,\n        // but we always want to make at least ONLINE_ATTEMPTS_BEFORE_FAILURE\n        // attempts before failing, so we reset the count here.\n        this.watchStreamFailures = 0;\n      }\n      this.watchStreamOnlineState = newState;\n      this.onlineStateHandler(newState);\n    }\n  }\n\n  /**\n   * Updates our OnlineState as appropriate after the watch stream reports a\n   * failure. The first failure moves us to the 'Unknown' state. We then may\n   * allow multiple failures (based on ONLINE_ATTEMPTS_BEFORE_FAILURE) before we\n   * actually transition to OnlineState.Failed.\n   */\n  private updateOnlineStateAfterFailure(): void {\n    if (this.watchStreamOnlineState === OnlineState.Healthy) {\n      this.updateOnlineState(OnlineState.Unknown);\n    } else {\n      this.watchStreamFailures++;\n      if (this.watchStreamFailures >= ONLINE_ATTEMPTS_BEFORE_FAILURE) {\n        if (this.shouldWarnOffline) {\n          log.error('Could not reach Firestore backend.');\n          this.shouldWarnOffline = false;\n        }\n        this.updateOnlineState(OnlineState.Failed);\n      }\n    }\n  }\n\n  private isNetworkEnabled(): boolean {\n    assert(\n      (this.watchStream == null) === (this.writeStream == null),\n      'WatchStream and WriteStream should both be null or non-null'\n    );\n    return this.watchStream != null;\n  }\n\n  /** Re-enables the network. Idempotent. */\n  enableNetwork(): Promise<void> {\n    if (this.isNetworkEnabled()) {\n      return Promise.resolve();\n    }\n\n    // Create new streams (but note they're not started yet).\n    this.watchStream = this.datastore.newPersistentWatchStream();\n    this.writeStream = this.datastore.newPersistentWriteStream();\n\n    // Load any saved stream token from persistent storage\n    return this.localStore.getLastStreamToken().then(token => {\n      this.writeStream.lastStreamToken = token;\n\n      if (this.shouldStartWatchStream()) {\n        this.startWatchStream();\n      }\n\n      this.updateOnlineState(OnlineState.Unknown);\n\n      return this.fillWritePipeline(); // This may start the writeStream.\n    });\n  }\n\n  /**\n   * Temporarily disables the network. The network can be re-enabled using\n   * enableNetwork().\n   */\n  disableNetwork(): Promise<void> {\n    this.disableNetworkInternal();\n    // Set the OnlineState to failed so get()'s return from cache, etc.\n    this.updateOnlineState(OnlineState.Failed);\n    return Promise.resolve();\n  }\n\n  /**\n   * Disables the network, if it is currently enabled.\n   */\n  private disableNetworkInternal(): void {\n    if (this.isNetworkEnabled()) {\n      // NOTE: We're guaranteed not to get any further events from these streams (not even a close\n      // event).\n      this.watchStream.stop();\n      this.writeStream.stop();\n\n      this.cleanUpWatchStreamState();\n      this.cleanUpWriteStreamState();\n\n      this.writeStream = null;\n      this.watchStream = null;\n    }\n  }\n\n  shutdown(): Promise<void> {\n    log.debug(LOG_TAG, 'RemoteStore shutting down.');\n    this.disableNetworkInternal();\n    // Set the OnlineState to Unknown (rather than Failed) to avoid potentially\n    // triggering spurious listener events with cached data, etc.\n    this.updateOnlineState(OnlineState.Unknown);\n    return Promise.resolve();\n  }\n\n  /** Starts new listen for the given query. Uses resume token if provided */\n  listen(queryData: QueryData): void {\n    assert(\n      !objUtils.contains(this.listenTargets, queryData.targetId),\n      'listen called with duplicate targetId!'\n    );\n    // Mark this as something the client is currently listening for.\n    this.listenTargets[queryData.targetId] = queryData;\n\n    if (this.shouldStartWatchStream()) {\n      // The listen will be sent in onWatchStreamOpen\n      this.startWatchStream();\n    } else if (this.isNetworkEnabled() && this.watchStream.isOpen()) {\n      this.sendWatchRequest(queryData);\n    }\n  }\n\n  /** Removes the listen from server */\n  unlisten(targetId: TargetId): void {\n    assert(\n      objUtils.contains(this.listenTargets, targetId),\n      'unlisten called without assigned target ID!'\n    );\n    const queryData = this.listenTargets[targetId];\n    delete this.listenTargets[targetId];\n    if (this.isNetworkEnabled() && this.watchStream.isOpen()) {\n      this.sendUnwatchRequest(targetId);\n      if (objUtils.isEmpty(this.listenTargets)) {\n        this.watchStream.markIdle();\n      }\n    }\n  }\n\n  /**\n   * We need to increment the the expected number of pending responses we're due\n   * from watch so we wait for the ack to process any messages from this target.\n   */\n  private sendWatchRequest(queryData: QueryData): void {\n    this.recordPendingTargetRequest(queryData.targetId);\n    this.watchStream.watch(queryData);\n  }\n\n  /**\n   * We need to increment the expected number of pending responses we're due\n   * from watch so we wait for the removal on the server before we process any\n   * messages from this target.\n   */\n  private sendUnwatchRequest(targetId: TargetId): void {\n    this.recordPendingTargetRequest(targetId);\n    this.watchStream.unwatch(targetId);\n  }\n\n  /**\n   * Increment the mapping of how many acks are needed from watch before we can\n   * consider the server to be 'in-sync' with the client's active targets.\n   */\n  private recordPendingTargetRequest(targetId: TargetId): void {\n    // For each request we get we need to record we need a response for it.\n    this.pendingTargetResponses[targetId] =\n      (this.pendingTargetResponses[targetId] || 0) + 1;\n  }\n\n  private startWatchStream(): void {\n    assert(\n      this.shouldStartWatchStream(),\n      'startWriteStream() called when shouldStartWatchStream() is false.'\n    );\n    this.watchStream.start({\n      onOpen: this.onWatchStreamOpen.bind(this),\n      onClose: this.onWatchStreamClose.bind(this),\n      onWatchChange: this.onWatchStreamChange.bind(this)\n    });\n  }\n\n  /**\n   * Returns whether the watch stream should be started because there are\n   * active targets trying to be listened too\n   */\n  private shouldStartWatchStream(): boolean {\n    return (\n      this.isNetworkEnabled() &&\n      !this.watchStream.isStarted() &&\n      !objUtils.isEmpty(this.listenTargets)\n    );\n  }\n\n  private cleanUpWatchStreamState(): void {\n    // If the connection is closed then we'll never get a snapshot version for\n    // the accumulated changes and so we'll never be able to complete the batch.\n    // When we start up again the server is going to resend these changes\n    // anyway, so just toss the accumulated state.\n    this.accumulatedWatchChanges = [];\n    this.pendingTargetResponses = {};\n  }\n\n  private onWatchStreamOpen(): Promise<void> {\n    // TODO(b/35852690): close the stream again (with some timeout?) if no watch\n    // targets are active\n    objUtils.forEachNumber(this.listenTargets, (targetId, queryData) => {\n      this.sendWatchRequest(queryData);\n    });\n    return Promise.resolve();\n  }\n\n  private onWatchStreamClose(error: FirestoreError | null): Promise<void> {\n    assert(\n      this.isNetworkEnabled(),\n      'onWatchStreamClose() should only be called when the network is enabled'\n    );\n\n    this.cleanUpWatchStreamState();\n\n    // If there was an error, retry the connection.\n    if (this.shouldStartWatchStream()) {\n      this.updateOnlineStateAfterFailure();\n      this.startWatchStream();\n    } else {\n      // No need to restart watch stream because there are no active targets.\n      // The online state is set to unknown because there is no active attempt\n      // at establishing a connection\n      this.updateOnlineState(OnlineState.Unknown);\n    }\n    return Promise.resolve();\n  }\n\n  private onWatchStreamChange(\n    watchChange: WatchChange,\n    snapshotVersion: SnapshotVersion\n  ): Promise<void> {\n    // Mark the connection as healthy because we got a message from the server\n    this.updateOnlineState(OnlineState.Healthy);\n\n    if (\n      watchChange instanceof WatchTargetChange &&\n      watchChange.state === WatchTargetChangeState.Removed &&\n      watchChange.cause\n    ) {\n      // There was an error on a target, don't wait for a consistent snapshot\n      // to raise events\n      return this.handleTargetError(watchChange);\n    }\n    // Accumulate watch changes but don't process them if there's no\n    // snapshotVersion or it's older than a previous snapshot we've processed\n    // (can happen after we resume a target using a resume token).\n    this.accumulatedWatchChanges.push(watchChange);\n    if (\n      !snapshotVersion.isEqual(SnapshotVersion.MIN) &&\n      snapshotVersion.compareTo(\n        this.localStore.getLastRemoteSnapshotVersion()\n      ) >= 0\n    ) {\n      const changes = this.accumulatedWatchChanges;\n      this.accumulatedWatchChanges = [];\n      return this.handleWatchChangeBatch(snapshotVersion, changes);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  /**\n   * Takes a batch of changes from the Datastore, repackages them as a\n   * RemoteEvent, and passes that on to the listener, which is typically the\n   * SyncEngine.\n   */\n  private handleWatchChangeBatch(\n    snapshotVersion: SnapshotVersion,\n    changes: WatchChange[]\n  ): Promise<void> {\n    const aggregator = new WatchChangeAggregator(\n      snapshotVersion,\n      this.listenTargets,\n      this.pendingTargetResponses\n    );\n    aggregator.addChanges(changes);\n    const remoteEvent = aggregator.createRemoteEvent();\n    // Get the new response counts from the aggregator\n    this.pendingTargetResponses = aggregator.pendingTargetResponses;\n\n    const promises: Array<Promise<void>> = [];\n    // Handle existence filters and existence filter mismatches.\n    objUtils.forEachNumber(\n      aggregator.existenceFilters,\n      (targetId: TargetId, filter: ExistenceFilter) => {\n        const queryData = this.listenTargets[targetId];\n        if (!queryData) {\n          // A watched target might have been removed already.\n          return;\n        }\n        const query = queryData.query;\n        if (query.isDocumentQuery()) {\n          if (filter.count === 0) {\n            // The existence filter told us the document does not exist.\n            // We need to deduce that this document does not exist and apply\n            // a deleted document to our updates. Without applying a deleted\n            // document there might be another query that will raise this\n            // document as part of a snapshot until it is resolved,\n            // essentially exposing inconsistency between queries.\n            const key = new DocumentKey(query.path);\n            const deletedDoc = new NoDocument(key, snapshotVersion);\n            remoteEvent.addDocumentUpdate(deletedDoc);\n          } else {\n            assert(\n              filter.count === 1,\n              'Single document existence filter with count: ' + filter.count\n            );\n          }\n        } else {\n          // Not a document query.\n          const promise = this.localStore\n            .remoteDocumentKeys(targetId)\n            .then(trackedRemote => {\n              if (remoteEvent.targetChanges[targetId]) {\n                const mapping = remoteEvent.targetChanges[targetId].mapping;\n                if (mapping !== null) {\n                  if (mapping instanceof UpdateMapping) {\n                    trackedRemote = mapping.applyToKeySet(trackedRemote);\n                  } else {\n                    assert(\n                      mapping instanceof ResetMapping,\n                      'Expected either reset or update mapping but got something else: ' +\n                        mapping\n                    );\n                    trackedRemote = mapping.documents;\n                  }\n                }\n              }\n\n              if (trackedRemote.size !== filter.count) {\n                // Existence filter mismatch, resetting mapping.\n\n                // Make sure the mismatch is exposed in the remote event.\n                remoteEvent.handleExistenceFilterMismatch(targetId);\n\n                // Clear the resume token for the query, since we're in a\n                // known mismatch state.\n                const newQueryData = new QueryData(\n                  query,\n                  targetId,\n                  queryData.purpose\n                );\n                this.listenTargets[targetId] = newQueryData;\n\n                // Cause a hard reset by unwatching and rewatching\n                // immediately, but deliberately don't send a resume token\n                // so that we get a full update.\n                // Make sure we expect that this acks are going to happen.\n                this.sendUnwatchRequest(targetId);\n\n                // Mark the query we send as being on behalf of an existence\n                // filter mismatch, but don't actually retain that in\n                // listenTargets. This ensures that we flag the first\n                // re-listen this way without impacting future listens of\n                // this target (that might happen e.g. on reconnect).\n                const requestQueryData = new QueryData(\n                  query,\n                  targetId,\n                  QueryPurpose.ExistenceFilterMismatch\n                );\n                this.sendWatchRequest(requestQueryData);\n              }\n            });\n          promises.push(promise);\n        }\n      }\n    );\n\n    return Promise.all(promises).then(() => {\n      // Update in-memory resume tokens. LocalStore will update the\n      // persistent view of these when applying the completed RemoteEvent.\n      objUtils.forEachNumber(remoteEvent.targetChanges, (targetId, change) => {\n        if (change.resumeToken.length > 0) {\n          const queryData = this.listenTargets[targetId];\n          // A watched target might have been removed already.\n          if (queryData) {\n            this.listenTargets[targetId] = queryData.update({\n              resumeToken: change.resumeToken,\n              snapshotVersion: change.snapshotVersion\n            });\n          }\n        }\n      });\n\n      // Finally handle remote event\n      return this.syncEngine.applyRemoteEvent(remoteEvent);\n    });\n  }\n\n  /** Handles an error on a target */\n  private handleTargetError(watchChange: WatchTargetChange): Promise<void> {\n    assert(!!watchChange.cause, 'Handling target error without a cause');\n    const error = watchChange.cause!;\n    let promiseChain = Promise.resolve();\n    watchChange.targetIds.forEach(targetId => {\n      promiseChain = promiseChain.then(() => {\n        if (objUtils.contains(this.listenTargets, targetId)) {\n          delete this.listenTargets[targetId];\n          return this.syncEngine.rejectListen(targetId, error);\n        } else {\n          // A watched target might have been removed already.\n          return Promise.resolve();\n        }\n      });\n    });\n    return promiseChain;\n  }\n\n  cleanUpWriteStreamState() {\n    this.lastBatchSeen = BATCHID_UNKNOWN;\n    log.debug(\n      LOG_TAG,\n      'Stopping write stream with ' +\n        this.pendingWrites.length +\n        ' pending writes'\n    );\n    this.pendingWrites = [];\n  }\n\n  /**\n   * Notifies that there are new mutations to process in the queue. This is\n   * typically called by SyncEngine after it has sent mutations to LocalStore.\n   */\n  fillWritePipeline(): Promise<void> {\n    if (!this.canWriteMutations()) {\n      return Promise.resolve();\n    } else {\n      return this.localStore\n        .nextMutationBatch(this.lastBatchSeen)\n        .then(batch => {\n          if (batch === null) {\n            if (this.pendingWrites.length === 0) {\n              this.writeStream.markIdle();\n            }\n            return Promise.resolve();\n          } else {\n            this.commit(batch);\n            return this.fillWritePipeline();\n          }\n        });\n    }\n  }\n\n  /**\n   * Returns true if the backend can accept additional write requests.\n   *\n   * When sending mutations to the write stream (e.g. in fillWritePipeline),\n   * call this method first to check if more mutations can be sent.\n   *\n   * Currently the only thing that can prevent the backend from accepting\n   * write requests is if there are too many requests already outstanding. As\n   * writes complete the backend will be able to accept more.\n   */\n  canWriteMutations(): boolean {\n    return (\n      this.isNetworkEnabled() && this.pendingWrites.length < MAX_PENDING_WRITES\n    );\n  }\n\n  // For testing\n  outstandingWrites(): number {\n    return this.pendingWrites.length;\n  }\n\n  /**\n   * Given mutations to commit, actually commits them to the Datastore. Note\n   * that this does *not* return a Promise specifically because the AsyncQueue\n   * should not block operations for this.\n   */\n  private commit(batch: MutationBatch): void {\n    assert(\n      this.canWriteMutations(),\n      \"commit called when batches can't be written\"\n    );\n    this.lastBatchSeen = batch.batchId;\n\n    this.pendingWrites.push(batch);\n\n    if (this.shouldStartWriteStream()) {\n      this.startWriteStream();\n    } else if (this.isNetworkEnabled() && this.writeStream.handshakeComplete) {\n      this.writeStream.writeMutations(batch.mutations);\n    }\n  }\n\n  private shouldStartWriteStream(): boolean {\n    return (\n      this.isNetworkEnabled() &&\n      !this.writeStream.isStarted() &&\n      this.pendingWrites.length > 0\n    );\n  }\n\n  private startWriteStream(): void {\n    assert(\n      this.shouldStartWriteStream(),\n      'startWriteStream() called when shouldStartWriteStream() is false.'\n    );\n    this.writeStream.start({\n      onOpen: this.onWriteStreamOpen.bind(this),\n      onClose: this.onWriteStreamClose.bind(this),\n      onHandshakeComplete: this.onWriteHandshakeComplete.bind(this),\n      onMutationResult: this.onMutationResult.bind(this)\n    });\n  }\n\n  private onWriteStreamOpen(): Promise<void> {\n    this.writeStream.writeHandshake();\n\n    return Promise.resolve();\n  }\n\n  private onWriteHandshakeComplete(): Promise<void> {\n    // Record the stream token.\n    return this.localStore\n      .setLastStreamToken(this.writeStream.lastStreamToken)\n      .then(() => {\n        // Drain any pending writes.\n        //\n        // Note that at this point pendingWrites contains mutations that\n        // have already been accepted by fillWritePipeline/commitBatch. If\n        // the pipeline is full, canWriteMutations will be false, despite\n        // the fact that we actually need to send mutations over.\n        //\n        // This also means that this method indirectly respects the limits\n        // imposed by canWriteMutations since writes can't be added to the\n        // pendingWrites array when canWriteMutations is false. If the\n        // limits imposed by canWriteMutations actually protect us from\n        // DOSing ourselves then those limits won't be exceeded here and\n        // we'll continue to make progress.\n        for (const batch of this.pendingWrites) {\n          this.writeStream.writeMutations(batch.mutations);\n        }\n      });\n  }\n\n  private onMutationResult(\n    commitVersion: SnapshotVersion,\n    results: MutationResult[]\n  ): Promise<void> {\n    // This is a response to a write containing mutations and should be\n    // correlated to the first pending write.\n    assert(\n      this.pendingWrites.length > 0,\n      'Got result for empty pending writes'\n    );\n    const batch = this.pendingWrites.shift()!;\n    const success = MutationBatchResult.from(\n      batch,\n      commitVersion,\n      results,\n      this.writeStream.lastStreamToken\n    );\n    return this.syncEngine.applySuccessfulWrite(success).then(() => {\n      // It's possible that with the completion of this mutation another\n      // slot has freed up.\n      return this.fillWritePipeline();\n    });\n  }\n\n  private onWriteStreamClose(error?: FirestoreError): Promise<void> {\n    assert(\n      this.isNetworkEnabled(),\n      'onWriteStreamClose() should only be called when the network is enabled'\n    );\n\n    // If the write stream closed due to an error, invoke the error callbacks if\n    // there are pending writes.\n    if (error && this.pendingWrites.length > 0) {\n      assert(\n        !!error,\n        'We have pending writes, but the write stream closed without an error'\n      );\n      // A promise that is resolved after we processed the error\n      let errorHandling: Promise<void>;\n      if (this.writeStream.handshakeComplete) {\n        // This error affects the actual write.\n        errorHandling = this.handleWriteError(error!);\n      } else {\n        // If there was an error before the handshake has finished, it's\n        // possible that the server is unable to process the stream token\n        // we're sending. (Perhaps it's too old?)\n        errorHandling = this.handleHandshakeError(error!);\n      }\n\n      return errorHandling.then(() => {\n        // The write stream might have been started by refilling the write\n        // pipeline for failed writes\n        if (this.shouldStartWriteStream()) {\n          this.startWriteStream();\n        }\n      });\n    } else {\n      // No pending writes, nothing to do\n      return Promise.resolve();\n    }\n  }\n\n  private handleHandshakeError(error: FirestoreError): Promise<void> {\n    // Reset the token if it's a permanent error or the error code is\n    // ABORTED, signaling the write stream is no longer valid.\n    if (isPermanentError(error.code) || error.code === Code.ABORTED) {\n      log.debug(\n        LOG_TAG,\n        'RemoteStore error before completed handshake; resetting stream token: ',\n        this.writeStream.lastStreamToken\n      );\n      this.writeStream.lastStreamToken = emptyByteString();\n\n      return this.localStore.setLastStreamToken(emptyByteString());\n    } else {\n      // Some other error, don't reset stream token. Our stream logic will\n      // just retry with exponential backoff.\n      return Promise.resolve();\n    }\n  }\n\n  private handleWriteError(error: FirestoreError): Promise<void> {\n    if (isPermanentError(error.code)) {\n      // This was a permanent error, the request itself was the problem\n      // so it's not going to succeed if we resend it.\n      const batch = this.pendingWrites.shift()!;\n\n      // In this case it's also unlikely that the server itself is melting\n      // down -- this was just a bad request so inhibit backoff on the next\n      // restart.\n      this.writeStream.inhibitBackoff();\n\n      return this.syncEngine\n        .rejectFailedWrite(batch.batchId, error)\n        .then(() => {\n          // It's possible that with the completion of this mutation\n          // another slot has freed up.\n          return this.fillWritePipeline();\n        });\n    } else {\n      // Transient error, just let the retry logic kick in.\n      return Promise.resolve();\n    }\n  }\n\n  createTransaction(): Transaction {\n    return new Transaction(this.datastore);\n  }\n\n  handleUserChange(user: User): Promise<void> {\n    log.debug(LOG_TAG, 'RemoteStore changing users: uid=', user.uid);\n\n    // If the network has been explicitly disabled, make sure we don't\n    // accidentally re-enable it.\n    if (this.isNetworkEnabled()) {\n      // Tear down and re-create our network streams. This will ensure we get a fresh auth token\n      // for the new user and re-fill the write pipeline with new mutations from the LocalStore\n      // (since mutations are per-user).\n      this.disableNetworkInternal();\n      this.updateOnlineState(OnlineState.Unknown);\n      return this.enableNetwork();\n    }\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CredentialsProvider } from '../api/credentials';\nimport { User } from '../auth/user';\nimport {\n  EventManager,\n  ListenOptions,\n  Observer,\n  QueryListener\n} from './event_manager';\nimport { SyncEngine } from './sync_engine';\nimport { EagerGarbageCollector } from '../local/eager_garbage_collector';\nimport { GarbageCollector } from '../local/garbage_collector';\nimport { IndexedDbPersistence } from '../local/indexeddb_persistence';\nimport { LocalStore } from '../local/local_store';\nimport { MemoryPersistence } from '../local/memory_persistence';\nimport { NoOpGarbageCollector } from '../local/no_op_garbage_collector';\nimport { Persistence } from '../local/persistence';\nimport { Mutation } from '../model/mutation';\nimport { Platform } from '../platform/platform';\nimport { Datastore } from '../remote/datastore';\nimport { RemoteStore } from '../remote/remote_store';\nimport { JsonProtoSerializer } from '../remote/serializer';\nimport { AsyncQueue } from '../util/async_queue';\nimport { Code, FirestoreError } from '../util/error';\nimport { debug } from '../util/log';\nimport { Deferred } from '../util/promise';\n\nimport { DatabaseId, DatabaseInfo } from './database_info';\nimport { Query } from './query';\nimport { Transaction } from './transaction';\nimport { OnlineState } from './types';\nimport { ViewSnapshot } from './view_snapshot';\n\nconst LOG_TAG = 'FirestoreClient';\n\n/**\n * FirestoreClient is a top-level class that constructs and owns all of the\n * pieces of the client SDK architecture. It is responsible for creating the\n * async queue that is shared by all of the other components in the system.\n */\nexport class FirestoreClient {\n  // NOTE: These should technically have '|undefined' in the types, since\n  // they're initialized asynchronously rather than in the constructor, but\n  // given that all work is done on the async queue and we assert that\n  // initialization completes before any other work is queued, we're cheating\n  // with the types rather than littering the code with '!' or unnecessary\n  // undefined checks.\n  private eventMgr: EventManager;\n  private garbageCollector: GarbageCollector;\n  private persistence: Persistence;\n  private localStore: LocalStore;\n  private remoteStore: RemoteStore;\n  private syncEngine: SyncEngine;\n\n  constructor(\n    private platform: Platform,\n    private databaseInfo: DatabaseInfo,\n    private credentials: CredentialsProvider,\n    /**\n     * Asynchronous queue responsible for all of our internal processing. When\n     * we get incoming work from the user (via public API) or the network\n     * (incoming GRPC messages), we should always schedule onto this queue.\n     * This ensures all of our work is properly serialized (e.g. we don't\n     * start processing a new operation while the previous one is waiting for\n     * an async I/O to complete).\n     */\n    private asyncQueue: AsyncQueue\n  ) {}\n\n  /**\n   * Starts up the FirestoreClient, returning only whether or not enabling\n   * persistence succeeded.\n   *\n   * The intent here is to \"do the right thing\" as far as users are concerned.\n   * Namely, in cases where offline persistence is requested and possible,\n   * enable it, but otherwise fall back to persistence disabled. For the most\n   * part we expect this to succeed one way or the other so we don't expect our\n   * users to actually wait on the firestore.enablePersistence Promise since\n   * they generally won't care.\n   *\n   * Of course some users actually do care about whether or not persistence\n   * was successfully enabled, so the Promise returned from this method\n   * indicates this outcome.\n   *\n   * This presents a problem though: even before enablePersistence resolves or\n   * rejects, users may have made calls to e.g. firestore.collection() which\n   * means that the FirestoreClient in there will be available and will be\n   * enqueuing actions on the async queue.\n   *\n   * Meanwhile any failure of an operation on the async queue causes it to\n   * panic and reject any further work, on the premise that unhandled errors\n   * are fatal.\n   *\n   * Consequently the fallback is handled internally here in start, and if the\n   * fallback succeeds we signal success to the async queue even though the\n   * start() itself signals failure.\n   *\n   * @param usePersistence Whether or not to attempt to enable persistence.\n   * @returns A deferred result indicating the user-visible result of enabling\n   *     offline persistence. This method will reject this if IndexedDB fails to\n   *     start for any reason. If usePersistence is false this is\n   *     unconditionally resolved.\n   */\n  start(usePersistence: boolean): Promise<void> {\n    // We defer our initialization until we get the current user from\n    // setUserChangeListener(). We block the async queue until we got the\n    // initial user and the initialization is completed. This will prevent\n    // any scheduled work from happening before initialization is completed.\n    //\n    // If initializationDone resolved then the FirestoreClient is in a usable\n    // state.\n    const initializationDone = new Deferred<void>();\n\n    // If usePersistence is true, certain classes of errors while starting are\n    // recoverable but only by falling back to persistence disabled.\n    //\n    // If there's an error in the first case but not in recovery we cannot\n    // reject the promise blocking the async queue because this will cause the\n    // async queue to panic.\n    const persistenceResult = new Deferred<void>();\n\n    let initialized = false;\n    this.credentials.setUserChangeListener(user => {\n      if (!initialized) {\n        initialized = true;\n\n        this.initializePersistence(usePersistence, persistenceResult)\n          .then(() => this.initializeRest(user))\n          .then(initializationDone.resolve, initializationDone.reject);\n      } else {\n        this.asyncQueue.schedule(() => {\n          return this.handleUserChange(user);\n        });\n      }\n    });\n\n    // Block the async queue until initialization is done\n    this.asyncQueue.schedule(() => {\n      return initializationDone.promise;\n    });\n\n    // Return only the result of enabling persistence. Note that this does not\n    // need to await the completion of initializationDone because the result of\n    // this method should not reflect any other kind of failure to start.\n    return persistenceResult.promise;\n  }\n\n  /** Enables the network connection and requeues all pending operations. */\n  enableNetwork(): Promise<void> {\n    return this.asyncQueue.schedule(() => {\n      return this.remoteStore.enableNetwork();\n    });\n  }\n\n  /**\n   * Initializes persistent storage, attempting to use IndexedDB if\n   * usePersistence is true or memory-only if false.\n   *\n   * If IndexedDB fails because it's already open in another tab or because the\n   * platform can't possibly support our implementation then this method rejects\n   * the persistenceResult and falls back on memory-only persistence.\n   *\n   * @param usePersistence indicates whether or not to use offline persistence\n   * @param persistenceResult A deferred result indicating the user-visible\n   *     result of enabling offline persistence. This method will reject this if\n   *     IndexedDB fails to start for any reason. If usePersistence is false\n   *     this is unconditionally resolved.\n   * @returns a Promise indicating whether or not initialization should\n   *     continue, i.e. that one of the persistence implementations actually\n   *     succeeded.\n   */\n  private initializePersistence(\n    usePersistence: boolean,\n    persistenceResult: Deferred<void>\n  ): Promise<void> {\n    if (usePersistence) {\n      return this.startIndexedDbPersistence()\n        .then(persistenceResult.resolve)\n        .catch((error: FirestoreError) => {\n          // Regardless of whether or not the retry succeeds, from an user\n          // perspective, offline persistence has failed.\n          persistenceResult.reject(error);\n\n          // An unknown failure on the first stage shuts everything down.\n          if (!this.canFallback(error)) {\n            return Promise.reject(error);\n          }\n\n          console.warn(\n            'Error enabling offline storage. Falling back to' +\n              ' storage disabled: ' +\n              error\n          );\n          return this.startMemoryPersistence();\n        });\n    } else {\n      // When usePersistence == false, enabling offline persistence is defined\n      // to unconditionally succeed. This allows start() to have the same\n      // signature for both cases, despite the fact that the returned promise\n      // is only used in the enablePersistence call.\n      persistenceResult.resolve();\n      return this.startMemoryPersistence();\n    }\n  }\n\n  private canFallback(error: FirestoreError): boolean {\n    return (\n      error.code === Code.FAILED_PRECONDITION ||\n      error.code === Code.UNIMPLEMENTED\n    );\n  }\n\n  /**\n   * Starts IndexedDB-based persistence.\n   *\n   * @returns A promise indicating success or failure.\n   */\n  private startIndexedDbPersistence(): Promise<void> {\n    // TODO(http://b/33384523): For now we just disable garbage collection\n    // when persistence is enabled.\n    this.garbageCollector = new NoOpGarbageCollector();\n    const storagePrefix = IndexedDbPersistence.buildStoragePrefix(\n      this.databaseInfo\n    );\n    // Opt to use proto3 JSON in case the platform doesn't support Uint8Array.\n    const serializer = new JsonProtoSerializer(this.databaseInfo.databaseId, {\n      useProto3Json: true\n    });\n    this.persistence = new IndexedDbPersistence(storagePrefix, serializer);\n    return this.persistence.start();\n  }\n\n  /**\n   * Starts Memory-backed persistence. In practice this cannot fail.\n   *\n   * @returns A promise that will successfully resolve.\n   */\n  private startMemoryPersistence(): Promise<void> {\n    this.garbageCollector = new EagerGarbageCollector();\n    this.persistence = new MemoryPersistence();\n    return this.persistence.start();\n  }\n\n  /**\n   * Initializes the rest of the FirestoreClient, assuming the initial user\n   * has been obtained from the credential provider and some persistence\n   * implementation is available in this.persistence.\n   */\n  private initializeRest(user: User): Promise<void> {\n    return this.platform\n      .loadConnection(this.databaseInfo)\n      .then(connection => {\n        this.localStore = new LocalStore(\n          this.persistence,\n          user,\n          this.garbageCollector\n        );\n        const serializer = this.platform.newSerializer(\n          this.databaseInfo.databaseId\n        );\n        const datastore = new Datastore(\n          this.databaseInfo,\n          this.asyncQueue,\n          connection,\n          this.credentials,\n          serializer\n        );\n\n        const onlineStateChangedHandler = (onlineState: OnlineState) => {\n          this.syncEngine.applyOnlineStateChange(onlineState);\n          this.eventMgr.applyOnlineStateChange(onlineState);\n        };\n\n        this.remoteStore = new RemoteStore(\n          this.localStore,\n          datastore,\n          onlineStateChangedHandler\n        );\n\n        this.syncEngine = new SyncEngine(\n          this.localStore,\n          this.remoteStore,\n          user\n        );\n\n        // Setup wiring between sync engine and remote store\n        this.remoteStore.syncEngine = this.syncEngine;\n\n        this.eventMgr = new EventManager(this.syncEngine);\n\n        // NOTE: RemoteStore depends on LocalStore (for persisting stream\n        // tokens, refilling mutation queue, etc.) so must be started after\n        // LocalStore.\n        return this.localStore.start();\n      })\n      .then(() => {\n        return this.remoteStore.start();\n      });\n  }\n\n  private handleUserChange(user: User): Promise<void> {\n    this.asyncQueue.verifyOperationInProgress();\n\n    debug(LOG_TAG, 'User Changed: ' + user.uid);\n    return this.syncEngine.handleUserChange(user);\n  }\n\n  /** Disables the network connection. Pending operations will not complete. */\n  disableNetwork(): Promise<void> {\n    return this.asyncQueue.schedule(() => {\n      return this.remoteStore.disableNetwork();\n    });\n  }\n\n  shutdown(): Promise<void> {\n    return this.asyncQueue\n      .schedule(() => {\n        this.credentials.removeUserChangeListener();\n        return this.remoteStore.shutdown();\n      })\n      .then(() => {\n        // PORTING NOTE: LocalStore does not need an explicit shutdown on web.\n        return this.persistence.shutdown();\n      });\n  }\n\n  listen(\n    query: Query,\n    observer: Observer<ViewSnapshot>,\n    options: ListenOptions\n  ): QueryListener {\n    const listener = new QueryListener(query, observer, options);\n    this.asyncQueue.schedule(() => {\n      return this.eventMgr.listen(listener);\n    });\n    return listener;\n  }\n\n  unlisten(listener: QueryListener): void {\n    this.asyncQueue.schedule(() => {\n      return this.eventMgr.unlisten(listener);\n    });\n  }\n\n  write(mutations: Mutation[]): Promise<void> {\n    const deferred = new Deferred<void>();\n    this.asyncQueue.schedule(() => this.syncEngine.write(mutations, deferred));\n    return deferred.promise;\n  }\n\n  databaseId(): DatabaseId {\n    return this.databaseInfo.databaseId;\n  }\n\n  transaction<T>(\n    updateFunction: (transaction: Transaction) => Promise<T>\n  ): Promise<T> {\n    // We have to wait for the async queue to be sure syncEngine is initialized.\n    return this.asyncQueue\n      .schedule(() => {\n        return Promise.resolve();\n      })\n      .then(() => {\n        return this.syncEngine.runTransaction(updateFunction);\n      });\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Observer } from '../core/event_manager';\nimport { EventHandler } from './misc';\n\n/*\n * A wrapper implementation of Observer<T> that will dispatch events\n * asynchronously. To allow immediate silencing, a mute call is added which\n * causes events scheduled to no longer be raised.\n */\nexport class AsyncObserver<T> implements Observer<T> {\n  /**\n   * When set to true, will not raise future events. Necessary to deal with\n   * async detachment of listener.\n   */\n  private muted = false;\n\n  constructor(private observer: Observer<T>) {}\n\n  next(value: T): void {\n    this.scheduleEvent(this.observer.next, value);\n  }\n\n  error(error: Error): void {\n    this.scheduleEvent(this.observer.error, error);\n  }\n\n  mute(): void {\n    this.muted = true;\n  }\n\n  private scheduleEvent<E>(eventHandler: EventHandler<E>, event: E): void {\n    if (!this.muted) {\n      setTimeout(() => {\n        if (!this.muted) {\n          eventHandler(event);\n        }\n      }, 0);\n    }\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, fail } from './assert';\nimport * as log from './log';\nimport { AnyDuringMigration, AnyJs } from './misc';\nimport { Deferred } from './promise';\nimport { Code, FirestoreError } from './error';\n\ntype DelayedOperation<T> = {\n  // tslint:disable-next-line:no-any Accept any return type from setTimeout().\n  handle: any;\n  op: () => Promise<T>;\n  deferred: Deferred<T>;\n};\n\nexport class AsyncQueue {\n  // The last promise in the queue.\n  private tail: Promise<AnyJs | void> = Promise.resolve();\n\n  // A list with timeout handles and their respective deferred promises.\n  // Contains an entry for each operation that is queued to run in the future\n  // (i.e. it has a delay that has not yet elapsed). Prior to cleanup, this list\n  // may also contain entries that have already been run (in which case `handle` is\n  // null).\n  private delayedOperations: Array<DelayedOperation<AnyJs>> = [];\n\n  // The number of operations that are queued to be run in the future (i.e. they\n  // have a delay that has not yet elapsed). Unlike `delayedOperations`, this\n  // is guaranteed to only contain operations that have not yet been run.\n  //\n  // Visible for testing.\n  delayedOperationsCount = 0;\n\n  // visible for testing\n  failure: Error;\n\n  // Flag set while there's an outstanding AsyncQueue operation, used for\n  // assertion sanity-checks.\n  private operationInProgress = false;\n\n  /**\n   * Adds a new operation to the queue. Returns a promise that will be resolved\n   * when the promise returned by the new operation is (with its value).\n   *\n   * Can optionally specify a delay (in milliseconds) to wait before queuing the\n   * operation.\n   */\n  schedule<T>(op: () => Promise<T>, delay?: number): Promise<T> {\n    if (this.failure) {\n      fail(\n        'AsyncQueue is already failed: ' +\n          (this.failure.stack || this.failure.message)\n      );\n    }\n\n    if ((delay || 0) > 0) {\n      this.delayedOperationsCount++;\n      const delayedOp: DelayedOperation<T> = {\n        handle: null,\n        op,\n        deferred: new Deferred<T>()\n      };\n      delayedOp.handle = setTimeout(() => {\n        this.scheduleInternal(() => {\n          return delayedOp.op().then(result => {\n            delayedOp.deferred.resolve(result);\n          });\n        });\n        delayedOp.handle = null;\n\n        this.delayedOperationsCount--;\n        if (this.delayedOperationsCount === 0) {\n          this.delayedOperations = [];\n        }\n      }, delay);\n      this.delayedOperations.push(delayedOp);\n      return delayedOp.deferred.promise;\n    } else {\n      return this.scheduleInternal(op);\n    }\n  }\n\n  private scheduleInternal<T>(op: () => Promise<T>): Promise<T> {\n    this.tail = this.tail.then(() => {\n      this.operationInProgress = true;\n      return op()\n        .catch(error => {\n          this.failure = error;\n          this.operationInProgress = false;\n          const message = error.stack || error.message || '';\n          log.error('INTERNAL UNHANDLED ERROR: ', message);\n\n          // Escape the promise chain and throw the error globally so that\n          // e.g. any global crash reporting library detects and reports it.\n          // (but not for simulated errors in our tests since this breaks mocha)\n          if (message.indexOf('Firestore Test Simulated Error') < 0) {\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n\n          // Re-throw the error so that this.tail becomes a rejected Promise and\n          // all further attempts to chain (via .then) will just short-circuit\n          // and return the rejected Promise.\n          throw error;\n        })\n        .then(() => {\n          this.operationInProgress = false;\n        });\n    });\n    return this.tail as AnyDuringMigration;\n  }\n\n  /**\n   * Verifies there's an operation currently in-progress on the AsyncQueue.\n   * Unfortunately we can't verify that the running code is in the promise chain\n   * of that operation, so this isn't a foolproof check, but it should be enough\n   * to catch some bugs.\n   */\n  verifyOperationInProgress(): void {\n    assert(\n      this.operationInProgress,\n      'verifyOpInProgress() called when no op in progress on this queue.'\n    );\n  }\n\n  /**\n   * Waits until all currently scheduled tasks are finished executing. Tasks\n   * scheduled with a delay can be rejected or queued for immediate execution.\n   */\n  drain(executeDelayedTasks: boolean): Promise<void> {\n    this.delayedOperations.forEach(entry => {\n      if (entry.handle) {\n        clearTimeout(entry.handle);\n        if (executeDelayedTasks) {\n          this.scheduleInternal(entry.op).then(\n            entry.deferred.resolve,\n            entry.deferred.reject\n          );\n        } else {\n          entry.deferred.reject(\n            new FirestoreError(\n              Code.CANCELLED,\n              'Operation cancelled by shutdown'\n            )\n          );\n        }\n      }\n    });\n    this.delayedOperations = [];\n    this.delayedOperationsCount = 0;\n    return this.schedule(() => Promise.resolve());\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Simple wrapper around a nullable UID. Mostly exists to make code more\n * readable.\n */\nexport class User {\n  /** A user with a null UID. */\n  static readonly UNAUTHENTICATED = new User(null);\n\n  // TODO(mikelehen): Look into getting a proper uid-equivalent for\n  // non-FirebaseAuth providers.\n  static readonly GOOGLE_CREDENTIALS = new User('google-credentials-uid');\n  static readonly FIRST_PARTY = new User('first-party-uid');\n\n  constructor(readonly uid: string | null) {}\n\n  isUnauthenticated(): boolean {\n    return this.uid == null;\n  }\n\n  /**\n   * Returns a key representing this user, suitable for inclusion in a\n   * dictionary.\n   */\n  toKey(): string {\n    if (this.isUnauthenticated()) {\n      return 'anonymous-user';\n    } else {\n      return 'uid:' + this.uid;\n    }\n  }\n\n  isEqual(otherUser: User): boolean {\n    return otherUser.uid === this.uid;\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { User } from '../auth/user';\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport { AnyJs } from '../util/misc';\nimport { FirebaseApp } from '@firebase/app-types';\nimport { _FirebaseApp } from '@firebase/app-types/private';\n\n// TODO(mikelehen): This should be split into multiple files and probably\n// moved to an auth/ folder to match other platforms.\n\nexport interface FirstPartyCredentialsSettings {\n  type: 'gapi';\n  client: Gapi;\n  sessionIndex: string;\n}\n\nexport interface ProviderCredentialsSettings {\n  type: 'provider';\n  client: CredentialsProvider;\n}\n\n/** Settings for private credentials */\nexport type CredentialsSettings =\n  | FirstPartyCredentialsSettings\n  | ProviderCredentialsSettings;\n\nexport type TokenType = 'OAuth' | 'FirstParty';\nexport interface Token {\n  /** Type of token. */\n  type: TokenType;\n\n  /**\n   * The user with which the token is associated (used for persisting user\n   * state on disk, etc.).\n   */\n  user: User;\n\n  /** Extra header values to be passed along with a request */\n  authHeaders: { [header: string]: string };\n}\n\nexport class OAuthToken implements Token {\n  type = 'OAuth' as TokenType;\n  authHeaders: { [header: string]: string };\n  constructor(value: string, public user: User) {\n    this.authHeaders = { Authorization: `Bearer ${value}` };\n  }\n}\n\n/**\n * A Listener for user change events.\n */\nexport type UserListener = (user: User) => void;\n\n/**\n * Provides methods for getting the uid and token for the current user and\n * listening for changes.\n */\nexport interface CredentialsProvider {\n  /**\n   * Requests a token for the current user, optionally forcing a refreshed\n   * token to be fetched.\n   */\n  getToken(forceRefresh: boolean): Promise<Token | null>;\n\n  /**\n   * Specifies a listener to be notified of user changes (sign-in / sign-out).\n   * It immediately called once with the initial user.\n   */\n  setUserChangeListener(listener: UserListener): void;\n\n  /** Removes the previously-set user change listener. */\n  removeUserChangeListener(): void;\n}\n\n/** A CredentialsProvider that always yields an empty token. */\nexport class EmptyCredentialsProvider implements CredentialsProvider {\n  /**\n   * Stores the User listener registered with setUserChangeListener()\n   * This isn't actually necessary since the UID never changes, but we use this\n   * to verify the listen contract is adhered to in tests.\n   */\n  private userListener: UserListener | null = null;\n\n  constructor() {}\n\n  getToken(forceRefresh: boolean): Promise<Token | null> {\n    return Promise.resolve<Token | null>(null);\n  }\n\n  setUserChangeListener(listener: UserListener): void {\n    assert(!this.userListener, 'Can only call setUserChangeListener() once.');\n    this.userListener = listener;\n    // Fire with initial user.\n    listener(User.UNAUTHENTICATED);\n  }\n\n  removeUserChangeListener(): void {\n    assert(\n      this.userListener !== null,\n      'removeUserChangeListener() when no listener registered'\n    );\n    this.userListener = null;\n  }\n}\n\nexport class FirebaseCredentialsProvider implements CredentialsProvider {\n  /**\n   * The auth token listener registered with FirebaseApp, retained here so we\n   * can unregister it.\n   */\n  private tokenListener: ((token: string | null) => void) | null = null;\n\n  /** Tracks the current User. */\n  private currentUser: User;\n\n  /**\n   * Counter used to detect if the user changed while a getToken request was\n   * outstanding.\n   */\n  private userCounter = 0;\n\n  /** The User listener registered with setUserChangeListener(). */\n  private userListener: UserListener | null = null;\n\n  constructor(private readonly app: FirebaseApp) {\n    // We listen for token changes but all we really care about is knowing when\n    // the uid may have changed.\n    this.tokenListener = () => {\n      const newUser = this.getUser();\n      if (!this.currentUser || !newUser.isEqual(this.currentUser)) {\n        this.currentUser = newUser;\n        this.userCounter++;\n        if (this.userListener) {\n          this.userListener(this.currentUser);\n        }\n      }\n    };\n\n    this.userCounter = 0;\n\n    // Will fire at least once where we set this.currentUser\n    (this.app as _FirebaseApp).INTERNAL.addAuthTokenListener(\n      this.tokenListener\n    );\n  }\n\n  getToken(forceRefresh: boolean): Promise<Token | null> {\n    assert(\n      this.tokenListener != null,\n      'getToken cannot be called after listener removed.'\n    );\n\n    // Take note of the current value of the userCounter so that this method can\n    // fail (with an ABORTED error) if there is a user change while the request\n    // is outstanding.\n    const initialUserCounter = this.userCounter;\n    return (this.app as _FirebaseApp).INTERNAL.getToken(forceRefresh).then(\n      tokenData => {\n        // Cancel the request since the user changed while the request was\n        // outstanding so the response is likely for a previous user (which\n        // user, we can't be sure).\n        if (this.userCounter !== initialUserCounter) {\n          throw new FirestoreError(\n            Code.ABORTED,\n            'getToken aborted due to uid change.'\n          );\n        } else {\n          if (tokenData) {\n            assert(\n              typeof tokenData.accessToken === 'string',\n              'Invalid tokenData returned from getToken():' + tokenData\n            );\n            return new OAuthToken(tokenData.accessToken, this.currentUser);\n          } else {\n            return null;\n          }\n        }\n      }\n    );\n  }\n\n  setUserChangeListener(listener: UserListener): void {\n    assert(!this.userListener, 'Can only call setUserChangeListener() once.');\n    this.userListener = listener;\n\n    // Fire the initial event, but only if we received the initial user\n    if (this.currentUser) {\n      listener(this.currentUser);\n    }\n  }\n\n  removeUserChangeListener(): void {\n    assert(\n      this.tokenListener != null,\n      'removeUserChangeListener() called twice'\n    );\n    assert(\n      this.userListener !== null,\n      'removeUserChangeListener() called when no listener registered'\n    );\n    (this.app as _FirebaseApp).INTERNAL.removeAuthTokenListener(\n      this.tokenListener!\n    );\n    this.tokenListener = null;\n    this.userListener = null;\n  }\n\n  private getUser(): User {\n    // TODO(mikelehen): Remove this check once we're shipping with firebase.js.\n    if (typeof (this.app as _FirebaseApp).INTERNAL.getUid !== 'function') {\n      fail(\n        'This version of the Firestore SDK requires at least version' +\n          ' 3.7.0 of firebase.js.'\n      );\n    }\n    const currentUid = (this.app as _FirebaseApp).INTERNAL.getUid();\n    assert(\n      currentUid === null || typeof currentUid === 'string',\n      'Received invalid UID: ' + currentUid\n    );\n    return new User(currentUid);\n  }\n}\n\n// TODO(b/32935141): Ideally gapi type would be declared as an extern\n// tslint:disable-next-line:no-any\nexport type Gapi = any;\n\n/*\n * FirstPartyToken provides a fresh token each time its value\n * is requested, because if the token is too old, requests will be rejected.\n * TODO(b/33147818) this implementation violates the current assumption that\n * tokens are immutable.  We need to either revisit this assumption or come\n * up with some way for FPA to use the listen/unlisten interface.\n */\nexport class FirstPartyToken implements Token {\n  type = 'FirstParty' as TokenType;\n  user = User.FIRST_PARTY;\n\n  constructor(private gapi: Gapi, private sessionIndex: string) {\n    assert(\n      this.gapi &&\n        this.gapi['auth'] &&\n        this.gapi['auth']['getAuthHeaderValueForFirstParty'],\n      'unexpected gapi interface'\n    );\n  }\n\n  get authHeaders(): { [header: string]: string } {\n    return {\n      Authorization: this.gapi['auth']['getAuthHeaderValueForFirstParty']([]),\n      'X-Goog-AuthUser': this.sessionIndex\n    };\n  }\n}\n\n/*\n * Provides user credentials required for the Firestore JavaScript SDK\n * to authenticate the user, using technique that is only available\n * to applications hosted by Google.\n */\nexport class FirstPartyCredentialsProvider implements CredentialsProvider {\n  constructor(private gapi: Gapi, private sessionIndex: string) {\n    assert(\n      this.gapi &&\n        this.gapi['auth'] &&\n        this.gapi['auth']['getAuthHeaderValueForFirstParty'],\n      'unexpected gapi interface'\n    );\n  }\n\n  getToken(forceRefresh: boolean): Promise<Token | null> {\n    return Promise.resolve(new FirstPartyToken(this.gapi, this.sessionIndex));\n  }\n\n  // TODO(33108925): can someone switch users w/o a page refresh?\n  // TODO(33110621): need to understand token/session lifecycle\n  setUserChangeListener(listener: UserListener): void {\n    // Fire with initial uid.\n    listener(User.FIRST_PARTY);\n  }\n\n  removeUserChangeListener(): void {}\n}\n\n/**\n * Builds a CredentialsProvider depending on the type of\n * the credentials passed in.\n */\nexport function makeCredentialsProvider(credentials?: CredentialsSettings) {\n  if (!credentials) {\n    return new EmptyCredentialsProvider();\n  }\n\n  switch (credentials.type) {\n    case 'gapi':\n      return new FirstPartyCredentialsProvider(\n        credentials.client,\n        credentials.sessionIndex || '0'\n      );\n\n    case 'provider':\n      return credentials.client;\n\n    default:\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'makeCredentialsProvider failed due to invalid credential type'\n      );\n  }\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnyJs } from '../util/misc';\nimport { JsonObject } from '../model/field_value';\n\n/**\n * Observer/Subscribe interfaces.\n */\nexport type NextFn<T> = (value: T) => void;\nexport type ErrorFn = (error: Error) => void;\nexport type CompleteFn = () => void;\n\n// Allow for any of the Observer methods to be undefined.\nexport interface PartialObserver<T> {\n  next?: NextFn<T>;\n  error?: ErrorFn;\n  complete?: CompleteFn;\n}\n\nexport interface Unsubscribe {\n  (): void;\n}\n\nexport function isPartialObserver(obj: AnyJs): boolean {\n  return implementsAnyMethods(obj, ['next', 'error', 'complete']);\n}\n\n/**\n * Returns true if obj is an object and contains at least one of the specified\n * methods.\n */\nfunction implementsAnyMethods(obj: AnyJs, methods: string[]): boolean {\n  if (typeof obj !== 'object' || obj === null) {\n    return false;\n  }\n\n  const object = obj as JsonObject<AnyJs>;\n  for (const method of methods) {\n    if (method in object && typeof object[method] === 'function') {\n      return true;\n    }\n  }\n  return false;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\n\nimport { makeConstructorPrivate } from '../util/api';\n\n/**\n * An opaque base class for FieldValue sentinel objects in our public API,\n * with public static methods for creating said sentinel objects.\n */\n// tslint:disable-next-line:class-as-namespace  We use this as a base class.\nexport abstract class FieldValueImpl implements firestore.FieldValue {\n  static delete(): FieldValueImpl {\n    return DeleteFieldValueImpl.instance;\n  }\n  static serverTimestamp(): FieldValueImpl {\n    return ServerTimestampFieldValueImpl.instance;\n  }\n  isEqual(other: FieldValueImpl): boolean {\n    return this === other;\n  }\n}\n\nexport class DeleteFieldValueImpl extends FieldValueImpl {\n  private constructor() {\n    super();\n  }\n  /** Singleton instance. */\n  static instance = new DeleteFieldValueImpl();\n}\n\nexport class ServerTimestampFieldValueImpl extends FieldValueImpl {\n  private constructor() {\n    super();\n  }\n  /** Singleton instance. */\n  static instance = new ServerTimestampFieldValueImpl();\n}\n\n// Public instance that disallows construction at runtime. This constructor is\n// used when exporting FieldValueImpl on firebase.firestore.FieldValue and will\n// be called FieldValue publicly. Internally we still use FieldValueImpl which\n// has a type-checked private constructor. Note that FieldValueImpl and\n// PublicFieldValue can be used interchangeably in instanceof checks.\n// For our internal TypeScript code PublicFieldValue doesn't exist as a type,\n// and so we need to use FieldValueImpl as type and export it too.\n// tslint:disable-next-line:variable-name  We treat this as a class name.\nexport const PublicFieldValue = makeConstructorPrivate(\n  FieldValueImpl,\n  'Use FieldValue.<field>() instead.'\n);\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\n\nimport { DatabaseId } from '../core/database_info';\nimport { Timestamp } from '../core/timestamp';\nimport { DocumentKey } from '../model/document_key';\nimport { FieldValue, ObjectValue } from '../model/field_value';\nimport {\n  ArrayValue,\n  BlobValue,\n  BooleanValue,\n  DoubleValue,\n  GeoPointValue,\n  IntegerValue,\n  NullValue,\n  RefValue,\n  StringValue,\n  TimestampValue\n} from '../model/field_value';\nimport {\n  FieldMask,\n  FieldTransform,\n  Mutation,\n  PatchMutation,\n  Precondition,\n  ServerTimestampTransform,\n  SetMutation,\n  TransformMutation\n} from '../model/mutation';\nimport { FieldPath } from '../model/path';\nimport { assert, fail } from '../util/assert';\nimport { Code, FirestoreError } from '../util/error';\nimport { isPlainObject, valueDescription } from '../util/input_validation';\nimport { AnyJs, primitiveComparator } from '../util/misc';\nimport * as objUtils from '../util/obj';\nimport { Dict } from '../util/obj';\nimport { SortedMap } from '../util/sorted_map';\nimport * as typeUtils from '../util/types';\n\nimport { Blob } from './blob';\nimport {\n  FieldPath as ExternalFieldPath,\n  fromDotSeparatedString\n} from './field_path';\nimport {\n  DeleteFieldValueImpl,\n  FieldValueImpl,\n  ServerTimestampFieldValueImpl\n} from './field_value';\nimport { GeoPoint } from './geo_point';\n\nconst RESERVED_FIELD_REGEX = /^__.*__$/;\n\n/** The result of parsing document data (e.g. for a setData call). */\nexport class ParsedSetData {\n  constructor(\n    readonly data: ObjectValue,\n    readonly fieldMask: FieldMask | null,\n    readonly fieldTransforms: FieldTransform[]\n  ) {}\n\n  toMutations(key: DocumentKey, precondition: Precondition): Mutation[] {\n    const mutations = [] as Mutation[];\n    if (this.fieldMask !== null) {\n      mutations.push(\n        new PatchMutation(key, this.data, this.fieldMask, precondition)\n      );\n    } else {\n      mutations.push(new SetMutation(key, this.data, precondition));\n    }\n    if (this.fieldTransforms.length > 0) {\n      mutations.push(new TransformMutation(key, this.fieldTransforms));\n    }\n    return mutations;\n  }\n}\n\n/** The result of parsing \"update\" data (i.e. for an updateData call). */\nexport class ParsedUpdateData {\n  constructor(\n    readonly data: ObjectValue,\n    readonly fieldMask: FieldMask,\n    readonly fieldTransforms: FieldTransform[]\n  ) {}\n\n  toMutations(key: DocumentKey, precondition: Precondition): Mutation[] {\n    const mutations = [\n      new PatchMutation(key, this.data, this.fieldMask, precondition)\n    ] as Mutation[];\n    if (this.fieldTransforms.length > 0) {\n      mutations.push(new TransformMutation(key, this.fieldTransforms));\n    }\n    return mutations;\n  }\n}\n\n/*\n * Represents what type of API method provided the data being parsed; useful\n * for determining which error conditions apply during parsing and providing\n * better error messages.\n */\nenum UserDataSource {\n  Set,\n  Update,\n  MergeSet,\n  QueryValue // from a where clause or cursor bound\n}\n\nfunction isWrite(dataSource: UserDataSource) {\n  switch (dataSource) {\n    case UserDataSource.Set: // fall through\n    case UserDataSource.MergeSet: // fall through\n    case UserDataSource.Update:\n      return true;\n    case UserDataSource.QueryValue:\n      return false;\n    default:\n      throw fail(`Unexpected case for UserDataSource: ${dataSource}`);\n  }\n}\n\n/** A \"context\" object passed around while parsing user data. */\nclass ParseContext {\n  readonly fieldTransforms: FieldTransform[];\n  readonly fieldMask: FieldPath[];\n  /**\n   * Initializes a ParseContext with the given source and path.\n   *\n   * @param dataSource Indicates what kind of API method this data came from.\n   * @param methodName The name of the method the user called to create this\n   *     ParseContext.\n   * @param path A path within the object being parsed. This could be an empty\n   *     path (in which case the context represents the root of the data being\n   *     parsed), or a nonempty path (indicating the context represents a nested\n   *     location within the data).\n   * @param arrayElement Whether or not this context corresponds to an element\n   *     of an array.\n   * @param fieldTransforms A mutable list of field transforms encountered while\n   *     parsing the data.\n   * @param fieldMask A mutable list of field paths encountered while parsing\n   *     the data.\n   *\n   * TODO(b/34871131): We don't support array paths right now, so path can be\n   * null to indicate the context represents any location within an array (in\n   * which case certain features will not work and errors will be somewhat\n   * compromised).\n   */\n  constructor(\n    readonly dataSource: UserDataSource,\n    readonly methodName: string,\n    readonly path: FieldPath | null,\n    readonly arrayElement?: boolean,\n    fieldTransforms?: FieldTransform[],\n    fieldMask?: FieldPath[]\n  ) {\n    // Minor hack: If fieldTransforms is undefined, we assume this is an\n    // external call and we need to validate the entire path.\n    if (fieldTransforms === undefined) {\n      this.validatePath();\n    }\n    this.arrayElement = arrayElement !== undefined ? arrayElement : false;\n    this.fieldTransforms = fieldTransforms || [];\n    this.fieldMask = fieldMask || [];\n  }\n\n  childContextForField(field: string): ParseContext {\n    const childPath = this.path == null ? null : this.path.child(field);\n    const context = new ParseContext(\n      this.dataSource,\n      this.methodName,\n      childPath,\n      /*arrayElement=*/ false,\n      this.fieldTransforms,\n      this.fieldMask\n    );\n    context.validatePathSegment(field);\n    return context;\n  }\n\n  childContextForFieldPath(field: FieldPath): ParseContext {\n    const childPath = this.path == null ? null : this.path.child(field);\n    const context = new ParseContext(\n      this.dataSource,\n      this.methodName,\n      childPath,\n      /*arrayElement=*/ false,\n      this.fieldTransforms,\n      this.fieldMask\n    );\n    context.validatePath();\n    return context;\n  }\n\n  childContextForArray(index: number): ParseContext {\n    // TODO(b/34871131): We don't support array paths right now; so make path\n    // null.\n    return new ParseContext(\n      this.dataSource,\n      this.methodName,\n      /*path=*/ null,\n      /*arrayElement=*/ true,\n      this.fieldTransforms,\n      this.fieldMask\n    );\n  }\n\n  createError(reason: string): Error {\n    const fieldDescription =\n      this.path === null || this.path.isEmpty()\n        ? ''\n        : ` (found in field ${this.path.toString()})`;\n    return new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${this.methodName}() called with invalid data. ` +\n        reason +\n        fieldDescription\n    );\n  }\n\n  private validatePath() {\n    // TODO(b/34871131): Remove null check once we have proper paths for fields\n    // within arrays.\n    if (this.path === null) {\n      return;\n    }\n    for (let i = 0; i < this.path.length; i++) {\n      this.validatePathSegment(this.path.get(i));\n    }\n  }\n\n  private validatePathSegment(segment: string) {\n    if (isWrite(this.dataSource) && RESERVED_FIELD_REGEX.test(segment)) {\n      throw this.createError('Document fields cannot begin and end with __');\n    }\n  }\n\n  private isWrite(): boolean {\n    return (\n      this.dataSource === UserDataSource.Set ||\n      this.dataSource === UserDataSource.Update\n    );\n  }\n}\n/**\n * An interface that allows arbitrary pre-converting of user data. This\n * abstraction allows for, e.g.:\n *  * The public API to convert DocumentReference objects to DocRef objects,\n *    avoiding a circular dependency between user_data_converter.ts and\n *    database.ts\n *  * Tests to convert test-only sentinels (e.g. '<DELETE>') into types\n *    compatible with UserDataConverter.\n *\n * Returns the converted value (can return back the input to act as a no-op).\n *\n * It can also throw an Error which will be wrapped into a friendly message.\n */\nexport type DataPreConverter = (input: AnyJs) => AnyJs;\n\n/**\n * A placeholder object for DocumentReferences in this file, in order to\n * avoid a circular dependency. See the comments for `DataPreConverter` for\n * the full context.\n */\nexport class DocumentKeyReference {\n  constructor(public databaseId: DatabaseId, public key: DocumentKey) {}\n}\n\n/**\n * Helper for parsing raw user input (provided via the API) into internal model\n * classes.\n */\nexport class UserDataConverter {\n  constructor(private preConverter: DataPreConverter) {}\n\n  /** Parse document data from a non-merge set() call. */\n  parseSetData(methodName: string, input: AnyJs): ParsedSetData {\n    const context = new ParseContext(\n      UserDataSource.Set,\n      methodName,\n      FieldPath.EMPTY_PATH\n    );\n    validatePlainObject('Data must be an object, but it was:', context, input);\n\n    const updateData = this.parseData(input, context);\n\n    return new ParsedSetData(\n      updateData as ObjectValue,\n      /* fieldMask= */ null,\n      context.fieldTransforms\n    );\n  }\n\n  /** Parse document data from a set() call with '{merge:true}'. */\n  parseMergeData(methodName: string, input: AnyJs): ParsedSetData {\n    const context = new ParseContext(\n      UserDataSource.MergeSet,\n      methodName,\n      FieldPath.EMPTY_PATH\n    );\n    validatePlainObject('Data must be an object, but it was:', context, input);\n\n    const updateData = this.parseData(input, context);\n    const fieldMask = new FieldMask(context.fieldMask);\n    return new ParsedSetData(\n      updateData as ObjectValue,\n      fieldMask,\n      context.fieldTransforms\n    );\n  }\n\n  /** Parse update data from an update() call. */\n  parseUpdateData(methodName: string, input: AnyJs): ParsedUpdateData {\n    const context = new ParseContext(\n      UserDataSource.Update,\n      methodName,\n      FieldPath.EMPTY_PATH\n    );\n    validatePlainObject('Data must be an object, but it was:', context, input);\n\n    const fieldMaskPaths = [] as FieldPath[];\n    let updateData = ObjectValue.EMPTY;\n    objUtils.forEach(input as Dict<AnyJs>, (key, value) => {\n      const path = fieldPathFromDotSeparatedString(methodName, key);\n\n      const childContext = context.childContextForFieldPath(path);\n      value = this.runPreConverter(value, childContext);\n      if (value instanceof DeleteFieldValueImpl) {\n        // Add it to the field mask, but don't add anything to updateData.\n        fieldMaskPaths.push(path);\n      } else {\n        const parsedValue = this.parseData(value, childContext);\n        if (parsedValue != null) {\n          fieldMaskPaths.push(path);\n          updateData = updateData.set(path, parsedValue);\n        }\n      }\n    });\n\n    const mask = new FieldMask(fieldMaskPaths);\n    return new ParsedUpdateData(updateData, mask, context.fieldTransforms);\n  }\n\n  /** Parse update data from a list of field/value arguments. */\n  parseUpdateVarargs(\n    methodName: string,\n    field: string | ExternalFieldPath,\n    value: AnyJs,\n    moreFieldsAndValues: AnyJs[]\n  ): ParsedUpdateData {\n    const context = new ParseContext(\n      UserDataSource.Update,\n      methodName,\n      FieldPath.EMPTY_PATH\n    );\n    const keys = [fieldPathFromArgument(methodName, field)];\n    const values = [value];\n\n    if (moreFieldsAndValues.length % 2 !== 0) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Function ${methodName}() needs to be called with an even number ` +\n          'of arguments that alternate between field names and values.'\n      );\n    }\n\n    for (let i = 0; i < moreFieldsAndValues.length; i += 2) {\n      keys.push(\n        fieldPathFromArgument(methodName, moreFieldsAndValues[i] as\n          | string\n          | ExternalFieldPath)\n      );\n      values.push(moreFieldsAndValues[i + 1]);\n    }\n\n    const fieldMaskPaths = [] as FieldPath[];\n    let updateData = ObjectValue.EMPTY;\n\n    for (let i = 0; i < keys.length; ++i) {\n      const path = keys[i];\n      const childContext = context.childContextForFieldPath(path);\n      const value = this.runPreConverter(values[i], childContext);\n      if (value instanceof DeleteFieldValueImpl) {\n        // Add it to the field mask, but don't add anything to updateData.\n        fieldMaskPaths.push(path);\n      } else {\n        const parsedValue = this.parseData(value, childContext);\n        if (parsedValue != null) {\n          fieldMaskPaths.push(path);\n          updateData = updateData.set(path, parsedValue);\n        }\n      }\n    }\n\n    const mask = new FieldMask(fieldMaskPaths);\n    return new ParsedUpdateData(updateData, mask, context.fieldTransforms);\n  }\n\n  /**\n   * Parse a \"query value\" (e.g. value in a where filter or a value in a cursor\n   * bound).\n   */\n  parseQueryValue(methodName: string, input: AnyJs): FieldValue {\n    const context = new ParseContext(\n      UserDataSource.QueryValue,\n      methodName,\n      FieldPath.EMPTY_PATH\n    );\n    const parsed = this.parseData(input, context);\n    assert(parsed != null, 'Parsed data should not be null.');\n    assert(\n      context.fieldTransforms.length === 0,\n      'Field transforms should have been disallowed.'\n    );\n    return parsed!;\n  }\n\n  /** Sends data through this.preConverter, handling any thrown errors. */\n  private runPreConverter(input: AnyJs, context: ParseContext): AnyJs {\n    try {\n      return this.preConverter(input);\n    } catch (e) {\n      const message = errorMessage(e);\n      throw context.createError(message);\n    }\n  }\n\n  /**\n   * Internal helper for parsing user data.\n   *\n   * @param input Data to be parsed.\n   * @param context A context object representing the current path being parsed,\n   * the source of the data being parsed, etc.\n   * @return The parsed value, or null if the value was a FieldValue sentinel\n   * that should not be included in the resulting parsed data.\n   */\n  private parseData(input: AnyJs, context: ParseContext): FieldValue | null {\n    input = this.runPreConverter(input, context);\n    if (input instanceof Array) {\n      // TODO(b/34871131): Include the path containing the array in the error\n      // message.\n      if (context.arrayElement) {\n        throw context.createError('Nested arrays are not supported');\n      }\n      // If context.path is null we are already inside an array and we don't\n      // support field mask paths more granular than the top-level array.\n      if (context.path) {\n        context.fieldMask.push(context.path);\n      }\n      return this.parseArray(input as AnyJs[], context);\n    } else if (looksLikeJsonObject(input)) {\n      validatePlainObject('Unsupported field value:', context, input);\n      return this.parseObject(input as Dict<AnyJs>, context);\n    } else {\n      // If context.path is null, we are inside an array and we should have\n      // already added the root of the array to the field mask.\n      if (context.path) {\n        context.fieldMask.push(context.path);\n      }\n      return this.parseScalarValue(input, context);\n    }\n  }\n\n  private parseArray(array: AnyJs[], context: ParseContext): FieldValue {\n    const result = [] as FieldValue[];\n    let entryIndex = 0;\n    for (const entry of array) {\n      let parsedEntry = this.parseData(\n        entry,\n        context.childContextForArray(entryIndex)\n      );\n      if (parsedEntry == null) {\n        // Just include nulls in the array for fields being replaced with a\n        // sentinel.\n        parsedEntry = NullValue.INSTANCE;\n      }\n      result.push(parsedEntry);\n      entryIndex++;\n    }\n    return new ArrayValue(result);\n  }\n\n  private parseObject(obj: Dict<AnyJs>, context: ParseContext): FieldValue {\n    let result = new SortedMap<string, FieldValue>(primitiveComparator);\n    objUtils.forEach(obj, (key: string, val: AnyJs) => {\n      const parsedValue = this.parseData(\n        val,\n        context.childContextForField(key)\n      );\n      if (parsedValue != null) {\n        result = result.insert(key, parsedValue);\n      }\n    });\n    return new ObjectValue(result);\n  }\n\n  /**\n   * Helper to parse a scalar value (i.e. not an Object or Array)\n   *\n   * @return The parsed value, or null if the value was a FieldValue sentinel\n   * that should not be included in the resulting parsed data.\n   */\n  private parseScalarValue(\n    value: AnyJs,\n    context: ParseContext\n  ): FieldValue | null {\n    if (value === null) {\n      return NullValue.INSTANCE;\n    } else if (typeof value === 'number') {\n      if (typeUtils.isSafeInteger(value)) {\n        return new IntegerValue(value);\n      } else {\n        return new DoubleValue(value);\n      }\n    } else if (typeof value === 'boolean') {\n      return BooleanValue.of(value);\n    } else if (typeof value === 'string') {\n      return new StringValue(value);\n    } else if (value instanceof Date) {\n      return new TimestampValue(Timestamp.fromDate(value));\n    } else if (value instanceof GeoPoint) {\n      return new GeoPointValue(value);\n    } else if (value instanceof Blob) {\n      return new BlobValue(value);\n    } else if (value instanceof DocumentKeyReference) {\n      return new RefValue(value.databaseId, value.key);\n    } else if (value instanceof FieldValueImpl) {\n      if (value instanceof DeleteFieldValueImpl) {\n        if (context.dataSource === UserDataSource.MergeSet) {\n          return null;\n        } else if (context.dataSource === UserDataSource.Update) {\n          assert(\n            context.path == null || context.path.length > 0,\n            'FieldValue.delete() at the top level should have already' +\n              ' been handled.'\n          );\n          throw context.createError(\n            'FieldValue.delete() can only appear at the top level ' +\n              'of your update data'\n          );\n        } else {\n          // We shouldn't encounter delete sentinels for queries or non-merge set() calls.\n          throw context.createError(\n            'FieldValue.delete() can only be used with update() and set() with {merge:true}'\n          );\n        }\n      } else if (value instanceof ServerTimestampFieldValueImpl) {\n        if (!isWrite(context.dataSource)) {\n          throw context.createError(\n            'FieldValue.serverTimestamp() can only be used with set()' +\n              ' and update()'\n          );\n        }\n        if (context.path === null) {\n          throw context.createError(\n            'FieldValue.serverTimestamp() is not currently' +\n              ' supported inside arrays'\n          );\n        }\n        context.fieldTransforms.push(\n          new FieldTransform(context.path, ServerTimestampTransform.instance)\n        );\n\n        // Return null so this value is omitted from the parsed result.\n        return null;\n      } else {\n        return fail('Unknown FieldValue type: ' + value);\n      }\n    } else {\n      throw context.createError(\n        `Unsupported field value: ${valueDescription(value)}`\n      );\n    }\n  }\n}\n\n/**\n * Checks whether an object looks like a JSON object that should be converted\n * into a struct. Normal class/prototype instances are considered to look like\n * JSON objects since they should be converted to a struct value. Arrays, Dates,\n * GeoPoints, etc. are not considered to look like JSON objects since they map\n * to specific FieldValue types other than ObjectValue.\n */\nfunction looksLikeJsonObject(input: AnyJs): boolean {\n  return (\n    typeof input === 'object' &&\n    input !== null &&\n    !(input instanceof Array) &&\n    !(input instanceof Date) &&\n    !(input instanceof GeoPoint) &&\n    !(input instanceof Blob) &&\n    !(input instanceof DocumentKeyReference) &&\n    !(input instanceof FieldValueImpl)\n  );\n}\n\nfunction validatePlainObject(\n  message: string,\n  context: ParseContext,\n  input: AnyJs\n) {\n  if (!looksLikeJsonObject(input) || !isPlainObject(input)) {\n    const description = valueDescription(input);\n    if (description === 'an object') {\n      // Massage the error if it was an object.\n      throw context.createError(message + ' a custom object');\n    } else {\n      throw context.createError(message + ' ' + description);\n    }\n  }\n}\n\n/**\n * Helper that calls fromDotSeparatedString() but wraps any error thrown.\n */\nexport function fieldPathFromArgument(\n  methodName: string,\n  path: string | ExternalFieldPath\n): FieldPath {\n  if (path instanceof ExternalFieldPath) {\n    return path._internalPath;\n  } else if (typeof path === 'string') {\n    return fieldPathFromDotSeparatedString(methodName, path);\n  } else {\n    const message = 'Field path arguments must be of type string or FieldPath.';\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${methodName}() called with invalid data. ${message}`\n    );\n  }\n}\n\n/**\n * Wraps fromDotSeparatedString with an error message about the method that\n * was thrown.\n * @param methodName The publicly visible method name\n * @param path The dot-separated string form of a field path which will be split\n * on dots.\n */\nfunction fieldPathFromDotSeparatedString(\n  methodName: string,\n  path: string\n): FieldPath {\n  try {\n    return fromDotSeparatedString(path)._internalPath;\n  } catch (e) {\n    const message = errorMessage(e);\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      `Function ${methodName}() called with invalid data. ${message}`\n    );\n  }\n}\n\n/**\n * Extracts the message from a caught exception, which should be an Error object\n * though JS doesn't guarantee that.\n */\nfunction errorMessage(error: Error | object): string {\n  return error instanceof Error ? error.message : error.toString();\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\n\nimport { FirebaseApp } from '@firebase/app-types';\nimport { FirebaseService } from '@firebase/app-types/private';\nimport { FieldPath as ExternalFieldPath } from './field_path';\nimport { DatabaseId, DatabaseInfo } from '../core/database_info';\nimport { ListenOptions } from '../core/event_manager';\nimport { FirestoreClient } from '../core/firestore_client';\nimport {\n  Bound,\n  Direction,\n  fieldFilter,\n  Filter,\n  OrderBy,\n  Query as InternalQuery,\n  RelationFilter,\n  RelationOp\n} from '../core/query';\nimport { Transaction as InternalTransaction } from '../core/transaction';\nimport {\n  ChangeType,\n  DocumentViewChange,\n  ViewSnapshot\n} from '../core/view_snapshot';\nimport { Document, MaybeDocument, NoDocument } from '../model/document';\nimport { DocumentKey } from '../model/document_key';\nimport {\n  ArrayValue,\n  FieldValue,\n  FieldValueOptions,\n  ObjectValue,\n  RefValue\n} from '../model/field_value';\nimport { DeleteMutation, Mutation, Precondition } from '../model/mutation';\nimport { FieldPath, ResourcePath } from '../model/path';\nimport { PlatformSupport } from '../platform/platform';\nimport { makeConstructorPrivate } from '../util/api';\nimport { assert, fail } from '../util/assert';\nimport { AsyncObserver } from '../util/async_observer';\nimport { AsyncQueue } from '../util/async_queue';\nimport { Code, FirestoreError } from '../util/error';\nimport {\n  invalidClassError,\n  validateArgType,\n  validateAtLeastNumberOfArgs,\n  validateBetweenNumberOfArgs,\n  validateDefined,\n  validateExactNumberOfArgs,\n  validateNamedOptionalType,\n  validateNamedOptionalPropertyEquals,\n  validateNamedType,\n  validateOptionalArgType,\n  validateOptionNames,\n  valueDescription\n} from '../util/input_validation';\nimport * as log from '../util/log';\nimport { LogLevel } from '../util/log';\nimport { AnyJs, AutoId } from '../util/misc';\nimport * as objUtils from '../util/obj';\nimport { Rejecter, Resolver } from '../util/promise';\n\nimport {\n  CredentialsProvider,\n  CredentialsSettings,\n  EmptyCredentialsProvider,\n  FirebaseCredentialsProvider,\n  makeCredentialsProvider\n} from './credentials';\nimport {\n  CompleteFn,\n  ErrorFn,\n  isPartialObserver,\n  NextFn,\n  PartialObserver,\n  Unsubscribe\n} from './observer';\nimport {\n  DocumentKeyReference,\n  fieldPathFromArgument,\n  UserDataConverter\n} from './user_data_converter';\n\n// The objects that are a part of this API are exposed to third-parties as\n// compiled javascript so we want to flag our private members with a leading\n// underscore to discourage their use.\n// tslint:disable:strip-private-property-underscore\n\nconst DEFAULT_HOST = 'firestore.googleapis.com';\nconst DEFAULT_SSL = true;\n\n/** Undocumented, private additional settings not exposed in our public API. */\ninterface PrivateSettings extends firestore.Settings {\n  // Can be a google-auth-library or gapi client.\n  credentials?: CredentialsSettings;\n}\n\n/**\n * Options that can be provided in the Firestore constructor when not using\n * Firebase (aka standalone mode).\n */\nexport interface FirestoreDatabase {\n  projectId: string;\n  database?: string;\n}\n\n/**\n * A concrete type describing all the values that can be applied via a\n * user-supplied firestore.Settings object. This is a separate type so that\n * defaults can be supplied and the value can be checked for equality.\n */\nclass FirestoreSettings {\n  /** The hostname to connect to. */\n  host: string;\n\n  /** Whether to use SSL when connecting. */\n  ssl: boolean;\n\n  // Can be a google-auth-library or gapi client.\n  // tslint:disable-next-line:no-any\n  credentials?: any;\n\n  constructor(settings: PrivateSettings) {\n    if (settings.host === undefined) {\n      if (settings.ssl !== undefined) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          \"Can't provide ssl option if host option is not set\"\n        );\n      }\n      this.host = DEFAULT_HOST;\n      this.ssl = DEFAULT_SSL;\n    } else {\n      validateNamedType('settings', 'string', 'host', settings.host);\n      this.host = settings.host;\n\n      validateNamedOptionalType('settings', 'boolean', 'ssl', settings.ssl);\n      this.ssl = objUtils.defaulted(settings.ssl, DEFAULT_SSL);\n    }\n    validateOptionNames('settings', settings, ['host', 'ssl', 'credentials']);\n\n    validateNamedOptionalType(\n      'settings',\n      'object',\n      'credentials',\n      settings.credentials\n    );\n    this.credentials = settings.credentials;\n  }\n\n  isEqual(other: FirestoreSettings): boolean {\n    return (\n      this.host === other.host &&\n      this.ssl === other.ssl &&\n      this.credentials === other.credentials\n    );\n  }\n}\n\nclass FirestoreConfig {\n  databaseId: DatabaseId;\n  persistenceKey: string;\n  credentials: CredentialsProvider;\n  firebaseApp: FirebaseApp;\n  settings: FirestoreSettings;\n  persistence: boolean;\n}\n\n/**\n * The root reference to the database.\n */\nexport class Firestore implements firestore.FirebaseFirestore, FirebaseService {\n  private readonly _config: FirestoreConfig;\n  readonly _databaseId: DatabaseId;\n\n  // The firestore client instance. This will be available as soon as\n  // configureClient is called, but any calls against it will block until\n  // setup has completed.\n  //\n  // Operations on the _firestoreClient don't block on _firestoreReady. Those\n  // are already set to synchronize on the async queue.\n  private _firestoreClient: FirestoreClient | undefined;\n  private _queue = new AsyncQueue();\n  _dataConverter: UserDataConverter;\n\n  constructor(databaseIdOrApp: FirestoreDatabase | FirebaseApp) {\n    const config = new FirestoreConfig();\n    if (typeof (databaseIdOrApp as FirebaseApp).options === 'object') {\n      // This is very likely a Firebase app object\n      // TODO(b/34177605): Can we somehow use instanceof?\n      const app = databaseIdOrApp as FirebaseApp;\n      config.firebaseApp = app;\n      config.databaseId = Firestore.databaseIdFromApp(app);\n      config.persistenceKey = config.firebaseApp.name;\n      config.credentials = new FirebaseCredentialsProvider(app);\n    } else {\n      const external = databaseIdOrApp as FirestoreDatabase;\n      if (!external.projectId) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          'Must provide projectId'\n        );\n      }\n\n      config.databaseId = new DatabaseId(external.projectId, external.database);\n      // Use a default persistenceKey that lines up with FirebaseApp.\n      config.persistenceKey = '[DEFAULT]';\n      config.credentials = new EmptyCredentialsProvider();\n    }\n\n    config.settings = new FirestoreSettings({});\n    this._config = config;\n    this._databaseId = config.databaseId;\n  }\n\n  settings(settingsLiteral: firestore.Settings): void {\n    validateExactNumberOfArgs('Firestore.settings', arguments, 1);\n    validateArgType('Firestore.settings', 'object', 1, settingsLiteral);\n\n    if (\n      objUtils.contains(settingsLiteral as objUtils.Dict<{}>, 'persistence')\n    ) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        '\"persistence\" is now specified with a separate call to ' +\n          'firestore.enablePersistence().'\n      );\n    }\n\n    const newSettings = new FirestoreSettings(settingsLiteral);\n    if (this._firestoreClient && !this._config.settings.isEqual(newSettings)) {\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        'Firestore has already been started and its settings can no longer ' +\n          'be changed. You can only call settings() before calling any other ' +\n          'methods on a Firestore object.'\n      );\n    }\n\n    this._config.settings = newSettings;\n    if (newSettings.credentials !== undefined) {\n      this._config.credentials = makeCredentialsProvider(\n        newSettings.credentials\n      );\n    }\n  }\n\n  enableNetwork(): Promise<void> {\n    this.ensureClientConfigured();\n    return this._firestoreClient.enableNetwork();\n  }\n\n  disableNetwork(): Promise<void> {\n    this.ensureClientConfigured();\n    return this._firestoreClient.disableNetwork();\n  }\n\n  enablePersistence(): Promise<void> {\n    if (this._firestoreClient) {\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        'Firestore has already been started and persistence can no longer ' +\n          'be enabled. You can only call enablePersistence() before calling ' +\n          'any other methods on a Firestore object.'\n      );\n    }\n\n    return this.configureClient(/* persistence= */ true);\n  }\n\n  ensureClientConfigured(): FirestoreClient {\n    if (!this._firestoreClient) {\n      this.configureClient(/* persistence= */ false);\n    }\n    return this._firestoreClient as FirestoreClient;\n  }\n\n  private configureClient(persistence: boolean): Promise<void> {\n    assert(\n      !!this._config.settings.host,\n      'FirestoreSettings.host cannot be falsey'\n    );\n\n    assert(!this._firestoreClient, 'configureClient() called multiple times');\n\n    const databaseInfo = new DatabaseInfo(\n      this._config.databaseId,\n      this._config.persistenceKey,\n      this._config.settings.host,\n      this._config.settings.ssl\n    );\n\n    const preConverter = (value: AnyJs) => {\n      if (value instanceof DocumentReference) {\n        const thisDb = this._config.databaseId;\n        const otherDb = value.firestore._config.databaseId;\n        if (!otherDb.isEqual(thisDb)) {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            'Document reference is for database ' +\n              `${otherDb.projectId}/${otherDb.database} but should be ` +\n              `for database ${thisDb.projectId}/${thisDb.database}`\n          );\n        }\n        return new DocumentKeyReference(this._config.databaseId, value._key);\n      } else {\n        return value;\n      }\n    };\n    this._dataConverter = new UserDataConverter(preConverter);\n\n    this._firestoreClient = new FirestoreClient(\n      PlatformSupport.getPlatform(),\n      databaseInfo,\n      this._config.credentials,\n      this._queue\n    );\n    return this._firestoreClient.start(persistence);\n  }\n\n  private static databaseIdFromApp(app: FirebaseApp): DatabaseId {\n    const options = app.options as objUtils.Dict<{}>;\n    if (!objUtils.contains(options, 'projectId')) {\n      // TODO(b/62673263): We can safely remove the special handling of\n      // 'firestoreId' once alpha testers have upgraded.\n      if (objUtils.contains(options, 'firestoreId')) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          '\"firestoreId\" is now specified as \"projectId\" in ' +\n            'firebase.initializeApp.'\n        );\n      }\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        '\"projectId\" not provided in firebase.initializeApp.'\n      );\n    }\n\n    if (objUtils.contains(options, 'firestoreOptions')) {\n      // TODO(b/62673263): We can safely remove the special handling of\n      // 'firestoreOptions' once alpha testers have upgraded.\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        '\"firestoreOptions\" values are now specified with ' +\n          'Firestore.settings()'\n      );\n    }\n\n    const projectId = options['projectId'];\n    if (!projectId || typeof projectId !== 'string') {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'projectId must be a string in FirebaseApp.options'\n      );\n    }\n    return new DatabaseId(projectId);\n  }\n\n  get app(): FirebaseApp {\n    if (!this._config.firebaseApp) {\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        \"Firestore was not initialized using the Firebase SDK. 'app' is \" +\n          'not available'\n      );\n    }\n    return this._config.firebaseApp;\n  }\n\n  INTERNAL = {\n    delete: (): Promise<void> => {\n      if (this._firestoreClient) {\n        return this._firestoreClient.shutdown();\n      } else {\n        return Promise.resolve();\n      }\n    },\n    // Exposed via INTERNAL for use in tests.\n    drainAsyncQueue: (executeDelayedTasks: boolean) =>\n      this._queue.drain(executeDelayedTasks)\n  };\n\n  collection(pathString: string): firestore.CollectionReference {\n    validateExactNumberOfArgs('Firestore.collection', arguments, 1);\n    validateArgType('Firestore.collection', 'string', 1, pathString);\n    if (!pathString) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Must provide a non-empty collection path to collection()'\n      );\n    }\n\n    this.ensureClientConfigured();\n    return new CollectionReference(ResourcePath.fromString(pathString), this);\n  }\n\n  doc(pathString: string): firestore.DocumentReference {\n    validateExactNumberOfArgs('Firestore.doc', arguments, 1);\n    validateArgType('Firestore.doc', 'string', 1, pathString);\n    if (!pathString) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Must provide a non-empty document path to doc()'\n      );\n    }\n    this.ensureClientConfigured();\n    return DocumentReference.forPath(ResourcePath.fromString(pathString), this);\n  }\n\n  runTransaction<T>(\n    updateFunction: (transaction: firestore.Transaction) => Promise<T>\n  ): Promise<T> {\n    validateExactNumberOfArgs('Firestore.runTransaction', arguments, 1);\n    validateArgType('Firestore.runTransaction', 'function', 1, updateFunction);\n    return this.ensureClientConfigured().transaction(\n      (transaction: InternalTransaction) => {\n        return updateFunction(new Transaction(this, transaction));\n      }\n    );\n  }\n\n  batch(): firestore.WriteBatch {\n    this.ensureClientConfigured();\n\n    return new WriteBatch(this);\n  }\n\n  static get logLevel(): firestore.LogLevel {\n    switch (log.getLogLevel()) {\n      case LogLevel.DEBUG:\n        return 'debug';\n      case LogLevel.ERROR:\n        return 'error';\n      case LogLevel.SILENT:\n        return 'silent';\n      default:\n        return fail('Unknown log level: ' + log.getLogLevel());\n    }\n  }\n\n  static setLogLevel(level: firestore.LogLevel) {\n    validateExactNumberOfArgs('Firestore.setLogLevel', arguments, 1);\n    validateArgType('Firestore.setLogLevel', 'string', 1, level);\n    switch (level) {\n      case 'debug':\n        log.setLogLevel(log.LogLevel.DEBUG);\n        break;\n      case 'error':\n        log.setLogLevel(log.LogLevel.ERROR);\n        break;\n      case 'silent':\n        log.setLogLevel(log.LogLevel.SILENT);\n        break;\n      default:\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          'Invalid log level: ' + level\n        );\n    }\n  }\n}\n\n/**\n * A reference to a transaction.\n */\nexport class Transaction implements firestore.Transaction {\n  constructor(\n    private _firestore: Firestore,\n    private _transaction: InternalTransaction\n  ) {}\n\n  get(\n    documentRef: firestore.DocumentReference\n  ): Promise<firestore.DocumentSnapshot> {\n    validateExactNumberOfArgs('Transaction.get', arguments, 1);\n    const ref = validateReference(\n      'Transaction.get',\n      documentRef,\n      this._firestore\n    );\n    return this._transaction\n      .lookup([ref._key])\n      .then((docs: MaybeDocument[]) => {\n        if (!docs || docs.length !== 1) {\n          return fail('Mismatch in docs returned from document lookup.');\n        }\n        const doc = docs[0];\n        if (doc instanceof NoDocument) {\n          return new DocumentSnapshot(this._firestore, ref._key, null, false);\n        }\n        return new DocumentSnapshot(this._firestore, ref._key, doc, false);\n      });\n  }\n\n  set(\n    documentRef: firestore.DocumentReference,\n    value: firestore.DocumentData,\n    options?: firestore.SetOptions\n  ): Transaction {\n    validateBetweenNumberOfArgs('Transaction.set', arguments, 2, 3);\n    const ref = validateReference(\n      'Transaction.set',\n      documentRef,\n      this._firestore\n    );\n    options = validateSetOptions('Transaction.set', options);\n    const parsed = options.merge\n      ? this._firestore._dataConverter.parseMergeData('Transaction.set', value)\n      : this._firestore._dataConverter.parseSetData('Transaction.set', value);\n    this._transaction.set(ref._key, parsed);\n    return this;\n  }\n\n  update(\n    documentRef: firestore.DocumentReference,\n    value: firestore.UpdateData\n  ): Transaction;\n  update(\n    documentRef: firestore.DocumentReference,\n    field: string | ExternalFieldPath,\n    value: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): Transaction;\n  update(\n    documentRef: firestore.DocumentReference,\n    fieldOrUpdateData: string | ExternalFieldPath | firestore.UpdateData,\n    value?: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): Transaction {\n    let ref;\n    let parsed;\n\n    if (\n      typeof fieldOrUpdateData === 'string' ||\n      fieldOrUpdateData instanceof ExternalFieldPath\n    ) {\n      validateAtLeastNumberOfArgs('Transaction.update', arguments, 3);\n      ref = validateReference(\n        'Transaction.update',\n        documentRef,\n        this._firestore\n      );\n      parsed = this._firestore._dataConverter.parseUpdateVarargs(\n        'Transaction.update',\n        fieldOrUpdateData,\n        value,\n        moreFieldsAndValues\n      );\n    } else {\n      validateExactNumberOfArgs('Transaction.update', arguments, 2);\n      ref = validateReference(\n        'Transaction.update',\n        documentRef,\n        this._firestore\n      );\n      parsed = this._firestore._dataConverter.parseUpdateData(\n        'Transaction.update',\n        fieldOrUpdateData\n      );\n    }\n\n    this._transaction.update(ref._key, parsed);\n    return this;\n  }\n\n  delete(documentRef: firestore.DocumentReference): Transaction {\n    validateExactNumberOfArgs('Transaction.delete', arguments, 1);\n    const ref = validateReference(\n      'Transaction.delete',\n      documentRef,\n      this._firestore\n    );\n    this._transaction.delete(ref._key);\n    return this;\n  }\n}\n\nexport class WriteBatch implements firestore.WriteBatch {\n  private _mutations = [] as Mutation[];\n  private _committed = false;\n\n  constructor(private _firestore: Firestore) {}\n\n  set(\n    documentRef: firestore.DocumentReference,\n    value: firestore.DocumentData,\n    options?: firestore.SetOptions\n  ): WriteBatch {\n    validateBetweenNumberOfArgs('WriteBatch.set', arguments, 2, 3);\n    this.verifyNotCommitted();\n    const ref = validateReference(\n      'WriteBatch.set',\n      documentRef,\n      this._firestore\n    );\n    options = validateSetOptions('WriteBatch.set', options);\n    const parsed = options.merge\n      ? this._firestore._dataConverter.parseMergeData('WriteBatch.set', value)\n      : this._firestore._dataConverter.parseSetData('WriteBatch.set', value);\n    this._mutations = this._mutations.concat(\n      parsed.toMutations(ref._key, Precondition.NONE)\n    );\n    return this;\n  }\n\n  update(\n    documentRef: firestore.DocumentReference,\n    value: firestore.UpdateData\n  ): WriteBatch;\n  update(\n    documentRef: firestore.DocumentReference,\n    field: string | ExternalFieldPath,\n    value: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): WriteBatch;\n  update(\n    documentRef: firestore.DocumentReference,\n    fieldOrUpdateData: string | ExternalFieldPath | firestore.UpdateData,\n    value?: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): WriteBatch {\n    this.verifyNotCommitted();\n\n    let ref;\n    let parsed;\n\n    if (\n      typeof fieldOrUpdateData === 'string' ||\n      fieldOrUpdateData instanceof ExternalFieldPath\n    ) {\n      validateAtLeastNumberOfArgs('WriteBatch.update', arguments, 3);\n      ref = validateReference(\n        'WriteBatch.update',\n        documentRef,\n        this._firestore\n      );\n      parsed = this._firestore._dataConverter.parseUpdateVarargs(\n        'WriteBatch.update',\n        fieldOrUpdateData,\n        value,\n        moreFieldsAndValues\n      );\n    } else {\n      validateExactNumberOfArgs('WriteBatch.update', arguments, 2);\n      ref = validateReference(\n        'WriteBatch.update',\n        documentRef,\n        this._firestore\n      );\n      parsed = this._firestore._dataConverter.parseUpdateData(\n        'WriteBatch.update',\n        fieldOrUpdateData\n      );\n    }\n\n    this._mutations = this._mutations.concat(\n      parsed.toMutations(ref._key, Precondition.exists(true))\n    );\n    return this;\n  }\n\n  delete(documentRef: firestore.DocumentReference): WriteBatch {\n    validateExactNumberOfArgs('WriteBatch.delete', arguments, 1);\n    this.verifyNotCommitted();\n    const ref = validateReference(\n      'WriteBatch.delete',\n      documentRef,\n      this._firestore\n    );\n    this._mutations = this._mutations.concat(\n      new DeleteMutation(ref._key, Precondition.NONE)\n    );\n    return this;\n  }\n\n  commit(): Promise<void> {\n    this.verifyNotCommitted();\n    this._committed = true;\n    if (this._mutations.length > 0) {\n      return this._firestore.ensureClientConfigured().write(this._mutations);\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  private verifyNotCommitted() {\n    if (this._committed) {\n      throw new FirestoreError(\n        Code.FAILED_PRECONDITION,\n        'A write batch can no longer be used after commit() ' +\n          'has been called.'\n      );\n    }\n  }\n}\n\n/**\n * A reference to a particular document in a collection in the database.\n */\nexport class DocumentReference implements firestore.DocumentReference {\n  private _firestoreClient: FirestoreClient;\n\n  constructor(public _key: DocumentKey, readonly firestore: Firestore) {\n    this._firestoreClient = this.firestore.ensureClientConfigured();\n  }\n\n  static forPath(path: ResourcePath, firestore: Firestore) {\n    if (path.length % 2 !== 0) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid document reference. Document ' +\n          'references must have an even number of segments, but ' +\n          `${path.canonicalString()} has ${path.length}`\n      );\n    }\n    return new DocumentReference(new DocumentKey(path), firestore);\n  }\n\n  get id(): string {\n    return this._key.path.lastSegment();\n  }\n\n  get parent(): firestore.CollectionReference {\n    return new CollectionReference(this._key.path.popLast(), this.firestore);\n  }\n\n  get path(): string {\n    return this._key.path.canonicalString();\n  }\n\n  collection(pathString: string): firestore.CollectionReference {\n    validateExactNumberOfArgs('DocumentReference.collection', arguments, 1);\n    validateArgType('DocumentReference.collection', 'string', 1, pathString);\n    if (!pathString) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Must provide a non-empty collection name to collection()'\n      );\n    }\n    const path = ResourcePath.fromString(pathString);\n    return new CollectionReference(this._key.path.child(path), this.firestore);\n  }\n\n  isEqual(other: firestore.DocumentReference): boolean {\n    if (!(other instanceof DocumentReference)) {\n      throw invalidClassError('isEqual', 'DocumentReference', 1, other);\n    }\n    return this.firestore === other.firestore && this._key.isEqual(other._key);\n  }\n\n  set(\n    value: firestore.DocumentData,\n    options?: firestore.SetOptions\n  ): Promise<void> {\n    validateBetweenNumberOfArgs('DocumentReference.set', arguments, 1, 2);\n    options = validateSetOptions('DocumentReference.set', options);\n\n    const parsed = options.merge\n      ? this.firestore._dataConverter.parseMergeData(\n          'DocumentReference.set',\n          value\n        )\n      : this.firestore._dataConverter.parseSetData(\n          'DocumentReference.set',\n          value\n        );\n    return this._firestoreClient.write(\n      parsed.toMutations(this._key, Precondition.NONE)\n    );\n  }\n\n  update(value: firestore.UpdateData): Promise<void>;\n  update(\n    field: string | ExternalFieldPath,\n    value: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): Promise<void>;\n  update(\n    fieldOrUpdateData: string | ExternalFieldPath | firestore.UpdateData,\n    value?: AnyJs,\n    ...moreFieldsAndValues: AnyJs[]\n  ): Promise<void> {\n    let parsed;\n\n    if (\n      typeof fieldOrUpdateData === 'string' ||\n      fieldOrUpdateData instanceof ExternalFieldPath\n    ) {\n      validateAtLeastNumberOfArgs('DocumentReference.update', arguments, 2);\n      parsed = this.firestore._dataConverter.parseUpdateVarargs(\n        'DocumentReference.update',\n        fieldOrUpdateData,\n        value,\n        moreFieldsAndValues\n      );\n    } else {\n      validateExactNumberOfArgs('DocumentReference.update', arguments, 1);\n      parsed = this.firestore._dataConverter.parseUpdateData(\n        'DocumentReference.update',\n        fieldOrUpdateData\n      );\n    }\n\n    return this._firestoreClient.write(\n      parsed.toMutations(this._key, Precondition.exists(true))\n    );\n  }\n\n  delete(): Promise<void> {\n    validateExactNumberOfArgs('DocumentReference.delete', arguments, 0);\n    return this._firestoreClient.write([\n      new DeleteMutation(this._key, Precondition.NONE)\n    ]);\n  }\n\n  onSnapshot(\n    observer: PartialObserver<firestore.DocumentSnapshot>\n  ): Unsubscribe;\n  onSnapshot(\n    options: firestore.DocumentListenOptions,\n    observer: PartialObserver<firestore.DocumentSnapshot>\n  ): Unsubscribe;\n  onSnapshot(\n    onNext: NextFn<firestore.DocumentSnapshot>,\n    onError?: ErrorFn,\n    onCompletion?: CompleteFn\n  ): Unsubscribe;\n  onSnapshot(\n    options: firestore.DocumentListenOptions,\n    onNext: NextFn<firestore.DocumentSnapshot>,\n    onError?: ErrorFn,\n    onCompletion?: CompleteFn\n  ): Unsubscribe;\n\n  onSnapshot(...args: AnyJs[]): Unsubscribe {\n    validateBetweenNumberOfArgs(\n      'DocumentReference.onSnapshot',\n      arguments,\n      1,\n      4\n    );\n    let options: firestore.DocumentListenOptions = {\n      includeMetadataChanges: false\n    };\n    let observer: PartialObserver<firestore.DocumentSnapshot>;\n    let currArg = 0;\n    if (\n      typeof args[currArg] === 'object' &&\n      !isPartialObserver(args[currArg])\n    ) {\n      options = args[currArg] as firestore.DocumentListenOptions;\n      validateOptionNames('DocumentReference.onSnapshot', options, [\n        'includeMetadataChanges'\n      ]);\n      validateNamedOptionalType(\n        'DocumentReference.onSnapshot',\n        'boolean',\n        'includeMetadataChanges',\n        options.includeMetadataChanges\n      );\n      currArg++;\n    }\n\n    const internalOptions = {\n      includeDocumentMetadataChanges: options.includeMetadataChanges,\n      includeQueryMetadataChanges: options.includeMetadataChanges\n    };\n\n    if (isPartialObserver(args[currArg])) {\n      observer = args[currArg] as PartialObserver<firestore.DocumentSnapshot>;\n    } else {\n      validateArgType(\n        'DocumentReference.onSnapshot',\n        'function',\n        currArg,\n        args[currArg]\n      );\n      validateOptionalArgType(\n        'DocumentReference.onSnapshot',\n        'function',\n        currArg + 1,\n        args[currArg + 1]\n      );\n      validateOptionalArgType(\n        'DocumentReference.onSnapshot',\n        'function',\n        currArg + 2,\n        args[currArg + 2]\n      );\n      observer = {\n        next: args[currArg] as NextFn<firestore.DocumentSnapshot>,\n        error: args[currArg + 1] as ErrorFn,\n        complete: args[currArg + 2] as CompleteFn\n      };\n    }\n    return this.onSnapshotInternal(internalOptions, observer);\n  }\n\n  private onSnapshotInternal(\n    options: ListenOptions,\n    observer: PartialObserver<firestore.DocumentSnapshot>\n  ): Unsubscribe {\n    let errHandler = (err: Error) => {\n      console.error('Uncaught Error in onSnapshot:', err);\n    };\n    if (observer.error) {\n      errHandler = observer.error.bind(observer);\n    }\n\n    const asyncObserver = new AsyncObserver<ViewSnapshot>({\n      next: snapshot => {\n        if (observer.next) {\n          assert(\n            snapshot.docs.size <= 1,\n            'Too many documents returned on a document query'\n          );\n          const doc = snapshot.docs.get(this._key);\n\n          observer.next(\n            new DocumentSnapshot(\n              this.firestore,\n              this._key,\n              doc,\n              snapshot.fromCache\n            )\n          );\n        }\n      },\n      error: errHandler\n    });\n    const internalListener = this._firestoreClient.listen(\n      InternalQuery.atPath(this._key.path),\n      asyncObserver,\n      options\n    );\n\n    return () => {\n      asyncObserver.mute();\n      this._firestoreClient.unlisten(internalListener);\n    };\n  }\n\n  get(): Promise<firestore.DocumentSnapshot> {\n    validateExactNumberOfArgs('DocumentReference.get', arguments, 0);\n    return new Promise(\n      (resolve: Resolver<firestore.DocumentSnapshot>, reject: Rejecter) => {\n        const unlisten = this.onSnapshotInternal(\n          {\n            includeQueryMetadataChanges: true,\n            includeDocumentMetadataChanges: true,\n            waitForSyncWhenOnline: true\n          },\n          {\n            next: (snap: firestore.DocumentSnapshot) => {\n              // Remove query first before passing event to user to avoid\n              // user actions affecting the now stale query.\n              unlisten();\n\n              if (!snap.exists && snap.metadata.fromCache) {\n                // TODO(dimond): If we're online and the document doesn't\n                // exist then we resolve with a doc.exists set to false. If\n                // we're offline however, we reject the Promise in this\n                // case. Two options: 1) Cache the negative response from\n                // the server so we can deliver that even when you're\n                // offline 2) Actually reject the Promise in the online case\n                // if the document doesn't exist.\n                reject(\n                  new FirestoreError(\n                    Code.ABORTED,\n                    'Failed to get document because the client is ' + 'offline.'\n                  )\n                );\n              } else {\n                resolve(snap);\n              }\n            },\n            error: reject\n          }\n        );\n      }\n    );\n  }\n}\n\nclass SnapshotMetadata implements firestore.SnapshotMetadata {\n  constructor(\n    readonly hasPendingWrites: boolean,\n    readonly fromCache: boolean\n  ) {}\n\n  isEqual(other: firestore.SnapshotMetadata): boolean {\n    return (\n      this.hasPendingWrites === other.hasPendingWrites &&\n      this.fromCache === other.fromCache\n    );\n  }\n}\n\n/** Options interface that can be provided to configure the deserialization of DocumentSnapshots. */\nexport interface SnapshotOptions extends firestore.SnapshotOptions {}\n\nexport class DocumentSnapshot implements firestore.DocumentSnapshot {\n  constructor(\n    private _firestore: Firestore,\n    private _key: DocumentKey,\n    public _document: Document | null,\n    private _fromCache: boolean\n  ) {}\n\n  data(\n    options?: firestore.SnapshotOptions\n  ): firestore.DocumentData | undefined {\n    validateBetweenNumberOfArgs('DocumentSnapshot.data', arguments, 0, 1);\n    options = validateSnapshotOptions('DocumentSnapshot.data', options);\n    return !this._document\n      ? undefined\n      : this.convertObject(\n          this._document.data,\n          FieldValueOptions.fromSnapshotOptions(options)\n        );\n  }\n\n  get(\n    fieldPath: string | ExternalFieldPath,\n    options?: firestore.SnapshotOptions\n  ): AnyJs {\n    validateBetweenNumberOfArgs('DocumentSnapshot.get', arguments, 1, 2);\n    options = validateSnapshotOptions('DocumentSnapshot.get', options);\n    if (this._document) {\n      const value = this._document.data.field(\n        fieldPathFromArgument('DocumentSnapshot.get', fieldPath)\n      );\n      if (value !== undefined) {\n        return this.convertValue(\n          value,\n          FieldValueOptions.fromSnapshotOptions(options)\n        );\n      }\n    }\n    return undefined;\n  }\n\n  get id(): string {\n    return this._key.path.lastSegment();\n  }\n\n  get ref(): firestore.DocumentReference {\n    return new DocumentReference(this._key, this._firestore);\n  }\n\n  get exists(): boolean {\n    return this._document !== null;\n  }\n\n  get metadata(): firestore.SnapshotMetadata {\n    return new SnapshotMetadata(\n      this._document !== null && this._document.hasLocalMutations,\n      this._fromCache\n    );\n  }\n\n  isEqual(other: firestore.DocumentSnapshot): boolean {\n    if (!(other instanceof DocumentSnapshot)) {\n      throw invalidClassError('isEqual', 'DocumentSnapshot', 1, other);\n    }\n    return (\n      this._firestore === other._firestore &&\n      this._fromCache === other._fromCache &&\n      this._key.isEqual(other._key) &&\n      (this._document === null\n        ? other._document === null\n        : this._document.isEqual(other._document))\n    );\n  }\n\n  private convertObject(\n    data: ObjectValue,\n    options: FieldValueOptions\n  ): firestore.DocumentData {\n    const result: firestore.DocumentData = {};\n    data.forEach((key, value) => {\n      result[key] = this.convertValue(value, options);\n    });\n    return result;\n  }\n\n  private convertValue(value: FieldValue, options: FieldValueOptions): AnyJs {\n    if (value instanceof ObjectValue) {\n      return this.convertObject(value, options);\n    } else if (value instanceof ArrayValue) {\n      return this.convertArray(value, options);\n    } else if (value instanceof RefValue) {\n      const key = value.value(options);\n      const database = this._firestore.ensureClientConfigured().databaseId();\n      if (!value.databaseId.isEqual(database)) {\n        // TODO(b/64130202): Somehow support foreign references.\n        log.error(\n          `Document ${this._key.path} contains a document ` +\n            `reference within a different database (` +\n            `${value.databaseId.projectId}/${\n              value.databaseId.database\n            }) which is not ` +\n            `supported. It will be treated as a reference in the current ` +\n            `database (${database.projectId}/${database.database}) ` +\n            `instead.`\n        );\n      }\n      return new DocumentReference(key, this._firestore);\n    } else {\n      return value.value(options);\n    }\n  }\n\n  private convertArray(data: ArrayValue, options: FieldValueOptions): AnyJs[] {\n    return data.internalValue.map(value => {\n      return this.convertValue(value, options);\n    });\n  }\n}\n\nexport class QueryDocumentSnapshot extends DocumentSnapshot\n  implements firestore.QueryDocumentSnapshot {\n  constructor(\n    firestore: Firestore,\n    key: DocumentKey,\n    document: Document,\n    fromCache: boolean\n  ) {\n    super(firestore, key, document, fromCache);\n  }\n\n  data(options?: SnapshotOptions): firestore.DocumentData {\n    const data = super.data(options);\n    assert(\n      typeof data === 'object',\n      'Document in a QueryDocumentSnapshot should exist'\n    );\n    return data as firestore.DocumentData;\n  }\n}\n\nexport class Query implements firestore.Query {\n  constructor(public _query: InternalQuery, readonly firestore: Firestore) {}\n\n  where(\n    field: string | ExternalFieldPath,\n    opStr: firestore.WhereFilterOp,\n    value: AnyJs\n  ): firestore.Query {\n    validateExactNumberOfArgs('Query.where', arguments, 3);\n    validateArgType('Query.where', 'string', 2, opStr);\n    validateDefined('Query.where', 3, value);\n    let fieldValue;\n    const fieldPath = fieldPathFromArgument('Query.where', field);\n    if (fieldPath.isKeyField()) {\n      if (typeof value === 'string') {\n        if (value.indexOf('/') !== -1) {\n          // TODO(dimond): Allow slashes once ancestor queries are supported\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            'Function Query.where() requires its third parameter to be a ' +\n              'valid document ID if the first parameter is ' +\n              'FieldPath.documentId(), but it contains a slash.'\n          );\n        }\n        if (value === '') {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            'Function Query.where() requires its third parameter to be a ' +\n              'valid document ID if the first parameter is ' +\n              'FieldPath.documentId(), but it was an empty string.'\n          );\n        }\n        const path = this._query.path.child(new ResourcePath([value]));\n        assert(path.length % 2 === 0, 'Path should be a document key');\n        fieldValue = new RefValue(\n          this.firestore._databaseId,\n          new DocumentKey(path)\n        );\n      } else if (value instanceof DocumentReference) {\n        const ref = value as DocumentReference;\n        fieldValue = new RefValue(this.firestore._databaseId, ref._key);\n      } else {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          `Function Query.where() requires its third parameter to be a ` +\n            `string or a DocumentReference if the first parameter is ` +\n            `FieldPath.documentId(), but it was: ` +\n            `${valueDescription(value)}.`\n        );\n      }\n    } else {\n      fieldValue = this.firestore._dataConverter.parseQueryValue(\n        'Query.where',\n        value\n      );\n    }\n    const filter = fieldFilter(\n      fieldPath,\n      RelationOp.fromString(opStr),\n      fieldValue\n    );\n    this.validateNewFilter(filter);\n    return new Query(this._query.addFilter(filter), this.firestore);\n  }\n\n  orderBy(\n    field: string | ExternalFieldPath,\n    directionStr?: firestore.OrderByDirection\n  ): firestore.Query {\n    validateBetweenNumberOfArgs('Query.orderBy', arguments, 1, 2);\n    validateOptionalArgType('Query.orderBy', 'string', 2, directionStr);\n    let direction: Direction;\n    if (directionStr === undefined || directionStr === 'asc') {\n      direction = Direction.ASCENDING;\n    } else if (directionStr === 'desc') {\n      direction = Direction.DESCENDING;\n    } else {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Function Query.orderBy() has unknown direction '${directionStr}', ` +\n          `expected 'asc' or 'desc'.`\n      );\n    }\n    if (this._query.startAt !== null) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid query. You must not call Query.startAt() or ' +\n          'Query.startAfter() before calling Query.orderBy().'\n      );\n    }\n    if (this._query.endAt !== null) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid query. You must not call Query.endAt() or ' +\n          'Query.endBefore() before calling Query.orderBy().'\n      );\n    }\n    const fieldPath = fieldPathFromArgument('Query.orderBy', field);\n    const orderBy = new OrderBy(fieldPath, direction);\n    this.validateNewOrderBy(orderBy);\n    return new Query(this._query.addOrderBy(orderBy), this.firestore);\n  }\n\n  limit(n: number): firestore.Query {\n    validateExactNumberOfArgs('Query.limit', arguments, 1);\n    validateArgType('Query.limit', 'number', 1, n);\n    if (n <= 0) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Invalid Query. Query limit (${n}) is invalid. Limit must be ` +\n          'positive.'\n      );\n    }\n    return new Query(this._query.withLimit(n), this.firestore);\n  }\n\n  startAt(\n    docOrField: AnyJs | firestore.DocumentSnapshot,\n    ...fields: AnyJs[]\n  ): firestore.Query {\n    validateAtLeastNumberOfArgs('Query.startAt', arguments, 1);\n    const bound = this.boundFromDocOrFields(\n      'Query.startAt',\n      docOrField,\n      fields,\n      /*before=*/ true\n    );\n    return new Query(this._query.withStartAt(bound), this.firestore);\n  }\n\n  startAfter(\n    docOrField: AnyJs | firestore.DocumentSnapshot,\n    ...fields: AnyJs[]\n  ): firestore.Query {\n    validateAtLeastNumberOfArgs('Query.startAfter', arguments, 1);\n    const bound = this.boundFromDocOrFields(\n      'Query.startAfter',\n      docOrField,\n      fields,\n      /*before=*/ false\n    );\n    return new Query(this._query.withStartAt(bound), this.firestore);\n  }\n\n  endBefore(\n    docOrField: AnyJs | firestore.DocumentSnapshot,\n    ...fields: AnyJs[]\n  ): firestore.Query {\n    validateAtLeastNumberOfArgs('Query.endBefore', arguments, 1);\n    const bound = this.boundFromDocOrFields(\n      'Query.endBefore',\n      docOrField,\n      fields,\n      /*before=*/ true\n    );\n    return new Query(this._query.withEndAt(bound), this.firestore);\n  }\n\n  endAt(\n    docOrField: AnyJs | firestore.DocumentSnapshot,\n    ...fields: AnyJs[]\n  ): firestore.Query {\n    validateAtLeastNumberOfArgs('Query.endAt', arguments, 1);\n    const bound = this.boundFromDocOrFields(\n      'Query.endAt',\n      docOrField,\n      fields,\n      /*before=*/ false\n    );\n    return new Query(this._query.withEndAt(bound), this.firestore);\n  }\n\n  isEqual(other: firestore.Query): boolean {\n    if (!(other instanceof Query)) {\n      throw invalidClassError('isEqual', 'Query', 1, other);\n    }\n    return (\n      this.firestore === other.firestore && this._query.isEqual(other._query)\n    );\n  }\n\n  /** Helper function to create a bound from a document or fields */\n  private boundFromDocOrFields(\n    methodName: string,\n    docOrField: AnyJs | firestore.DocumentSnapshot,\n    fields: AnyJs[],\n    before: boolean\n  ): Bound {\n    validateDefined(methodName, 1, docOrField);\n    if (docOrField instanceof DocumentSnapshot) {\n      if (fields.length > 0) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          `Too many arguments provided to ${methodName}().`\n        );\n      }\n      const snap = docOrField;\n      if (!snap.exists) {\n        throw new FirestoreError(\n          Code.NOT_FOUND,\n          `Can't use a DocumentSnapshot that doesn't exist for ` +\n            `${methodName}().`\n        );\n      }\n      return this.boundFromDocument(methodName, snap._document!, before);\n    } else {\n      const allFields = [docOrField].concat(fields);\n      return this.boundFromFields(methodName, allFields, before);\n    }\n  }\n\n  /**\n   * Create a Bound from a query and a document.\n   *\n   * Note that the Bound will always include the key of the document\n   * and so only the provided document will compare equal to the returned\n   * position.\n   *\n   * Will throw if the document does not contain all fields of the order by\n   * of the query.\n   */\n  private boundFromDocument(\n    methodName: string,\n    doc: Document,\n    before: boolean\n  ): Bound {\n    const components: FieldValue[] = [];\n\n    // Because people expect to continue/end a query at the exact document\n    // provided, we need to use the implicit sort order rather than the explicit\n    // sort order, because it's guaranteed to contain the document key. That way\n    // the position becomes unambiguous and the query continues/ends exactly at\n    // the provided document. Without the key (by using the explicit sort\n    // orders), multiple documents could match the position, yielding duplicate\n    // results.\n    for (const orderBy of this._query.orderBy) {\n      if (orderBy.field.isKeyField()) {\n        components.push(new RefValue(this.firestore._databaseId, doc.key));\n      } else {\n        const value = doc.field(orderBy.field);\n        if (value !== undefined) {\n          components.push(value);\n        } else {\n          const field = orderBy.field.canonicalString();\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            `Invalid query. You are trying to start or end a query using a ` +\n              `document for which the field '${field}' (used as the ` +\n              `orderBy) does not exist.`\n          );\n        }\n      }\n    }\n    return new Bound(components, before);\n  }\n\n  /**\n   * Converts a list of field values to a Bound for the given query.\n   */\n  private boundFromFields(\n    methodName: string,\n    values: AnyJs[],\n    before: boolean\n  ): Bound {\n    // Use explicit order by's because it has to match the query the user made\n    const orderBy = this._query.explicitOrderBy;\n    if (values.length > orderBy.length) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Too many arguments provided to ${methodName}(). ` +\n          `The number of arguments must be less than or equal to the ` +\n          `number of Query.orderBy() clauses`\n      );\n    }\n\n    const components: FieldValue[] = [];\n    for (let i = 0; i < values.length; i++) {\n      const rawValue = values[i];\n      const orderByComponent = orderBy[i];\n      if (orderByComponent.field.isKeyField()) {\n        if (typeof rawValue !== 'string') {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            `Invalid query. Expected a string for document ID in ` +\n              `${methodName}(), but got a ${typeof rawValue}`\n          );\n        }\n        if (rawValue.indexOf('/') !== -1) {\n          throw new FirestoreError(\n            Code.INVALID_ARGUMENT,\n            `Invalid query. Document ID '${rawValue}' contains a slash in ` +\n              `${methodName}()`\n          );\n        }\n        const key = new DocumentKey(this._query.path.child(rawValue));\n        components.push(new RefValue(this.firestore._databaseId, key));\n      } else {\n        const wrapped = this.firestore._dataConverter.parseQueryValue(\n          methodName,\n          rawValue\n        );\n        components.push(wrapped);\n      }\n    }\n\n    return new Bound(components, before);\n  }\n\n  onSnapshot(observer: PartialObserver<firestore.QuerySnapshot>): Unsubscribe;\n  onSnapshot(\n    options: firestore.QueryListenOptions,\n    observer: PartialObserver<firestore.QuerySnapshot>\n  ): Unsubscribe;\n  onSnapshot(\n    onNext: NextFn<firestore.QuerySnapshot>,\n    onError?: ErrorFn,\n    onCompletion?: CompleteFn\n  ): Unsubscribe;\n  onSnapshot(\n    options: firestore.QueryListenOptions,\n    onNext: NextFn<firestore.QuerySnapshot>,\n    onError?: ErrorFn,\n    onCompletion?: CompleteFn\n  ): Unsubscribe;\n\n  onSnapshot(...args: AnyJs[]): Unsubscribe {\n    validateBetweenNumberOfArgs('Query.onSnapshot', arguments, 1, 4);\n    let options: firestore.QueryListenOptions = {};\n    let observer: PartialObserver<firestore.QuerySnapshot>;\n    let currArg = 0;\n    if (\n      typeof args[currArg] === 'object' &&\n      !isPartialObserver(args[currArg])\n    ) {\n      options = args[currArg] as firestore.QueryListenOptions;\n      validateOptionNames('Query.onSnapshot', options, [\n        'includeQueryMetadataChanges',\n        'includeDocumentMetadataChanges'\n      ]);\n      validateNamedOptionalType(\n        'Query.onSnapshot',\n        'boolean',\n        'includeDocumentMetadataChanges',\n        options.includeDocumentMetadataChanges\n      );\n      validateNamedOptionalType(\n        'Query.onSnapshot',\n        'boolean',\n        'includeQueryMetadataChanges',\n        options.includeQueryMetadataChanges\n      );\n      currArg++;\n    }\n\n    if (isPartialObserver(args[currArg])) {\n      observer = args[currArg] as PartialObserver<firestore.QuerySnapshot>;\n    } else {\n      validateArgType('Query.onSnapshot', 'function', currArg, args[currArg]);\n      validateOptionalArgType(\n        'Query.onSnapshot',\n        'function',\n        currArg + 1,\n        args[currArg + 1]\n      );\n      validateOptionalArgType(\n        'Query.onSnapshot',\n        'function',\n        currArg + 2,\n        args[currArg + 2]\n      );\n      observer = {\n        next: args[currArg] as NextFn<firestore.QuerySnapshot>,\n        error: args[currArg + 1] as ErrorFn,\n        complete: args[currArg + 2] as CompleteFn\n      };\n    }\n    return this.onSnapshotInternal(options, observer);\n  }\n\n  private onSnapshotInternal(\n    options: ListenOptions,\n    observer: PartialObserver<firestore.QuerySnapshot>\n  ): Unsubscribe {\n    let errHandler = (err: Error) => {\n      console.error('Uncaught Error in onSnapshot:', err);\n    };\n    if (observer.error) {\n      errHandler = observer.error.bind(observer);\n    }\n\n    const asyncObserver = new AsyncObserver<ViewSnapshot>({\n      next: (result: ViewSnapshot): void => {\n        if (observer.next) {\n          observer.next(new QuerySnapshot(this.firestore, this._query, result));\n        }\n      },\n      error: errHandler\n    });\n\n    const firestoreClient = this.firestore.ensureClientConfigured();\n    const internalListener = firestoreClient.listen(\n      this._query,\n      asyncObserver,\n      options\n    );\n    return () => {\n      asyncObserver.mute();\n      firestoreClient.unlisten(internalListener);\n    };\n  }\n\n  get(): Promise<firestore.QuerySnapshot> {\n    validateExactNumberOfArgs('Query.get', arguments, 0);\n    return new Promise(\n      (resolve: Resolver<firestore.QuerySnapshot>, reject: Rejecter) => {\n        const unlisten = this.onSnapshotInternal(\n          {\n            includeDocumentMetadataChanges: false,\n            includeQueryMetadataChanges: true,\n            waitForSyncWhenOnline: true\n          },\n          {\n            next: (result: firestore.QuerySnapshot) => {\n              // Remove query first before passing event to user to avoid\n              // user actions affecting the now stale query.\n              unlisten();\n\n              resolve(result);\n            },\n            error: reject\n          }\n        );\n      }\n    );\n  }\n\n  private validateNewFilter(filter: Filter): void {\n    if (filter instanceof RelationFilter && filter.isInequality()) {\n      const existingField = this._query.getInequalityFilterField();\n      if (existingField !== null && !existingField.isEqual(filter.field)) {\n        throw new FirestoreError(\n          Code.INVALID_ARGUMENT,\n          'Invalid query. All where filters with an inequality' +\n            ' (<, <=, >, or >=) must be on the same field. But you have' +\n            ` inequality filters on '${existingField.toString()}'` +\n            ` and '${filter.field.toString()}'`\n        );\n      }\n\n      const firstOrderByField = this._query.getFirstOrderByField();\n      if (firstOrderByField !== null) {\n        this.validateOrderByAndInequalityMatch(filter.field, firstOrderByField);\n      }\n    }\n  }\n\n  private validateNewOrderBy(orderBy: OrderBy): void {\n    if (this._query.getFirstOrderByField() === null) {\n      // This is the first order by. It must match any inequality.\n      const inequalityField = this._query.getInequalityFilterField();\n      if (inequalityField !== null) {\n        this.validateOrderByAndInequalityMatch(inequalityField, orderBy.field);\n      }\n    }\n  }\n\n  private validateOrderByAndInequalityMatch(\n    inequality: FieldPath,\n    orderBy: FieldPath\n  ): void {\n    if (!orderBy.isEqual(inequality)) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        `Invalid query. You have a where filter with an inequality ` +\n          `(<, <=, >, or >=) on field '${inequality.toString()}' ` +\n          `and so you must also use '${inequality.toString()}' ` +\n          `as your first Query.orderBy(), but your first Query.orderBy() ` +\n          `is on field '${orderBy.toString()}' instead.`\n      );\n    }\n  }\n}\n\nexport class QuerySnapshot implements firestore.QuerySnapshot {\n  private _cachedChanges: firestore.DocumentChange[] | null = null;\n\n  readonly metadata: firestore.SnapshotMetadata;\n\n  constructor(\n    private _firestore: Firestore,\n    private _originalQuery: InternalQuery,\n    private _snapshot: ViewSnapshot\n  ) {\n    this.metadata = new SnapshotMetadata(\n      _snapshot.hasPendingWrites,\n      _snapshot.fromCache\n    );\n  }\n\n  get docs(): firestore.QueryDocumentSnapshot[] {\n    const result: firestore.QueryDocumentSnapshot[] = [];\n    this.forEach(doc => result.push(doc));\n    return result;\n  }\n\n  get empty(): boolean {\n    return this._snapshot.docs.isEmpty();\n  }\n\n  get size(): number {\n    return this._snapshot.docs.size;\n  }\n\n  forEach(\n    callback: (result: firestore.QueryDocumentSnapshot) => void,\n    thisArg?: AnyJs\n  ): void {\n    validateBetweenNumberOfArgs('QuerySnapshot.forEach', arguments, 1, 2);\n    validateArgType('QuerySnapshot.forEach', 'function', 1, callback);\n    this._snapshot.docs.forEach(doc => {\n      callback.call(thisArg, this.convertToDocumentImpl(doc));\n    });\n  }\n\n  get query(): firestore.Query {\n    return new Query(this._originalQuery, this._firestore);\n  }\n\n  get docChanges(): firestore.DocumentChange[] {\n    if (!this._cachedChanges) {\n      this._cachedChanges = changesFromSnapshot(\n        this._firestore,\n        this._snapshot\n      );\n    }\n    return this._cachedChanges;\n  }\n\n  /** Check the equality. The call can be very expensive. */\n  isEqual(other: firestore.QuerySnapshot): boolean {\n    if (!(other instanceof QuerySnapshot)) {\n      throw invalidClassError('isEqual', 'QuerySnapshot', 1, other);\n    }\n\n    return (\n      this._firestore === other._firestore &&\n      this._originalQuery.isEqual(other._originalQuery) &&\n      this._snapshot.isEqual(other._snapshot)\n    );\n  }\n\n  private convertToDocumentImpl(doc: Document): QueryDocumentSnapshot {\n    return new QueryDocumentSnapshot(\n      this._firestore,\n      doc.key,\n      doc,\n      this.metadata.fromCache\n    );\n  }\n}\n\nexport class CollectionReference extends Query\n  implements firestore.CollectionReference {\n  constructor(path: ResourcePath, firestore: Firestore) {\n    super(InternalQuery.atPath(path), firestore);\n    if (path.length % 2 !== 1) {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Invalid collection reference. Collection ' +\n          'references must have an odd number of segments, but ' +\n          `${path.canonicalString()} has ${path.length}`\n      );\n    }\n  }\n\n  get id(): string {\n    return this._query.path.lastSegment();\n  }\n\n  get parent(): firestore.DocumentReference | null {\n    const parentPath = this._query.path.popLast();\n    if (parentPath.isEmpty()) {\n      return null;\n    } else {\n      return new DocumentReference(new DocumentKey(parentPath), this.firestore);\n    }\n  }\n\n  get path(): string {\n    return this._query.path.canonicalString();\n  }\n\n  doc(pathString?: string): firestore.DocumentReference {\n    validateBetweenNumberOfArgs('CollectionReference.doc', arguments, 0, 1);\n    // We allow omission of 'pathString' but explicitly prohibit passing in both\n    // 'undefined' and 'null'.\n    if (arguments.length === 0) {\n      pathString = AutoId.newId();\n    }\n    validateArgType('CollectionReference.doc', 'string', 1, pathString);\n    if (pathString === '') {\n      throw new FirestoreError(\n        Code.INVALID_ARGUMENT,\n        'Document path must be a non-empty string'\n      );\n    }\n    const path = ResourcePath.fromString(pathString);\n    return DocumentReference.forPath(\n      this._query.path.child(path),\n      this.firestore\n    );\n  }\n\n  add(value: firestore.DocumentData): Promise<firestore.DocumentReference> {\n    validateExactNumberOfArgs('CollectionReference.add', arguments, 1);\n    validateArgType('CollectionReference.add', 'object', 1, value);\n    const docRef = this.doc();\n    return docRef.set(value).then(() => docRef);\n  }\n}\n\nfunction validateSetOptions(\n  methodName: string,\n  options: firestore.SetOptions | undefined\n): firestore.SetOptions {\n  if (options === undefined) {\n    return {\n      merge: false\n    };\n  }\n\n  validateOptionNames(methodName, options, ['merge']);\n  validateNamedOptionalType(methodName, 'boolean', 'merge', options.merge);\n  return options;\n}\n\nfunction validateSnapshotOptions(\n  methodName: string,\n  options: firestore.SnapshotOptions | undefined\n): firestore.SnapshotOptions {\n  if (options === undefined) {\n    return {};\n  }\n\n  validateOptionNames(methodName, options, ['serverTimestamps']);\n  validateNamedOptionalPropertyEquals(\n    methodName,\n    'options',\n    'serverTimestamps',\n    options.serverTimestamps,\n    ['estimate', 'previous', 'none']\n  );\n  return options;\n}\n\nfunction validateReference(\n  methodName: string,\n  documentRef: firestore.DocumentReference,\n  firestore: Firestore\n): DocumentReference {\n  if (!(documentRef instanceof DocumentReference)) {\n    throw invalidClassError(methodName, 'DocumentReference', 1, documentRef);\n  } else if (documentRef.firestore !== firestore) {\n    throw new FirestoreError(\n      Code.INVALID_ARGUMENT,\n      'Provided document reference is from a different Firestore instance.'\n    );\n  } else {\n    return documentRef;\n  }\n}\n\n/**\n * Calculates the array of firestore.DocumentChange's for a given ViewSnapshot.\n *\n * Exported for testing.\n */\nexport function changesFromSnapshot(\n  firestore: Firestore,\n  snapshot: ViewSnapshot\n): firestore.DocumentChange[] {\n  if (snapshot.oldDocs.isEmpty()) {\n    // Special case the first snapshot because index calculation is easy and\n    // fast\n    let lastDoc: Document;\n    let index = 0;\n    return snapshot.docChanges.map(change => {\n      const doc = new QueryDocumentSnapshot(\n        firestore,\n        change.doc.key,\n        change.doc,\n        snapshot.fromCache\n      );\n      assert(\n        change.type === ChangeType.Added,\n        'Invalid event type for first snapshot'\n      );\n      assert(\n        !lastDoc || snapshot.query.docComparator(lastDoc, change.doc) < 0,\n        'Got added events in wrong order'\n      );\n      lastDoc = change.doc;\n      return {\n        type: 'added' as firestore.DocumentChangeType,\n        doc,\n        oldIndex: -1,\n        newIndex: index++\n      };\n    });\n  } else {\n    // A DocumentSet that is updated incrementally as changes are applied to use\n    // to lookup the index of a document.\n    let indexTracker = snapshot.oldDocs;\n    return snapshot.docChanges.map(change => {\n      const doc = new QueryDocumentSnapshot(\n        firestore,\n        change.doc.key,\n        change.doc,\n        snapshot.fromCache\n      );\n      let oldIndex = -1;\n      let newIndex = -1;\n      if (change.type !== ChangeType.Added) {\n        oldIndex = indexTracker.indexOf(change.doc.key);\n        assert(oldIndex >= 0, 'Index for document not found');\n        indexTracker = indexTracker.delete(change.doc.key);\n      }\n      if (change.type !== ChangeType.Removed) {\n        indexTracker = indexTracker.add(change.doc);\n        newIndex = indexTracker.indexOf(change.doc.key);\n      }\n      return { type: resultChangeType(change.type), doc, oldIndex, newIndex };\n    });\n  }\n}\n\nfunction resultChangeType(type: ChangeType): firestore.DocumentChangeType {\n  switch (type) {\n    case ChangeType.Added:\n      return 'added';\n    case ChangeType.Modified:\n    case ChangeType.Metadata:\n      return 'modified';\n    case ChangeType.Removed:\n      return 'removed';\n    default:\n      return fail('Unknown change type: ' + type);\n  }\n}\n\n// Export the classes with a private constructor (it will fail if invoked\n// at runtime). Note that this still allows instanceof checks.\n\n// We're treating the variables as class names, so disable checking for lower\n// case variable names.\n// tslint:disable:variable-name\nexport const PublicFirestore = makeConstructorPrivate(\n  Firestore,\n  'Use firebase.firestore() instead.'\n);\nexport const PublicTransaction = makeConstructorPrivate(\n  Transaction,\n  'Use firebase.firestore().runTransaction() instead.'\n);\nexport const PublicWriteBatch = makeConstructorPrivate(\n  WriteBatch,\n  'Use firebase.firestore().batch() instead.'\n);\nexport const PublicDocumentReference = makeConstructorPrivate(\n  DocumentReference,\n  'Use firebase.firestore().doc() instead.'\n);\nexport const PublicDocumentSnapshot = makeConstructorPrivate(DocumentSnapshot);\nexport const PublicQueryDocumentSnapshot = makeConstructorPrivate(\n  QueryDocumentSnapshot\n);\nexport const PublicQuery = makeConstructorPrivate(Query);\nexport const PublicQuerySnapshot = makeConstructorPrivate(QuerySnapshot);\nexport const PublicCollectionReference = makeConstructorPrivate(\n  CollectionReference,\n  'Use firebase.firestore().collection() instead.'\n);\n// tslint:enable:variable-name\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as firestore from '@firebase/firestore-types';\nimport { FirebaseApp, FirebaseNamespace } from '@firebase/app-types';\nimport { _FirebaseNamespace } from '@firebase/app-types/private';\nimport { PublicBlob } from '../api/blob';\nimport {\n  Firestore,\n  PublicCollectionReference,\n  PublicDocumentReference,\n  PublicDocumentSnapshot,\n  PublicFirestore,\n  PublicQuery,\n  PublicQueryDocumentSnapshot,\n  PublicQuerySnapshot,\n  PublicTransaction,\n  PublicWriteBatch\n} from '../api/database';\nimport { FieldPath } from '../api/field_path';\nimport { PublicFieldValue } from '../api/field_value';\nimport { GeoPoint } from '../api/geo_point';\nimport { shallowCopy } from '../util/obj';\n\nconst firestoreNamespace = {\n  Firestore: PublicFirestore,\n  GeoPoint,\n  Blob: PublicBlob,\n  Transaction: PublicTransaction,\n  WriteBatch: PublicWriteBatch,\n  DocumentReference: PublicDocumentReference,\n  DocumentSnapshot: PublicDocumentSnapshot,\n  Query: PublicQuery,\n  QueryDocumentSnapshot: PublicQueryDocumentSnapshot,\n  QuerySnapshot: PublicQuerySnapshot,\n  CollectionReference: PublicCollectionReference,\n  FieldPath,\n  FieldValue: PublicFieldValue,\n  setLogLevel: Firestore.setLogLevel\n};\n\n/**\n * Configures Firestore as part of the Firebase SDK by calling registerService.\n */\nexport function configureForFirebase(firebase: FirebaseNamespace): void {\n  (firebase as _FirebaseNamespace).INTERNAL.registerService(\n    'firestore',\n    (app: FirebaseApp) => new Firestore(app),\n    shallowCopy(firestoreNamespace)\n  );\n}\n\n/**\n * Exports the Firestore namespace into the provided `exportObject` object under\n * the key 'firestore'. This is used for wrapped binary that exposes Firestore\n * as a goog module.\n */\nexport function configureForStandalone(exportObject: {\n  [key: string]: {};\n}): void {\n  const copiedNamespace = shallowCopy(firestoreNamespace);\n  // Unlike the use with Firebase, the standalone allows the use of the\n  // constructor, so export it's internal class\n  copiedNamespace['Firestore'] = Firestore;\n  exportObject['firestore'] = copiedNamespace;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase from '@firebase/app';\nimport './src/platform_browser/browser_init';\nimport { Firestore } from './src/api/database';\nimport { configureForFirebase } from './src/platform/config';\n\nimport * as types from '@firebase/firestore-types';\n\nexport function registerFirestore(instance) {\n  configureForFirebase(instance);\n}\n\nregisterFirestore(firebase);\n\ndeclare module '@firebase/app-types' {\n  interface FirebaseNamespace {\n    firestore?: {\n      (app?: FirebaseApp): types.FirebaseFirestore;\n      Blob: typeof types.Blob;\n      CollectionReference: typeof types.CollectionReference;\n      DocumentReference: typeof types.DocumentReference;\n      DocumentSnapshot: typeof types.DocumentSnapshot;\n      FieldPath: typeof types.FieldPath;\n      FieldValue: typeof types.FieldValue;\n      Firestore: typeof types.FirebaseFirestore;\n      GeoPoint: typeof types.GeoPoint;\n      Query: typeof types.Query;\n      QuerySnapshot: typeof types.QuerySnapshot;\n      Transaction: typeof types.Transaction;\n      WriteBatch: typeof types.WriteBatch;\n      setLogLevel: typeof types.setLogLevel;\n    };\n  }\n  interface FirebaseApp {\n    firestore?(): types.FirebaseFirestore;\n  }\n}\n","import { InjectionToken, ModuleWithProviders, NgModule } from '@angular/core';\nimport { FirebaseApp, AngularFireModule } from 'angularfire2';\nimport { AngularFirestore } from './firestore';\nimport { from } from 'rxjs/observable/from';\nimport '@firebase/firestore';\n\nimport { EnablePersistenceToken } from './enable-persistance-token';\n\n@NgModule({\n  imports: [ AngularFireModule ],\n  providers: [\n    AngularFirestore,\n  ]\n})\nexport class AngularFirestoreModule {\n  /**\n   * Attempt to enable persistent storage, if possible\n   */\n  static enablePersistence(): ModuleWithProviders {\n    return {\n      ngModule: AngularFirestoreModule,\n      providers: [\n        { provide: EnablePersistenceToken, useValue: true },\n      ]\n    }\n  }\n}\n","(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (!(this instanceof Promise)) throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    return new Promise(function (resolve, reject) {\n      if (!arr || typeof arr.length === 'undefined') throw new TypeError('Promise.all accepts an array');\n      var args = Array.prototype.slice.call(arr);\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst __global = (() => {\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Polyfill Promise\nif (typeof Promise === 'undefined') {\n  // HACK: TS throws an error if I attempt to use 'dot-notation'\n  __global[\n    'Promise'\n  ] = Promise = require('promise-polyfill') as PromiseConstructor;\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This is the Array.prototype.find polyfill from MDN\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * https://tc39.github.io/ecma262/#sec-array.prototype.find\n */\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n\n      // 5. Let k be 0.\n      var k = 0;\n\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return kValue;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n\n      // 7. Return undefined.\n      return undefined;\n    }\n  });\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This is the Array.prototype.findIndex polyfill from MDN\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\n * https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n */\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    value: function(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n\n      // 5. Let k be 0.\n      var k = 0;\n\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return k.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return k;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n\n      // 7. Return -1.\n      return -1;\n    }\n  });\n}\n","/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nrequire('@firebase/polyfill');\nmodule.exports = require('@firebase/app').default;\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport * as firebase from 'firebase/app';\nimport { Router } from '@angular/router';\nimport { AngularFireAuth } from 'angularfire2/auth';\nexport class AuthService {\n\n    user$: Observable<firebase.User>;\n/**\n * @param {?} router\n * @param {?} afAuth\n */\nconstructor(private router: Router,\npublic afAuth: AngularFireAuth) {\n        this.user$ = this.afAuth.authState;\n    }\n/**\n * @return {?}\n */\nlogin() {\n        this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\n            .then(_ => this.router.navigate([`/items`]))\n            .catch(error => console.log('auth error', error));\n    }\n/**\n * @return {?}\n */\nlogout() {\n        this.afAuth.auth.signOut();\n        this.router.navigate([`/home`]);\n    }\n/**\n * @return {?}\n */\ngetClient() {\n        return { clientId: 1 };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Router, },\n{type: AngularFireAuth, },\n];\n}\n\nfunction AuthService_tsickle_Closure_declarations() {\n/** @type {?} */\nAuthService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAuthService.ctorParameters;\n/** @type {?} */\nAuthService.prototype.user$;\n/** @type {?} */\nAuthService.prototype.router;\n/** @type {?} */\nAuthService.prototype.afAuth;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport { AuthService } from './auth.service';\nexport class AuthGuard implements CanActivate {\n/**\n * @param {?} router\n * @param {?} authService\n */\nconstructor(\nprivate router: Router,\nprivate authService: AuthService) { }\n/**\n * @return {?}\n */\ncanActivate(): Observable<boolean> {\n    return this.authService.user$\n      .map(user => {\n          console.dir(user.uid);\n        if (user && user.uid) {\n          return true;\n        } else {\n          this.router.navigate([`/home`]);\n          return false;\n        }\n      });\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Router, },\n{type: AuthService, },\n];\n}\n\nfunction AuthGuard_tsickle_Closure_declarations() {\n/** @type {?} */\nAuthGuard.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAuthGuard.ctorParameters;\n/** @type {?} */\nAuthGuard.prototype.router;\n/** @type {?} */\nAuthGuard.prototype.authService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nimport { Component, OnInit } from '@angular/core';\nexport class HomeComponent implements OnInit {\nconstructor() { }\n/**\n * @return {?}\n */\nngOnInit() {\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-iscape-home',\n  template: `\n    <h1>All Welcome</h1>\n  `,\n  styles: [`\n\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction HomeComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nHomeComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHomeComponent.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HomeComponent} from './home.component';\nexport class HomeModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        CommonModule\n    ],\n    declarations: [HomeComponent],\n    exports: [HomeComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction HomeModule_tsickle_Closure_declarations() {\n/** @type {?} */\nHomeModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHomeModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component } from '@angular/core';\nimport { AuthService } from './shared/auth.service';\nexport class IscapeComponent {\n    title = 'app';\n/**\n * @param {?} authService\n */\nconstructor(public authService: AuthService) {\n\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-root',\n    template: `\n      <!--The content below is only a placeholder and can be replaced.-->\n\n      <mat-toolbar color=\"primary\">\n          <button mat-button [routerLink]=\"['/home']\">i-Plan</button>\n          <button *ngIf=\"!(authService.user$ | async)?.uid\" class=\"login\" mat-button (click)=\"authService.login()\">Login\n          </button>\n          <button *ngIf=\"(authService.user$ | async)?.uid\" class=\"logout\" mat-button (click)=\"authService.logout()\">Logout\n          </button>\n          <div fxLayout=\"row\" fxLayoutAlign=\"end center\" class=\"nav-buttons\">\n              <div *ngIf=\"(authService.user$ | async)?.uid\">\n                  <button mat-button [routerLink]=\"['/items']\">Items</button>\n              </div>\n              <button mat-button [routerLink]=\"['/user-list']\">Users</button>\n              <button mat-button [routerLink]=\"['/skill-list']\">Skills</button>\n              <button mat-button [routerLink]=\"['/location-list']\">Locations</button>\n              <button mat-button [routerLink]=\"['/project-list']\">Projects</button>\n              <!--<button mat-button>Company</button>-->\n          </div>\n      </mat-toolbar>\n\n      <div style=\"margin-top: 20px\">\n          <div fxFlex=\"20\"></div>\n          <div fxFlex=\"60\">\n              <router-outlet></router-outlet>\n          </div>\n          <div fxFlex></div>\n      </div>\n\n      <!--<app-items></app-items>-->\n      <!--<router-outlet></router-outlet>-->\n    `,\n    styles: [`\n\n\n      .nav-buttons {\n          width: 100%;\n      }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: AuthService, },\n];\n}\n\nfunction IscapeComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nIscapeComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIscapeComponent.ctorParameters;\n/** @type {?} */\nIscapeComponent.prototype.title;\n/** @type {?} */\nIscapeComponent.prototype.authService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AngularFirestore} from 'angularfire2/firestore';\nimport {Observable} from 'rxjs/Observable';\nexport class ItemsComponent implements OnInit {\n\n    items: Observable<any[]>;\n/**\n * @param {?} afs\n */\nconstructor(afs: AngularFirestore) {\n        this.items = afs.collection('items', ref => ref.where('name', '==', 'Item 1')\n            // .where('isActive', '==', true)\n        ).valueChanges();\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-items',\n    template: `\n      <mat-card *ngFor=\"let item of items | async\">{{item.name}}</mat-card>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: AngularFirestore, },\n];\n}\n\nfunction ItemsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nItemsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nItemsComponent.ctorParameters;\n/** @type {?} */\nItemsComponent.prototype.items;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreDocument } from 'angularfire2/firestore';\nimport { AuthService } from './auth.service';\nimport { Observable } from 'rxjs/Observable';\nimport'rxjs/add/observable/of';\nimport { AppDocument } from './document';\nimport { User } from '../user/user';\nexport class DataService {\nprivate itemDoc: AngularFirestoreDocument<AppDocument>;\n/**\n * @param {?} afs\n * @param {?} authService\n */\nconstructor(private afs: AngularFirestore,\nprivate authService: AuthService) {\n    }\n/**\n * @param {?} colName\n * @return {?}\n */\ngetCollection(colName: string): Observable<AppDocument[]> {\n        return this.afs.collection(colName).snapshotChanges().map(actions => {\n            return actions.map(a => {\n                const /** @type {?} */ data = a.payload.doc.data();\n                const /** @type {?} */ id = a.payload.doc.id;\n\n                // console.log(data);\n                return { id, ...data };\n            });\n        });\n    }\n/**\n *\n * @param {?} colName\n * @param {?} id\n * @return {?}\n */\ndelete(colName: string, id: string): Promise<boolean> {\n        return this.afs.collection(colName).doc(id).delete().then(\n            result => Promise.resolve(true)\n        );\n    }\n/**\n * @param {?} col\n * @param {?} data\n * @return {?}\n */\nread(col, data: AppDocument): Observable<AppDocument | User> {\n        return this.afs.doc<AppDocument>(col + '/' + data.id).valueChanges();\n    }\n/**\n * @param {?} col\n * @param {?} id\n * @param {?} data\n * @return {?}\n */\nupdate(col, id, data: AppDocument): void {\n        this.itemDoc = this.afs.doc<AppDocument>(col + '/' + id);\n        this.itemDoc.update(data);\n    }\n/**\n * @param {?} colName\n * @param {?} data\n * @return {?}\n */\ncreate(colName, data: AppDocument): void {\n        const /** @type {?} */ client = this.authService.getClient();\n\n        data = /** @type {?} */(( <AppDocument>{ clientId: client.clientId, isEnabled: true, ...data }));\n        console.dir(data);\n        const /** @type {?} */ doc = this.afs.collection(colName).add(data);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: AngularFirestore, },\n{type: AuthService, },\n];\n}\n\nfunction DataService_tsickle_Closure_declarations() {\n/** @type {?} */\nDataService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDataService.ctorParameters;\n/** @type {?} */\nDataService.prototype.itemDoc;\n/** @type {?} */\nDataService.prototype.afs;\n/** @type {?} */\nDataService.prototype.authService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { DataService } from '../shared/data.service';\nimport { Skill } from './skill';\nexport class SkillService {\n/**\n * @param {?} ds\n */\nconstructor(private ds: DataService) {}\n/**\n * @return {?}\n */\ngetSkills(): Observable<Skill[]> {\n        return /** @type {?} */(( <Observable<Skill[]>> this.ds.getCollection('skills')));\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DataService, },\n];\n}\n\nfunction SkillService_tsickle_Closure_declarations() {\n/** @type {?} */\nSkillService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSkillService.ctorParameters;\n/** @type {?} */\nSkillService.prototype.ds;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ChangeDetectionStrategy, Component, OnDestroy, OnInit } from '@angular/core';\nimport { SkillService } from '../skill.service';\nimport { Observable } from 'rxjs/Observable';\nimport { DataService } from '../../shared/data.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nexport class SkillListComponent implements OnInit, OnDestroy {\nprivate skills$: Observable<any[]>;\n/**\n * @param {?} afs\n * @param {?} skillService\n * @param {?} dataService\n */\nconstructor(private afs: AngularFirestore,\nprivate skillService: SkillService,\nprivate dataService: DataService) {\n        this.skills$ = this.skillService.getSkills();\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        // console.dir('destroy');\n    }\n/**\n * @param {?} skillId\n * @param {?} type\n * @return {?}\n */\ndisable(skillId: string, type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('skills', skillId, data);\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-skill-list',\n    template: `\n\n      <mat-card *ngFor=\"let skill of skills$ | async\"  [ngClass]=\"{'app-disabled': !skill.isEnabled}\">\n          <div  fxFlex=\"90\" fxLayoutAlign=\"start center\">\n              {{skill.name}}\n          </div>\n          <div fxFlex=\"10\" fxLayoutAlign=\"end center\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n                  <mat-icon>more_vert</mat-icon>\n              </button>\n              <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item [routerLink]=\"['/skill-edit', skill.id]\">\n                      <mat-icon>edit</mat-icon>\n                      <span>Edit</span>\n                  </button>\n                  <button *ngIf=\"!skill.isEnabled\" mat-menu-item (click)=\"disable(skill.id, true)\">\n                      <mat-icon>check</mat-icon>\n                      <span>Enable</span>\n                  </button>\n                  <button *ngIf=\"skill.isEnabled\" mat-menu-item (click)=\"disable(skill.id, false)\">\n                      <mat-icon>close</mat-icon>\n                      <span>Disable</span>\n                  </button>\n              </mat-menu>\n          </div>\n      </mat-card>\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/skill-edit', '0']\">\n          <mat-icon aria-label=\"Add new item\">add</mat-icon>\n      </button>\n    `,\n    styles: [`\n\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: AngularFirestore, },\n{type: SkillService, },\n{type: DataService, },\n];\n}\n\nfunction SkillListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSkillListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSkillListComponent.ctorParameters;\n/** @type {?} */\nSkillListComponent.prototype.skills$;\n/** @type {?} */\nSkillListComponent.prototype.afs;\n/** @type {?} */\nSkillListComponent.prototype.skillService;\n/** @type {?} */\nSkillListComponent.prototype.dataService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../../shared/data.service';\nimport { FormBuilder,  FormGroup, Validators } from '@angular/forms';\nexport class SkillEditComponent implements OnInit, OnDestroy {\nprivate id: string;\nprivate isNew: boolean;\n\n    skillForm: FormGroup;\n    skill: any;\n    isDeleteAction: boolean;\n/**\n * @param {?} route\n * @param {?} router\n * @param {?} dataService\n * @param {?} fb\n */\nconstructor(private route: ActivatedRoute,\nprivate router: Router,\nprivate dataService: DataService,\nprivate fb: FormBuilder) {\n        this.isNew = false;\n        this.createForm();\n    }\n/**\n * @return {?}\n */\ncreateForm() {\n        this.skillForm = this.fb.group({\n            name: ['', Validators.required],\n            isEnabled: [''],\n        });\n    }\n/**\n * @return {?}\n */\nupdate() {\n        if (this.skillForm.status === 'INVALID') {\n            return;\n        }\n\n        if (this.isNew === true) {\n            this.dataService.create('skills', this.skillForm.value);\n            this.router.navigate(['/skill-list']);\n            return;\n        }\n\n        this.dataService.update('skills', this.id, this.skillForm.value);\n        this.router.navigate(['/skill-list']);\n    }\n/**\n * @return {?}\n */\ndelete() {\n        this.isDeleteAction = true;\n        this.dataService.delete('skills', this.id).then(\n            _ => this.router.navigate(['/skill-list'])\n        );\n    }\n/**\n * @param {?} type\n * @return {?}\n */\ndisable(type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('skills', this.id , data);\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.route.params.subscribe(params => {\n            if (this.skill === null) {\n                return;\n            }\n\n            this.id = params['id'];\n\n            if (this.id === '0') {\n                this.isNew = true;\n                return;\n            }\n\n            this.dataService.read('skills', { id: this.id }).subscribe(skill => {\n                // console.dir(value);\n                this.skill = skill;\n                this.skillForm.patchValue({\n                    name: this.skill ? this.skill.name : '',\n                    isEnabled: this.skill && !!this.skill.isEnabled,\n                });\n            });\n\n        });\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        // this.sub.unsubscribe();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-skill-edit',\n    template: `\n      <mat-card>\n          <form [formGroup]=\"skillForm\" novalidate>\n              <div fxFlex=\"70\" fxLayoutAlign=\"start center\">\n                  <div fxFlex=\"50\" fxLayoutAlign=\"start center\">\n                      <mat-form-field class=\"example-full-width\" *ngIf=\"!isDeleteAction\">\n                          <input matInput placeholder=\"Name\" formControlName=\"name\">\n                          <mat-error *ngIf=\"skillForm.get('name').status==='INVALID'\">Mandatory</mat-error>\n                      </mat-form-field>\n                  </div>\n                  <div fxFlex=\"50\" fxLayoutAlign=\"start center\"></div>\n              </div>\n              <div fxFlex=\"30\" fxLayoutAlign=\"end center\">\n                  <button mat-button color=\"primary\" (click)=\"update()\">\n                      <span>Save</span>\n                  </button>\n                  <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n                      <mat-icon>more_vert</mat-icon>\n                  </button>\n                  <mat-menu #menu=\"matMenu\">\n                      <button *ngIf=\"!skillForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(true)\">\n                          <mat-icon>check</mat-icon>\n                          <span>Enable</span>\n                      </button>\n                      <button *ngIf=\"skillForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(false)\">\n                          <mat-icon>close</mat-icon>\n                          <span>Disable</span>\n                      </button>\n                      <button *ngIf=\"skillForm.get('isEnabled').value\" mat-menu-item (click)=\"delete()\">\n                          <mat-icon>delete</mat-icon>\n                          <span>Delete</span>\n                      </button>\n                  </mat-menu>\n              </div>\n          </form>\n          <!--<p>Skill Value: {{ skill | json }}</p>-->\n          <!--<p>Form value: {{ skillForm.value | json }}</p>-->\n          <!--<p>Form status: {{ skillForm.status | json }}</p>-->\n      </mat-card>\n\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/skill-list']\">\n          <mat-icon aria-label=\"Back to list\">reorder</mat-icon>\n      </button>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ActivatedRoute, },\n{type: Router, },\n{type: DataService, },\n{type: FormBuilder, },\n];\n}\n\nfunction SkillEditComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSkillEditComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSkillEditComponent.ctorParameters;\n/** @type {?} */\nSkillEditComponent.prototype.id;\n/** @type {?} */\nSkillEditComponent.prototype.isNew;\n/** @type {?} */\nSkillEditComponent.prototype.skillForm;\n/** @type {?} */\nSkillEditComponent.prototype.skill;\n/** @type {?} */\nSkillEditComponent.prototype.isDeleteAction;\n/** @type {?} */\nSkillEditComponent.prototype.route;\n/** @type {?} */\nSkillEditComponent.prototype.router;\n/** @type {?} */\nSkillEditComponent.prototype.dataService;\n/** @type {?} */\nSkillEditComponent.prototype.fb;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { DataService } from '../shared/data.service';\nimport { User } from './user';\nexport class UserService {\n/**\n * @param {?} ds\n */\nconstructor(private ds: DataService) {}\n/**\n * @return {?}\n */\ngetUsers(): Observable<User[]> {\n        return /** @type {?} */(( <Observable<User[]>> this.ds.getCollection('users')));\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DataService, },\n];\n}\n\nfunction UserService_tsickle_Closure_declarations() {\n/** @type {?} */\nUserService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nUserService.ctorParameters;\n/** @type {?} */\nUserService.prototype.ds;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { Observable } from 'rxjs/Observable';\nimport { DataService } from '../../shared/data.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nexport class UserListComponent implements OnInit, OnDestroy {\nprivate users: Observable<any[]>;\n/**\n * @param {?} afs\n * @param {?} userService\n * @param {?} dataService\n */\nconstructor(private afs: AngularFirestore,\nprivate userService: UserService,\nprivate dataService: DataService) {\n        this.users = this.userService.getUsers();\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        // console.dir('destroy');\n    }\n/**\n * @param {?} userId\n * @param {?} type\n * @return {?}\n */\ndisable(userId: string, type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('users', userId, data);\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-user-list',\n    template: `\n      <mat-card *ngFor=\"let user of users | async\" [ngClass]=\"{'app-disabled': !user.isEnabled}\">\n          <div fxFlex=\"20\" fxLayoutAlign=\"start center\">\n              {{user.name}}\n          </div>\n          <div fxFlex=\"30\" fxLayoutAlign=\"start center\">\n              {{user.email}}\n          </div>\n          <div fxFlex=\"40\" fxLayoutAlign=\"start center\">\n\n          </div>\n\n          <div fxFlex=\"10\" fxLayoutAlign=\"end end\">\n              <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n                  <mat-icon>more_vert</mat-icon>\n              </button>\n              <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item [routerLink]=\"['/user-edit', user.id]\">\n                      <mat-icon>edit</mat-icon>\n                      <span>Edit</span>\n                  </button>\n                  <button *ngIf=\"!user.isEnabled\" mat-menu-item (click)=\"disable(user.id, true)\">\n                      <mat-icon>check</mat-icon>\n                      <span>Enable</span>\n                  </button>\n                  <button *ngIf=\"user.isEnabled\" mat-menu-item (click)=\"disable(user.id, false)\">\n                      <mat-icon>close</mat-icon>\n                      <span>Disable</span>\n                  </button>\n              </mat-menu>\n          </div>\n      </mat-card>\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/user-edit', '0']\">\n          <mat-icon aria-label=\"Add new item\">add</mat-icon>\n      </button>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: AngularFirestore, },\n{type: UserService, },\n{type: DataService, },\n];\n}\n\nfunction UserListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nUserListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nUserListComponent.ctorParameters;\n/** @type {?} */\nUserListComponent.prototype.users;\n/** @type {?} */\nUserListComponent.prototype.afs;\n/** @type {?} */\nUserListComponent.prototype.userService;\n/** @type {?} */\nUserListComponent.prototype.dataService;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nexport class FormService {\nprivate form: FormGroup;\nconstructor() {\n    }\n/**\n * @param {?} form\n * @return {?}\n */\nsetForm(form: FormGroup) {\n        this.form = form;\n    }\n/**\n * @param {?} name\n * @param {?} type\n * @return {?}\n */\nvalidate(name, type) {\n        const /** @type {?} */ errors = this.form.get(name).errors;\n\n        if (!errors) {\n            return;\n        }\n        switch (type) {\n            case 'required':\n                return errors.required;\n            case 'email':\n                return errors.email;\n\n        }\n\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction FormService_tsickle_Closure_declarations() {\n/** @type {?} */\nFormService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nFormService.ctorParameters;\n/** @type {?} */\nFormService.prototype.form;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataService } from '../../shared/data.service';\nimport { FormBuilder,  FormGroup, Validators } from '@angular/forms';\nimport { FormService } from '../../shared/form.service';\nimport { SkillService } from '../../skill/skill.service';\nimport { Skill } from '../../skill/skill';\nimport { MatSelectChange } from '@angular/material';\nimport { Subject } from 'rxjs/Subject';\nexport class UserEditComponent implements OnInit, OnDestroy {\nprivate id: string;\nprivate isNew: boolean;\n    userForm: FormGroup;\n    user: any;\n    isDeleteAction: boolean;\n    skills: Skill[];\n    skills$ = new Subject();\n/**\n * @param {?} route\n * @param {?} router\n * @param {?} dataService\n * @param {?} fb\n * @param {?} formService\n * @param {?} skillService\n */\nconstructor(private route: ActivatedRoute,\nprivate router: Router,\nprivate dataService: DataService,\nprivate fb: FormBuilder,\nprivate formService: FormService,\nprivate skillService: SkillService) {\n        this.isNew = false;\n        this.createForm();\n\n        this.skillService.getSkills().subscribe(\n            skills => {\n                this.skills = skills;\n                this.skills$.next(skills);\n            }\n        );\n    }\n/**\n * @return {?}\n */\ncreateForm() {\n        this.userForm = this.fb.group({\n            name: ['', Validators.required],\n            email: ['', [Validators.required, Validators.email]],\n            isEnabled: [''],\n        });\n\n        this.formService.setForm(this.userForm);\n    }\n/**\n * @param {?} skill\n * @return {?}\n */\nNotIsIn(skill) {\n        if (!this.skills) {\n            return true;\n        }\n\n        if (!this.user || !this.user.skills) {\n            return true;\n        }\n\n        return !this.user.skills.find(userSkill => skill.id === userSkill.id);\n    }\n/**\n * @param {?} skill\n * @return {?}\n */\nremoveSkill(skill: any): void {\n        const /** @type {?} */ index = this.user.skills.indexOf(skill);\n\n        if (index >= 0) {\n            this.user.skills.splice(index, 1);\n        }\n    }\n/**\n * @return {?}\n */\nupdate() {\n        if (this.userForm.status === 'INVALID') {\n            return;\n        }\n\n        if (this.isNew === true) {\n            this.dataService.create('users', this.userForm.value);\n            this.router.navigate(['/user-list']);\n            return;\n        }\n\n        const /** @type {?} */ data = { skills: this.user.skills, ...this.userForm.value };\n        this.dataService.update('users', this.id, data);\n        this.router.navigate(['/user-list']);\n    }\n/**\n * @return {?}\n */\ndelete() {\n        this.isDeleteAction = true;\n        this.dataService.delete('users', this.id).then(\n            _ => this.router.navigate(['/user-list'])\n        );\n    }\n/**\n * @param {?} type\n * @return {?}\n */\ndisable(type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('users', this.id, data);\n    }\n/**\n * @param {?} $event\n * @return {?}\n */\naddSkill($event: MatSelectChange) {\n        if (!$event.value) {\n            return;\n        }\n\n        if (!this.user) {\n            this.user = {};\n        }\n\n        if (!this.user.skills) {\n            this.user = {};\n            this.user.skills = [];\n        }\n\n        if (!this.user.skills.find(skill => skill.id === $event.value.id)) {\n            this.user.skills.push($event.value);\n        }\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.route.params.subscribe(params => {\n            if (this.user === null) {\n                return;\n            }\n\n            this.id = params['id'];\n\n            if (this.id === '0') {\n                this.isNew = true;\n                return;\n            }\n\n\n            this.dataService.read('users', { id: this.id }).subscribe(user => {\n                this.user = user;\n                this.userForm.patchValue({\n                    name: this.user ? this.user.name : '',\n                    email: this.user ? this.user.email : '',\n                    isEnabled: this.user && !!this.user.isEnabled,\n                });\n            });\n\n        });\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        this.skills$.unsubscribe();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-user-edit',\n    template: `\n      <mat-card>\n          <form [formGroup]=\"userForm\" novalidate>\n              <div>\n                  <div fxFlex=\"70\" fxLayoutAlign=\"start center\">\n                      <div fxFlex=\"30\" fxLayoutAlign=\"start center\">\n                          <mat-form-field *ngIf=\"!isDeleteAction\">\n                              <input matInput placeholder=\"Name\" formControlName=\"name\">\n                              <mat-error *ngIf=\"formService.validate('name', 'required')\">Mandatory</mat-error>\n                          </mat-form-field>\n                      </div>\n                      <div fxFlex=\"30\" fxLayoutAlign=\"start center\">\n                          <mat-form-field *ngIf=\"!isDeleteAction\">\n                              <input matInput placeholder=\"Email\" formControlName=\"email\">\n                              <mat-error *ngIf=\"formService.validate('email', 'required')\">Mandatory</mat-error>\n                              <mat-error\n                                      *ngIf=\"!formService.validate('email', 'required') && formService.validate('email', 'email')\">\n                                  No Email\n                              </mat-error>\n                          </mat-form-field>\n                      </div>\n                  </div>\n                  <div fxFlex=\"30\" fxLayoutAlign=\"end end\">\n                      <button mat-button color=\"primary\" (click)=\"update()\">\n                          <span>Save</span>\n                      </button>\n                      <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n                          <mat-icon>more_vert</mat-icon>\n                      </button>\n                      <mat-menu #menu=\"matMenu\">\n                          <button *ngIf=\"!userForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(true)\">\n                              <mat-icon>check</mat-icon>\n                              <span>Enable</span>\n                          </button>\n                          <button *ngIf=\"userForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(false)\">\n                              <mat-icon>close</mat-icon>\n                              <span>Disable</span>\n                          </button>\n                          <button *ngIf=\"userForm.get('isEnabled').value\" mat-menu-item (click)=\"delete()\">\n                              <mat-icon>delete</mat-icon>\n                              <span>Delete</span>\n                          </button>\n                      </mat-menu>\n                  </div>\n\n              </div>\n              <div>\n\n                  <div fxFlex=\"40\" fxLayoutAlign=\"start center\" >\n                      <mat-form-field class=\"demo-chip-list\">\n                          <mat-select (selectionChange)='addSkill($event)' placeholder=\"Skills\">\n                              <!--<mat-option>None</mat-option>-->\n                              <span *ngFor=\"let skill of skills$ | async\">\n                                  <mat-option *ngIf=\"NotIsIn(skill)\" [value]=\"skill\" onselect=\"addSkill($event)\">{{skill.name}}</mat-option>\n                              </span>\n                          </mat-select>\n                      </mat-form-field>\n                  </div>\n              </div>\n              <div>\n\n                  <div fxFlex=\"70\" fxLayoutAlign=\"start center\">\n                      <mat-form-field class=\"demo-chip-list\">\n                          <mat-chip-list #chipList>\n                              <mat-chip *ngFor=\"let skill of user?.skills\" [selectable]=\"selectable\"\n                                        [removable]=\"true\" (remove)=\"removeSkill(skill)\">\n                                  {{skill.name}}\n                                  <mat-icon matChipRemove *ngIf=\"true\">cancel</mat-icon>\n                              </mat-chip>\n                          </mat-chip-list>\n                      </mat-form-field>\n                  </div>\n              </div>\n\n\n          </form>\n      </mat-card>\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/user-list']\">\n          <mat-icon aria-label=\"Back to list\">reorder</mat-icon>\n      </button>\n    `,\n    styles: [`\n      .demo-chip-list {\n          width: 100%;\n      }\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ActivatedRoute, },\n{type: Router, },\n{type: DataService, },\n{type: FormBuilder, },\n{type: FormService, },\n{type: SkillService, },\n];\n}\n\nfunction UserEditComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nUserEditComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nUserEditComponent.ctorParameters;\n/** @type {?} */\nUserEditComponent.prototype.id;\n/** @type {?} */\nUserEditComponent.prototype.isNew;\n/** @type {?} */\nUserEditComponent.prototype.userForm;\n/** @type {?} */\nUserEditComponent.prototype.user;\n/** @type {?} */\nUserEditComponent.prototype.isDeleteAction;\n/** @type {?} */\nUserEditComponent.prototype.skills;\n/** @type {?} */\nUserEditComponent.prototype.skills$;\n/** @type {?} */\nUserEditComponent.prototype.route;\n/** @type {?} */\nUserEditComponent.prototype.router;\n/** @type {?} */\nUserEditComponent.prototype.dataService;\n/** @type {?} */\nUserEditComponent.prototype.fb;\n/** @type {?} */\nUserEditComponent.prototype.formService;\n/** @type {?} */\nUserEditComponent.prototype.skillService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { DataService } from '../../shared/data.service';\nimport { Observable } from 'rxjs/Observable';\nimport { AppDocument } from '../../shared/document';\nexport class ProjectListComponent implements OnInit {\nprivate projects$: Observable<AppDocument[]>;\n/**\n * @param {?} dataService\n */\nconstructor(private dataService: DataService) {\n        this.projects$ = dataService.getCollection('projects');\n    }\n/**\n * @param {?} projectId\n * @param {?} type\n * @return {?}\n */\ndisable(projectId: string, type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('projects', projectId, data);\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-project-list',\n    template: `\n\n      <mat-card *ngFor=\"let project of projects$ | async\" [ngClass]=\"{'app-disabled': !project.isEnabled}\">\n        <div  fxFlex=\"90\" fxLayoutAlign=\"start center\">\n          {{project.name}}\n        </div>\n        <div fxFlex=\"10\" fxLayoutAlign=\"end center\">\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button mat-menu-item [routerLink]=\"['/project-edit', project.id]\">\n              <mat-icon>edit</mat-icon>\n              <span>Edit</span>\n            </button>\n            <button *ngIf=\"!project.isEnabled\" mat-menu-item (click)=\"disable(project.id, true)\">\n              <mat-icon>check</mat-icon>\n              <span>Enable</span>\n            </button>\n            <button *ngIf=\"project.isEnabled\" mat-menu-item (click)=\"disable(project.id, false)\">\n              <mat-icon>close</mat-icon>\n              <span>Disable</span>\n            </button>\n          </mat-menu>\n        </div>\n      </mat-card>\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/project-edit', '0']\">\n        <mat-icon aria-label=\"Add new item\">add</mat-icon>\n      </button>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DataService, },\n];\n}\n\nfunction ProjectListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nProjectListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nProjectListComponent.ctorParameters;\n/** @type {?} */\nProjectListComponent.prototype.projects$;\n/** @type {?} */\nProjectListComponent.prototype.dataService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../../shared/data.service';\nimport { Observable } from 'rxjs/Observable';\nimport { AppDocument } from '../../shared/document';\nexport class LocationListComponent implements OnInit {\nprivate locations$: Observable<AppDocument[]>;\n/**\n * @param {?} dataService\n */\nconstructor(private dataService: DataService) {\n        this.locations$ = dataService.getCollection('locations');\n    }\n/**\n * @param {?} locationId\n * @param {?} type\n * @return {?}\n */\ndisable(locationId: string, type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('locations', locationId, data);\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'app-iscape-location-list',\n    template: `\n\n      <mat-card *ngFor=\"let location of locations$ | async\" [ngClass]=\"{'app-disabled': !location.isEnabled}\">\n        <div  fxFlex=\"90\" fxLayoutAlign=\"start center\">\n          {{location.name}}\n        </div>\n        <div fxFlex=\"10\" fxLayoutAlign=\"end center\">\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button mat-menu-item [routerLink]=\"['/location-edit', location.id]\">\n              <mat-icon>edit</mat-icon>\n              <span>Edit</span>\n            </button>\n            <button *ngIf=\"!location.isEnabled\" mat-menu-item (click)=\"disable(location.id, true)\">\n              <mat-icon>check</mat-icon>\n              <span>Enable</span>\n            </button>\n            <button *ngIf=\"location.isEnabled\" mat-menu-item (click)=\"disable(location.id, false)\">\n              <mat-icon>close</mat-icon>\n              <span>Disable</span>\n            </button>\n          </mat-menu>\n        </div>\n      </mat-card>\n\n      <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/location-edit', '0']\">\n        <mat-icon aria-label=\"Add new item\">add</mat-icon>\n      </button>\n    `,\n    styles: [`\n\n    `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DataService, },\n];\n}\n\nfunction LocationListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nLocationListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLocationListComponent.ctorParameters;\n/** @type {?} */\nLocationListComponent.prototype.locations$;\n/** @type {?} */\nLocationListComponent.prototype.dataService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DataService } from '../../shared/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nexport class LocationEditComponent implements OnInit, OnDestroy {\nprivate id: string;\nprivate isNew: boolean;\n\n    locationForm: FormGroup;\n    location: any;\n    isDeleteAction: boolean;\n/**\n * @param {?} route\n * @param {?} router\n * @param {?} dataService\n * @param {?} fb\n */\nconstructor(private route: ActivatedRoute,\nprivate router: Router,\nprivate dataService: DataService,\nprivate fb: FormBuilder) {\n        this.isNew = false;\n        this.createForm();\n    }\n/**\n * @return {?}\n */\ncreateForm() {\n        this.locationForm = this.fb.group({\n            name: ['', Validators.required],\n            isEnabled: [''],\n        });\n    }\n/**\n * @return {?}\n */\nupdate() {\n        if (this.locationForm.status === 'INVALID') {\n            return;\n        }\n\n        if (this.isNew === true) {\n            this.dataService.create('locations', this.locationForm.value);\n            this.router.navigate(['/location-list']);\n            return;\n        }\n\n        this.dataService.update('locations', this.id, this.locationForm.value);\n        this.router.navigate(['/location-list']);\n    }\n/**\n * @return {?}\n */\ndelete() {\n        this.isDeleteAction = true;\n        this.dataService.delete('locations', this.id).then(\n            _ => this.router.navigate(['/location-list'])\n        );\n    }\n/**\n * @param {?} type\n * @return {?}\n */\ndisable(type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('locations', this.id , data);\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.route.params.subscribe(params => {\n            if (this.location === null) {\n                return;\n            }\n\n            this.id = params['id'];\n\n            if (this.id === '0') {\n                this.isNew = true;\n                return;\n            }\n\n            this.dataService.read('locations', { id: this.id }).subscribe(location => {\n                // console.dir(value);\n                this.location = location;\n                this.locationForm.patchValue({\n                    name: this.location ? this.location.name : '',\n                    isEnabled: this.location && !!this.location.isEnabled,\n                });\n            });\n\n        });\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        // this.sub.unsubscribe();\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-iscape-location-edit',\n  template: `\n    <mat-card>\n      <form [formGroup]=\"locationForm\" novalidate>\n        <div fxFlex=\"70\" fxLayoutAlign=\"start center\">\n          <div fxFlex=\"50\" fxLayoutAlign=\"start center\">\n            <mat-form-field class=\"example-full-width\" *ngIf=\"!isDeleteAction\">\n              <input matInput placeholder=\"Name\" formControlName=\"name\">\n              <mat-error *ngIf=\"locationForm.get('name').status==='INVALID'\">Mandatory</mat-error>\n            </mat-form-field>\n          </div>\n          <div fxFlex=\"50\" fxLayoutAlign=\"start center\"></div>\n        </div>\n        <div fxFlex=\"30\" fxLayoutAlign=\"end center\">\n          <button mat-button color=\"primary\" (click)=\"update()\">\n            <span>Save</span>\n          </button>\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button *ngIf=\"!locationForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(true)\">\n              <mat-icon>check</mat-icon>\n              <span>Enable</span>\n            </button>\n            <button *ngIf=\"locationForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(false)\">\n              <mat-icon>close</mat-icon>\n              <span>Disable</span>\n            </button>\n            <button *ngIf=\"locationForm.get('isEnabled').value\" mat-menu-item (click)=\"delete()\">\n              <mat-icon>delete</mat-icon>\n              <span>Delete</span>\n            </button>\n          </mat-menu>\n        </div>\n      </form>\n      <p>Object Value: {{ location | json }}</p>\n      <p>Form value: {{ locationForm.value | json }}</p>\n      <p>Form status: {{ locationForm.status | json }}</p>\n    </mat-card>\n\n\n    <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/location-list']\">\n      <mat-icon aria-label=\"Back to list\">reorder</mat-icon>\n    </button>\n  `,\n  styles: [`\n\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ActivatedRoute, },\n{type: Router, },\n{type: DataService, },\n{type: FormBuilder, },\n];\n}\n\nfunction LocationEditComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nLocationEditComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLocationEditComponent.ctorParameters;\n/** @type {?} */\nLocationEditComponent.prototype.id;\n/** @type {?} */\nLocationEditComponent.prototype.isNew;\n/** @type {?} */\nLocationEditComponent.prototype.locationForm;\n/** @type {?} */\nLocationEditComponent.prototype.location;\n/** @type {?} */\nLocationEditComponent.prototype.isDeleteAction;\n/** @type {?} */\nLocationEditComponent.prototype.route;\n/** @type {?} */\nLocationEditComponent.prototype.router;\n/** @type {?} */\nLocationEditComponent.prototype.dataService;\n/** @type {?} */\nLocationEditComponent.prototype.fb;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DataService } from '../../shared/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nexport class ProjectEditComponent implements OnInit, OnDestroy {\nprivate id: string;\nprivate isNew: boolean;\n\n    projectForm: FormGroup;\n    project: any;\n    isDeleteAction: boolean;\n/**\n * @param {?} route\n * @param {?} router\n * @param {?} dataService\n * @param {?} fb\n */\nconstructor(private route: ActivatedRoute,\nprivate router: Router,\nprivate dataService: DataService,\nprivate fb: FormBuilder) {\n        this.isNew = false;\n        this.createForm();\n    }\n/**\n * @return {?}\n */\ncreateForm() {\n        this.projectForm = this.fb.group({\n            name: ['', Validators.required],\n            isEnabled: [''],\n        });\n    }\n/**\n * @return {?}\n */\nupdate() {\n        if (this.projectForm.status === 'INVALID') {\n            return;\n        }\n\n        if (this.isNew === true) {\n            this.dataService.create('projects', this.projectForm.value);\n            this.router.navigate(['/project-list']);\n            return;\n        }\n\n        this.dataService.update('projects', this.id, this.projectForm.value);\n        this.router.navigate(['/project-list']);\n    }\n/**\n * @return {?}\n */\ndelete() {\n        this.isDeleteAction = true;\n        this.dataService.delete('projects', this.id).then(\n            _ => this.router.navigate(['/project-list'])\n        );\n    }\n/**\n * @param {?} type\n * @return {?}\n */\ndisable(type: boolean) {\n        const /** @type {?} */ data = { isEnabled: type };\n        this.dataService.update('projects', this.id , data);\n    }\n/**\n * @return {?}\n */\nngOnInit() {\n        this.route.params.subscribe(params => {\n            if (this.project === null) {\n                return;\n            }\n\n            this.id = params['id'];\n\n            if (this.id === '0') {\n                this.isNew = true;\n                return;\n            }\n\n            this.dataService.read('projects', { id: this.id }).subscribe(project => {\n                // console.dir(value);\n                this.project = project;\n                this.projectForm.patchValue({\n                    name: this.project ? this.project.name : '',\n                    isEnabled: this.project && !!this.project.isEnabled,\n                });\n            });\n\n        });\n    }\n/**\n * @return {?}\n */\nngOnDestroy() {\n        // this.sub.unsubscribe();\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-iscape-project-edit',\n  template: `\n    <mat-card>\n      <form [formGroup]=\"projectForm\" novalidate>\n        <div fxFlex=\"70\" fxLayoutAlign=\"start center\">\n          <div fxFlex=\"50\" fxLayoutAlign=\"start center\">\n            <mat-form-field class=\"example-full-width\" *ngIf=\"!isDeleteAction\">\n              <input matInput placeholder=\"Name\" formControlName=\"name\">\n              <mat-error *ngIf=\"projectForm.get('name').status==='INVALID'\">Mandatory</mat-error>\n            </mat-form-field>\n          </div>\n          <div fxFlex=\"50\" fxLayoutAlign=\"start center\"></div>\n        </div>\n        <div fxFlex=\"30\" fxLayoutAlign=\"end center\">\n          <button mat-button color=\"primary\" (click)=\"update()\">\n            <span>Save</span>\n          </button>\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button *ngIf=\"!projectForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(true)\">\n              <mat-icon>check</mat-icon>\n              <span>Enable</span>\n            </button>\n            <button *ngIf=\"projectForm.get('isEnabled').value\" mat-menu-item (click)=\"disable(false)\">\n              <mat-icon>close</mat-icon>\n              <span>Disable</span>\n            </button>\n            <button *ngIf=\"projectForm.get('isEnabled').value\" mat-menu-item (click)=\"delete()\">\n              <mat-icon>delete</mat-icon>\n              <span>Delete</span>\n            </button>\n          </mat-menu>\n        </div>\n      </form>\n      <p>Object Value: {{ project | json }}</p>\n      <p>Form value: {{ projectForm.value | json }}</p>\n      <p>Form status: {{ projectForm.status | json }}</p>\n    </mat-card>\n\n\n    <button mat-fab color=\"accent\" class=\"add\" [routerLink]=\"['/project-list']\">\n      <mat-icon aria-label=\"Back to list\">reorder</mat-icon>\n    </button>\n  `,\n  styles: [`\n\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ActivatedRoute, },\n{type: Router, },\n{type: DataService, },\n{type: FormBuilder, },\n];\n}\n\nfunction ProjectEditComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nProjectEditComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nProjectEditComponent.ctorParameters;\n/** @type {?} */\nProjectEditComponent.prototype.id;\n/** @type {?} */\nProjectEditComponent.prototype.isNew;\n/** @type {?} */\nProjectEditComponent.prototype.projectForm;\n/** @type {?} */\nProjectEditComponent.prototype.project;\n/** @type {?} */\nProjectEditComponent.prototype.isDeleteAction;\n/** @type {?} */\nProjectEditComponent.prototype.route;\n/** @type {?} */\nProjectEditComponent.prototype.router;\n/** @type {?} */\nProjectEditComponent.prototype.dataService;\n/** @type {?} */\nProjectEditComponent.prototype.fb;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\nimport { ItemsComponent } from './items/items/items.component';\nimport { SkillListComponent } from './skill/skill-list/skill-list.component';\nimport { SkillEditComponent } from './skill/skill-edit/skill-edit.component';\nimport { AuthGuard } from './shared/auth.guard';\nimport { UserListComponent } from './user/user-list/user-list.component';\nimport { UserEditComponent } from './user/user-edit/user-edit.component';\nimport { ProjectListComponent } from './project/project-list/project-list.component';\nimport { LocationListComponent } from './location/location-list/location-list.component';\nimport { LocationEditComponent } from './location/location-edit/location-edit.component';\nimport { ProjectEditComponent } from './project/project-edit/project-edit.component';\n\n\nconst /** @type {?} */ routes: Routes = [\n    { path: '', pathMatch: 'full', redirectTo: 'home' },\n    { path: 'home', component: HomeComponent },\n    { path: 'items', component: ItemsComponent, canActivate: [AuthGuard] },\n    { path: 'user-list', component: UserListComponent },\n    { path: 'user-edit/:id', component: UserEditComponent },\n    { path: 'skill-list', component: SkillListComponent },\n    { path: 'skill-edit/:id', component: SkillEditComponent },\n    { path: 'project-list', component: ProjectListComponent },\n    { path: 'project-edit/:id', component: ProjectEditComponent },\n    { path: 'location-list', component: LocationListComponent },\n    { path: 'location-edit/:id', component: LocationEditComponent },\n    // { path: 'company-list', component: CompanyListComponent, canActivate: [AuthGuard] },\n    // { path: 'company-edit/:id', component: CompanyEditComponent, canActivate: [AuthGuard] },\n    // { path: 'contact-list', component: ContactListComponent, canActivate: [AuthGuard] },\n    // { path: 'contact-edit/:id', component: ContactEditComponent, canActivate: [AuthGuard] }\n];\nexport class IscapeRoutingModule {\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    imports: [\n        RouterModule.forRoot(routes),\n    ],\n    exports: [RouterModule],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction IscapeRoutingModule_tsickle_Closure_declarations() {\n/** @type {?} */\nIscapeRoutingModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nIscapeRoutingModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @docs-private */\nexport class AnimationCurves {\n  static STANDARD_CURVE = 'cubic-bezier(0.4,0.0,0.2,1)';\n  static DECELERATION_CURVE = 'cubic-bezier(0.0,0.0,0.2,1)';\n  static ACCELERATION_CURVE = 'cubic-bezier(0.4,0.0,1,1)';\n  static SHARP_CURVE = 'cubic-bezier(0.4,0.0,0.6,1)';\n}\n\n\n/** @docs-private */\nexport class AnimationDurations {\n  static COMPLEX = '375ms';\n  static ENTERING = '225ms';\n  static EXITING = '195ms';\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule, InjectionToken, Optional, Inject, isDevMode} from '@angular/core';\nimport {BidiModule} from '@angular/cdk/bidi';\n\n\n/** Injection token that configures whether the Material sanity checks are enabled. */\nexport const MATERIAL_SANITY_CHECKS = new InjectionToken<boolean>('mat-sanity-checks');\n\n\n/**\n * Module that captures anything that should be loaded and/or run for *all* Angular Material\n * components. This includes Bidi, etc.\n *\n * This module should be imported to each top-level component module (e.g., MatTabsModule).\n */\n@NgModule({\n  imports: [BidiModule],\n  exports: [BidiModule],\n  providers: [{\n    provide: MATERIAL_SANITY_CHECKS, useValue: true,\n  }],\n})\nexport class MatCommonModule {\n  /** Whether we've done the global sanity checks (e.g. a theme is loaded, there is a doctype). */\n  private _hasDoneGlobalChecks = false;\n\n  /** Whether we've already checked for HammerJs availability. */\n  private _hasCheckedHammer = false;\n\n  /** Reference to the global `document` object. */\n  private _document = typeof document === 'object' && document ? document : null;\n\n  /** Reference to the global 'window' object. */\n  private _window = typeof window === 'object' && window ? window : null;\n\n  constructor(@Optional() @Inject(MATERIAL_SANITY_CHECKS) private _sanityChecksEnabled: boolean) {\n    if (this._areChecksEnabled() && !this._hasDoneGlobalChecks) {\n      this._checkDoctypeIsDefined();\n      this._checkThemeIsPresent();\n      this._hasDoneGlobalChecks = true;\n    }\n  }\n\n  /** Whether any sanity checks are enabled */\n  private _areChecksEnabled(): boolean {\n    return this._sanityChecksEnabled && isDevMode() && !this._isTestEnv();\n  }\n\n  /** Whether the code is running in tests. */\n  private _isTestEnv() {\n    return this._window && (this._window['__karma__'] || this._window['jasmine']);\n  }\n\n  private _checkDoctypeIsDefined(): void {\n    if (this._document && !this._document.doctype) {\n      console.warn(\n        'Current document does not have a doctype. This may cause ' +\n        'some Angular Material components not to behave as expected.'\n      );\n    }\n  }\n\n  private _checkThemeIsPresent(): void {\n    if (this._document && typeof getComputedStyle === 'function') {\n      const testElement = this._document.createElement('div');\n\n      testElement.classList.add('mat-theme-loaded-marker');\n      this._document.body.appendChild(testElement);\n\n      const computedStyle = getComputedStyle(testElement);\n\n      // In some situations, the computed style of the test element can be null. For example in\n      // Firefox, the computed style is null if an application is running inside of a hidden iframe.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n      if (computedStyle && computedStyle.display !== 'none') {\n        console.warn(\n          'Could not find Angular Material core theme. Most Material ' +\n          'components may not work as expected. For more info refer ' +\n          'to the theming guide: https://material.angular.io/guide/theming'\n        );\n      }\n\n      this._document.body.removeChild(testElement);\n    }\n  }\n\n  /** Checks whether HammerJS is available. */\n  _checkHammerIsAvailable(): void {\n    if (this._hasCheckedHammer || !this._window) {\n      return;\n    }\n\n    if (this._areChecksEnabled() && !this._window['Hammer']) {\n      console.warn(\n        'Could not find HammerJS. Certain Angular Material components may not work correctly.');\n    }\n    this._hasCheckedHammer = true;\n  }\n}\n"],"names":["buildLayoutCSS","value","_a","validateValue","buildCSS","toLowerCase","split","direction","wrap","inline","LAYOUT_VALUES","find","x","INLINE","validateWrapValue","isFlowHorizontal","indexOf","display","box-sizing","flex-direction","flex-wrap","applyCssPrefixes","target","key","isNaN","applyStyleToElement","renderer","element","style","styles","applyMultiValueStyleToElement","applyStyleToElements","elements","forEach","el","Object","keys","sort","values","Array","isArray","_i","values_1","length","setStyle","lookupAttributeValue","attribute","getAttribute","lookupInlineStyle","styleName","lookupStyle","_platformId","inlineOnly","immediateValue","isPlatformBrowser","getComputedStyle","getPropertyValue","trim","extendObject","dest","sources","arguments","TypeError","sources_1","source","hasOwnProperty","KeyOptions","baseKey","defaultValue","inputKeys","this","ResponsiveActivation","_options","_mediaMonitor","_onMediaChanges","_subscribers","_registryMap","_buildRegistryMap","_configureChangeObservers","defineProperty","prototype","slice","reverse","_activatedInputKey","activatedInputKey","hasKeyValue","_lookupKeyValue","destroy","link","unsubscribe","subscriptions","bp","_this","_keyInUse","push","mediaMonitor","observe","alias","pipe","map","change","clone","property","subscribe","_onMonitorEvents","breakpoints","suffix","filter","_calculateActivatedValue","undefined","current","currentKey","newKey","matches","_validateInputKey","activatedInput","inputKey","isMissingKey","activeOverlaps","some","BaseFxDirective","_elementRef","_renderer","_inputMap","_hasInitialized","_mqActivation","previousVal","SimpleChange","ngOnChanges","nativeElement","parentNode","_queryInput","ngOnInit","_display","_getDisplayStyle","Error","ngOnDestroy","_getDefaultVal","fallbackVal","val","_getAttributeValue","_getFlowDirection","addIfMissing","_applyStyleToElement","_applyStyleToElements","_cacheInput","prop","_listenForMediaQueryChanges","onMediaQueryChange","keyOptions","obj","children","buffer","i","hasResponsiveAPI","type","MediaMonitor","ElementRef","Renderer2","decorators","Inject","args","PLATFORM_ID","BaseFxDirectiveAdapter","_baseKey","_super","call","tslib_1.__extends","mqa","queryInput","cacheInput","cacheRaw","_cacheInputRaw","_cacheInputArray","_cacheInputObject","_cacheInputString","listenForMediaQueryChanges","join","classes","BREAKPOINTS","InjectionToken","BreakPointRegistry","_registry","overlaps","it","overlapping","nonOverlaps","concat","findByAlias","findByQuery","query","mediaQuery","Injectable","MediaChange","mqAlias","MatchMedia","_zone","_rendererFactory","_document","Map","_source","BehaviorSubject","_observable$","asObservable","isActive","mql","get","registerQuery","list","normalizeQuery","_prepareQueryCSS","onMQLEvent","e","run","next","_buildMQL","addListener","set","matchMedia","media","removeListener","mediaQueries","ALL_STYLES","createRenderer","RENDERER_TYPE","styleEl_1","createElement","setAttribute","cssText","appendChild","createText","head","mq","console","error","NgZone","RendererFactory2","DOCUMENT","ɵ0","id","data","encapsulation","ViewEncapsulation","None","unique","seen","item","mergeAlias","_breakpoints","_matchMedia","_registerBreakpoints","items","overlappings","found","first","queries","sortedItems","LayoutDirective","monitor","elRef","platformId","_announcer","ReplaySubject","layout$","changes","_updateWithDirection","css","Directive","selector","layout","Input","layoutXs","layoutSm","layoutMd","layoutLg","layoutXl","layoutGtXs","layoutGtSm","layoutGtMd","layoutGtLg","layoutLtSm","layoutLtMd","layoutLtLg","layoutLtXl","LayoutAlignDirective","container","_layout","_layoutWatcher","_onLayoutChange","bind","_updateWithValue","_buildCSS","_allowStretching","align","main_axis","cross_axis","max-width","max-height","Optional","Self","alignXs","alignSm","alignMd","alignLg","alignXl","alignGtXs","alignGtSm","alignGtMd","alignGtLg","alignLtSm","alignLtMd","alignLtLg","alignLtXl","LayoutGapDirective","ngAfterContentInit","_watchContentChanges","_observer","disconnect","runOutsideAngular","MutationObserver","mutations","addedNodes","removedNodes","childList","childrenNodes","nodeType","numItems","lastItem","_","j","margins","margin-left","margin-right","margin-top","margin-bottom","gap","gapXs","gapSm","gapMd","gapLg","gapXl","gapGtXs","gapGtSm","gapGtMd","gapGtLg","gapLtSm","gapLtMd","gapLtLg","gapLtXl","validateBasis","basis","grow","shrink","parts","_validateCalcValue","substring","substr","calc","replace","FlexDirective","_container","_updateStyle","flexBasis","String","_validateValue","apply","isValue","parentElement","clearStyles","min-width","min-height","flex","hasCalc","isPercent","flex-grow","flex-shrink","flex-basis","max","min","usingCalc","isPx","isFixed","SkipSelf","flexXs","flexSm","flexMd","flexLg","flexXl","flexGtXs","flexGtSm","flexGtMd","flexGtLg","flexLtSm","flexLtMd","flexLtLg","flexLtXl","FlexAlignDirective","FLEX_FILL_CSS","margin","width","height","FlexFillDirective","FlexOffsetDirective","watchParentFlow","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","offsetLtSm","offsetLtMd","offsetLtLg","offsetLtXl","offsetGtXs","offsetGtSm","offsetGtMd","offsetGtLg","FlexOrderDirective","parseInt","order","orderXs","orderSm","orderMd","orderLg","orderXl","orderGtXs","orderGtSm","orderGtMd","orderGtLg","orderLtSm","orderLtMd","orderLtLg","orderLtXl","RendererAdapter","setElementClass","className","isAdd","addClass","removeClass","setElementStyle","styleValue","removeStyle","name","flags","animate","_notImplemented","attachViewAfter","detachView","destroyView","createViewRoot","createTemplateAnchor","invokeElementMethod","projectNodes","selectRootElement","setBindingDebugInfo","setElementProperty","setElementAttribute","setText","listen","listenGlobal","methodName","ClassDirective","_iterableDiffers","_keyValueDiffers","_ngEl","_ngClassInstance","_configureAdapters","_base","ngClass","klass","activeKey","mqActivation","_configureMQListener","ngDoCheck","adapter","NgClass","fallbackValue","IterableDiffers","KeyValueDiffers","ngClassBase","klazz","ngClassXs","ngClassSm","ngClassMd","ngClassLg","ngClassXl","ngClassLtSm","ngClassLtMd","ngClassLtLg","ngClassLtXl","ngClassGtXs","ngClassGtSm","ngClassGtMd","ngClassGtLg","NgStyleKeyValue","noQuotes","ngStyleUtils","getType","buildRawList","buildMapFromList","buildMapFromSet","what","constructor","Set","delimiter","sanitize","stringToKeyValue","entry","reduce","keyValuesToMap","StyleDirective","_sanitizer","_differs","_ngStyleInstance","ngStyle","NgStyle","_buildCacheInterceptor","_fallbackToStyle","merge","_buildStyleMap","inputMap","sanitizer","SecurityContext","STYLE","ngStyleBase","DomSanitizer","ngStyleXs","ngStyleSm","ngStyleMd","ngStyleLg","ngStyleXl","ngStyleLtSm","ngStyleLtMd","ngStyleLtLg","ngStyleLtXl","ngStyleGtXs","ngStyleGtSm","ngStyleGtMd","ngStyleGtLg","FALSY","negativeOf","hide","ShowHideDirective","hasInitialized","shouldShow","_validateTruthy","show","showXs","showSm","showMd","showLg","showXl","showLtSm","showLtMd","showLtLg","showLtXl","showGtXs","showGtSm","showGtMd","showGtLg","hideXs","hideSm","hideMd","hideLg","hideXl","hideLtSm","hideLtMd","hideLtLg","hideLtXl","hideGtXs","hideGtSm","hideGtMd","hideGtLg","ImgSrcDirective","cacheDefaultSrc","hasResponsiveKeys","defaultSrc","_updateSrcFor","url","activatedValue","srcBase","srcXs","srcSm","srcMd","srcLg","srcXl","srcLtSm","srcLtMd","srcLtLg","srcLtXl","srcGtXs","srcGtSm","srcGtMd","srcGtLg","DEFAULT_BREAKPOINTS","HANDSET_PORTRAIT","HANDSET_LANDSCAPE","TABLET_LANDSCAPE","TABLET_PORTRAIT","WEB_PORTRAIT","WEB_LANDSCAPE","ScreenTypes","HANDSET","TABLET","WEB","ORIENTATION_BREAKPOINTS","ObservableMedia","MediaService","mediaWatcher","filterOverlaps","_registerBreakPoints","observable$","_buildObservable","_toMediaQuery","complete","self","_findByQuery","_findByAlias","ALIAS_DELIMITERS","firstUpperCase","part","charAt","remainder","toUpperCase","camelCase","validateSuffixes","mergeByAlias","defaults","custom","merged","result","buildMergedBreakPoints","_custom","options","orientation","orientations","DEFAULT_BREAKPOINTS_PROVIDER_FACTORY","DEFAULT_BREAKPOINTS_PROVIDER","provide","useFactory","CUSTOM_BREAKPOINTS_PROVIDER_FACTORY","OBSERVABLE_MEDIA_PROVIDER_FACTORY","parentService","OBSERVABLE_MEDIA_PROVIDER","deps","MEDIA_MONITOR_PROVIDER_FACTORY","parentMonitor","MEDIA_MONITOR_PROVIDER","NgModule","providers","MediaQueriesModule","ALL_DIRECTIVES","FlexLayoutModule","provideBreakPoints","ngModule","imports","exports","declarations","MATERIAL_MODULES","MatToolbarModule","MatCardModule","MatButtonModule","MatIconModule","MatMenuModule","MatInputModule","MatSlideToggleModule","MatChipsModule","MatSelectModule","MatFormFieldModule","MaterialModule","CommonModule","ctorParameters","ItemsModule","ItemsComponent","routes","path","pathMatch","redirectTo","component","HomeComponent","canActivate","AuthGuard","UserListComponent","UserEditComponent","SkillListComponent","SkillEditComponent","ProjectListComponent","ProjectEditComponent","LocationListComponent","LocationEditComponent","AppRoutingModule","RouterModule","forRoot","LocationModule","ReactiveFormsModule","ProjectModule","SharedModule","DataService","AuthService","FormService","SkillModule","SkillService","UserModule","UserService","environment","production","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","IscapeModule","config","AngularFireModule","FirebaseAppConfigToken","useValue","FirebaseAppName","IscapeComponent","BrowserAnimationsModule","BrowserModule","HomeModule","IscapeRoutingModule","AngularFireAuthModule","AngularFirestoreModule","initializeApp","bootstrap","getSortDuplicateSortableIdError","getSortHeaderNotContainedWithinSortError","getSortHeaderMissingIdError","getSortInvalidDirectionError","MatSortBase","_MatSortMixinBase","mixinDisabled","sortables","_stateChanges","Subject","start","_direction","sortChange","EventEmitter","MatSort","isDevMode","_disableClear","v","coerceBooleanProperty","register","sortable","has","deregister","delete","active","getNextSortDirection","disableClear","sortDirectionCycle","getSortDirectionCycle","nextDirectionIndex","exportAs","inputs","Output","sortOrder","sortButtonLabel","sortDescriptionLabel","MatSortHeaderIntl","MAT_SORT_HEADER_INTL_PROVIDER_FACTORY","parentIntl","MAT_SORT_HEADER_INTL_PROVIDER","SORT_ANIMATION_TRANSITION","AnimationDurations","ENTERING","AnimationCurves","STANDARD_CURVE","MatSortHeaderBase","_MatSortHeaderMixinBase","MatSortHeader","_intl","changeDetectorRef","_sort","_cdkColumnDef","arrowPosition","_rerenderSubscription","markForCheck","_handleClick","_isDisabled","_isSorted","disabled","Component","template","host","(click)","[class.mat-sort-header-sorted]","[class.mat-sort-header-disabled]","preserveWhitespaces","changeDetection","ChangeDetectionStrategy","OnPush","animations","trigger","state","transform","transition","keyframes","opacity","CdkColumnDef","propDecorators","MatStepLabel","TemplateRef","CdkStepLabel","optionalLabel","MatStepperIntl","MatStepHeader","_focusMonitor","_element","_intlSubscription","_index","coerceNumberProperty","_selected","_active","_optional","stopMonitoring","_stringLabel","label","_templateLabel","_getHostElement","class","role","ChangeDetectorRef","index","selected","optional","MatStep","stepper","_errorStateMatcher","isErrorState","control","form","originalErrorState","customErrorState","invalid","interacted","ErrorStateMatcher","useExisting","MatStepper","_steps","takeUntil","_destroyed","_stateChanged","MatHorizontalStepper","aria-orientation","visibility","MatVerticalStepper","Directionality","MatStepperNext","CdkStepper","CdkStepperNext","MatStepperPrevious","CdkStepperPrevious","none","combineLatest$2","observables","project","pop","isArray_1","lift","ArrayObservable_1","ArrayObservable","CombineLatestOperator","combineLatest_2","combineLatest","subscriber","CombineLatestSubscriber","destination","__extends","_next","observable","_complete","len","toRespond","add","subscribeToResult_1","subscribeToResult","notifyComplete","unused","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","oldVal","_tryProject","err","OuterSubscriber_1","OuterSubscriber","MatTable","CDK_TABLE_TEMPLATE","CdkTable","MatCellDef","CdkCellDef","MatHeaderCellDef","CdkHeaderCellDef","MatColumnDef","MatHeaderCell","columnDef","elementRef","classList","cssClassFriendlyName","CdkHeaderCell","MatCell","CdkCell","MatHeaderRowDef","CdkHeaderRowDef","MatRowDef","CdkRowDef","MatHeaderRow","CDK_ROW_TEMPLATE","MatRow","MatTableDataSource","initialData","_renderData","_filter","sortingDataAccessor","sortHeaderId","filterPredicate","dataStr","currentTerm","transformedFilter","_data","_updateChangeSubscription","_paginator","paginator","empty","pageChange","page","_renderChangesSubscription","_filterData","startWith","_orderData","_pageData","filteredData","_updatePaginator","a","b","startIndex","pageIndex","pageSize","splice","filteredDataLength","Promise","resolve","then","lastPageIndex","Math","ceil","connect","MatInkBar","_ngZone","alignToElement","requestAnimationFrame","_setStyles","inkBar","left","offsetLeft","offsetWidth","MatTabLabel","templateRef","viewContainerRef","ViewContainerRef","CdkPortal","MatTabBase","_MatTabMixinBase","MatTab","_viewContainerRef","textLabel","_contentPortal","_labelChange","_disableChange","position","origin","TemplatePortal","_content","MatTabBodyPortal","_componentFactoryResolver","_host","_isCenterPosition","_position","attach","_centeringSub","_beforeCentering","isCentering","hasAttached","_leavingSub","_afterLeavingCenter","detach","closed","ComponentFactoryResolver","MatTabBody","forwardRef","CdkPortalOutlet","_dir","_onCentering","_onCentered","_getLayoutDirection","dir","_origin","_onTranslateTabStarted","toState","emit","clientHeight","_onTranslateTabComplete","fromState","nextId","MatTabChangeEvent","MatTabGroupBase","_MatTabGroupMixinBase","mixinColor","mixinDisableRipple","MatTabGroup","_changeDetectorRef","_indexToSelect","_tabBodyWrapperHeight","_tabsSubscription","Subscription","EMPTY","_tabLabelSubscription","_dynamicHeight","_selectedIndex","headerPosition","selectedIndexChange","focusChange","selectedTabChange","selectChange","_groupId","_backgroundColor","remove","backgroundColor","ngAfterContentChecked","indexToSelect","_tabs","tabChangeEvent","_createChangeEvent","tab","_subscribeToTabLabels","_focusChanged","event","toArray","_getTabLabelId","_getTabContentId","_setTabBodyWrapperHeight","tabHeight","wrapper","_tabBodyWrapper","offsetHeight","_removeTabBodyWrapperHeight","tabHeader","idx","selectedIndex","focusIndex","_getTabIndex","[class.mat-tab-group-dynamic-height]","[class.mat-tab-group-inverted-header]","dynamicHeight","_dynamicHeightDeprecated","MatTabLabelWrapperBase","_MatTabLabelWrapperMixinBase","MatTabLabelWrapper","focus","getOffsetLeft","getOffsetWidth","[class.mat-tab-disabled]","EXAGGERATED_OVERSCROLL","MatTabHeaderBase","_MatTabHeaderMixinBase","MatTabHeader","_viewportRuler","_focusIndex","_scrollDistance","_selectedIndexChanged","_realignInkBar","_showPaginationControls","_disableScrollAfter","_disableScrollBefore","selectFocusedIndex","indexFocused","_tabLabelCount","_labelWrappers","_updatePagination","_scrollToLabel","_checkScrollingControls","_alignInkBarToSelectedTab","_scrollDistanceChanged","_updateTabScrollPosition","_handleKeydown","keyCode","RIGHT_ARROW","_focusNextTab","LEFT_ARROW","_focusPreviousTab","ENTER","SPACE","preventDefault","dirChange","observableOf","resize","realign","_onContentChanges","_checkPaginationEnabled","_isValidIndex","_setTabFocus","tabIndex","containerEl","_tabListContainer","scrollLeft","scrollWidth","_moveFocus","tabs","scrollDistance","translateX","_tabList","_getMaxScrollDistance","_scrollHeader","scrollDir","viewLength","labelIndex","selectedLabel","labelBeforePos","labelAfterPos","beforeVisiblePos","afterVisiblePos","isEnabled","selectedLabelWrapper","_inkBar","[class.mat-tab-header-pagination-controls-enabled]","[class.mat-tab-header-rtl]","ViewportRuler","ViewChild","MatTabNavBase","_MatTabNavMixinBase","MatTabNav","_onDestroy","_disableRipple","_setLinkDisableRipple","updateActiveLink","_activeLinkChanged","_activeLinkElement","_alignInkBar","_tabLinks","disableRipple","MatTabLinkBase","_MatTabLinkMixinBase","mixinTabIndex","_tabNavBar","_tabLinkRipple","setupTriggerEvents","globalOptions","rippleConfig","speedFactor","baseSpeedFactor","enumerable","configurable","MatTabLink","[attr.aria-disabled]","[attr.tabIndex]","[class.mat-tab-label-active]","Platform","MAT_RIPPLE_GLOBAL_OPTIONS","Attribute","MatToolbarBase","_MatToolbarMixinBase","MatToolbarRow","MatToolbar","_platform","ngAfterViewInit","isBrowser","_checkToolbarMixedModes","_toolbarRows","childNodes","node","contains","Node","COMMENT_NODE","textContent","throwToolbarMixedModesError","[class.mat-toolbar-multiple-rows]","[class.mat-toolbar-single-row]","MatCommonModule","PlatformModule","VERSION","Version","throwMatDuplicatedDrawerError","MatDrawerToggleResult","animationFinished","MAT_DRAWER_DEFAULT_AUTOSIZE","MatDrawerContent","_margins","right","_contentMargins","[style.margin-left.px]","[style.margin-right.px]","_focusTrapFactory","_doc","_elementFocusedBeforeDrawerWasOpened","_mode","_disableClose","opened","_isFocusTrapEnabled","_focusTrap","_trapFocus","_restoreFocus","MatDrawer","onAlignChanged","onPositionChanged","_modeChanged","mode","HTMLElement","focusVia","_openedVia","blur","enabled","isOpen","openedVia","_opened","_animationState","_enableAnimations","open","close","stopPropagation","openedChange","[@transform]","(@transform.start)","(@transform.done)","(keydown)","[attr.align]","[class.mat-drawer-end]","[class.mat-drawer-over]","[class.mat-drawer-side]","_openedStream","openedStart","_closedStream","closedStart","onOpen","onClose","backdropClick","_doCheckSubject","_autosize","defaultAutosize","MatDrawerContainer","_drawers","drawer","_watchDrawerToggle","_watchDrawerPosition","_watchDrawerMode","_isDrawerOpen","_start","_end","_updateContentMargins","debounceTime","_setContainerClass","onMicrotaskEmpty","take","_right","_left","_closeModalDrawer","_isShowingBackdrop","_width","ContentChildren","ContentChild","autosize","MatSidenavContent","MatSidenav","_fixedBottomGap","[class.mat-sidenav-fixed]","[style.top.px]","[style.bottom.px]","MatSidenavContainer","nextUniqueId","MAT_SLIDE_TOGGLE_VALUE_ACCESSOR","NG_VALUE_ACCESSOR","MatSlideToggle","multi","MatSlideToggleChange","MatSlideToggleBase","_MatSlideToggleMixinBase","onChange","onTouched","_uniqueId","_required","_checked","labelPosition","ariaLabel","ariaLabelledby","_rippleConfig","centered","radius","_slideRenderer","SlideToggleRenderer","_inputElement","focusOrigin","_onInputFocusChange","_onChangeEvent","dragging","checked","_emitChangeEvent","_onInputClick","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","toggle","_focusRipple","fadeOut","_ripple","launch","tslib_1.__assign","persistent","_onDragStart","startThumbDrag","_onDrag","updateThumbPosition","deltaX","_onDragEnd","newCheckedValue","dragPercentage","setTimeout","stopThumbDrag","_onLabelTextChange","[id]","[class.mat-checked]","[class.mat-disabled]","[class.mat-slide-toggle-label-before]","FocusMonitor","required","MatRipple","_thumbBarEl","querySelector","_thumbBarWidth","clientWidth","_thumbEl","_previousChecked","applyCssTransform","dragX","percentage","MatRippleModule","ObserversModule","A11yModule","HAMMER_GESTURE_CONFIG","useClass","GestureConfig","MIN_AUTO_TICK_SEPARATION","DISABLED_THUMB_GAP","MIN_VALUE_NONACTIVE_THUMB_GAP","MIN_VALUE_ACTIVE_THUMB_GAP","MAT_SLIDER_VALUE_ACCESSOR","MatSlider","MatSliderChange","MatSliderBase","_MatSliderMixinBase","_invert","_max","_min","_step","_thumbLabel","_tickInterval","_value","_vertical","input","_percent","_isSliding","_isActive","_tickIntervalPercent","_sliderDimensions","_controlValueAccessorChangeFn","_dirChangeSubscription","_calculatePercentage","_roundLabelTo","toString","tickInterval","toFixed","_clamp","vertical","invert","percent","_isMinValue","thumbLabel","axis","_invertMouseCoords","_thumbGap","tickSize","backgroundSize","_invertAxis","detectChanges","_onMouseenter","_getSliderDimensions","_updateTickIntervalPercent","_onClick","oldValue","_focusHostElement","_updateValueFromPosition","clientX","y","clientY","_emitInputEvent","_onSlide","_onSlideStart","center","_valueOnSlideStart","_onSlideEnd","_onFocus","_onBlur","_onKeydown","PAGE_UP","_increment","PAGE_DOWN","END","HOME","UP_ARROW","DOWN_ARROW","_onKeyup","numSteps","step","pos","top","size","posComponent","exactValue","_calculateValue","closestValue","round","trackSize","pixelsPerStep","pixelsPerTick","_sliderWrapper","getBoundingClientRect","(focus)","(blur)","(keyup)","(mouseenter)","(slide)","(slideend)","(slidestart)","[tabIndex]","[attr.aria-valuemax]","[attr.aria-valuemin]","[attr.aria-valuenow]","[attr.aria-orientation]","[class.mat-slider-disabled]","[class.mat-slider-has-ticks]","[class.mat-slider-horizontal]","[class.mat-slider-axis-inverted]","[class.mat-slider-sliding]","[class.mat-slider-thumb-label-showing]","[class.mat-slider-vertical]","[class.mat-slider-min-value]","[class.mat-slider-hide-last-tick]","_thumbLabelDeprecated","_tickIntervalDeprecated","styleElementForWebkitCompatibility","MediaMatcher","platform","window","noopMatchMedia","WEBKIT","createEmptyStyleRule","document","sheet","createTextNode","getElementsByTagName","BreakpointObserver","mediaMatcher","zone","_queries","_destroySubject","isMatched","coerceArray","_registerQuery","output","fromEventPattern","listener","nextMql","Breakpoints","Handset","Tablet","Web","HandsetPortrait","TabletPortrait","WebPortrait","HandsetLandscape","TabletLandscape","WebLandscape","MatSnackBarRef","containerInstance","_overlayRef","_afterClosed","_afterOpened","_onAction","onAction","dismiss","_onExit","_finishDismiss","exit","clearTimeout","_durationTimeoutId","closeWithAction","_dismissAfter","duration","_open","dispose","afterDismissed","afterOpened","_onEnter","MAT_SNACK_BAR_DATA","MatSnackBarConfig","politeness","announcementMessage","horizontalPosition","verticalPosition","SimpleSnackBar","snackBarRef","action","COMPLEX","[@contentFade]","SHOW_ANIMATION","DECELERATION_CURVE","HIDE_ANIMATION","EXITING","ACCELERATION_CURVE","MatSnackBarContainer","attachComponentPortal","portal","_portalOutlet","snackBarConfig","panelClass","extraClasses","_setCssClasses","attachTemplatePortal","onAnimationEnd","startsWith","_completeExit","onEnter_1","enter","cssClass","[@state]","(@state.done)","BasePortalOutlet","MatSnackBar","_overlay","_live","_injector","_breakpointObserver","_parentSnackBar","_snackBarRefAtThisLevel","parent","_openedSnackBarRef","openFromComponent","_config","_applyConfigDefaults","_attach","announce","message","_attachSnackBarContainer","overlayRef","containerPortal","ComponentPortal","containerRef","instance","_createOverlay","injector","_createInjector","contentRef","detachments","overlayElement","overlayConfig","OverlayConfig","positionStrategy","global","isRtl","isLeft","isRight","centerHorizontally","bottom","create","userInjector","injectionTokens","WeakMap","PortalInjector","Overlay","LiveAnnouncer","Injector","_applyConfigDefaults$1","BASE_SIZE","BASE_STROKE_WIDTH","MatProgressSpinnerBase","_MatProgressSpinnerMixinBase","INDETERMINATE_ANIMATION_TEMPLATE","MatProgressSpinner","_fallbackAnimation","_elementSize","_diameter","EDGE","TRIDENT","animationClass","diameters","_attachStyleNode","_strokeWidth","diameter","newValue","strokeWidth","viewBox","_circleRadius","PI","_strokeCircumference","styleTag","insertRule","_getAnimationText","[style.width.px]","[style.height.px]","[attr.mode]","MatSpinner","MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR","MatRadioGroup","MatRadioChange","MatRadioGroupBase","_MatRadioGroupMixinBase","_changeDetector","_name","_isInitialized","_labelPosition","_disabled","_updateRadioButtonNames","_markRadiosForCheck","_updateSelectedRadioFromValue","_checkSelectedRadioButton","_touch","_radios","radio","isAlreadySelected","event_1","_markForCheck","MatRadioButton","descendants","MatRadioButtonBase","_MatRadioButtonMixinBase","radioGroup","_radioDispatcher","_removeUniqueSelectionListener","newCheckedState","notify","_isRippleDisabled","_onInputChange","groupValueChanged","[class.mat-radio-checked]","[class.mat-radio-disabled]","[attr.id]","UniqueSelectionDispatcher","dueTime","scheduler","async_1","async","DebounceTimeOperator","debounceTime_2","DebounceTimeSubscriber","debouncedSubscription","lastValue","hasValue","clearDebounce","schedule","dispatchNext","debouncedNext","Subscriber_1","Subscriber","dispatchNext$1","coerceToString","coerceToNumber","MatGridTile","_rowspan","_colspan","_setStyle","MatGridTileText","TileCoordinator","numColumns","tiles","columnIndex","rowIndex","tracker","fill","positions","tile","_trackTile","lastRowMax","rowCount","gapStartIndex","_findMatchingGap","colspan","_markTilePosition","TilePosition","tileCols","gapEndIndex","_nextRow","_findGapEndIndex","rowspan","row","col","TileStyler","_rows","init","gutterSize","cols","_gutterSize","normalizeUnits","_cols","getBaseTileSize","sizePercent","gutterFraction","getTilePosition","baseSize","getTileSize","span","colIndex","percentWidthPerTile","gutterWidthFractionPerTile","setColStyles","setRowStyles","percentWidth","gutterWidth","baseTileWidth","side","getGutterSpan","getTileSpan","tileHeight","getComputedHeight","FixedTileStyler","fixedRowHeight","reset","_setListStyle","_tiles","RatioTileStyler","_parseRatio","percentHeightPerTile","rowHeightRatio","baseTileHeight","ratioParts","parseFloat","FitTileStyler","gutterHeightPerTile","exp","match","MAT_FIT_MODE","MatGridList","_gutter","_rowHeight","_setTileStyler","_checkCols","_checkRowHeight","_layoutTiles","rowHeight","_tileStyler","MatListBase","_MatListMixinBase","MatListItemBase","_MatListItemMixinBase","MatNavList","MatList","MatListAvatarCssMatStyler","_navList","_isNavList","MatListItem","_lineSetter","MatLineSetter","_lines","_handleFocus","_handleBlur","MatSelectionListBase","_MatSelectionListMixinBase","MatListOptionBase","_MatListOptionMixinBase","MAT_SELECTION_LIST_VALUE_ACCESSOR","MatSelectionList","MatListOptionChange","MatSelectionListChange","option","MatListOption","selectionList","_hasFocus","checkboxPosition","selectionChange","selectedOptions","isSelected","_setSelected","_reportValueChange","_removeOptionFromList","getLabel","_text","_emitDeprecatedChangeEvent","_setFocusedOption","select","deselect","tabindex","[class.mat-list-item-disabled]","[class.mat-list-item-focus]","[attr.aria-selected]","_tempValues","_setOptionsFromValues","optionIndex","_getOptionIndex","_keyManager","setNextItemActive","_toggleSelectOnFocusedOption","setFirstItemActive","setLastItemActive","onKeydown","_onChange","_getSelectedOptionValues","_getOptionByValue","Boolean","focusedOption","focusedIndex","transformMenu","fadeInItems","throwMatMenuMissingError","throwMatMenuInvalidPositionX","throwMatMenuInvalidPositionY","MatMenuItemBase","_MatMenuItemMixinBase","MatMenuItem","_hovered","_highlighted","_triggersSubmenu","_checkDisabled","_emitHoverEvent","length_1","TEXT_NODE","[class.mat-menu-item-highlighted]","[class.mat-menu-item-submenu-trigger]","[attr.tabindex]","[attr.disabled]","MAT_MENU_DEFAULT_OPTIONS","MAT_MENU_BASE_ELEVATION","MatMenu","_defaultOptions","_xPosition","xPosition","_yPosition","yPosition","_tabSubscription","_classList","_panelAnimationState","_overlapTrigger","overlapTrigger","setPositionClasses","FocusKeyManager","withWrap","withTypeAhead","tabOut","switchMap","onStable","ESCAPE","parentMenu","focusFirstItem","resetActiveItem","setActiveItem","posX","posY","setElevation","depth","newElevation","customElevation","c","_previousElevation","_startAnimation","_resetAnimation","_onAnimationDone","MAT_MENU_SCROLL_STRATEGY","MAT_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY","overlay","scrollStrategies","reposition","MAT_MENU_SCROLL_STRATEGY_PROVIDER","MENU_PANEL_TOP_PADDING","MatMenuTrigger","_scrollStrategy","_parentMenu","_menuItemInstance","_menuOpen","_closeSubscription","_positionSubscription","_hoverSubscription","_openedByMouse","menuOpened","onMenuOpen","menuClosed","onMenuClose","triggersSubmenu","menu","_checkMenu","reason","_destroyMenu","openMenu","_cleanUpSubscriptions","toggleMenu","closeMenu","_portal","_menuClosingActions","_initMenu","menuOpen","_resetMenu","_setMenuElevation","_setIsMenuOpen","rootNode","_getOverlayConfig","_subscribeToPositions","_getPosition","hasBackdrop","backdropClass","scrollStrategy","onPositionChange","connectionPair","overlayX","overlayY","originX","originFallbackX","_b","overlayFallbackY","_c","originY","originFallbackY","_d","overlayFallbackX","offsetY","connectedTo","withDirection","withOffsetY","withFallbackPosition","backdrop","parentClose","hover","_handleMousedown","isFakeMousedownFromScreenReader","aria-haspopup","(mousedown)","_deprecatedMatMenuTriggerFor","OverlayModule","transformPanel","minWidth","fadeInContent","getMatSelectDynamicMultipleError","getMatSelectNonArrayValueError","getMatSelectNonFunctionValueError","SELECT_PANEL_MAX_HEIGHT","SELECT_PANEL_PADDING_X","SELECT_PANEL_INDENT_PADDING_X","SELECT_ITEM_HEIGHT_EM","SELECT_MULTIPLE_PANEL_PADDING_X","SELECT_PANEL_VIEWPORT_PADDING","MAT_SELECT_SCROLL_STRATEGY","MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY","MAT_SELECT_SCROLL_STRATEGY_PROVIDER","MatSelectChange","MatSelectBase","_defaultErrorStateMatcher","_parentForm","_parentFormGroup","ngControl","_MatSelectMixinBase","mixinErrorState","MatSelectTrigger","MatSelect","_parentFormField","_scrollStrategyFactory","_panelOpen","_scrollTop","_multiple","_compareWith","o1","o2","_uid","_destroy","_triggerFontSize","_onTouched","_optionIds","_transformOrigin","_panelDoneAnimating","_offsetY","_positions","focused","controlType","optionSelectionChanges","defer","onSelectionChange","valueChange","valueAccessor","_placeholder","stateChanges","_selectionModel","_initializeSelection","_id","o","SelectionModel","multiple","_initKeyManager","_resetOptions","updateErrorState","panelOpen","_triggerRect","_calculateOverlayPosition","_highlightCorrectOption","overlayDir","fontSize","_setSelectionByValue","viewValue","_isRtl","_handleOpenKeydown","_handleClosedKeydown","isArrowKey","altKey","activeItem","previouslyFocusedIndex","activeItemIndex","shiftKey","_selectViaInteraction","_onPanelDone","offsetX","_onFadeInDone","_onAttached","positionChange","_calculateOverlayOffsetX","panel","scrollTop","_getPanelTheme","color","isEmpty","isUserInput","_clearSelection","currentValue","_selectValue","_sortValues","correspondingOption","warn","skip","clear","ActiveDescendantKeyManager","_scrollActiveOptionIntoView","_onSelect","_setOptionIds","wasSelected","_propagateChanges","valueToEmit","itemHeight","_getItemHeight","activeOptionIndex","scrollOffset","MatOption","countGroupLabelsBeforeOption","optionGroups","panelTop","_getItemCount","panelHeight","maxScroll","selectedOptionOffset","scrollBuffer","_calculateOverlayScroll","_calculateOverlayOffsetY","_checkOverlayWithinViewport","optimalScrollPosition","placeholder","_getAriaActiveDescendant","overlayRect","viewportSize","getViewportSize","paddingWidth","group","leftOverflow","rightOverflow","updatePosition","optionOffsetFromPanelTop","optionHeightAdjustment","maxOptionsDisplayed","floor","topSpaceAvailable","bottomSpaceAvailable","panelHeightTop","abs","panelHeightBottom","_adjustPanelUp","_adjustPanelDown","_getOriginBasedOnOption","distanceBelowViewport","distanceAboveViewport","setDescribedByIds","ids","_ariaDescribedby","onContainerClick","[attr.aria-label]","[attr.aria-labelledby]","[attr.aria-required]","[attr.aria-invalid]","[attr.aria-owns]","[attr.aria-multiselectable]","[attr.aria-describedby]","[attr.aria-activedescendant]","[class.mat-select-disabled]","[class.mat-select-invalid]","[class.mat-select-required]","MatFormFieldControl","MAT_OPTION_PARENT_COMPONENT","NgForm","FormGroupDirective","MatFormField","NgControl","CdkConnectedOverlay","MatOptgroup","customTrigger","compareWith","errorStateMatcher","MatOptionModule","TOUCHEND_HIDE_DELAY","TOOLTIP_PANEL_CLASS","getMatTooltipInvalidPositionError","MAT_TOOLTIP_SCROLL_STRATEGY","MatTooltip","_scrollDispatcher","_ariaDescriber","showDelay","hideDelay","_message","_manualListeners","IOS","nodeName","webkitUserSelect","userSelect","addEventListener","_tooltipInstance","_disposeTooltip","removeDescription","_isTooltipVisible","_updateTooltipMessage","describe","_tooltipClass","_setTooltipClass","removeEventListener","delay","_createTooltip","isVisible","TooltipComponent","afterHidden","_getOrigin","_getOverlayPosition","strategy","main","fallback","scrollableAncestors","getAncestorScrollContainers","withScrollableContainers","scrollableViewProperties","isOverlayClipped","_setTransformOrigin","isDirectionLtr","_invertPosition","isLtr","tooltipClass","(longpress)","(touchend)","ScrollDispatcher","AriaDescriber","_positionDeprecated","_visibility","_closeOnInteraction","_onHide","_hideTimeoutId","_showTimeoutId","overlayPosition","_animationStart","_animationDone","_handleBodyInteraction","aria-hidden","itemsPerPageLabel","nextPageLabel","previousPageLabel","getRangeLabel","MatPaginatorIntl","MAT_PAGINATOR_INTL_PROVIDER_FACTORY","MAT_PAGINATOR_INTL_PROVIDER","DEFAULT_PAGE_SIZE","MatPaginator","_pageIndex","_length","_pageSizeOptions","_intlChanges","_pageSize","_updateDisplayedPageSizeOptions","pageSizeOptions","_initialized","nextPage","hasNextPage","_emitPageEvent","previousPage","hasPreviousPage","numberOfPages","_changePageSize","_displayedPageSizeOptions","_bufferValue","MatProgressBar","clamp","_primaryTransform","_bufferTransform","bufferValue","aria-valuemin","aria-valuemax","[class.mat-primary]","[class.mat-accent]","[class.mat-warn]","createMissingDateImplError","provider","calendarLabel","openCalendarLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","switchToMonthViewLabel","switchToYearViewLabel","MatDatepickerIntl","MatCalendarCell","displayValue","numCols","allowDisabledSelection","activeCell","cellAspectRatio","selectedValueChange","MatCalendarBody","_cellClicked","cell","rows","_isActiveCell","cellNumber","_firstRowOffset","todayValue","selectedValue","labelMinRequiredCells","DAYS_PER_WEEK","MatMonthView","_dateAdapter","_dateFormats","selectedChange","_userSelection","firstDayOfWeek","getFirstDayOfWeek","narrowWeekdays","getDayOfWeekNames","weekdays","long","narrow","_weekdays","_activeDate","today","oldActiveDate","_getValidDateOrNull","deserialize","_hasSameMonthAndYear","_init","_selectedDate","_getDateInCurrentMonth","_dateSelected","date","selectedYear","getYear","activeDate","selectedMonth","getMonth","selectedDate","createDate","_todayDate","_monthLabel","getMonthNames","toLocaleUpperCase","firstOfMonth","_firstWeekOffset","getDayOfWeek","_createWeekCells","daysInMonth","getNumDaysInMonth","dateNames","getDateNames","_weeks","dateFilter","format","dateA11yLabel","getDate","d1","d2","isDateInstance","isValid","MatYearView","_selectedMonth","_getMonthInCurrentYear","_monthSelected","month","_todayMonth","_yearLabel","getYearName","monthNames","_months","_createCellForMonth","monthName","monthYearA11yLabel","_isMonthEnabled","addCalendarDays","MatCalendar","startView","_dateFilterForViews","minDate","compareDate","maxDate","_startAt","_minDate","_maxDate","_clampedActiveDate","clampDate","_monthView","monthYearLabel","startAt","_focusActiveCell","firstChange","view","monthView","yearView","sameDate","_userSelected","_currentPeriodClicked","_previousClicked","addCalendarMonths","addCalendarYears","_nextClicked","_previousEnabled","_isSameView","_nextEnabled","_handleCalendarBodyKeydown","_handleCalendarBodyKeydownInMonthView","_handleCalendarBodyKeydownInYearView","date1","date2","_prevMonthInSameCol","_nextMonthInSameCol","DateAdapter","MAT_DATE_FORMATS","datepickerUid","MAT_DATEPICKER_SCROLL_STRATEGY","MatDatepickerContent","_calendar","datepicker","[class.mat-datepicker-content-touch]","MatDatepicker","_disabledChange","_inputSubscription","_popupRef","selectedChanged","_datepickerInput","_valueChange","_focusedElementBeforeOpen","activeElement","touchUi","_openAsDialog","_openAsPopup","openedStream","_dialogRef","_calendarPortal","isAttached","closedStream","afterClosed","componentInstance","_createPopup","getPopupConnectionElementRef","fallbackOffset","MatDialog","MAT_DATEPICKER_VALUE_ACCESSOR","MatDatepickerInput","MAT_DATEPICKER_VALIDATORS","NG_VALIDATORS","MatDatepickerInputEvent","targetElement","_formField","dateChange","dateInput","_cvaOnChange","_validatorOnChange","_datepickerSubscription","_localeSubscription","_parseValidator","_lastValueValid","matDatepickerParse","text","_minValidator","controlValue","matDatepickerMin","actual","_maxValidator","matDatepickerMax","_filterValidator","_dateFilter","matDatepickerFilter","_validator","Validators","compose","localeChanges","registerDatepicker","_datepicker","_registerInput","oldDate","registerOnValidatorChange","validate","underlineRef","_getPopupFallbackOffset","_inputContainerRef","_onInput","parse","MAT_INPUT_VALUE_ACCESSOR","[attr.aria-haspopup]","[attr.min]","[attr.max]","[disabled]","(input)","(change)","matDatepicker","MatDatepickerToggle","_watchStateChanges","datepickerDisabled","inputDisabled","_multi","CdkAccordion","CdkAccordionItem","accordion","_expansionDispatcher","destroyed","_expanded","accordionId","expanded","_hideToggle","displayMode","MatAccordion","hideToggle","EXPANSION_PANEL_ANIMATION_TIMING","MatExpansionPanelBase","_uniqueSelectionDispatcher","_MatExpansionPanelMixinBase","_getExpandedState","_inputChanges","MatExpansionPanel","outputs","[class.mat-expanded]","[class.mat-expansion-panel-spacing]","Host","MatExpansionPanelHeader","_parentChangeSubscription","_toggle","_isExpanded","_getPanelId","_showToggle","_keyup","[attr.aria-controls]","[attr.aria-expanded]","[@expansionHeight]","params","collapsedHeight","expandedHeight","getMatIconNameNotFoundError","iconName","getMatIconNoHttpProviderError","getMatIconFailedToSanitizeError","SvgIconConfig","svgElement","MatIconRegistry","_httpClient","_svgIconConfigs","_iconSetConfigs","_cachedIconsByUrl","_inProgressUrlFetches","_fontCssClassesByAlias","_defaultFontSetClass","addSvgIcon","addSvgIconInNamespace","namespace","iconKey","addSvgIconSet","addSvgIconSetInNamespace","configNamespace","registerFontClassAlias","classNameForFontAlias","setDefaultFontSetClass","getDefaultFontSetClass","getSvgIconFromUrl","safeUrl","RESOURCE_URL","cachedIcon","cloneSvg","_loadSvgIconFromConfig","tap","svg","getNamedSvgIcon","_getSvgFromConfig","iconSetConfigs","_getSvgFromIconSetConfigs","observableThrow","namedIcon","_extractIconWithNameFromAnySet","iconSetFetchRequests","iconSetConfig","_loadSvgIconSetFromConfig","catchError","log","forkJoin","foundIcon","_extractSvgIconFromSet","_fetchUrl","svgText","_createSvgElementForSingleIcon","_svgElementFromString","responseText","_setSvgAttributes","iconSet","iconSource","iconElement","cloneNode","_toSvgElement","str","div","innerHTML","inProgressFetch","req","responseType","finalize","share","HttpClient","ICON_REGISTRY_PROVIDER_FACTORY","parentRegistry","httpClient","ICON_REGISTRY_PROVIDER","MatIconBase","_MatIconMixinBase","MatIcon","_iconRegistry","ariaHidden","_fontSet","_cleanupFontValue","_fontIcon","_splitIconName","svgIcon","_setSvgElement","_clearSvgElement","_usingFontIcon","_updateFontIconClasses","layoutElement","childCount","removeChild","elem","fontSetClass","fontSet","_previousFontSetClass","fontIcon","_previousFontIconClass","audit","durationSelector","AuditOperator","audit_2","AuditSubscriber","throttled","tryCatch_1","tryCatch","errorObject_1","errorObject","innerSubscription","clearThrottle","isNumeric","isNumeric_2","TimerObservable","period","isNumeric_1","Number","isScheduler_1","isScheduler","isDate_1","isDate","now","initialDelay","dispatch","_subscribe","Observable_1","Observable","TimerObservable_2","timer_1","TimerObservable_1","auditTime","audit_1","timer","auditTime_2","notifier","TakeUntilOperator","takeUntil_2","TakeUntilSubscriber","MatTextareaAutosize","_minRows","_setMinHeight","_maxRows","_setMaxHeight","minHeight","minRows","_cachedLineHeight","_setTextareaStyle","maxHeight","maxRows","resizeToFitContent","fromEvent","_cacheTextareaLineHeight","textarea","textareaClone","border","padding","overflow","force","_previousValue","placeholderText","scrollHeight","getMatInputUnsupportedTypeError","MAT_INPUT_INVALID_TYPES","MatInputBase","_MatInputMixinBase","MatInput","inputValueAccessor","_type","_readonly","_isServer","_neverEmptyInputTypes","t","getSupportedInputTypes","_inputValueAccessor","_previousNativeValue","selectionStart","selectionEnd","setSelectionRange","_validateType","_isTextarea","_dirtyCheckNativeValue","isFocused","readonly","_isNeverEmpty","_isBadInput","validity","badInput","[class.mat-input-server]","[placeholder]","[required]","[readonly]","MatCheckboxChange","MatCheckboxBase","_MatCheckboxMixinBase","MatCheckbox","_clickAction","indeterminateChange","_currentAnimationClass","_currentCheckState","TransitionCheckState","Init","_indeterminate","indeterminate","changed","_transitionCheckState","Indeterminate","Checked","Unchecked","_getAriaChecked","newState","oldState","_getAnimationClassForCheckStateTransition","_removeFocusRipple","_onInteractionEvent","animSuffix","[class.mat-checkbox-indeterminate]","[class.mat-checkbox-checked]","[class.mat-checkbox-disabled]","[class.mat-checkbox-label-before]","MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR","MAT_CHECKBOX_CLICK_ACTION","MAT_CHECKBOX_REQUIRED_VALIDATOR","MatCheckboxRequiredValidator","[attr.required]","CheckboxRequiredValidator","MatChipBase","_MatChipMixinBase","MatBasicChip","MatChip","_selectable","_removable","removed","onRemove","selectable","chip","selectViaInteraction","toggleSelected","removable","DELETE","BACKSPACE","_blur","[class.mat-chip-selected]","MatChipRemove","_parentChip","MatChipListBase","_MatChipListMixinBase","MatChipListChange","MatChipList","_lastDestroyedIndex","_chipSet","_tabOutSubscription","_tabIndex","_userTabIndex","ariaOrientation","_chipInput","chips","_changeSubscription","_resetChips","_updateTabIndex","_updateFocusForDestroyedChips","_dropSubscriptions","registerInput","inputElement","_focusInput","_keydown","code","isInputEmpty","_isInputEmpty","isPrevKey","isNextKey","isBackKey","setPreviousItemActive","_updateKeyManager","chipIndex","chipsArray","newFocusIndex","focusChip","correspondingChip","correspondingChipIndex","updateActiveItemIndex","_markAsTouched","_listenToChipsFocus","_listenToChipsSelection","_listenToChipsRemoved","_chipFocusSubscription","_chipBlurSubscription","_chipSelectionSubscription","chipSelectionChanges","chipFocusChanges","chipBlurChanges","_chipRemoveSubscription","chipRemoveChanges","[attr.role]","[class.mat-chip-list-disabled]","[class.mat-chip-list-invalid]","[class.mat-chip-list-required]","MatChipInput","_addOnBlur","separatorKeyCodes","chipEnd","_chipList","_emitChipEnd","addOnBlur","_focus","chipList","MatDialogConfig","disableClose","maxWidth","ariaDescribedBy","autoFocus","throwMatDialogContentAlreadyAttachedError","MatDialogContainer","_elementFocusedBeforeDialogWasOpened","_state","_animationStateChanged","_ariaLabelledBy","_savePreviouslyFocusedElement","focusInitialElementWhenReady","toFocus","_onAnimationStart","_startExitAnimation","[@slideDialog]","(@slideDialog.start)","(@slideDialog.done)","uniqueId","MatDialogRef","_containerInstance","_afterOpen","_beforeClose","phaseName","_result","dialogResult","detachBackdrop","afterOpen","beforeClose","keydownEvents","_getPositionStrategy","centerVertically","updateSize","getConfig","MAT_DIALOG_DATA","MAT_DIALOG_SCROLL_STRATEGY","location","_parentDialog","_overlayContainer","_openDialogsAtThisLevel","_afterAllClosedAtThisLevel","_afterOpenAtThisLevel","_ariaHiddenElements","afterAllClosed","openDialogs","_afterAllClosed","closeAll","componentOrTemplateRef","getDialogById","dialogContainer","_attachDialogContainer","dialogRef","_attachDialogContent","_hideNonDialogContentFromAssistiveTechnology","_removeOpenDialog","dialog","dialogConfig","$implicit","previousValue","removeAttribute","overlayContainer","getContainerElement","siblings","sibling","hasAttribute","Location","OverlayContainer","operator","CatchOperator","caught","catchError_2","CatchSubscriber","isStopped","err2","_unsubscribeAndRecycle","callback","FinallyOperator","finalize_2","FinallySubscriber","Subscription_1","map$2","thisArg","MapOperator","map_2","MapSubscriber","count","ObjectUnsubscribedError","stack","ObjectUnsubscribedError_2","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscription_2","SubjectSubscriber","SubjectSubscriber_1","Subject$$1","hasError","thrownError","rxSubscriber_1","rxSubscriber","AnonymousSubject","ObjectUnsubscribedError_1","copy","_trySubscribe","SubjectSubscription_1","Subject_2","AnonymousSubject_1","refCount","RefCountOperator","refCount_2","connectable","_refCount","refCounter","RefCountSubscriber","subscription","connection","_unsubscribe","sharedConnection","_connection","ConnectableObservable","subjectFactory","_isComplete","getSubject","_subject","ConnectableSubscriber","refCount_1","ConnectableObservable_2","connectableProto","connectableObservableDescriptor","writable","_error","Subject_1","multicast","subjectOrSubjectFactory","MulticastOperator","ConnectableObservable_1","multicast_2","MulticastOperator_1","shareSubjectFactory","share$1","multicast_1","share_2","getMatFormFieldPlaceholderConflictError","getMatFormFieldDuplicatedHintError","getMatFormFieldMissingControlError","[class.mat-right]","MatHint","MatPlaceholder","MatLabel","MatPrefix","MatSuffix","labelOptions","_showAlwaysAnimate","_subscriptAnimationState","_hintLabel","_hintLabelId","_labelOptions","floatLabel","float","_hideRequiredMarker","_floatLabel","_processHints","_validateControlChild","_control","_validatePlaceholders","_syncDescribedByIds","valueChanges","_hintChildren","_errorChildren","_shouldForward","_hasPlaceholder","_placeholderChild","_hasLabel","_labelChild","_shouldLabelFloat","_canLabelFloat","shouldLabelFloat","shouldPlaceholderFloat","_shouldAlwaysFloat","_hideControlPlaceholder","_hasFloatingLabel","_getDisplayedMessages","errorState","_animateAndLockLabel","_label","_validateHints","startHint_1","endHint_1","hint","hintLabel","startHint","endHint","[class.mat-input-invalid]","[class.mat-form-field-invalid]","[class.mat-form-field-can-float]","[class.mat-form-field-should-float]","[class.mat-form-field-hide-placeholder]","[class.mat-form-field-disabled]","[class.mat-focused]","[class.ng-untouched]","[class.ng-touched]","[class.ng-pristine]","[class.ng-dirty]","[class.ng-valid]","[class.ng-invalid]","[class.ng-pending]","MAT_LABEL_GLOBAL_OPTIONS","hideRequiredMarker","floatPlaceholder","_connectionContainerRef","MatError","_prefixChildren","_suffixChildren","_uniqueAutocompleteIdCounter","MatAutocompleteSelectedEvent","MatAutocomplete","showPanel","_isOpen","displayWith","optionSelected","_setVisibility","_setScrollTop","_getScrollTop","_emitSelectEvent","AUTOCOMPLETE_OPTION_HEIGHT","AUTOCOMPLETE_PANEL_HEIGHT","MAT_AUTOCOMPLETE_SCROLL_STRATEGY","MAT_AUTOCOMPLETE_VALUE_ACCESSOR","MatAutocompleteTrigger","getMatAutocompleteMissingPanelError","_manuallyFloatingLabel","_escapeEventStream","_destroyPanel","autocomplete","openPanel","_attachOverlay","closePanel","_resetLabel","_closingActionsSubscription","optionSelections","_outsideClickStream","clickTarget","formField","_setTriggerValue","_resetActiveItem","activeOption","prevActiveItem","TAB","_scrollToOption","_handleInput","readOnly","shouldAnimate","optionOffset","newScrollTop","_subscribeToClosingActions","firstStable","optionChanges","_positionStrategy","recalculateLastPosition","panelClosingActions","_setValueAndClose","toDisplay","inputValue","_clearPreviousSelectedOption","_getHostWidth","_getConnectedElement","aria-autocomplete","(focusin)","DEFAULT_ROUND_BUTTON_COLOR","MatButtonCssMatStyler","MatRaisedButtonCssMatStyler","MatIconButtonCssMatStyler","MatFab","button","anchor","MatButton","MatAnchor","MatMiniFab","MatButtonBase","_MatButtonMixinBase","_isRoundButton","_hasHostAttributes","_isIconButton","attributes","focusMonitor","stopImmediatePropagation","MatButtonToggleGroupBase","_MatButtonToggleGroupMixinBase","MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR","MatButtonToggleGroup","_uniqueIdCounter","MatButtonToggleChange","_updateButtonToggleNames","_updateSelectedButtonToggleFromValue","_buttonToggles","matchingButtonToggle","buttonToggle","_markButtonTogglesForCheck","[class.mat-button-toggle-vertical]","MatButtonToggle","MatButtonToggleGroupMultiple","toggleGroup","toggleGroupMultiple","_buttonToggleDispatcher","_isSingleSelector","buttonToggleGroup","buttonToggleGroupMultiple","[class.mat-button-toggle-standalone]","[class.mat-button-toggle-checked]","[class.mat-button-toggle-disabled]","MatCardContent","MatCardTitle","MatCardSubtitle","[class.mat-card-actions-align-end]","MatCardActions","MatCardFooter","MatCardImage","MatCardSmImage","MatCardMdImage","MatCardLgImage","MatCardXlImage","MatCardAvatar","MatCardHeader","MatCardTitleGroup","MatCard","base","class_1","defaultColor","_color","colorPalette","defaultTabIndex","matcher","MAT_DATE_LOCALE","_localeChanges","setLocale","locale","second","firstValid","secondValid","SUPPORTS_INTL_API","Intl","DEFAULT_MONTH_NAMES","short","DEFAULT_DATE_NAMES","range","DEFAULT_DAY_OF_WEEK_NAMES","ISO_8601_REGEX","valueFunction","valuesArray","NativeDateAdapter","matDateLocale","useUtcForDisplay","test","navigator","userAgent","getFullYear","getDay","dtf_1","DateTimeFormat","_stripDirectionalityCharacters","Date","dtf_2","day","dtf_3","weekday","dtf","year","_createDateWithOverflow","displayFormat","UTC","getHours","getMinutes","getSeconds","getMilliseconds","timeZone","toDateString","years","months","newDate","days","toIso8601","getUTCFullYear","_2digit","getUTCMonth","getUTCDate","getTime","NaN","setFullYear","n","touched","submitted","MAT_HAMMER_OPTIONS","_hammerOptions","commonModule","_hammer","Hammer","events","_checkHammerIsAvailable","buildHammer","mc","pan","Pan","swipe","Swipe","press","Press","slide","_createRecognizer","threshold","longpress","time","recognizeWith","inheritances","recognizer","HammerGestureConfig","MatLine","_setLineClass","_resetClasses","_setClass","RippleRef","RippleState","HIDDEN","fadeOutRipple","RIPPLE_FADE_IN_DURATION","RIPPLE_FADE_OUT_DURATION","IGNORE_MOUSE_EVENTS_TIMEOUT","RippleRenderer","_target","_isPointerDown","_triggerEvents","_activeRipples","_eventOptions","supportsPassiveEventListeners","passive","onMousedown","isSyntheticEvent","_lastTouchStartEvent","rippleDisabled","fadeInRipple","onTouchStart","touches","onPointerUp","ripple","VISIBLE","_containerElement","containerRect","distanceToFurthestCorner","transitionDuration","enforceStyleRecalculation","rippleRef","FADING_IN","runTimeoutOutsideZone","rippleEl","FADING_OUT","fadeOutAll","_triggerElement","_removeTriggerEvents","rect","distX","distY","sqrt","ngZone","_globalOptions","_rippleRenderer","_setupTriggerEventsIfEnabled","_trigger","[class.mat-ripple-unbounded]","unbounded","[class.mat-pseudo-checkbox-indeterminate]","[class.mat-pseudo-checkbox-checked]","[class.mat-pseudo-checkbox-disabled]","MatPseudoCheckbox","MatPseudoCheckboxModule","MatOptgroupBase","_MatOptgroupMixinBase","_uniqueOptgroupIdCounter","_labelId","[class.mat-optgroup-disabled]","MatOptionSelectionChange","_parent","_emitSelectionChangeEvent","setActiveStyles","setInactiveStyles","optionsArray","groups","groupCounter","[class.mat-selected]","[class.mat-option-multiple]","[class.mat-active]","[class.mat-option-disabled]","transformValue","webkitTransform","empty$2","Symbol","root_1","root","for","$$rxSubscriber","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","Observer_1","SafeSubscriber","_parents","Subscriber_2","_parentSubscriber","observerOrNext","context","isFunction_1","isFunction","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","filter$1","predicate","FilterOperator","filter_2","FilterSubscriber","ArgumentOutOfRangeError","ArgumentOutOfRangeError_2","toSubscriber","nextOrObserver","toSubscriber_2","getSymbolObservable","$$observable","noop$1","noop_2","noop","fns","pipeFromArray","pipe_2","prev","noop_1","pipeFromArray_1","Observable$$1","_isScalar","sink","toSubscriber_1","PromiseCtor","Rx","reject","observable_1","operations","pipe_1","toPromise","Observable_2","EmptyObservable","arg","EmptyObservable_2","EmptyObservable_1","TakeOperator","take_2","total","ArgumentOutOfRangeError_1","TakeSubscriber","notifyError","OuterSubscriber_2","isArrayLike_1","isPromise","isPromise_2","symbolIteratorPonyfill","iterator","Set_1","Map_1","getOwnPropertyNames","$$iterator","InnerSubscriber","InnerSubscriber_2","outerSubscriber","InnerSubscriber_1","isArrayLike","isPromise_1","iterator_1","done","obs","msg","isObject_1","isObject","subscribeToResult_2","switchMap$1","resultSelector","SwitchMapOperator","switchMap_2","SwitchMapSubscriber","_innerSub","_tryNotifyNext","DoOperator","tap_2","DoSubscriber","safeSubscriber","AsyncScheduler_1","AsyncScheduler","AsyncAction_1","AsyncAction","isDate_2","Notification","kind","observer","do","accept","toObservable","of","throw","createNext","undefinedValueNotification","createError","createComplete","completeNotification","Notification_2","delayFor","DelayOperator","delay_2","DelaySubscriber","queue","errored","shift","notification","delay_1","_schedule","scheduleNotification","DelayMessage","Notification_1","ScalarObservable","ScalarObservable_2","isScheduler_2","array","ScalarObservable_1","ArrayObservable_2","of_1","PromiseObservable","promise","dispatchError","PromiseObservable_2","IteratorObservable","getIterator","return","IteratorObservable_2","StringIterator","ArrayIterator","arr","toLength","maxSafeInteger","pow","numberIsFinite","sign","isFinite","valueAsNumber","ArrayLikeObservable","arrayLike","ArrayLikeObservable_2","observeOn$2","ObserveOnOperator","observeOn_2","observeOn","ObserveOnSubscriber","ObserveOnOperator_1","scheduleMessage","ObserveOnMessage","ObserveOnSubscriber_1","ObserveOnMessage_1","FromObservable","ish","PromiseObservable_1","IteratorObservable_1","ArrayLikeObservable_1","observeOn_1","FromObservable_2","from_1","FromObservable_1","mergeMap","concurrent","POSITIVE_INFINITY","MergeMapOperator","mergeMap_2","MergeMapSubscriber","MergeMapOperator_1","hasCompleted","_tryNext","_notifyResultSelector","MergeMapSubscriber_1","identity","identity_2","mergeAll","mergeMap_1","identity_1","mergeAll_2","concatAll","mergeAll_1","concatAll_2","from","concatAll_1","concat_2","concat_1","startWith_2","exportName","assign","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","setTimeoutContext","timeout","bindFn","invokeArrayArg","each","deprecate","method","deprecationMessage","nextKey","extend","src","inherit","child","properties","childP","baseP","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","uniqueArray","results","prefixed","prefix","camelProp","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input$$1","manager","inputTarget","domHandler","ev","enable","inputHandler","eventType","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","end","rotation","maxPointers","velocity","velocityX","velocityY","last","lastInterval","computeIntervalInputData","srcEvent","computeInputData","recognize","p1","p2","props","atan2","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","all","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","recognizers","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","preset","Manager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","domEvents","inputClass","cssProps","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","stop","stopped","curRecognizer","existing","on","off","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","STATE_FAILED","Tap","Pinch","Rotate","define","amd","module","deepCopy","deepExtend","patchProperty","ERROR_NAME","captureStackTrace","FirebaseError","ErrorFactory","err_1","service","serviceName","errors","pattern","fullCode","Hash","blockSize","Sha1","chain_","buf_","W_","pad_","inbuf_","total_","compress_","buf","opt_offset","W","charCodeAt","f","k","d","bytes","opt_length","lengthMinusBlock","inbuf","digest","totalBits","createSubscribe","executor","onNoObservers","proxy","ObserverProxy","unsubscribes","observerCount","task","finalized","catch","forEachObserver","implementsAnyMethods","unsub","unsubscribeOne","finalError","sendOne","methods","methods_1","DEFAULT_ENTRY_NAME","tokenListeners","FirebaseAppImpl","firebase_","isDeleted_","services_","name_","options_","INTERNAL","getUid","getToken","addAuthTokenListener","removeAuthTokenListener","checkDestroyed_","removeApp","services","serviceKey","instanceKey","_getService","instanceIdentifier","instanceSpecifier","factories","extendApp","createFirebaseNamespace","apps_","appHooks","__esModule","app","callAppHooks","apps","SDK_VERSION","registerService","createService","serviceProperties","appHook","allowMultipleInstances","getApps","serviceNamespace","appArg","extendNamespace","useAsService","eventName","factoryName","useService","appErrors","no-app","bad-app-name","duplicate-app","app-deleted","duplicate-service","sa-not-supported","invalid-app-argument","FirebaseApp","_firebaseAppFactory","appName","__window","__self","WorkerGlobalScope","__global","_root","isObject_2","isFunction_2","tryCatchTarget","tryCatcher","tryCatch_2","UnsubscriptionError","UnsubscriptionError_2","Subscription$$1","_subscriptions","hasErrors","UnsubscriptionError_1","flattenUnsubscriptionErrors","sub","teardown","_addParent","tmp","subscriptionIndex","Subscription_2","errs","Action","work","Action_2","pending","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errorValue","Action_1","AsyncAction_2","QueueAction","QueueAction_2","Scheduler","SchedulerAction","Scheduler_2","scheduled","Scheduler_1","AsyncScheduler_2","QueueScheduler","QueueScheduler_2","queue_1","QueueScheduler_1","QueueAction_1","FirebaseAppProvider","ZoneScheduler","AngularFireAuth","auth","authState$","onAuthStateChanged","authState","Zone","idToken$","onIdTokenChanged","user","fromPromise","getIdToken","idToken","_getAngularFireAuth","h","require$$0","default","aa","m","ba","ca","da","propertyIsEnumerable","ea","fa","ha","p","q","ia","random","ja","ka","la","unshift","r","Function","ma","na","ib","Rc","u","oa","pa","qa","ra","sa","ta","ua","va","wa","xa","ya","za","Aa","Ba","w","Ma","Da","g","Ea","Ha","Ia","Ja","Ca","Ka","La","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Va","Wa","Xa","fb","$a","ab","bb","cb","db","eb","documentMode","gb","hb","exec","kb","Za","jb","l","lb","mb","$goog_Thenable","nb","ob","pb","compatMode","wb","zb","rb","qb","ub","yb","Cb","setImmediate","Window","MessageChannel","postMessage","documentElement","contentWindow","write","protocol","port1","onmessage","port2","onreadystatechange","xb","Ab","Bb","tb","z","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","A","B","Lb","Mb","Qb","Rb","Vb","Pb","D","Ac","Bc","Zb","Xb","Tb","Ub","Yb","s","cancel","Sb","$b","ac","bc","cc","dc","ec","fc","gc","hc","jc","kc","JSON","stringify","encodeURIComponent","ic","lc","nc","oc","pc","qc","rc","sc","vc","wc","getElementById","xc","htmlFor","yc","lastIndexOf","cellpadding","cellspacing","frameborder","maxlength","nonce","usemap","valign","zc","Cc","Dc","Fc","valueOf","Gc","\"","\\","/","\b","\f","\n","\r","\t","\u000b","Hc","Ic","Jc","Kc","Fa","Lc","Mc","freeze","Nc","Oc","Pc","C","Qc","relatedTarget","screenY","screenX","metaKey","ctrlKey","srcElement","fromElement","toElement","pageX","pageY","defaultPrevented","returnValue","Sc","Tc","Vc","Wc","Xc","Yc","capture","Zc","$c","ad","cd","once","dd","ed","fd","gd","hd","kd","attachEvent","jd","ld","E","md","detachEvent","nd","od","pd","handleEvent","F","G","qd","rd","sd","td","vd","wd","xd","yd","zd","Ad","msWriteProfilerMark","Bd","Cd","Ed","S","P","Fd","Gd","H","Id","Jd","Kd","Md","Ld","fromCharCode","Nd","Qd","Rd","Pd","Sd","Ud","Vd","Wd","Xd","Od","ae","Zd","$d","Uint8Array","Int32Array","be","ce","de","ee","fe","ge","vb","tc","Bj","he","ie","je","ke","le","ne","pe","qe","re","se","te","ue","Ge","Le","Je","ve","Be","I","Ce","De","Ee","decodeURI","decodeURIComponent","encodeURI","Fe","we","xe","ye","ze","Pe","oe","He","Ie","Ke","Me","Ne","Oe","Qe","Re","XMLHttpRequest","ActiveXObject","Se","headers","Te","N","Ue","Ve","Dd","J","We","Xe","Ye","Ze","$e","me","Ga","FormData","setRequestHeader","withCredentials","af","ontimeout","send","abort","cf","df","ef","ff","gf","statusText","readyState","status","getResponse","response","mozResponseArrayBuffer","jf","kf","lf","mf","nf","onload","onerror","pf","charset","tagName","rf","sf","XDomainRequest","responseXML","Wb","onprogress","tf","uf","vf","href","wf","Bf","Cf","Df","screen","availHeight","availWidth","resizable","statusbar","toolbar","zf","Ef","scrollbars","standalone","noreferrer","initMouseEvent","opener","getResponseHeader","contentType","getAllResponseHeaders","Gf","Hf","Jf","Kf","Lf","K","Mf","Af","Nf","Of","L","Pf","localStorage","Qf","setItem","removeItem","indexedDB","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","___jsl","CP","Zf","onLine","$f","ag","visibilityState","cg","toUTCString","eg","dg","fg","abcd","M","gg","hg","kg","mg","ng","og","qg","pg","sg","rg","tg","ug","vg","toJSON","argument-error","app-not-authorized","app-not-installed","captcha-check-failed","code-expired","cordova-not-ready","cors-unsupported","credential-already-in-use","custom-token-mismatch","requires-recent-login","dynamic-link-not-activated","email-already-in-use","expired-action-code","cancelled-popup-request","internal-error","invalid-app-credential","invalid-app-id","invalid-user-token","invalid-auth-event","invalid-verification-code","invalid-continue-uri","invalid-cordova-configuration","invalid-custom-token","invalid-email","invalid-api-key","invalid-cert-hash","invalid-credential","invalid-persistence-type","invalid-message-payload","invalid-oauth-provider","invalid-oauth-client-id","unauthorized-domain","invalid-action-code","wrong-password","invalid-phone-number","invalid-recipient-email","invalid-sender","invalid-verification-id","missing-android-pkg-name","auth-domain-config-required","missing-app-credential","missing-verification-code","missing-continue-uri","missing-iframe-start","missing-ios-bundle-id","missing-phone-number","missing-verification-id","account-exists-with-different-credential","network-request-failed","no-auth-event","no-such-provider","operation-not-allowed","operation-not-supported-in-this-environment","popup-blocked","popup-closed-by-user","provider-already-linked","quota-exceeded","redirect-cancelled-by-user","redirect-operation-pending","user-token-expired","too-many-requests","unauthorized-continue-uri","unsupported-persistence-type","user-cancelled","user-not-found","user-disabled","user-mismatch","user-signed-out","weak-password","web-storage-unsupported","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","continueUrl","canHandleCodeInApp","androidPackageName","androidMinimumVersion","androidInstallApp","iOSBundleId","Hg","iss","aud","provider_id","sign_in_provider","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","isNewUser","rawUserInfo","providerId","profile","login","screenName","Vg","O","Wg","accessToken","oauthToken","oauthTokenSecret","Yg","id_token","access_token","secret","oauth_token_secret","postBody","requestUri","ah","isOAuthProvider","bh","ch","credential","dh","eh","fh","gh","hh","ih","jh","mh","nh","Y","oh","temporaryProof","phoneNumber","sessionInfo","rh","th","uh","oauthAccessToken","oauthIdToken","vh","wh","xh","eventId","urlResponse","sessionId","yh","zh","sb","Ah","email","Bh","Ch","secureTokenEndpoint","secureTokenTimeout","Dh","secureTokenHeaders","Eh","firebaseEndpoint","firebaseTimeout","Fh","firebaseHeaders","Gh","Xg","Zg","$g","Q","kh","password","lh","PROVIDER_ID","ph","operation","qh","verificationId","verificationCode","verify","recaptchaToken","di","Hh","Content-Type","Ih","Jh","Kh","gapi","client","request","Nh","Mh","Lh","hf","Rh","Sh","Xh","Yh","setApiKey","setToken","body","authType","Zh","$h","ai","displayName","photoUrl","hi","ii","needConfirmation","errorMessage","ji","returnIdpCredential","ki","li","autoCreate","mi","ni","oobCode","deleteAttribute","requestType","bi","ci","ei","oi","newPassword","pi","qi","endpoint","ga","ri","T","Uh","si","gi","deleteProvider","ti","Wh","ui","recaptchaSiteKey","vi","token","USER_NOT_FOUND","jg","returnSecureToken","Ph","Qh","keyInvalid","ipRefererBlocked","INVALID_CUSTOM_TOKEN","CREDENTIAL_MISMATCH","MISSING_CUSTOM_TOKEN","INVALID_IDENTIFIER","MISSING_CONTINUE_URI","INVALID_EMAIL","INVALID_PASSWORD","USER_DISABLED","MISSING_PASSWORD","EMAIL_EXISTS","PASSWORD_LOGIN_DISABLED","INVALID_IDP_RESPONSE","FEDERATED_USER_ID_ALREADY_LINKED","INVALID_MESSAGE_PAYLOAD","INVALID_RECIPIENT_EMAIL","INVALID_SENDER","EMAIL_NOT_FOUND","EXPIRED_OOB_CODE","INVALID_OOB_CODE","MISSING_OOB_CODE","CREDENTIAL_TOO_OLD_LOGIN_AGAIN","INVALID_ID_TOKEN","TOKEN_EXPIRED","CORS_UNSUPPORTED","DYNAMIC_LINK_NOT_ACTIVATED","INVALID_APP_ID","TOO_MANY_ATTEMPTS_TRY_LATER","WEAK_PASSWORD","OPERATION_NOT_ALLOWED","USER_CANCELLED","CAPTCHA_CHECK_FAILED","INVALID_APP_CREDENTIAL","INVALID_CODE","INVALID_PHONE_NUMBER","INVALID_SESSION_INFO","INVALID_TEMPORARY_PROOF","MISSING_APP_CREDENTIAL","MISSING_CODE","MISSING_PHONE_NUMBER","MISSING_SESSION_INFO","QUOTA_EXCEEDED","SESSION_EXPIRED","INVALID_CONTINUE_URI","MISSING_ANDROID_PACKAGE_NAME","MISSING_IOS_BUNDLE_ID","UNAUTHORIZED_DOMAIN","INVALID_OAUTH_CLIENT_ID","INVALID_CERT_HASH","yi","wi","xi","zi","Ya","Hi","Gi","Fi","where","messageHandlersFilter","dontclear","restyle","setHideOnLeave","Ci","ping","Vi","Ii","Ji","Ki","Li","Mi","authorizedDomains","RegExp","Ni","authEvent","Oi","Qi","Ri","Si","reactNative","AsyncStorage","Ti","Ui","Xi","errorCode","onupgradeneeded","createObjectStore","keyPath","onsuccess","Yi","objectStore","Zi","transaction","$i","bj","dj","cj","ej","fj","hj","sessionStorage","gj","$","webStorageSupport","getItem","X","put","getAll","openCursor","xf","aj","mj","qj","jj","kj","lj","nj","NONE","pj","Browser","ReactNative","rj","sj","tj","uj","vj","Aj","xj","yj","Dj","Gj","Hj","Jj","Nj","Kj","Mj","handleOpenURL","Oj","Ij","ibi","apn","appDisplayName","Lj","Qj","Sj","Uj","Vj","Wj","unknown","signInViaRedirect","linkViaRedirect","reauthViaRedirect","signInViaPopup","linkViaPopup","reauthViaPopup","Xj","Yj","Zj","ak","bk","ck","dk","ek","fk","gk","hk","kk","jk","nk","ok","pk","sk","tk","uk","refreshToken","vk","expiresIn","wk","grant_type","refresh_token","expires_in","expirationTime","xk","lastSignInTime","creationTime","Ak","Bk","Ck","Dk","U","R","Fk","V","Gk","Hk","Ik","Jk","Kk","Mk","Nk","uid","photoURL","emailVerified","isAnonymous","metadata","createdAt","lastLoginAt","providerData","Ok","Pk","Qk","Rk","Sk","Tk","Uk","Vk","Xk","$k","Zk","additionalUserInfo","operationType","al","reload","bl","cl","dl","Z","fl","hl","stsTokenManager","redirectEventId","ik","confirm","qk","users","localId","providerUserInfo","rawId","passwordHash","ig","ll","pl","ol","nl","rl","sl","tl","ul","vl","logFramework","Al","Bl","Cl","Dl","El","Gl","currentUser","Il","_lat","Jl","Kl","oj","Ec","languages","language","userLanguage","uc","Ob","continueUri","allProviders","Ll","Ml","Nl","Rl","Tl","Ul","theme","Vl","Wl","hasChildNodes","Xl","Yl","Zl","am","dm","cm","grecaptcha","render","em","firstChild","gm","Infinity","hm","im","Nb","Persistence","LOCAL","SESSION","Auth","Element","App","User","AngularFireAuthProvider","AUTH_PROVIDERS","_fromRef","ref","ref$","onSnapshot","fromRef","fromDocRef","payload","fromCollectionRef","docChanges","sortedChanges","scan","combineChanges","combineChange","combined","newIndex","oldIndex","validateEventsArray","AngularFirestoreCollection","auditTrail","snapshotChanges","docs","AngularFirestoreDocument","collection","queryFn","associateQuery","exists","EnablePersistenceToken","collectionRef","AngularFirestore","shouldEnablePersistence","firestore","persistenceEnabled$","enablePersistence","res","rej","createId","LogLevel","logLevel","ERROR","getLogLevel","setLogLevel","newLevel","debug","tag","DEBUG","toISOString","argToString","error$1","PlatformSupport","getPlatform","formatJSON","fail","failure","assert$1","assertion","setPlatform","emptyByteString","Code","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","UNAVAILABLE","DATA_LOSS","FirestoreError","makeConstructorPrivate","cls","optionalMessage","PublicConstructor","staticProperty","contains$2","defaulted","forEachNumber","num","forEach$1","isEmpty$1","assert","shallowCopy","validateExactNumberOfArgs","functionName","numberOfArgs","formatPlural","validateAtLeastNumberOfArgs","minNumberOfArgs","validateBetweenNumberOfArgs","maxNumberOfArgs","validateNamedArrayAtLeastNumberOfElements","minNumberOfElements","validateArgType","argument","validateType","ordinal","validateOptionalArgType","validateNamedType","optionName","validateNamedOptionalType","validateNamedPropertyEquals","inputName","expected","expectedDescription","expected_1","valueDescription","actualDescription","validateNamedOptionalPropertyEquals","isPlainObject","description","getPrototypeOf","customObjectName","tryGetCustomObjectType","validateDefined","validateOptionNames","optionNames","obj.forEach","invalidClassError","AutoId","newId","chars","autoId","primitiveComparator","equals","isEqual","arrayEquals","immediatePredecessor","lastIndex","immediateSuccessor","assertUint8ArrayAvailable","assertBase64Available","base64Available","Blob","binaryString","_binaryString","fromBase64String","base64","atob","fromUint8Array","char","toBase64","btoa","toUint8Array","other","_compareTo","PublicBlob","GeoPoint","latitude","longitude","_long","DatabaseInfo","databaseId","persistenceKey","ssl","DEFAULT_DATABASE_NAME","DatabaseId","database","compareTo","DOCUMENT_KEY_NAME","Path","segments","construct","comparator","nameOrPath","limit","segment","popFirst","popLast","firstSegment","lastSegment","isPrefixOf","ResourcePath","canonicalString","fromString","EMPTY_PATH","identifierRegExp","FieldPath","isValidIdentifier","isKeyField","keyField","fromServerFormat","addCurrentSegment","inBackticks","DocumentKey","isDocumentKey","k1","k2","fromSegments","fromPathString","Document","version","hasLocalMutations","field","fieldValue","compareByKey","compareByField","v1","v2","NoDocument","SortedMap","LLRBNode","insert","BLACK","cmp","getPredecessorKey","rightParent","prunedNodes","minKey","maxKey","inorderTraversal","reverseTraversal","SortedMapIterator","getIteratorFrom","getReverseIterator","getReverseIteratorFrom","startKey","isReverse","nodeStack","getNext","hasNext","peek","RED","fixUp","removeMin","isRed","moveRedLeft","smallest","rotateRight","moveRedRight","rotateLeft","colorFlip","nr","checkMaxDepth","blackDepth","check","LLRBEmptyNode","TypeOrder","ServerTimestampBehavior","FieldValueOptions","serverTimestampBehavior","fromSnapshotOptions","serverTimestamps","Estimate","Previous","defaultOptions","Default","FieldValue","defaultCompareTo","typeOrder","NullValue","internalValue","INSTANCE","BooleanValue","TRUE","FALSE","NumberValue","numericComparator","numericEquals","IntegerValue","DoubleValue","NAN","NEGATIVE_INFINITY","StringValue","TimestampValue","toDate","ServerTimestampValue","localWriteTime","BlobValue","RefValue","GeoPointValue","ObjectValue","it1","it2","next1","next2","to","setChild","newChild","pathSegment","childName","ArrayValue","minLength","NumberAsAny","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","isInteger","isNullOrUndefined","isSafeInteger","Query","explicitOrderBy","filters","endAt","memoizedCanonicalId","memoizedOrderBy","assertValidBound","atPath","inequalityField","getInequalityFilterField","firstOrderByField","getFirstOrderByField","KEY_ORDERING_ASC","OrderBy","foundKeyOrdering","orderBy","lastDirection","Direction","ASCENDING","KEY_ORDERING_DESC","addFilter","RelationFilter","isInequality","newFilters","addOrderBy","newOrderBy","withLimit","withStartAt","bound","withEndAt","canonicalId","docComparator","comparedOnKeyField","comp","compare","matchesAncestor","matchesOrderBy","matchesFilters","matchesBounds","hasLimit","isDocumentQuery","docPath","sortsBeforeDocument","RelationOp","op","LESS_THAN","LESS_THAN_OR_EQUAL","EQUAL","GREATER_THAN_OR_EQUAL","GREATER_THAN","refValue","comparison","matchesComparison","matchesValue","NullFilter","NanFilter","fieldFilter","DESCENDING","Bound","before","orderByComponent","docValue","thisPosition","otherPosition","isKeyOrderBy","isoRegExp","Timestamp","seconds","nanos","fromEpochMilliseconds","fromDate","milliseconds","fromISOString","utc","fraction","nanoStr","toEpochMilliseconds","SnapshotVersion","timestamp","fromMicroseconds","fromTimestamp","forDeletedDoc","MIN","toMicroseconds","toTimestamp","QueryPurpose","QueryData","targetId","purpose","snapshotVersion","resumeToken","updated","FieldMask","fields","misc.arrayEquals","ServerTimestampTransform","FieldTransform","MutationResult","transformResults","MutationType","Precondition","updateTime","isValidFor","maybeDoc","isNone","misc.equals","Mutation","verifyKeyMatches","getPostMutationVersion","SetMutation","precondition","applyToRemoteDocument","mutationResult","applyToLocalView","baseDoc","PatchMutation","fieldMask","Patch","newData","patchDocument","patchObject","fieldPath","TransformMutation","fieldTransforms","Transform","requireDocument","transformObject","localTransformResults","fieldTransform","DeleteMutation","Delete","ExistenceFilter","RpcCode","isPermanentError","mapCodeFromRpcStatus","mapCodeFromRpcCode","log.error","mapRpcCodeFromCode","mapCodeFromHttpStatus","SortedSet","fromMapKeys","forEachInRange","iter","forEachWhile","firstAfterOrEqual","unionWith","thisIt","otherIt","thisElem","otherElem","EMPTY_MAYBE_DOCUMENT_MAP","maybeDocumentMap","EMPTY_DOCUMENT_MAP","documentMap","EMPTY_DOCUMENT_VERSION_MAP","documentVersionMap","EMPTY_DOCUMENT_KEY_SET","documentKeySet","RemoteEvent","targetChanges","documentUpdates","addDocumentUpdate","handleExistenceFilterMismatch","mapping","ResetMapping","currentStatusUpdate","CurrentStatusUpdate","MarkNotCurrent","EMPTY_KEY_SET","UpdateMapping","addedDocuments","removedDocuments","applyToKeySet","DocumentWatchChange","updatedTargetIds","removedTargetIds","newDoc","ExistenceFilterChange","existenceFilter","WatchTargetChangeState","WatchTargetChange","cause","WatchChangeAggregator","listenTargets","pendingTargetResponses","existenceFilters","frozen","objUtils.shallowCopy","watchChange","addDocumentChange","addTargetChange","addExistenceFilterChange","addChanges","watchChanges","createRemoteEvent","objUtils.forEachNumber","isActiveTarget","ensureTargetChange","objUtils.contains","docChange","relevant","targetChange","NoChange","applyResumeToken","Added","recordTargetResponse","Removed","Current","MarkCurrent","Reset","newCount","DIRECTIONS","dirs","OPERATORS","ops","assertPresent","typeUtils.isNullOrUndefined","parseInt64","JsonProtoSerializer","useProto3Json","unsafeCastProtoByteString","byteString","fromRpcStatus","toInt32Value","fromInt32Value","toBytes","fromBlob","blob","toVersion","fromVersion","toResourceName","fullyQualifiedPrefixPath","fromResourceName","resource","isValidResourceName","toName","fromName","extractLocalPathFromResourceName","toQueryPath","encodedDatabaseId","fromQueryPath","resourceName","toValue","fieldValue.NullValue","nullValue","fieldValue.BooleanValue","booleanValue","fieldValue.IntegerValue","integerValue","fieldValue.DoubleValue","doubleValue","fieldValue.StringValue","stringValue","fieldValue.ObjectValue","mapValue","toMapValue","fieldValue.ArrayValue","arrayValue","toArrayValue","fieldValue.TimestampValue","timestampValue","fieldValue.GeoPointValue","geoPointValue","fieldValue.BlobValue","bytesValue","fieldValue.RefValue","referenceValue","fromValue","hasTag","fromFields","dbId","toMutationDocument","toFields","toDocument","fromDocument","object","fromFound","fromMissing","missing","readTime","fromMaybeDocument","toWatchTargetChangeState","toTestWatchChange","documentChange","documentDelete","documentRemove","targetChangeType","fromWatchChange","fromWatchTargetChangeState","causeProto","entityChange","docDelete","docRemove","versionFromListenResponse","toMutation","mutation","updateMask","toDocumentMask","toFieldTransform","currentDocument","toPrecondition","fromMutation","proto","fromPrecondition","fromDocumentMask","fromFieldTransform","fromWriteResult","fromWriteResults","protos","setToServerValue","toDocumentsTarget","documents","fromDocumentsTarget","documentsTarget","toQueryTarget","structuredQuery","collectionId","toFilter","toOrder","toCursor","fromQueryTarget","fromCount","filterBy","fromFilter","fromOrder","fromCursor","toListenRequestLabels","queryData","toLabel","goog-listen-tags","Listen","ExistenceFilterMismatch","LimboResolution","toTarget","toRelationFilter","toUnaryFilter","compositeFilter","unaryFilter","fromUnaryFilter","fromRelationFilter","accum","orderBys","toPropertyOrder","fromPropertyOrder","cursor","toDirection","fromDirection","toOperatorName","fromOperatorName","toFieldPathReference","fromFieldPathReference","fieldReference","nanField","nullField","fieldPaths","goog","eval","NO_ERROR","TIMEOUT","Uc","bd","ud","Hd","OPEN","Td","Yd","Image","onabort","supportsCrossDomainXhr","concurrentRequestLimit","backgroundChannelTest","fastHandshake","sendBeacon","Ae","hostname","port","testUrl","messageUrlParams","messageHeaders","clientProtocolHeaderRequired","X-Client-Protocol","initMessageHeaders","messageContentType","X-WebChannel-Content-Type","httpHeadersOverwriteParam","sendRawJson","httpSessionIdParam","__sm__","__data__","createWebChannel","HTTP_ERROR","COMPLETE","EventType","CLOSE","MESSAGE","getObject","releaseObject","listenOnce","getLastError","getLastErrorCode","getStatus","getStatusText","getResponseJson","getResponseText","createWebChannelTransport","ErrorCode","WebChannel","XhrIoPool","StreamBridge","sendFn","closeFn","wrappedOnOpen","wrappedOnClose","onMessage","wrappedOnMessage","callOnOpen","callOnClose","callOnMessage","LOG_TAG","RPC_STREAM_SERVICE","RPC_URL_VERSION","RPC_NAME_REST_MAPPING","BatchGetDocuments","Commit","X_GOOG_API_CLIENT_VALUE","XHR_TIMEOUT_SECS","WebChannelConnection","info","pool","baseUrl","modifyHeadersForRequest","header","authHeaders","invokeRPC","rpcName","makeUrl","xhr","json","log.debug","status_1","requestString","invokeStreamingRPC","openStream","urlParts","webchannelTransport","channel","streamBridge","unguardedEventListen","param","msgData","status_2","urlRpcName","BrowserPlatform","loadConnection","databaseInfo","newSerializer","encoded","raw","FieldPath$$1","fieldNames","_internalPath","InternalFieldPath","documentId","_DOCUMENT_ID","RESERVED","OnlineState","ChangeType","SyncState","fromDotSeparatedString","search","DocumentChangeSet","changeMap","track","oldChange","Metadata","Modified","getChanges","ViewSnapshot","oldDocs","fromCache","hasPendingWrites","syncStateChanged","otherChanges","DocumentSet","keyedMap","sortedSet","emptySet","oldSet","prevDoc","thisDoc","otherDoc","docStrings","newSet","ObjectMap","mapKeyFn","inner","matches_1","otherKey","objUtil.forEach","entries","entries_1","objUtil.isEmpty","QueryListenersInfo","listeners","EventManager","syncEngine","onlineState","Unknown","onError","firstListen","queryInfo","applyOnlineStateChange","viewSnap","onViewSnapshot","unlisten","lastListen","viewSnaps","viewSnaps_1","QueryListener","queryObserver","raisedInitialEvent","snap","includeDocumentMetadataChanges","shouldRaiseEvent","shouldRaiseInitialEvent","raiseInitialEvent","maybeOnline","Failed","waitForSyncWhenOnline","hasPendingWritesChanged","includeQueryMetadataChanges","getInitialViewChanges","PersistencePromise","nextCallback","catchCallback","isDone","callbackAttached","nextFn","catchFn","wrapFailure","wrapSuccess","wrapUserFunction","waitFor","nextPromise","initial","EagerGarbageCollector","isEager","potentialGarbage","addGarbageSource","garbageSource","setGarbageCollector","removeGarbageSource","addPotentialGarbageKey","collectGarbage","txn","promises","garbageKeys","hasRefsPromise","documentHasAnyReferences","hasRefs","containsKey","LocalViewChanges","addedKeys","removedKeys","fromSnapshot","viewSnapshot","ReferenceSet","refsByKey","DocReference","refsByTarget","compareByTargetId","garbageCollector","addReference","addReferences","removeReference","removeRef","removeReferences","removeReferencesForId","emptyKey","startRef","endRef","removeAllReferences","referencesForId","firstRef","targetOrBatchId","RESERVED_BITS","GeneratorIds","TargetIdGenerator","generatorId","initAfter","afterWithoutGenerator","afterGenerator","previousId","forLocalStore","LocalStore","forSyncEngine","SyncEngine","AddedLimboDocument","RemovedLimboDocument","View","syncedDocuments","syncState","limboDocuments","mutatedKeys","documentSet","computeDocChanges","previousChanges","changeSet","oldDocumentSet","newMutatedKeys","newDocumentSet","needsRefill","lastDocInLimit","newMaybeDoc","oldDoc","docsEqual","applyChanges","c1","c2","compareChangeType","limboChanges","applyTargetChange","newSyncState","Synced","Local","snapshot","shouldBeInLimbo","targetMapping","oldLimboDocuments","QueryView","localStore","remoteStore","viewHandler","errorHandler","queryViewsByQuery","queryViewsByTarget","limboTargetsByKey","limboKeysByTarget","limboDocumentRefs","limboCollector","mutationUserCallbacks","targetIdGenerator","assertSubscribed","allocateQuery","executeQuery","remoteDocumentKeys","remoteKeys","viewDocChanges","viewChange","queryView","releaseQuery","removeAndCleanupQuery","batch","userCallback","localWrite","addMutationCallback","batchId","emitNewSnapsAndNotifyLocalStore","fillWritePipeline","wrapUpdateFunctionError","runTransaction","updateFunction","retries","createTransaction","userPromise","wrappedUpdateFunction","commit","applyRemoteEvent","remoteEvent","limboKey","newViewSnapshots","rejectListen","docMap","queryView_1","applySuccessfulWrite","mutationBatchResult","processUserCallback","acknowledgeBatch","rejectFailedWrite","rejectBatch","newCallbacks","toKey","gcLimboDocuments","updateTrackedLimbos","limboChanges_1","limboChange","trackLimboChange","limboTargetId","currentLimboDocs","newSnaps","docChangesInAllViews","queriesProcessed","notifyLocalViewChanges","fnName","handleUserChange","BATCHID_UNKNOWN","MutationBatch","docKey","batchResult","mutationResults","keySet","isTombstone","toTombstone","MutationBatchResult","commitVersion","streamToken","docVersions","versionMap","escapeChar","encodedSeparatorChar","encodedNul","encodedEscape","encode","encodeSeparator","encodeSegment","resultBuf","decode$1","lastReasonableEscapeIndex","segmentBuilder","currentPiece","SCHEMA_VERSION","createOrUpgradeDb","oldVersion","DbMutationQueue","DbMutationBatch","DbTargetDocument","createIndex","documentTargetsIndex","documentTargetsKeyPath","DbTarget","queryTargetsIndexName","queryTargetsKeyPath","DbDocumentMutation","DbRemoteDocument","DbOwner","DbTargetGlobal","DbTimestamp","ownerId","leaseTimestampMs","userId","lastAcknowledgedBatchId","lastStreamToken","localWriteTimeMs","prefixForUser","prefixForPath","PLACEHOLDER","DbNoDocument","noDocument","lastListenSequenceNumber","highestTargetId","highestListenSequenceNumber","lastRemoteSnapshotVersion","ALL_STORES","SimpleDb","openOrCreate","runUpgrade","isAvailable","wrapRequest","deleteDatabase","objectStores","transactionFn","SimpleDbTransaction","transactionFnResult","completionPromise","IterationController","dbCursor","shouldStop","objectStoresNames","aborted","oncomplete","storeName","SimpleDbStore","keyOrValue","loadAll","indexOrRange","iterateCursor","deleteAll","keysOnly","iterate","optionsOrCallback","cursorRequest","controller","userResult","primaryKey","skipToKey","continue","indexName","openKeyCursor","IndexedDbMutationQueue","serializer","forUser","isUnauthenticated","loadNextBatchIdFromDb","nextBatchId","mutationQueuesStore","checkEmpty","maxBatchId","mutationsStore","nextUser","IDBKeyRange","keyForBatchId","getNextBatchId","getHighestAcknowledgedBatchId","validateStreamToken","getLastStreamToken","setLastStreamToken","addMutationBatch","dbBatch","toDbMutationBatch","mutations_1","indexKey","EncodedResourcePath.encode","documentMutationsStore","lookupMutationBatch","fromDbMutationBatch","getNextMutationBatchAfterBatchId","lowerBound","foundBatch","getAllMutationBatches","dbBatches","getAllMutationBatchesThroughBatchId","getAllMutationBatchesAffectingDocumentKey","documentKey","indexPrefix","indexStart","userID","encodedPath","batchID","EncodedResourcePath.decode","mutationKey","getAllMutationBatchesAffectingQuery","queryPath","immediateChildrenLength","uniqueBatchIDs","removeMutationBatches","batches","indexTxn","_loop_1","only","this_1","numDeleted","removePromise","batches_1","performConsistencyCheck","startRange","danglingMutationReferences","getStore","IndexedDbQueryCache","globalTargetStore","lastSavedVersion","getHighestTargetId","getLastRemoteSnapshotVersion","setLastRemoteSnapshotVersion","addQueryData","addedQueryPromise","targetsStore","toDbTarget","removeQueryData","removeMatchingKeysForTargetId","getQueryData","fromDbTarget","addMatchingKeys","documentTargetStore","removeMatchingKeys","notifyGCForRemovedKeys","getMatchingKeysForTargetId","getStore$1","IndexedDbRemoteDocumentCache","addEntry","maybeDocument","remoteDocumentsStore","dbKey","toDbRemoteDocument","removeEntry","getEntry","dbRemoteDoc","fromDbRemoteDocument","getDocumentsMatchingQuery","LocalSerializer","remoteSerializer","remoteDoc","serializedMutations","dbTarget","queryProto","dbTimestamp","dbQuery","OWNER_LEASE_MAX_AGE_MS","OWNER_LEASE_REFRESH_INTERVAL_MS","ZOMBIE_OWNER_LOCALSTORAGE_SUFFIX","EXISTING_OWNER_ERROR_MSG","UNSUPPORTED_PLATFORM_ERROR_MSG","IndexedDbPersistence","generateOwnerId","dbName","MAIN_DATABASE","localStoragePrefix","simpleDb","tryAcquireOwnerLease","scheduleOwnerLeaseRefreshes","attachWindowUnloadHook","persistenceError","shutdown","detachWindowUnloadHook","stopOwnerLeaseRefreshes","releaseOwnerLease","getMutationQueue","getQueryCache","getRemoteDocumentCache","ensureOwnerLease","buildStoragePrefix","isDefaultDatabase","dbOwner","validOwner","newDbOwner","minAcceptable","maxAcceptable","getZombiedOwnerId","ownerLeaseRefreshHandle","windowUnloadHandler","setZombiedOwnerId","zombiedOwnerId","zombiedOwnerLocalStorageKey","zombieOwnerId","LocalDocumentsView","remoteDocumentCache","mutationQueue","getDocument","computeLocalDocument","getDocuments","getDocumentsMatchingDocumentQuery","getDocumentsMatchingCollectionQuery","queryResults","computeLocalDocuments","promisedResults","matchingMutationBatches","matchingKeys","matchingMutationBatches_1","mutatedDoc","RemoteDocumentChangeBuffer","assertChanges","bufferedEntry","persistence","initialUser","localViewReferences","heldBatchResults","remoteDocuments","queryCache","localDocuments","startMutationQueue","startQueryCache","oldBatches","promisedOldBatches","newBatches","changedKeys","highestAck","ackedBatches","promisedBatch","changedDocuments","affected","shouldHoldBatchResult","documentBuffer_1","releaseBatchResults","promisedAffectedKeys","toReject","affectedKeys","promisedToReject","lastAcked","removeMutationBatch","documentBuffer","changedDocKeys","existingDoc","releasedWriteKeys","lastRemoteVersion","remoteVersion","releaseHeldBatchResults","promisedReleasedWriteKeys","viewChanges","viewChanges_1","nextMutationBatch","afterBatchId","readDocument","cached","objUtils.isEmpty","documentBuffer_2","garbage","toRelease","isRemoteUpToVersion","batchResults","promiseChain","_loop_2","applyWriteToRemoteDocuments","batchResults_1","affectedDocs","batches_2","docKeys","ackVersion","MemoryMutationQueue","highestAcknowledgedBatchId","batchesByDocumentKey","batchIndex","indexOfExistingBatchId","findMutationBatch","rawIndex","indexOfBatchId","getAllLiveMutationBatchesBeforeIndex","endIndex","immediateChildrenPathLength","startPath","rowKeyPath","batchCount","firstBatchId","queueCount","queueIndex","references","MemoryQueryCache","MemoryRemoteDocumentCache","MemoryPersistence","mutationQueues","MemoryPersistenceTransaction","NoOpGarbageCollector","Deferred","ExponentialBackoff","initialDelayMs","backoffFactor","maxDelayMs","currentBaseMs","resetToMax","backoffAndWait","def","delayWithJitterMs","jitterDelayMs","PersistentStreamState","BACKOFF_INITIAL_DELAY_MS","BACKOFF_MAX_DELAY_MS","BACKOFF_FACTOR","IDLE_TIMEOUT_MS","PersistentStream","credentialsProvider","initialBackoffDelay","idle","stream","backoff","Initial","isStarted","Backoff","Open","performBackoff","Stopped","inhibitBackoff","markIdle","handleIdleCloseTimer","sendRequest","cancelIdleCheck","finalState","tearDown","startStream","rpcError","handleStreamClose","dispatchIfStillActive","currentStream_1","startRpc","PersistentListenStream","credentials","watchChangeProto","onWatchChange","watch","addTarget","labels","unwatch","removeTarget","PersistentWriteStream","handshakeComplete_","writeMutations","responseProto","writeResults","commitTime","onMutationResult","onHandshakeComplete","writeHandshake","writes","Datastore","newPersistentWriteStream","newPersistentWatchStream","lookup","Transaction","datastore","readVersions","committed","recordVersion","docVersion","existingVersion","preconditionForUpdate","toMutations","unwritten","MAX_PENDING_WRITES","ONLINE_ATTEMPTS_BEFORE_FAILURE","RemoteStore","onlineStateHandler","pendingWrites","lastBatchSeen","accumulatedWatchChanges","watchStream","writeStream","watchStreamOnlineState","watchStreamFailures","shouldWarnOffline","enableNetwork","updateOnlineState","Healthy","updateOnlineStateAfterFailure","isNetworkEnabled","shouldStartWatchStream","startWatchStream","disableNetwork","disableNetworkInternal","cleanUpWatchStreamState","cleanUpWriteStreamState","sendWatchRequest","sendUnwatchRequest","recordPendingTargetRequest","onWatchStreamOpen","onWatchStreamClose","onWatchStreamChange","handleTargetError","handleWatchChangeBatch","aggregator","deletedDoc","trackedRemote","newQueryData","requestQueryData","canWriteMutations","outstandingWrites","shouldStartWriteStream","startWriteStream","handshakeComplete","onWriteStreamOpen","onWriteStreamClose","onWriteHandshakeComplete","success","handleWriteError","handleHandshakeError","FirestoreClient","asyncQueue","usePersistence","initializationDone","persistenceResult","initialized","setUserChangeListener","initializePersistence","initializeRest","startIndexedDbPersistence","canFallback","startMemoryPersistence","storagePrefix","eventMgr","verifyOperationInProgress","removeUserChangeListener","deferred","AsyncObserver","muted","scheduleEvent","mute","eventHandler","AsyncQueue","tail","delayedOperations","delayedOperationsCount","operationInProgress","delayedOp_1","handle","scheduleInternal","drain","executeDelayedTasks","otherUser","GOOGLE_CREDENTIALS","FIRST_PARTY","OAuthToken","Authorization","EmptyCredentialsProvider","userListener","forceRefresh","FirebaseCredentialsProvider","tokenListener","userCounter","newUser","getUser","initialUserCounter","tokenData","currentUid","FirstPartyToken","sessionIndex","X-Goog-AuthUser","FirstPartyCredentialsProvider","makeCredentialsProvider","isPartialObserver","implementsAnyMethods$1","FieldValueImpl","DeleteFieldValueImpl","serverTimestamp","ServerTimestampFieldValueImpl","PublicFieldValue","RESERVED_FIELD_REGEX","ParsedSetData","ParsedUpdateData","UserDataSource","isWrite","dataSource","MergeSet","Update","QueryValue","ParseContext","arrayElement","validatePath","childContextForField","childPath","validatePathSegment","childContextForFieldPath","childContextForArray","fieldDescription","DocumentKeyReference","UserDataConverter","preConverter","parseSetData","validatePlainObject","updateData","parseData","parseMergeData","parseUpdateData","fieldMaskPaths","objUtils.forEach","fieldPathFromDotSeparatedString","childContext","runPreConverter","parsedValue","mask","parseUpdateVarargs","moreFieldsAndValues","fieldPathFromArgument","value_1","parseQueryValue","parsed","parseArray","looksLikeJsonObject","parseObject","parseScalarValue","entryIndex","array_1","parsedEntry","typeUtils.isSafeInteger","ExternalFieldPath","DEFAULT_HOST","DEFAULT_SSL","FirestoreSettings","settings","objUtils.defaulted","FirestoreConfig","Firestore","databaseIdOrApp","_queue","_firestoreClient","drainAsyncQueue","firebaseApp","databaseIdFromApp","external_1","_databaseId","settingsLiteral","newSettings","ensureClientConfigured","configureClient","_dataConverter","DocumentReference","thisDb","otherDb","_key","pathString","CollectionReference","forPath","WriteBatch","log.getLogLevel","SILENT","level","log.setLogLevel","log.LogLevel","_firestore","_transaction","documentRef","validateReference","DocumentSnapshot","validateSetOptions","fieldOrUpdateData","_mutations","_committed","verifyNotCommitted","includeMetadataChanges","currArg","internalOptions","onSnapshotInternal","errHandler","asyncObserver","internalListener","InternalQuery","SnapshotMetadata","_fromCache","validateSnapshotOptions","convertObject","convertValue","convertArray","QueryDocumentSnapshot","Query$$1","_query","opStr","validateNewFilter","validateNewOrderBy","docOrField","boundFromDocOrFields","startAfter","endBefore","boundFromDocument","allFields","boundFromFields","components","rawValue","wrapped","QuerySnapshot","firestoreClient","existingField","validateOrderByAndInequalityMatch","inequality","_originalQuery","_snapshot","_cachedChanges","convertToDocumentImpl","changesFromSnapshot","parentPath","docRef","lastDoc_1","index_1","indexTracker_1","resultChangeType","PublicFirestore","PublicTransaction","PublicWriteBatch","PublicDocumentReference","PublicDocumentSnapshot","PublicQueryDocumentSnapshot","PublicQuery","PublicQuerySnapshot","PublicCollectionReference","firestoreNamespace","configureForFirebase","registerFirestore","setTimeoutFunc","_handled","_deferreds","doResolve","_immediateFn","onFulfilled","onRejected","ret","finale","_unhandledRejectionFn","ex","prom","remaining","race","_setImmediateFn","_setUnhandledRejectionFn","kValue","findIndex","require$$1","router","afAuth","user$","signInWithPopup","firebase.auth.GoogleAuthProvider","navigate","logout","signOut","getClient","clientId","Router","authService","title","afs","getCollection","colName","read","itemDoc","ds","getSkills","skillService","dataService","skills$","disable","skillId","route","isNew","createForm","skillForm","isDeleteAction","skill","patchValue","ActivatedRoute","FormBuilder","getUsers","userService","setForm","formService","skills","userForm","NotIsIn","userSkill","removeSkill","addSkill","$event","projects$","locations$","locationId","locationForm","projectForm","extendStatics","setPrototypeOf","__proto__","__extends$14","__","__assign","SHARP_CURVE","MATERIAL_SANITY_CHECKS","_sanityChecksEnabled","_hasDoneGlobalChecks","_hasCheckedHammer","_window","_areChecksEnabled","_checkDoctypeIsDefined","_checkThemeIsPresent","_isTestEnv","doctype","testElement","computedStyle","BidiModule"],"mappings":"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"}
